function JA(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var ln=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function k1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function eS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),n}var R2={exports:{}},kd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS=Symbol.for("react.transitional.element"),nS=Symbol.for("react.fragment");function j2(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:tS,type:e,key:i,ref:t!==void 0?t:null,props:n}}kd.Fragment=nS;kd.jsx=j2;kd.jsxs=j2;R2.exports=kd;var h=R2.exports,O2={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1=Symbol.for("react.transitional.element"),iS=Symbol.for("react.portal"),rS=Symbol.for("react.fragment"),sS=Symbol.for("react.strict_mode"),aS=Symbol.for("react.profiler"),oS=Symbol.for("react.consumer"),lS=Symbol.for("react.context"),cS=Symbol.for("react.forward_ref"),uS=Symbol.for("react.suspense"),dS=Symbol.for("react.memo"),k2=Symbol.for("react.lazy"),tp=Symbol.iterator;function hS(e){return e===null||typeof e!="object"?null:(e=tp&&e[tp]||e["@@iterator"],typeof e=="function"?e:null)}var L2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B2=Object.assign,P2={};function _o(e,t,n){this.props=e,this.context=t,this.refs=P2,this.updater=n||L2}_o.prototype.isReactComponent={};_o.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_o.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function U2(){}U2.prototype=_o.prototype;function B1(e,t,n){this.props=e,this.context=t,this.refs=P2,this.updater=n||L2}var P1=B1.prototype=new U2;P1.constructor=B1;B2(P1,_o.prototype);P1.isPureReactComponent=!0;var np=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},F2=Object.prototype.hasOwnProperty;function U1(e,t,n,i,s,a){return n=a.ref,{$$typeof:L1,type:e,key:t,ref:n!==void 0?n:null,props:a}}function fS(e,t){return U1(e.type,t,void 0,void 0,void 0,e.props)}function F1(e){return typeof e=="object"&&e!==null&&e.$$typeof===L1}function mS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ip=/\/+/g;function Uh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mS(""+e.key):t.toString(36)}function rp(){}function gS(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(rp,rp):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Na(e,t,n,i,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(a){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case L1:case iS:c=!0;break;case k2:return c=e._init,Na(c(e._payload),t,n,i,s)}}if(c)return s=s(e),c=i===""?"."+Uh(e,0):i,np(s)?(n="",c!=null&&(n=c.replace(ip,"$&/")+"/"),Na(s,t,n,"",function(p){return p})):s!=null&&(F1(s)&&(s=fS(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(ip,"$&/")+"/")+c)),t.push(s)),1;c=0;var f=i===""?".":i+":";if(np(e))for(var g=0;g<e.length;g++)i=e[g],a=f+Uh(i,g),c+=Na(i,t,n,a,s);else if(g=hS(e),typeof g=="function")for(e=g.call(e),g=0;!(i=e.next()).done;)i=i.value,a=f+Uh(i,g++),c+=Na(i,t,n,a,s);else if(a==="object"){if(typeof e.then=="function")return Na(gS(e),t,n,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function $c(e,t,n){if(e==null)return e;var i=[],s=0;return Na(e,i,"","",function(a){return t.call(n,a,s++)}),i}function pS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sp=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function xS(){}Re.Children={map:$c,forEach:function(e,t,n){$c(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $c(e,function(){t++}),t},toArray:function(e){return $c(e,function(t){return t})||[]},only:function(e){if(!F1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=_o;Re.Fragment=rS;Re.Profiler=aS;Re.PureComponent=B1;Re.StrictMode=sS;Re.Suspense=uS;Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt;Re.__COMPILER_RUNTIME={__proto__:null,c:function(e){return pt.H.useMemoCache(e)}};Re.cache=function(e){return function(){return e.apply(null,arguments)}};Re.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=B2({},e.props),s=e.key,a=void 0;if(t!=null)for(c in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(s=""+t.key),t)!F2.call(t,c)||c==="key"||c==="__self"||c==="__source"||c==="ref"&&t.ref===void 0||(i[c]=t[c]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var f=Array(c),g=0;g<c;g++)f[g]=arguments[g+2];i.children=f}return U1(e.type,s,void 0,void 0,a,i)};Re.createContext=function(e){return e={$$typeof:lS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:oS,_context:e},e};Re.createElement=function(e,t,n){var i,s={},a=null;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)F2.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=t[i]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var f=Array(c),g=0;g<c;g++)f[g]=arguments[g+2];s.children=f}if(e&&e.defaultProps)for(i in c=e.defaultProps,c)s[i]===void 0&&(s[i]=c[i]);return U1(e,a,void 0,void 0,null,s)};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:cS,render:e}};Re.isValidElement=F1;Re.lazy=function(e){return{$$typeof:k2,_payload:{_status:-1,_result:e},_init:pS}};Re.memo=function(e,t){return{$$typeof:dS,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=pt.T,n={};pt.T=n;try{var i=e(),s=pt.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(xS,sp)}catch(a){sp(a)}finally{pt.T=t}};Re.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()};Re.use=function(e){return pt.H.use(e)};Re.useActionState=function(e,t,n){return pt.H.useActionState(e,t,n)};Re.useCallback=function(e,t){return pt.H.useCallback(e,t)};Re.useContext=function(e){return pt.H.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e,t){return pt.H.useDeferredValue(e,t)};Re.useEffect=function(e,t,n){var i=pt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};Re.useId=function(){return pt.H.useId()};Re.useImperativeHandle=function(e,t,n){return pt.H.useImperativeHandle(e,t,n)};Re.useInsertionEffect=function(e,t){return pt.H.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return pt.H.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return pt.H.useMemo(e,t)};Re.useOptimistic=function(e,t){return pt.H.useOptimistic(e,t)};Re.useReducer=function(e,t,n){return pt.H.useReducer(e,t,n)};Re.useRef=function(e){return pt.H.useRef(e)};Re.useState=function(e){return pt.H.useState(e)};Re.useSyncExternalStore=function(e,t,n){return pt.H.useSyncExternalStore(e,t,n)};Re.useTransition=function(){return pt.H.useTransition()};Re.version="19.1.0";O2.exports=Re;var O=O2.exports;const yS=k1(O);var V2={exports:{}},Ld={},z2={exports:{}},H2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ne,re){var W=ne.length;ne.push(re);e:for(;0<W;){var ae=W-1>>>1,J=ne[ae];if(0<s(J,re))ne[ae]=re,ne[W]=J,W=ae;else break e}}function n(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var re=ne[0],W=ne.pop();if(W!==re){ne[0]=W;e:for(var ae=0,J=ne.length,me=J>>>1;ae<me;){var ve=2*(ae+1)-1,_e=ne[ve],Ae=ve+1,Ze=ne[Ae];if(0>s(_e,W))Ae<J&&0>s(Ze,_e)?(ne[ae]=Ze,ne[Ae]=W,ae=Ae):(ne[ae]=_e,ne[ve]=W,ae=ve);else if(Ae<J&&0>s(Ze,W))ne[ae]=Ze,ne[Ae]=W,ae=Ae;else break e}}return re}function s(ne,re){var W=ne.sortIndex-re.sortIndex;return W!==0?W:ne.id-re.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var g=[],p=[],y=1,w=null,E=3,A=!1,R=!1,M=!1,D=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function k(ne){for(var re=n(p);re!==null;){if(re.callback===null)i(p);else if(re.startTime<=ne)i(p),re.sortIndex=re.expirationTime,t(g,re);else break;re=n(p)}}function V(ne){if(M=!1,k(ne),!R)if(n(g)!==null)R=!0,L||(L=!0,Q());else{var re=n(p);re!==null&&X(V,re.startTime-ne)}}var L=!1,B=-1,z=5,P=-1;function Y(){return D?!0:!(e.unstable_now()-P<z)}function H(){if(D=!1,L){var ne=e.unstable_now();P=ne;var re=!0;try{e:{R=!1,M&&(M=!1,N(B),B=-1),A=!0;var W=E;try{t:{for(k(ne),w=n(g);w!==null&&!(w.expirationTime>ne&&Y());){var ae=w.callback;if(typeof ae=="function"){w.callback=null,E=w.priorityLevel;var J=ae(w.expirationTime<=ne);if(ne=e.unstable_now(),typeof J=="function"){w.callback=J,k(ne),re=!0;break t}w===n(g)&&i(g),k(ne)}else i(g);w=n(g)}if(w!==null)re=!0;else{var me=n(p);me!==null&&X(V,me.startTime-ne),re=!1}}break e}finally{w=null,E=W,A=!1}re=void 0}}finally{re?Q():L=!1}}}var Q;if(typeof _=="function")Q=function(){_(H)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,fe=te.port2;te.port1.onmessage=H,Q=function(){fe.postMessage(null)}}else Q=function(){C(H,0)};function X(ne,re){B=C(function(){ne(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(ne){switch(E){case 1:case 2:case 3:var re=3;break;default:re=E}var W=E;E=re;try{return ne()}finally{E=W}},e.unstable_requestPaint=function(){D=!0},e.unstable_runWithPriority=function(ne,re){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var W=E;E=ne;try{return re()}finally{E=W}},e.unstable_scheduleCallback=function(ne,re,W){var ae=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ae+W:ae):W=ae,ne){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=W+J,ne={id:y++,callback:re,priorityLevel:ne,startTime:W,expirationTime:J,sortIndex:-1},W>ae?(ne.sortIndex=W,t(p,ne),n(g)===null&&ne===n(p)&&(M?(N(B),B=-1):M=!0,X(V,W-ae))):(ne.sortIndex=J,t(g,ne),R||A||(R=!0,L||(L=!0,Q()))),ne},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(ne){var re=E;return function(){var W=E;E=re;try{return ne.apply(this,arguments)}finally{E=W}}}})(H2);z2.exports=H2;var bS=z2.exports,G2={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS=O;function Y2(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Dr(){}var En={d:{f:Dr,r:function(){throw Error(Y2(522))},D:Dr,C:Dr,L:Dr,m:Dr,X:Dr,S:Dr,M:Dr},p:0,findDOMNode:null},vS=Symbol.for("react.portal");function ES(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vS,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var pl=wS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Bd(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=En;Sn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Y2(299));return ES(e,t,null,n)};Sn.flushSync=function(e){var t=pl.T,n=En.p;try{if(pl.T=null,En.p=2,e)return e()}finally{pl.T=t,En.p=n,En.d.f()}};Sn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,En.d.C(e,t))};Sn.prefetchDNS=function(e){typeof e=="string"&&En.d.D(e)};Sn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Bd(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?En.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:a}):n==="script"&&En.d.X(e,{crossOrigin:i,integrity:s,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Sn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Bd(t.as,t.crossOrigin);En.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&En.d.M(e)};Sn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Bd(n,t.crossOrigin);En.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Sn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Bd(t.as,t.crossOrigin);En.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else En.d.m(e)};Sn.requestFormReset=function(e){En.d.r(e)};Sn.unstable_batchedUpdates=function(e,t){return e(t)};Sn.useFormState=function(e,t,n){return pl.H.useFormState(e,t,n)};Sn.useFormStatus=function(){return pl.H.useHostTransitionStatus()};Sn.version="19.1.0";function q2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(q2)}catch(e){console.error(e)}}q2(),G2.exports=Sn;var AS=G2.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qt=bS,X2=O,SS=AS;function ie(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function W2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Z2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ap(e){if(dc(e)!==e)throw Error(ie(188))}function CS(e){var t=e.alternate;if(!t){if(t=dc(e),t===null)throw Error(ie(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return ap(s),e;if(a===i)return ap(s),t;a=a.sibling}throw Error(ie(188))}if(n.return!==i.return)n=s,i=a;else{for(var c=!1,f=s.child;f;){if(f===n){c=!0,n=s,i=a;break}if(f===i){c=!0,i=s,n=a;break}f=f.sibling}if(!c){for(f=a.child;f;){if(f===n){c=!0,n=a,i=s;break}if(f===i){c=!0,i=a,n=s;break}f=f.sibling}if(!c)throw Error(ie(189))}}if(n.alternate!==i)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?e:t}function K2(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=K2(e),t!==null)return t;e=e.sibling}return null}var ft=Object.assign,NS=Symbol.for("react.element"),Jc=Symbol.for("react.transitional.element"),ul=Symbol.for("react.portal"),ja=Symbol.for("react.fragment"),Q2=Symbol.for("react.strict_mode"),Qf=Symbol.for("react.profiler"),_S=Symbol.for("react.provider"),$2=Symbol.for("react.consumer"),sr=Symbol.for("react.context"),V1=Symbol.for("react.forward_ref"),$f=Symbol.for("react.suspense"),Jf=Symbol.for("react.suspense_list"),z1=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),e0=Symbol.for("react.activity"),TS=Symbol.for("react.memo_cache_sentinel"),op=Symbol.iterator;function Jo(e){return e===null||typeof e!="object"?null:(e=op&&e[op]||e["@@iterator"],typeof e=="function"?e:null)}var IS=Symbol.for("react.client.reference");function t0(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===IS?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ja:return"Fragment";case Qf:return"Profiler";case Q2:return"StrictMode";case $f:return"Suspense";case Jf:return"SuspenseList";case e0:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ul:return"Portal";case sr:return(e.displayName||"Context")+".Provider";case $2:return(e._context.displayName||"Context")+".Consumer";case V1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z1:return t=e.displayName||null,t!==null?t:t0(e.type)||"Memo";case Pr:t=e._payload,e=e._init;try{return t0(e(t))}catch{}}return null}var dl=Array.isArray,Ne=X2.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xe=SS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Vs={pending:!1,data:null,method:null,action:null},n0=[],Oa=-1;function Wi(e){return{current:e}}function en(e){0>Oa||(e.current=n0[Oa],n0[Oa]=null,Oa--)}function xt(e,t){Oa++,n0[Oa]=e.current,e.current=t}var Vi=Wi(null),Fl=Wi(null),$r=Wi(null),Gu=Wi(null);function Yu(e,t){switch(xt($r,t),xt(Fl,e),xt(Vi,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?hx(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=hx(t),e=gv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}en(Vi),xt(Vi,e)}function ao(){en(Vi),en(Fl),en($r)}function i0(e){e.memoizedState!==null&&xt(Gu,e);var t=Vi.current,n=gv(t,e.type);t!==n&&(xt(Fl,e),xt(Vi,n))}function qu(e){Fl.current===e&&(en(Vi),en(Fl)),Gu.current===e&&(en(Gu),Kl._currentValue=Vs)}var r0=Object.prototype.hasOwnProperty,H1=qt.unstable_scheduleCallback,Fh=qt.unstable_cancelCallback,MS=qt.unstable_shouldYield,DS=qt.unstable_requestPaint,zi=qt.unstable_now,RS=qt.unstable_getCurrentPriorityLevel,J2=qt.unstable_ImmediatePriority,eb=qt.unstable_UserBlockingPriority,Xu=qt.unstable_NormalPriority,jS=qt.unstable_LowPriority,tb=qt.unstable_IdlePriority,OS=qt.log,kS=qt.unstable_setDisableYieldValue,hc=null,Xn=null;function Xr(e){if(typeof OS=="function"&&kS(e),Xn&&typeof Xn.setStrictMode=="function")try{Xn.setStrictMode(hc,e)}catch{}}var Wn=Math.clz32?Math.clz32:PS,LS=Math.log,BS=Math.LN2;function PS(e){return e>>>=0,e===0?32:31-(LS(e)/BS|0)|0}var eu=256,tu=4194304;function Rs(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pd(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,a=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var f=i&134217727;return f!==0?(i=f&~a,i!==0?s=Rs(i):(c&=f,c!==0?s=Rs(c):n||(n=f&~e,n!==0&&(s=Rs(n))))):(f=i&~a,f!==0?s=Rs(f):c!==0?s=Rs(c):n||(n=i&~e,n!==0&&(s=Rs(n)))),s===0?0:t!==0&&t!==s&&!(t&a)&&(a=s&-s,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:s}function fc(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function US(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nb(){var e=eu;return eu<<=1,!(eu&4194048)&&(eu=256),e}function ib(){var e=tu;return tu<<=1,!(tu&62914560)&&(tu=4194304),e}function Vh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mc(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function FS(e,t,n,i,s,a){var c=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var f=e.entanglements,g=e.expirationTimes,p=e.hiddenUpdates;for(n=c&~n;0<n;){var y=31-Wn(n),w=1<<y;f[y]=0,g[y]=-1;var E=p[y];if(E!==null)for(p[y]=null,y=0;y<E.length;y++){var A=E[y];A!==null&&(A.lane&=-536870913)}n&=~w}i!==0&&rb(e,i,0),a!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=a&~(c&~t))}function rb(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Wn(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function sb(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Wn(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}function G1(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Y1(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function ab(){var e=Xe.p;return e!==0?e:(e=window.event,e===void 0?32:Cv(e.type))}function VS(e,t){var n=Xe.p;try{return Xe.p=e,t()}finally{Xe.p=n}}var gs=Math.random().toString(36).slice(2),mn="__reactFiber$"+gs,Bn="__reactProps$"+gs,To="__reactContainer$"+gs,s0="__reactEvents$"+gs,zS="__reactListeners$"+gs,HS="__reactHandles$"+gs,lp="__reactResources$"+gs,gc="__reactMarker$"+gs;function q1(e){delete e[mn],delete e[Bn],delete e[s0],delete e[zS],delete e[HS]}function ka(e){var t=e[mn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[To]||n[mn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gx(e);e!==null;){if(n=e[mn])return n;e=gx(e)}return t}e=n,n=e.parentNode}return null}function Io(e){if(e=e[mn]||e[To]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function hl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(ie(33))}function $a(e){var t=e[lp];return t||(t=e[lp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $t(e){e[gc]=!0}var ob=new Set,lb={};function na(e,t){oo(e,t),oo(e+"Capture",t)}function oo(e,t){for(lb[e]=t,e=0;e<t.length;e++)ob.add(t[e])}var GS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cp={},up={};function YS(e){return r0.call(up,e)?!0:r0.call(cp,e)?!1:GS.test(e)?up[e]=!0:(cp[e]=!0,!1)}function Su(e,t,n){if(YS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function nu(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function $i(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var zh,dp;function _a(e){if(zh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zh=t&&t[1]||"",dp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zh+e+dp}var Hh=!1;function Gh(e,t){if(!e||Hh)return"";Hh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var w=function(){throw Error()};if(Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(A){var E=A}Reflect.construct(e,[],w)}else{try{w.call()}catch(A){E=A}e.call(w.prototype)}}else{try{throw Error()}catch(A){E=A}(w=e())&&typeof w.catch=="function"&&w.catch(function(){})}}catch(A){if(A&&E&&typeof A.stack=="string")return[A.stack,E.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),c=a[0],f=a[1];if(c&&f){var g=c.split(`
`),p=f.split(`
`);for(s=i=0;i<g.length&&!g[i].includes("DetermineComponentFrameRoot");)i++;for(;s<p.length&&!p[s].includes("DetermineComponentFrameRoot");)s++;if(i===g.length||s===p.length)for(i=g.length-1,s=p.length-1;1<=i&&0<=s&&g[i]!==p[s];)s--;for(;1<=i&&0<=s;i--,s--)if(g[i]!==p[s]){if(i!==1||s!==1)do if(i--,s--,0>s||g[i]!==p[s]){var y=`
`+g[i].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=i&&0<=s);break}}}finally{Hh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?_a(n):""}function qS(e){switch(e.tag){case 26:case 27:case 5:return _a(e.type);case 16:return _a("Lazy");case 13:return _a("Suspense");case 19:return _a("SuspenseList");case 0:case 15:return Gh(e.type,!1);case 11:return Gh(e.type.render,!1);case 1:return Gh(e.type,!0);case 31:return _a("Activity");default:return""}}function hp(e){try{var t="";do t+=qS(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function ai(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function XS(e){var t=cb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(c){i=""+c,a.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(c){i=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wu(e){e._valueTracker||(e._valueTracker=XS(e))}function ub(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=cb(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Zu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var WS=/[\n"\\]/g;function ci(e){return e.replace(WS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function a0(e,t,n,i,s,a,c,f){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ai(t)):e.value!==""+ai(t)&&(e.value=""+ai(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?o0(e,c,ai(t)):n!=null?o0(e,c,ai(n)):i!=null&&e.removeAttribute("value"),s==null&&a!=null&&(e.defaultChecked=!!a),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.name=""+ai(f):e.removeAttribute("name")}function db(e,t,n,i,s,a,c,f){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;n=n!=null?""+ai(n):"",t=t!=null?""+ai(t):n,f||t===e.value||(e.value=t),e.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=f?e.checked:!!i,e.defaultChecked=!!i,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c)}function o0(e,t,n){t==="number"&&Zu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ja(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ai(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function hb(e,t,n){if(t!=null&&(t=""+ai(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+ai(n):""}function fb(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(ie(92));if(dl(i)){if(1<i.length)throw Error(ie(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=ai(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function lo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ZS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fp(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||ZS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function mb(e,t,n){if(t!=null&&typeof t!="object")throw Error(ie(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&fp(e,s,i)}else for(var a in t)t.hasOwnProperty(a)&&fp(e,a,t[a])}function X1(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var KS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),QS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cu(e){return QS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var l0=null;function W1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var La=null,eo=null;function mp(e){var t=Io(e);if(t&&(e=t.stateNode)){var n=e[Bn]||null;e:switch(e=t.stateNode,t.type){case"input":if(a0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ci(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[Bn]||null;if(!s)throw Error(ie(90));a0(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&ub(i)}break e;case"textarea":hb(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ja(e,!!n.multiple,t,!1)}}}var Yh=!1;function gb(e,t,n){if(Yh)return e(t,n);Yh=!0;try{var i=e(t);return i}finally{if(Yh=!1,(La!==null||eo!==null)&&(Wd(),La&&(t=La,e=eo,eo=La=null,mp(t),e)))for(t=0;t<e.length;t++)mp(e[t])}}function Vl(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Bn]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ie(231,t,typeof n));return n}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c0=!1;if(mr)try{var el={};Object.defineProperty(el,"passive",{get:function(){c0=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{c0=!1}var Wr=null,Z1=null,Nu=null;function pb(){if(Nu)return Nu;var e,t=Z1,n=t.length,i,s="value"in Wr?Wr.value:Wr.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var c=n-e;for(i=1;i<=c&&t[n-i]===s[a-i];i++);return Nu=s.slice(e,1<i?1-i:void 0)}function _u(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function iu(){return!0}function gp(){return!1}function Pn(e){function t(n,i,s,a,c){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(a):a[f]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?iu:gp,this.isPropagationStopped=gp,this}return ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=iu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=iu)},persist:function(){},isPersistent:iu}),t}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ud=Pn(ia),pc=ft({},ia,{view:0,detail:0}),$S=Pn(pc),qh,Xh,tl,Fd=ft({},pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:K1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tl&&(tl&&e.type==="mousemove"?(qh=e.screenX-tl.screenX,Xh=e.screenY-tl.screenY):Xh=qh=0,tl=e),qh)},movementY:function(e){return"movementY"in e?e.movementY:Xh}}),pp=Pn(Fd),JS=ft({},Fd,{dataTransfer:0}),eC=Pn(JS),tC=ft({},pc,{relatedTarget:0}),Wh=Pn(tC),nC=ft({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),iC=Pn(nC),rC=ft({},ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sC=Pn(rC),aC=ft({},ia,{data:0}),xp=Pn(aC),oC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cC[e])?!!t[e]:!1}function K1(){return uC}var dC=ft({},pc,{key:function(e){if(e.key){var t=oC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_u(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:K1,charCode:function(e){return e.type==="keypress"?_u(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_u(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hC=Pn(dC),fC=ft({},Fd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yp=Pn(fC),mC=ft({},pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:K1}),gC=Pn(mC),pC=ft({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),xC=Pn(pC),yC=ft({},Fd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bC=Pn(yC),wC=ft({},ia,{newState:0,oldState:0}),vC=Pn(wC),EC=[9,13,27,32],Q1=mr&&"CompositionEvent"in window,xl=null;mr&&"documentMode"in document&&(xl=document.documentMode);var AC=mr&&"TextEvent"in window&&!xl,xb=mr&&(!Q1||xl&&8<xl&&11>=xl),bp=" ",wp=!1;function yb(e,t){switch(e){case"keyup":return EC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ba=!1;function SC(e,t){switch(e){case"compositionend":return bb(t);case"keypress":return t.which!==32?null:(wp=!0,bp);case"textInput":return e=t.data,e===bp&&wp?null:e;default:return null}}function CC(e,t){if(Ba)return e==="compositionend"||!Q1&&yb(e,t)?(e=pb(),Nu=Z1=Wr=null,Ba=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xb&&t.locale!=="ko"?null:t.data;default:return null}}var NC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!NC[e.type]:t==="textarea"}function wb(e,t,n,i){La?eo?eo.push(i):eo=[i]:La=i,t=fd(t,"onChange"),0<t.length&&(n=new Ud("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var yl=null,zl=null;function _C(e){hv(e,0)}function Vd(e){var t=hl(e);if(ub(t))return e}function Ep(e,t){if(e==="change")return t}var vb=!1;if(mr){var Zh;if(mr){var Kh="oninput"in document;if(!Kh){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),Kh=typeof Ap.oninput=="function"}Zh=Kh}else Zh=!1;vb=Zh&&(!document.documentMode||9<document.documentMode)}function Sp(){yl&&(yl.detachEvent("onpropertychange",Eb),zl=yl=null)}function Eb(e){if(e.propertyName==="value"&&Vd(zl)){var t=[];wb(t,zl,e,W1(e)),gb(_C,t)}}function TC(e,t,n){e==="focusin"?(Sp(),yl=t,zl=n,yl.attachEvent("onpropertychange",Eb)):e==="focusout"&&Sp()}function IC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vd(zl)}function MC(e,t){if(e==="click")return Vd(t)}function DC(e,t){if(e==="input"||e==="change")return Vd(t)}function RC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qn=typeof Object.is=="function"?Object.is:RC;function Hl(e,t){if(Qn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!r0.call(t,s)||!Qn(e[s],t[s]))return!1}return!0}function Cp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Np(e,t){var n=Cp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cp(n)}}function Ab(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ab(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sb(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Zu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zu(e.document)}return t}function $1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var jC=mr&&"documentMode"in document&&11>=document.documentMode,Pa=null,u0=null,bl=null,d0=!1;function _p(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;d0||Pa==null||Pa!==Zu(i)||(i=Pa,"selectionStart"in i&&$1(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),bl&&Hl(bl,i)||(bl=i,i=fd(u0,"onSelect"),0<i.length&&(t=new Ud("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Pa)))}function Ts(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ua={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},Qh={},Cb={};mr&&(Cb=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function ra(e){if(Qh[e])return Qh[e];if(!Ua[e])return e;var t=Ua[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cb)return Qh[e]=t[n];return e}var Nb=ra("animationend"),_b=ra("animationiteration"),Tb=ra("animationstart"),OC=ra("transitionrun"),kC=ra("transitionstart"),LC=ra("transitioncancel"),Ib=ra("transitionend"),Mb=new Map,h0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");h0.push("scrollEnd");function _i(e,t){Mb.set(e,t),na(t,[e])}var Tp=new WeakMap;function ui(e,t){if(typeof e=="object"&&e!==null){var n=Tp.get(e);return n!==void 0?n:(t={value:e,source:t,stack:hp(t)},Tp.set(e,t),t)}return{value:e,source:t,stack:hp(t)}}var si=[],Fa=0,J1=0;function zd(){for(var e=Fa,t=J1=Fa=0;t<e;){var n=si[t];si[t++]=null;var i=si[t];si[t++]=null;var s=si[t];si[t++]=null;var a=si[t];if(si[t++]=null,i!==null&&s!==null){var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}a!==0&&Db(n,s,a)}}function Hd(e,t,n,i){si[Fa++]=e,si[Fa++]=t,si[Fa++]=n,si[Fa++]=i,J1|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function em(e,t,n,i){return Hd(e,t,n,i),Ku(e)}function Mo(e,t){return Hd(e,null,null,t),Ku(e)}function Db(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var s=!1,a=e.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(s=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,s&&t!==null&&(s=31-Wn(n),e=a.hiddenUpdates,i=e[s],i===null?e[s]=[t]:i.push(t),t.lane=n|536870912),a):null}function Ku(e){if(50<Il)throw Il=0,j0=null,Error(ie(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Va={};function BC(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(e,t,n,i){return new BC(e,t,n,i)}function tm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dr(e,t){var n=e.alternate;return n===null?(n=Yn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Rb(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Tu(e,t,n,i,s,a){var c=0;if(i=e,typeof e=="function")tm(e)&&(c=1);else if(typeof e=="string")c=U4(e,n,Vi.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case e0:return e=Yn(31,n,t,s),e.elementType=e0,e.lanes=a,e;case ja:return zs(n.children,s,a,t);case Q2:c=8,s|=24;break;case Qf:return e=Yn(12,n,t,s|2),e.elementType=Qf,e.lanes=a,e;case $f:return e=Yn(13,n,t,s),e.elementType=$f,e.lanes=a,e;case Jf:return e=Yn(19,n,t,s),e.elementType=Jf,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _S:case sr:c=10;break e;case $2:c=9;break e;case V1:c=11;break e;case z1:c=14;break e;case Pr:c=16,i=null;break e}c=29,n=Error(ie(130,e===null?"null":typeof e,"")),i=null}return t=Yn(c,n,t,s),t.elementType=e,t.type=i,t.lanes=a,t}function zs(e,t,n,i){return e=Yn(7,e,i,t),e.lanes=n,e}function $h(e,t,n){return e=Yn(6,e,null,t),e.lanes=n,e}function Jh(e,t,n){return t=Yn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var za=[],Ha=0,Qu=null,$u=0,oi=[],li=0,Hs=null,ar=1,or="";function js(e,t){za[Ha++]=$u,za[Ha++]=Qu,Qu=e,$u=t}function jb(e,t,n){oi[li++]=ar,oi[li++]=or,oi[li++]=Hs,Hs=e;var i=ar;e=or;var s=32-Wn(i)-1;i&=~(1<<s),n+=1;var a=32-Wn(t)+s;if(30<a){var c=s-s%5;a=(i&(1<<c)-1).toString(32),i>>=c,s-=c,ar=1<<32-Wn(t)+s|n<<s|i,or=a+e}else ar=1<<a|n<<s|i,or=e}function nm(e){e.return!==null&&(js(e,1),jb(e,1,0))}function im(e){for(;e===Qu;)Qu=za[--Ha],za[Ha]=null,$u=za[--Ha],za[Ha]=null;for(;e===Hs;)Hs=oi[--li],oi[li]=null,or=oi[--li],oi[li]=null,ar=oi[--li],oi[li]=null}var vn=null,Tt=null,qe=!1,Gs=null,Ui=!1,f0=Error(ie(519));function Qs(e){var t=Error(ie(418,""));throw Gl(ui(t,e)),f0}function Ip(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[mn]=e,t[Bn]=i,n){case"dialog":Le("cancel",t),Le("close",t);break;case"iframe":case"object":case"embed":Le("load",t);break;case"video":case"audio":for(n=0;n<Xl.length;n++)Le(Xl[n],t);break;case"source":Le("error",t);break;case"img":case"image":case"link":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"input":Le("invalid",t),db(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Wu(t);break;case"select":Le("invalid",t);break;case"textarea":Le("invalid",t),fb(t,i.value,i.defaultValue,i.children),Wu(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||mv(t.textContent,n)?(i.popover!=null&&(Le("beforetoggle",t),Le("toggle",t)),i.onScroll!=null&&Le("scroll",t),i.onScrollEnd!=null&&Le("scrollend",t),i.onClick!=null&&(t.onclick=Qd),t=!0):t=!1,t||Qs(e)}function Mp(e){for(vn=e.return;vn;)switch(vn.tag){case 5:case 13:Ui=!1;return;case 27:case 3:Ui=!0;return;default:vn=vn.return}}function nl(e){if(e!==vn)return!1;if(!qe)return Mp(e),qe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||U0(e.type,e.memoizedProps)),n=!n),n&&Tt&&Qs(e),Mp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Tt=Ci(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Tt=null}}else t===27?(t=Tt,ps(e.type)?(e=z0,z0=null,Tt=e):Tt=t):Tt=vn?Ci(e.stateNode.nextSibling):null;return!0}function xc(){Tt=vn=null,qe=!1}function Dp(){var e=Gs;return e!==null&&(On===null?On=e:On.push.apply(On,e),Gs=null),e}function Gl(e){Gs===null?Gs=[e]:Gs.push(e)}var m0=Wi(null),sa=null,lr=null;function Vr(e,t,n){xt(m0,t._currentValue),t._currentValue=n}function hr(e){e._currentValue=m0.current,en(m0)}function g0(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function p0(e,t,n,i){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){var c=s.child;a=a.firstContext;e:for(;a!==null;){var f=a;a=s;for(var g=0;g<t.length;g++)if(f.context===t[g]){a.lanes|=n,f=a.alternate,f!==null&&(f.lanes|=n),g0(a.return,n,e),i||(c=null);break e}a=f.next}}else if(s.tag===18){if(c=s.return,c===null)throw Error(ie(341));c.lanes|=n,a=c.alternate,a!==null&&(a.lanes|=n),g0(c,n,e),c=null}else c=s.child;if(c!==null)c.return=s;else for(c=s;c!==null;){if(c===e){c=null;break}if(s=c.sibling,s!==null){s.return=c.return,c=s;break}c=c.return}s=c}}function yc(e,t,n,i){e=null;for(var s=t,a=!1;s!==null;){if(!a){if(s.flags&524288)a=!0;else if(s.flags&262144)break}if(s.tag===10){var c=s.alternate;if(c===null)throw Error(ie(387));if(c=c.memoizedProps,c!==null){var f=s.type;Qn(s.pendingProps.value,c.value)||(e!==null?e.push(f):e=[f])}}else if(s===Gu.current){if(c=s.alternate,c===null)throw Error(ie(387));c.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Kl):e=[Kl])}s=s.return}e!==null&&p0(t,e,n,i),t.flags|=262144}function Ju(e){for(e=e.firstContext;e!==null;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $s(e){sa=e,lr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function gn(e){return Ob(sa,e)}function ru(e,t){return sa===null&&$s(e),Ob(e,t)}function Ob(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},lr===null){if(e===null)throw Error(ie(308));lr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else lr=lr.next=t;return n}var PC=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},UC=qt.unstable_scheduleCallback,FC=qt.unstable_NormalPriority,Gt={$$typeof:sr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rm(){return{controller:new PC,data:new Map,refCount:0}}function bc(e){e.refCount--,e.refCount===0&&UC(FC,function(){e.controller.abort()})}var wl=null,x0=0,co=0,to=null;function VC(e,t){if(wl===null){var n=wl=[];x0=0,co=_m(),to={status:"pending",value:void 0,then:function(i){n.push(i)}}}return x0++,t.then(Rp,Rp),t}function Rp(){if(--x0===0&&wl!==null){to!==null&&(to.status="fulfilled");var e=wl;wl=null,co=0,to=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function zC(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var jp=Ne.S;Ne.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&VC(e,t),jp!==null&&jp(e,t)};var Ys=Wi(null);function sm(){var e=Ys.current;return e!==null?e:ct.pooledCache}function Iu(e,t){t===null?xt(Ys,Ys.current):xt(Ys,t.pool)}function kb(){var e=sm();return e===null?null:{parent:Gt._currentValue,pool:e}}var wc=Error(ie(460)),Lb=Error(ie(474)),Gd=Error(ie(542)),y0={then:function(){}};function Op(e){return e=e.status,e==="fulfilled"||e==="rejected"}function su(){}function Bb(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(su,su),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lp(e),e;default:if(typeof t.status=="string")t.then(su,su);else{if(e=ct,e!==null&&100<e.shellSuspendCounter)throw Error(ie(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lp(e),e}throw vl=t,wc}}var vl=null;function kp(){if(vl===null)throw Error(ie(459));var e=vl;return vl=null,e}function Lp(e){if(e===wc||e===Gd)throw Error(ie(483))}var Ur=!1;function am(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function b0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Jr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function es(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,$e&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=Ku(e),Db(e,null,n),t}return Hd(e,i,t,n),Ku(e)}function El(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,sb(e,n)}}function ef(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var c={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?s=a=c:a=a.next=c,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var w0=!1;function Al(){if(w0){var e=to;if(e!==null)throw e}}function Sl(e,t,n,i){w0=!1;var s=e.updateQueue;Ur=!1;var a=s.firstBaseUpdate,c=s.lastBaseUpdate,f=s.shared.pending;if(f!==null){s.shared.pending=null;var g=f,p=g.next;g.next=null,c===null?a=p:c.next=p,c=g;var y=e.alternate;y!==null&&(y=y.updateQueue,f=y.lastBaseUpdate,f!==c&&(f===null?y.firstBaseUpdate=p:f.next=p,y.lastBaseUpdate=g))}if(a!==null){var w=s.baseState;c=0,y=p=g=null,f=a;do{var E=f.lane&-536870913,A=E!==f.lane;if(A?(Fe&E)===E:(i&E)===E){E!==0&&E===co&&(w0=!0),y!==null&&(y=y.next={lane:0,tag:f.tag,payload:f.payload,callback:null,next:null});e:{var R=e,M=f;E=t;var D=n;switch(M.tag){case 1:if(R=M.payload,typeof R=="function"){w=R.call(D,w,E);break e}w=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=M.payload,E=typeof R=="function"?R.call(D,w,E):R,E==null)break e;w=ft({},w,E);break e;case 2:Ur=!0}}E=f.callback,E!==null&&(e.flags|=64,A&&(e.flags|=8192),A=s.callbacks,A===null?s.callbacks=[E]:A.push(E))}else A={lane:E,tag:f.tag,payload:f.payload,callback:f.callback,next:null},y===null?(p=y=A,g=w):y=y.next=A,c|=E;if(f=f.next,f===null){if(f=s.shared.pending,f===null)break;A=f,f=A.next,A.next=null,s.lastBaseUpdate=A,s.shared.pending=null}}while(!0);y===null&&(g=w),s.baseState=g,s.firstBaseUpdate=p,s.lastBaseUpdate=y,a===null&&(s.shared.lanes=0),cs|=c,e.lanes=c,e.memoizedState=w}}function Pb(e,t){if(typeof e!="function")throw Error(ie(191,e));e.call(t)}function Ub(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Pb(n[e],t)}var uo=Wi(null),ed=Wi(0);function Bp(e,t){e=xr,xt(ed,e),xt(uo,t),xr=e|t.baseLanes}function v0(){xt(ed,xr),xt(uo,uo.current)}function om(){xr=ed.current,en(uo),en(ed)}var os=0,Oe=null,tt=null,Pt=null,td=!1,no=!1,Js=!1,nd=0,Yl=0,io=null,HC=0;function Dt(){throw Error(ie(321))}function lm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function cm(e,t,n,i,s,a){return os=a,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ne.H=e===null||e.memoizedState===null?pw:xw,Js=!1,a=n(i,s),Js=!1,no&&(a=Vb(t,n,i,s)),Fb(e),a}function Fb(e){Ne.H=id;var t=tt!==null&&tt.next!==null;if(os=0,Pt=tt=Oe=null,td=!1,Yl=0,io=null,t)throw Error(ie(300));e===null||Jt||(e=e.dependencies,e!==null&&Ju(e)&&(Jt=!0))}function Vb(e,t,n,i){Oe=e;var s=0;do{if(no&&(io=null),Yl=0,no=!1,25<=s)throw Error(ie(301));if(s+=1,Pt=tt=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Ne.H=KC,a=t(n,i)}while(no);return a}function GC(){var e=Ne.H,t=e.useState()[0];return t=typeof t.then=="function"?vc(t):t,e=e.useState()[0],(tt!==null?tt.memoizedState:null)!==e&&(Oe.flags|=1024),t}function um(){var e=nd!==0;return nd=0,e}function dm(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function hm(e){if(td){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}td=!1}os=0,Pt=tt=Oe=null,no=!1,Yl=nd=0,io=null}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Oe.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function Ut(){if(tt===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=Pt===null?Oe.memoizedState:Pt.next;if(t!==null)Pt=t,tt=e;else{if(e===null)throw Oe.alternate===null?Error(ie(467)):Error(ie(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Pt===null?Oe.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function fm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vc(e){var t=Yl;return Yl+=1,io===null&&(io=[]),e=Bb(io,e,t),t=Oe,(Pt===null?t.memoizedState:Pt.next)===null&&(t=t.alternate,Ne.H=t===null||t.memoizedState===null?pw:xw),e}function Yd(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vc(e);if(e.$$typeof===sr)return gn(e)}throw Error(ie(438,String(e)))}function mm(e){var t=null,n=Oe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=Oe.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=fm(),Oe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=TS;return t.index++,n}function gr(e,t){return typeof t=="function"?t(e):t}function Mu(e){var t=Ut();return gm(t,tt,e)}function gm(e,t,n){var i=e.queue;if(i===null)throw Error(ie(311));i.lastRenderedReducer=n;var s=e.baseQueue,a=i.pending;if(a!==null){if(s!==null){var c=s.next;s.next=a.next,a.next=c}t.baseQueue=s=a,i.pending=null}if(a=e.baseState,s===null)e.memoizedState=a;else{t=s.next;var f=c=null,g=null,p=t,y=!1;do{var w=p.lane&-536870913;if(w!==p.lane?(Fe&w)===w:(os&w)===w){var E=p.revertLane;if(E===0)g!==null&&(g=g.next={lane:0,revertLane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),w===co&&(y=!0);else if((os&E)===E){p=p.next,E===co&&(y=!0);continue}else w={lane:0,revertLane:p.revertLane,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null},g===null?(f=g=w,c=a):g=g.next=w,Oe.lanes|=E,cs|=E;w=p.action,Js&&n(a,w),a=p.hasEagerState?p.eagerState:n(a,w)}else E={lane:w,revertLane:p.revertLane,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null},g===null?(f=g=E,c=a):g=g.next=E,Oe.lanes|=w,cs|=w;p=p.next}while(p!==null&&p!==t);if(g===null?c=a:g.next=f,!Qn(a,e.memoizedState)&&(Jt=!0,y&&(n=to,n!==null)))throw n;e.memoizedState=a,e.baseState=c,e.baseQueue=g,i.lastRenderedState=a}return s===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function tf(e){var t=Ut(),n=t.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var c=s=s.next;do a=e(a,c.action),c=c.next;while(c!==s);Qn(a,t.memoizedState)||(Jt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function zb(e,t,n){var i=Oe,s=Ut(),a=qe;if(a){if(n===void 0)throw Error(ie(407));n=n()}else n=t();var c=!Qn((tt||s).memoizedState,n);c&&(s.memoizedState=n,Jt=!0),s=s.queue;var f=Yb.bind(null,i,s,e);if(Ec(2048,8,f,[e]),s.getSnapshot!==t||c||Pt!==null&&Pt.memoizedState.tag&1){if(i.flags|=2048,ho(9,qd(),Gb.bind(null,i,s,n,t),null),ct===null)throw Error(ie(349));a||os&124||Hb(i,t,n)}return n}function Hb(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Oe.updateQueue,t===null?(t=fm(),Oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gb(e,t,n,i){t.value=n,t.getSnapshot=i,qb(t)&&Xb(e)}function Yb(e,t,n){return n(function(){qb(t)&&Xb(e)})}function qb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch{return!0}}function Xb(e){var t=Mo(e,2);t!==null&&Kn(t,e,2)}function E0(e){var t=Rn();if(typeof e=="function"){var n=e;if(e=n(),Js){Xr(!0);try{n()}finally{Xr(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:e},t}function Wb(e,t,n,i){return e.baseState=n,gm(e,tt,typeof i=="function"?i:gr)}function YC(e,t,n,i,s){if(Xd(e))throw Error(ie(485));if(e=t.action,e!==null){var a={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){a.listeners.push(c)}};Ne.T!==null?n(!0):a.isTransition=!1,i(a),n=t.pending,n===null?(a.next=t.pending=a,Zb(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Zb(e,t){var n=t.action,i=t.payload,s=e.state;if(t.isTransition){var a=Ne.T,c={};Ne.T=c;try{var f=n(s,i),g=Ne.S;g!==null&&g(c,f),Pp(e,t,f)}catch(p){A0(e,t,p)}finally{Ne.T=a}}else try{a=n(s,i),Pp(e,t,a)}catch(p){A0(e,t,p)}}function Pp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Up(e,t,i)},function(i){return A0(e,t,i)}):Up(e,t,n)}function Up(e,t,n){t.status="fulfilled",t.value=n,Kb(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Zb(e,n)))}function A0(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Kb(t),t=t.next;while(t!==i)}e.action=null}function Kb(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Qb(e,t){return t}function Fp(e,t){if(qe){var n=ct.formState;if(n!==null){e:{var i=Oe;if(qe){if(Tt){t:{for(var s=Tt,a=Ui;s.nodeType!==8;){if(!a){s=null;break t}if(s=Ci(s.nextSibling),s===null){s=null;break t}}a=s.data,s=a==="F!"||a==="F"?s:null}if(s){Tt=Ci(s.nextSibling),i=s.data==="F!";break e}}Qs(i)}i=!1}i&&(t=n[0])}}return n=Rn(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qb,lastRenderedState:t},n.queue=i,n=fw.bind(null,Oe,i),i.dispatch=n,i=E0(!1),a=bm.bind(null,Oe,!1,i.queue),i=Rn(),s={state:t,dispatch:null,action:e,pending:null},i.queue=s,n=YC.bind(null,Oe,s,a,n),s.dispatch=n,i.memoizedState=e,[t,n,!1]}function Vp(e){var t=Ut();return $b(t,tt,e)}function $b(e,t,n){if(t=gm(e,t,Qb)[0],e=Mu(gr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=vc(t)}catch(c){throw c===wc?Gd:c}else i=t;t=Ut();var s=t.queue,a=s.dispatch;return n!==t.memoizedState&&(Oe.flags|=2048,ho(9,qd(),qC.bind(null,s,n),null)),[i,a,e]}function qC(e,t){e.action=t}function zp(e){var t=Ut(),n=tt;if(n!==null)return $b(t,n,e);Ut(),t=t.memoizedState,n=Ut();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function ho(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=Oe.updateQueue,t===null&&(t=fm(),Oe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function qd(){return{destroy:void 0,resource:void 0}}function Jb(){return Ut().memoizedState}function Du(e,t,n,i){var s=Rn();i=i===void 0?null:i,Oe.flags|=e,s.memoizedState=ho(1|t,qd(),n,i)}function Ec(e,t,n,i){var s=Ut();i=i===void 0?null:i;var a=s.memoizedState.inst;tt!==null&&i!==null&&lm(i,tt.memoizedState.deps)?s.memoizedState=ho(t,a,n,i):(Oe.flags|=e,s.memoizedState=ho(1|t,a,n,i))}function Hp(e,t){Du(8390656,8,e,t)}function ew(e,t){Ec(2048,8,e,t)}function tw(e,t){return Ec(4,2,e,t)}function nw(e,t){return Ec(4,4,e,t)}function iw(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rw(e,t,n){n=n!=null?n.concat([e]):null,Ec(4,4,iw.bind(null,t,e),n)}function pm(){}function sw(e,t){var n=Ut();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&lm(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function aw(e,t){var n=Ut();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&lm(t,i[1]))return i[0];if(i=e(),Js){Xr(!0);try{e()}finally{Xr(!1)}}return n.memoizedState=[i,t],i}function xm(e,t,n){return n===void 0||os&1073741824?e.memoizedState=t:(e.memoizedState=n,e=Kw(),Oe.lanes|=e,cs|=e,n)}function ow(e,t,n,i){return Qn(n,t)?n:uo.current!==null?(e=xm(e,n,i),Qn(e,t)||(Jt=!0),e):os&42?(e=Kw(),Oe.lanes|=e,cs|=e,t):(Jt=!0,e.memoizedState=n)}function lw(e,t,n,i,s){var a=Xe.p;Xe.p=a!==0&&8>a?a:8;var c=Ne.T,f={};Ne.T=f,bm(e,!1,t,n);try{var g=s(),p=Ne.S;if(p!==null&&p(f,g),g!==null&&typeof g=="object"&&typeof g.then=="function"){var y=zC(g,i);Cl(e,t,y,Zn(e))}else Cl(e,t,i,Zn(e))}catch(w){Cl(e,t,{then:function(){},status:"rejected",reason:w},Zn())}finally{Xe.p=a,Ne.T=c}}function XC(){}function S0(e,t,n,i){if(e.tag!==5)throw Error(ie(476));var s=cw(e).queue;lw(e,s,t,Vs,n===null?XC:function(){return uw(e),n(i)})}function cw(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Vs,baseState:Vs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:Vs},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function uw(e){var t=cw(e).next.queue;Cl(e,t,{},Zn())}function ym(){return gn(Kl)}function dw(){return Ut().memoizedState}function hw(){return Ut().memoizedState}function WC(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Zn();e=Jr(n);var i=es(t,e,n);i!==null&&(Kn(i,t,n),El(i,t,n)),t={cache:rm()},e.payload=t;return}t=t.return}}function ZC(e,t,n){var i=Zn();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Xd(e)?mw(t,n):(n=em(e,t,n,i),n!==null&&(Kn(n,e,i),gw(n,t,i)))}function fw(e,t,n){var i=Zn();Cl(e,t,n,i)}function Cl(e,t,n,i){var s={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xd(e))mw(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var c=t.lastRenderedState,f=a(c,n);if(s.hasEagerState=!0,s.eagerState=f,Qn(f,c))return Hd(e,t,s,0),ct===null&&zd(),!1}catch{}finally{}if(n=em(e,t,s,i),n!==null)return Kn(n,e,i),gw(n,t,i),!0}return!1}function bm(e,t,n,i){if(i={lane:2,revertLane:_m(),action:i,hasEagerState:!1,eagerState:null,next:null},Xd(e)){if(t)throw Error(ie(479))}else t=em(e,n,i,2),t!==null&&Kn(t,e,2)}function Xd(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function mw(e,t){no=td=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gw(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,sb(e,n)}}var id={readContext:gn,use:Yd,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt},pw={readContext:gn,use:Yd,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:gn,useEffect:Hp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Du(4194308,4,iw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Du(4194308,4,e,t)},useInsertionEffect:function(e,t){Du(4,2,e,t)},useMemo:function(e,t){var n=Rn();t=t===void 0?null:t;var i=e();if(Js){Xr(!0);try{e()}finally{Xr(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Rn();if(n!==void 0){var s=n(t);if(Js){Xr(!0);try{n(t)}finally{Xr(!1)}}}else s=t;return i.memoizedState=i.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=ZC.bind(null,Oe,e),[i.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:function(e){e=E0(e);var t=e.queue,n=fw.bind(null,Oe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:pm,useDeferredValue:function(e,t){var n=Rn();return xm(n,e,t)},useTransition:function(){var e=E0(!1);return e=lw.bind(null,Oe,e.queue,!0,!1),Rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Oe,s=Rn();if(qe){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=t(),ct===null)throw Error(ie(349));Fe&124||Hb(i,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Hp(Yb.bind(null,i,a,e),[e]),i.flags|=2048,ho(9,qd(),Gb.bind(null,i,a,n,t),null),n},useId:function(){var e=Rn(),t=ct.identifierPrefix;if(qe){var n=or,i=ar;n=(i&~(1<<32-Wn(i)-1)).toString(32)+n,t=""+t+"R"+n,n=nd++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=HC++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:ym,useFormState:Fp,useActionState:Fp,useOptimistic:function(e){var t=Rn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=bm.bind(null,Oe,!0,n),n.dispatch=t,[e,t]},useMemoCache:mm,useCacheRefresh:function(){return Rn().memoizedState=WC.bind(null,Oe)}},xw={readContext:gn,use:Yd,useCallback:sw,useContext:gn,useEffect:ew,useImperativeHandle:rw,useInsertionEffect:tw,useLayoutEffect:nw,useMemo:aw,useReducer:Mu,useRef:Jb,useState:function(){return Mu(gr)},useDebugValue:pm,useDeferredValue:function(e,t){var n=Ut();return ow(n,tt.memoizedState,e,t)},useTransition:function(){var e=Mu(gr)[0],t=Ut().memoizedState;return[typeof e=="boolean"?e:vc(e),t]},useSyncExternalStore:zb,useId:dw,useHostTransitionStatus:ym,useFormState:Vp,useActionState:Vp,useOptimistic:function(e,t){var n=Ut();return Wb(n,tt,e,t)},useMemoCache:mm,useCacheRefresh:hw},KC={readContext:gn,use:Yd,useCallback:sw,useContext:gn,useEffect:ew,useImperativeHandle:rw,useInsertionEffect:tw,useLayoutEffect:nw,useMemo:aw,useReducer:tf,useRef:Jb,useState:function(){return tf(gr)},useDebugValue:pm,useDeferredValue:function(e,t){var n=Ut();return tt===null?xm(n,e,t):ow(n,tt.memoizedState,e,t)},useTransition:function(){var e=tf(gr)[0],t=Ut().memoizedState;return[typeof e=="boolean"?e:vc(e),t]},useSyncExternalStore:zb,useId:dw,useHostTransitionStatus:ym,useFormState:zp,useActionState:zp,useOptimistic:function(e,t){var n=Ut();return tt!==null?Wb(n,tt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:mm,useCacheRefresh:hw},ro=null,ql=0;function au(e){var t=ql;return ql+=1,ro===null&&(ro=[]),Bb(ro,e,t)}function il(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ou(e,t){throw t.$$typeof===NS?Error(ie(525)):(e=Object.prototype.toString.call(t),Error(ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Gp(e){var t=e._init;return t(e._payload)}function yw(e){function t(C,N){if(e){var _=C.deletions;_===null?(C.deletions=[N],C.flags|=16):_.push(N)}}function n(C,N){if(!e)return null;for(;N!==null;)t(C,N),N=N.sibling;return null}function i(C){for(var N=new Map;C!==null;)C.key!==null?N.set(C.key,C):N.set(C.index,C),C=C.sibling;return N}function s(C,N){return C=dr(C,N),C.index=0,C.sibling=null,C}function a(C,N,_){return C.index=_,e?(_=C.alternate,_!==null?(_=_.index,_<N?(C.flags|=67108866,N):_):(C.flags|=67108866,N)):(C.flags|=1048576,N)}function c(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function f(C,N,_,k){return N===null||N.tag!==6?(N=$h(_,C.mode,k),N.return=C,N):(N=s(N,_),N.return=C,N)}function g(C,N,_,k){var V=_.type;return V===ja?y(C,N,_.props.children,k,_.key):N!==null&&(N.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Pr&&Gp(V)===N.type)?(N=s(N,_.props),il(N,_),N.return=C,N):(N=Tu(_.type,_.key,_.props,null,C.mode,k),il(N,_),N.return=C,N)}function p(C,N,_,k){return N===null||N.tag!==4||N.stateNode.containerInfo!==_.containerInfo||N.stateNode.implementation!==_.implementation?(N=Jh(_,C.mode,k),N.return=C,N):(N=s(N,_.children||[]),N.return=C,N)}function y(C,N,_,k,V){return N===null||N.tag!==7?(N=zs(_,C.mode,k,V),N.return=C,N):(N=s(N,_),N.return=C,N)}function w(C,N,_){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=$h(""+N,C.mode,_),N.return=C,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Jc:return _=Tu(N.type,N.key,N.props,null,C.mode,_),il(_,N),_.return=C,_;case ul:return N=Jh(N,C.mode,_),N.return=C,N;case Pr:var k=N._init;return N=k(N._payload),w(C,N,_)}if(dl(N)||Jo(N))return N=zs(N,C.mode,_,null),N.return=C,N;if(typeof N.then=="function")return w(C,au(N),_);if(N.$$typeof===sr)return w(C,ru(C,N),_);ou(C,N)}return null}function E(C,N,_,k){var V=N!==null?N.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return V!==null?null:f(C,N,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Jc:return _.key===V?g(C,N,_,k):null;case ul:return _.key===V?p(C,N,_,k):null;case Pr:return V=_._init,_=V(_._payload),E(C,N,_,k)}if(dl(_)||Jo(_))return V!==null?null:y(C,N,_,k,null);if(typeof _.then=="function")return E(C,N,au(_),k);if(_.$$typeof===sr)return E(C,N,ru(C,_),k);ou(C,_)}return null}function A(C,N,_,k,V){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return C=C.get(_)||null,f(N,C,""+k,V);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Jc:return C=C.get(k.key===null?_:k.key)||null,g(N,C,k,V);case ul:return C=C.get(k.key===null?_:k.key)||null,p(N,C,k,V);case Pr:var L=k._init;return k=L(k._payload),A(C,N,_,k,V)}if(dl(k)||Jo(k))return C=C.get(_)||null,y(N,C,k,V,null);if(typeof k.then=="function")return A(C,N,_,au(k),V);if(k.$$typeof===sr)return A(C,N,_,ru(N,k),V);ou(N,k)}return null}function R(C,N,_,k){for(var V=null,L=null,B=N,z=N=0,P=null;B!==null&&z<_.length;z++){B.index>z?(P=B,B=null):P=B.sibling;var Y=E(C,B,_[z],k);if(Y===null){B===null&&(B=P);break}e&&B&&Y.alternate===null&&t(C,B),N=a(Y,N,z),L===null?V=Y:L.sibling=Y,L=Y,B=P}if(z===_.length)return n(C,B),qe&&js(C,z),V;if(B===null){for(;z<_.length;z++)B=w(C,_[z],k),B!==null&&(N=a(B,N,z),L===null?V=B:L.sibling=B,L=B);return qe&&js(C,z),V}for(B=i(B);z<_.length;z++)P=A(B,C,z,_[z],k),P!==null&&(e&&P.alternate!==null&&B.delete(P.key===null?z:P.key),N=a(P,N,z),L===null?V=P:L.sibling=P,L=P);return e&&B.forEach(function(H){return t(C,H)}),qe&&js(C,z),V}function M(C,N,_,k){if(_==null)throw Error(ie(151));for(var V=null,L=null,B=N,z=N=0,P=null,Y=_.next();B!==null&&!Y.done;z++,Y=_.next()){B.index>z?(P=B,B=null):P=B.sibling;var H=E(C,B,Y.value,k);if(H===null){B===null&&(B=P);break}e&&B&&H.alternate===null&&t(C,B),N=a(H,N,z),L===null?V=H:L.sibling=H,L=H,B=P}if(Y.done)return n(C,B),qe&&js(C,z),V;if(B===null){for(;!Y.done;z++,Y=_.next())Y=w(C,Y.value,k),Y!==null&&(N=a(Y,N,z),L===null?V=Y:L.sibling=Y,L=Y);return qe&&js(C,z),V}for(B=i(B);!Y.done;z++,Y=_.next())Y=A(B,C,z,Y.value,k),Y!==null&&(e&&Y.alternate!==null&&B.delete(Y.key===null?z:Y.key),N=a(Y,N,z),L===null?V=Y:L.sibling=Y,L=Y);return e&&B.forEach(function(Q){return t(C,Q)}),qe&&js(C,z),V}function D(C,N,_,k){if(typeof _=="object"&&_!==null&&_.type===ja&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Jc:e:{for(var V=_.key;N!==null;){if(N.key===V){if(V=_.type,V===ja){if(N.tag===7){n(C,N.sibling),k=s(N,_.props.children),k.return=C,C=k;break e}}else if(N.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Pr&&Gp(V)===N.type){n(C,N.sibling),k=s(N,_.props),il(k,_),k.return=C,C=k;break e}n(C,N);break}else t(C,N);N=N.sibling}_.type===ja?(k=zs(_.props.children,C.mode,k,_.key),k.return=C,C=k):(k=Tu(_.type,_.key,_.props,null,C.mode,k),il(k,_),k.return=C,C=k)}return c(C);case ul:e:{for(V=_.key;N!==null;){if(N.key===V)if(N.tag===4&&N.stateNode.containerInfo===_.containerInfo&&N.stateNode.implementation===_.implementation){n(C,N.sibling),k=s(N,_.children||[]),k.return=C,C=k;break e}else{n(C,N);break}else t(C,N);N=N.sibling}k=Jh(_,C.mode,k),k.return=C,C=k}return c(C);case Pr:return V=_._init,_=V(_._payload),D(C,N,_,k)}if(dl(_))return R(C,N,_,k);if(Jo(_)){if(V=Jo(_),typeof V!="function")throw Error(ie(150));return _=V.call(_),M(C,N,_,k)}if(typeof _.then=="function")return D(C,N,au(_),k);if(_.$$typeof===sr)return D(C,N,ru(C,_),k);ou(C,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,N!==null&&N.tag===6?(n(C,N.sibling),k=s(N,_),k.return=C,C=k):(n(C,N),k=$h(_,C.mode,k),k.return=C,C=k),c(C)):n(C,N)}return function(C,N,_,k){try{ql=0;var V=D(C,N,_,k);return ro=null,V}catch(B){if(B===wc||B===Gd)throw B;var L=Yn(29,B,null,C.mode);return L.lanes=k,L.return=C,L}finally{}}}var fo=yw(!0),bw=yw(!1),fi=Wi(null),Hi=null;function zr(e){var t=e.alternate;xt(Yt,Yt.current&1),xt(fi,e),Hi===null&&(t===null||uo.current!==null||t.memoizedState!==null)&&(Hi=e)}function ww(e){if(e.tag===22){if(xt(Yt,Yt.current),xt(fi,e),Hi===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Hi=e)}}else Hr()}function Hr(){xt(Yt,Yt.current),xt(fi,fi.current)}function cr(e){en(fi),Hi===e&&(Hi=null),en(Yt)}var Yt=Wi(0);function rd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||V0(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function nf(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ft({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var C0={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Zn(),s=Jr(i);s.payload=t,n!=null&&(s.callback=n),t=es(e,s,i),t!==null&&(Kn(t,e,i),El(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Zn(),s=Jr(i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=es(e,s,i),t!==null&&(Kn(t,e,i),El(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zn(),i=Jr(n);i.tag=2,t!=null&&(i.callback=t),t=es(e,i,n),t!==null&&(Kn(t,e,n),El(t,e,n))}};function Yp(e,t,n,i,s,a,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,c):t.prototype&&t.prototype.isPureReactComponent?!Hl(n,i)||!Hl(s,a):!0}function qp(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&C0.enqueueReplaceState(t,t.state,null)}function ea(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=ft({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}var sd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function vw(e){sd(e)}function Ew(e){console.error(e)}function Aw(e){sd(e)}function ad(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Xp(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function N0(e,t,n){return n=Jr(n),n.tag=3,n.payload={element:null},n.callback=function(){ad(e,t)},n}function Sw(e){return e=Jr(e),e.tag=3,e}function Cw(e,t,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var a=i.value;e.payload=function(){return s(a)},e.callback=function(){Xp(t,n,i)}}var c=n.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){Xp(t,n,i),typeof s!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var f=i.stack;this.componentDidCatch(i.value,{componentStack:f!==null?f:""})})}function QC(e,t,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&yc(t,n,s,!0),n=fi.current,n!==null){switch(n.tag){case 13:return Hi===null?O0():n.alternate===null&&It===0&&(It=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===y0?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),mf(e,i,s)),!1;case 22:return n.flags|=65536,i===y0?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),mf(e,i,s)),!1}throw Error(ie(435,n.tag))}return mf(e,i,s),O0(),!1}if(qe)return t=fi.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==f0&&(e=Error(ie(422),{cause:i}),Gl(ui(e,n)))):(i!==f0&&(t=Error(ie(423),{cause:i}),Gl(ui(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,i=ui(i,n),s=N0(e.stateNode,i,s),ef(e,s),It!==4&&(It=2)),!1;var a=Error(ie(520),{cause:i});if(a=ui(a,n),Tl===null?Tl=[a]:Tl.push(a),It!==4&&(It=2),t===null)return!0;i=ui(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=N0(n.stateNode,i,e),ef(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(ts===null||!ts.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Sw(s),Cw(s,e,n,i),ef(n,s),!1}n=n.return}while(n!==null);return!1}var Nw=Error(ie(461)),Jt=!1;function on(e,t,n,i){t.child=e===null?bw(t,null,n,i):fo(t,e.child,n,i)}function Wp(e,t,n,i,s){n=n.render;var a=t.ref;if("ref"in i){var c={};for(var f in i)f!=="ref"&&(c[f]=i[f])}else c=i;return $s(t),i=cm(e,t,n,c,a,s),f=um(),e!==null&&!Jt?(dm(e,t,s),pr(e,t,s)):(qe&&f&&nm(t),t.flags|=1,on(e,t,i,s),t.child)}function Zp(e,t,n,i,s){if(e===null){var a=n.type;return typeof a=="function"&&!tm(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,_w(e,t,a,i,s)):(e=Tu(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!wm(e,s)){var c=a.memoizedProps;if(n=n.compare,n=n!==null?n:Hl,n(c,i)&&e.ref===t.ref)return pr(e,t,s)}return t.flags|=1,e=dr(a,i),e.ref=t.ref,e.return=t,t.child=e}function _w(e,t,n,i,s){if(e!==null){var a=e.memoizedProps;if(Hl(a,i)&&e.ref===t.ref)if(Jt=!1,t.pendingProps=i=a,wm(e,s))e.flags&131072&&(Jt=!0);else return t.lanes=e.lanes,pr(e,t,s)}return _0(e,t,n,i,s)}function Tw(e,t,n){var i=t.pendingProps,s=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=a!==null?a.baseLanes|n:n,e!==null){for(s=t.child=e.child,a=0;s!==null;)a=a|s.lanes|s.childLanes,s=s.sibling;t.childLanes=a&~i}else t.childLanes=0,t.child=null;return Kp(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Iu(t,a!==null?a.cachePool:null),a!==null?Bp(t,a):v0(),ww(t);else return t.lanes=t.childLanes=536870912,Kp(e,t,a!==null?a.baseLanes|n:n,n)}else a!==null?(Iu(t,a.cachePool),Bp(t,a),Hr(),t.memoizedState=null):(e!==null&&Iu(t,null),v0(),Hr());return on(e,t,s,n),t.child}function Kp(e,t,n,i){var s=sm();return s=s===null?null:{parent:Gt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Iu(t,null),v0(),ww(t),e!==null&&yc(e,t,i,!0),null}function Ru(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(ie(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function _0(e,t,n,i,s){return $s(t),n=cm(e,t,n,i,void 0,s),i=um(),e!==null&&!Jt?(dm(e,t,s),pr(e,t,s)):(qe&&i&&nm(t),t.flags|=1,on(e,t,n,s),t.child)}function Qp(e,t,n,i,s,a){return $s(t),t.updateQueue=null,n=Vb(t,i,n,s),Fb(e),i=um(),e!==null&&!Jt?(dm(e,t,a),pr(e,t,a)):(qe&&i&&nm(t),t.flags|=1,on(e,t,n,a),t.child)}function $p(e,t,n,i,s){if($s(t),t.stateNode===null){var a=Va,c=n.contextType;typeof c=="object"&&c!==null&&(a=gn(c)),a=new n(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=C0,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},am(t),c=n.contextType,a.context=typeof c=="object"&&c!==null?gn(c):Va,a.state=t.memoizedState,c=n.getDerivedStateFromProps,typeof c=="function"&&(nf(t,n,c,i),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(c=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),c!==a.state&&C0.enqueueReplaceState(a,a.state,null),Sl(t,i,a,s),Al(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){a=t.stateNode;var f=t.memoizedProps,g=ea(n,f);a.props=g;var p=a.context,y=n.contextType;c=Va,typeof y=="object"&&y!==null&&(c=gn(y));var w=n.getDerivedStateFromProps;y=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function",f=t.pendingProps!==f,y||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(f||p!==c)&&qp(t,a,i,c),Ur=!1;var E=t.memoizedState;a.state=E,Sl(t,i,a,s),Al(),p=t.memoizedState,f||E!==p||Ur?(typeof w=="function"&&(nf(t,n,w,i),p=t.memoizedState),(g=Ur||Yp(t,n,g,i,E,p,c))?(y||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=p),a.props=i,a.state=p,a.context=c,i=g):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,b0(e,t),c=t.memoizedProps,y=ea(n,c),a.props=y,w=t.pendingProps,E=a.context,p=n.contextType,g=Va,typeof p=="object"&&p!==null&&(g=gn(p)),f=n.getDerivedStateFromProps,(p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==w||E!==g)&&qp(t,a,i,g),Ur=!1,E=t.memoizedState,a.state=E,Sl(t,i,a,s),Al();var A=t.memoizedState;c!==w||E!==A||Ur||e!==null&&e.dependencies!==null&&Ju(e.dependencies)?(typeof f=="function"&&(nf(t,n,f,i),A=t.memoizedState),(y=Ur||Yp(t,n,y,i,E,A,g)||e!==null&&e.dependencies!==null&&Ju(e.dependencies))?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,A,g),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,A,g)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=A),a.props=i,a.state=A,a.context=g,i=y):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,Ru(e,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&i?(t.child=fo(t,e.child,null,s),t.child=fo(t,null,n,s)):on(e,t,n,s),t.memoizedState=a.state,e=t.child):e=pr(e,t,s),e}function Jp(e,t,n,i){return xc(),t.flags|=256,on(e,t,n,i),t.child}var rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sf(e){return{baseLanes:e,cachePool:kb()}}function af(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=di),e}function Iw(e,t,n){var i=t.pendingProps,s=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=e!==null&&e.memoizedState===null?!1:(Yt.current&2)!==0),c&&(s=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(qe){if(s?zr(t):Hr(),qe){var f=Tt,g;if(g=f){e:{for(g=f,f=Ui;g.nodeType!==8;){if(!f){f=null;break e}if(g=Ci(g.nextSibling),g===null){f=null;break e}}f=g}f!==null?(t.memoizedState={dehydrated:f,treeContext:Hs!==null?{id:ar,overflow:or}:null,retryLane:536870912,hydrationErrors:null},g=Yn(18,null,null,0),g.stateNode=f,g.return=t,t.child=g,vn=t,Tt=null,g=!0):g=!1}g||Qs(t)}if(f=t.memoizedState,f!==null&&(f=f.dehydrated,f!==null))return V0(f)?t.lanes=32:t.lanes=536870912,null;cr(t)}return f=i.children,i=i.fallback,s?(Hr(),s=t.mode,f=od({mode:"hidden",children:f},s),i=zs(i,s,n,null),f.return=t,i.return=t,f.sibling=i,t.child=f,s=t.child,s.memoizedState=sf(n),s.childLanes=af(e,c,n),t.memoizedState=rf,i):(zr(t),T0(t,f))}if(g=e.memoizedState,g!==null&&(f=g.dehydrated,f!==null)){if(a)t.flags&256?(zr(t),t.flags&=-257,t=of(e,t,n)):t.memoizedState!==null?(Hr(),t.child=e.child,t.flags|=128,t=null):(Hr(),s=i.fallback,f=t.mode,i=od({mode:"visible",children:i.children},f),s=zs(s,f,n,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,fo(t,e.child,null,n),i=t.child,i.memoizedState=sf(n),i.childLanes=af(e,c,n),t.memoizedState=rf,t=s);else if(zr(t),V0(f)){if(c=f.nextSibling&&f.nextSibling.dataset,c)var p=c.dgst;c=p,i=Error(ie(419)),i.stack="",i.digest=c,Gl({value:i,source:null,stack:null}),t=of(e,t,n)}else if(Jt||yc(e,t,n,!1),c=(n&e.childLanes)!==0,Jt||c){if(c=ct,c!==null&&(i=n&-n,i=i&42?1:G1(i),i=i&(c.suspendedLanes|n)?0:i,i!==0&&i!==g.retryLane))throw g.retryLane=i,Mo(e,i),Kn(c,e,i),Nw;f.data==="$?"||O0(),t=of(e,t,n)}else f.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=g.treeContext,Tt=Ci(f.nextSibling),vn=t,qe=!0,Gs=null,Ui=!1,e!==null&&(oi[li++]=ar,oi[li++]=or,oi[li++]=Hs,ar=e.id,or=e.overflow,Hs=t),t=T0(t,i.children),t.flags|=4096);return t}return s?(Hr(),s=i.fallback,f=t.mode,g=e.child,p=g.sibling,i=dr(g,{mode:"hidden",children:i.children}),i.subtreeFlags=g.subtreeFlags&65011712,p!==null?s=dr(p,s):(s=zs(s,f,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,f=e.child.memoizedState,f===null?f=sf(n):(g=f.cachePool,g!==null?(p=Gt._currentValue,g=g.parent!==p?{parent:p,pool:p}:g):g=kb(),f={baseLanes:f.baseLanes|n,cachePool:g}),s.memoizedState=f,s.childLanes=af(e,c,n),t.memoizedState=rf,i):(zr(t),n=e.child,e=n.sibling,n=dr(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=n,t.memoizedState=null,n)}function T0(e,t){return t=od({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function od(e,t){return e=Yn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function of(e,t,n){return fo(t,e.child,null,n),e=T0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ex(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),g0(e.return,t,n)}function lf(e,t,n,i,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s)}function Mw(e,t,n){var i=t.pendingProps,s=i.revealOrder,a=i.tail;if(on(e,t,i.children,n),i=Yt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ex(e,n,t);else if(e.tag===19)ex(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(xt(Yt,i),s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&rd(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),lf(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&rd(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}lf(t,!0,n,null,a);break;case"together":lf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),cs|=t.lanes,!(n&t.childLanes))if(e!==null){if(yc(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(ie(153));if(t.child!==null){for(e=t.child,n=dr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wm(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ju(e)))}function $C(e,t,n){switch(t.tag){case 3:Yu(t,t.stateNode.containerInfo),Vr(t,Gt,e.memoizedState.cache),xc();break;case 27:case 5:i0(t);break;case 4:Yu(t,t.stateNode.containerInfo);break;case 10:Vr(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(zr(t),t.flags|=128,null):n&t.child.childLanes?Iw(e,t,n):(zr(t),e=pr(e,t,n),e!==null?e.sibling:null);zr(t);break;case 19:var s=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(yc(e,t,n,!1),i=(n&t.childLanes)!==0),s){if(i)return Mw(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xt(Yt,Yt.current),i)break;return null;case 22:case 23:return t.lanes=0,Tw(e,t,n);case 24:Vr(t,Gt,e.memoizedState.cache)}return pr(e,t,n)}function Dw(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Jt=!0;else{if(!wm(e,n)&&!(t.flags&128))return Jt=!1,$C(e,t,n);Jt=!!(e.flags&131072)}else Jt=!1,qe&&t.flags&1048576&&jb(t,$u,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,s=i._init;if(i=s(i._payload),t.type=i,typeof i=="function")tm(i)?(e=ea(i,e),t.tag=1,t=$p(null,t,i,e,n)):(t.tag=0,t=_0(null,t,i,e,n));else{if(i!=null){if(s=i.$$typeof,s===V1){t.tag=11,t=Wp(null,t,i,e,n);break e}else if(s===z1){t.tag=14,t=Zp(null,t,i,e,n);break e}}throw t=t0(i)||i,Error(ie(306,t,""))}}return t;case 0:return _0(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,s=ea(i,t.pendingProps),$p(e,t,i,s,n);case 3:e:{if(Yu(t,t.stateNode.containerInfo),e===null)throw Error(ie(387));i=t.pendingProps;var a=t.memoizedState;s=a.element,b0(e,t),Sl(t,i,null,n);var c=t.memoizedState;if(i=c.cache,Vr(t,Gt,i),i!==a.cache&&p0(t,[Gt],n,!0),Al(),i=c.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=Jp(e,t,i,n);break e}else if(i!==s){s=ui(Error(ie(424)),t),Gl(s),t=Jp(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Tt=Ci(e.firstChild),vn=t,qe=!0,Gs=null,Ui=!0,n=bw(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(xc(),i===s){t=pr(e,t,n);break e}on(e,t,i,n)}t=t.child}return t;case 26:return Ru(e,t),e===null?(n=xx(t.type,null,t.pendingProps,null))?t.memoizedState=n:qe||(n=t.type,e=t.pendingProps,i=md($r.current).createElement(n),i[mn]=t,i[Bn]=e,un(i,n,e),$t(i),t.stateNode=i):t.memoizedState=xx(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return i0(t),e===null&&qe&&(i=t.stateNode=xv(t.type,t.pendingProps,$r.current),vn=t,Ui=!0,s=Tt,ps(t.type)?(z0=s,Tt=Ci(i.firstChild)):Tt=s),on(e,t,t.pendingProps.children,n),Ru(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&qe&&((s=i=Tt)&&(i=N4(i,t.type,t.pendingProps,Ui),i!==null?(t.stateNode=i,vn=t,Tt=Ci(i.firstChild),Ui=!1,s=!0):s=!1),s||Qs(t)),i0(t),s=t.type,a=t.pendingProps,c=e!==null?e.memoizedProps:null,i=a.children,U0(s,a)?i=null:c!==null&&U0(s,c)&&(t.flags|=32),t.memoizedState!==null&&(s=cm(e,t,GC,null,null,n),Kl._currentValue=s),Ru(e,t),on(e,t,i,n),t.child;case 6:return e===null&&qe&&((e=n=Tt)&&(n=_4(n,t.pendingProps,Ui),n!==null?(t.stateNode=n,vn=t,Tt=null,e=!0):e=!1),e||Qs(t)),null;case 13:return Iw(e,t,n);case 4:return Yu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=fo(t,null,i,n):on(e,t,i,n),t.child;case 11:return Wp(e,t,t.type,t.pendingProps,n);case 7:return on(e,t,t.pendingProps,n),t.child;case 8:return on(e,t,t.pendingProps.children,n),t.child;case 12:return on(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Vr(t,t.type,i.value),on(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,$s(t),s=gn(s),i=i(s),t.flags|=1,on(e,t,i,n),t.child;case 14:return Zp(e,t,t.type,t.pendingProps,n);case 15:return _w(e,t,t.type,t.pendingProps,n);case 19:return Mw(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=od(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=dr(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Tw(e,t,n);case 24:return $s(t),i=gn(Gt),e===null?(s=sm(),s===null&&(s=ct,a=rm(),s.pooledCache=a,a.refCount++,a!==null&&(s.pooledCacheLanes|=n),s=a),t.memoizedState={parent:i,cache:s},am(t),Vr(t,Gt,s)):(e.lanes&n&&(b0(e,t),Sl(t,null,null,n),Al()),s=e.memoizedState,a=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Vr(t,Gt,i)):(i=a.cache,Vr(t,Gt,i),i!==s.cache&&p0(t,[Gt],n,!0))),on(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(ie(156,t.tag))}function Ji(e){e.flags|=4}function tx(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!wv(t)){if(t=fi.current,t!==null&&((Fe&4194048)===Fe?Hi!==null:(Fe&62914560)!==Fe&&!(Fe&536870912)||t!==Hi))throw vl=y0,Lb;e.flags|=8192}}function lu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ib():536870912,e.lanes|=t,mo|=t)}function rl(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function JC(e,t,n){var i=t.pendingProps;switch(im(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return vt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),hr(Gt),ao(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(nl(t)?Ji(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dp())),vt(t),null;case 26:return n=t.memoizedState,e===null?(Ji(t),n!==null?(vt(t),tx(t,n)):(vt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ji(t),vt(t),tx(t,n)):(vt(t),t.flags&=-16777217):(e.memoizedProps!==i&&Ji(t),vt(t),t.flags&=-16777217),null;case 27:qu(t),n=$r.current;var s=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ji(t);else{if(!i){if(t.stateNode===null)throw Error(ie(166));return vt(t),null}e=Vi.current,nl(t)?Ip(t):(e=xv(s,i,n),t.stateNode=e,Ji(t))}return vt(t),null;case 5:if(qu(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Ji(t);else{if(!i){if(t.stateNode===null)throw Error(ie(166));return vt(t),null}if(e=Vi.current,nl(t))Ip(t);else{switch(s=md($r.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?s.createElement(n,{is:i.is}):s.createElement(n)}}e[mn]=t,e[Bn]=i;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(un(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ji(t)}}return vt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Ji(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(ie(166));if(e=$r.current,nl(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,s=vn,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}e[mn]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||mv(e.nodeValue,n)),e||Qs(t)}else e=md(e).createTextNode(i),e[mn]=t,t.stateNode=e}return vt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=nl(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(ie(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ie(317));s[mn]=t}else xc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vt(t),s=!1}else s=Dp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(cr(t),t):(cr(t),null)}if(cr(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool);var a=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),lu(t,t.updateQueue),vt(t),null;case 4:return ao(),e===null&&Tm(t.stateNode.containerInfo),vt(t),null;case 10:return hr(t.type),vt(t),null;case 19:if(en(Yt),s=t.memoizedState,s===null)return vt(t),null;if(i=(t.flags&128)!==0,a=s.rendering,a===null)if(i)rl(s,!1);else{if(It!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=rd(e),a!==null){for(t.flags|=128,rl(s,!1),e=a.updateQueue,t.updateQueue=e,lu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Rb(n,e),n=n.sibling;return xt(Yt,Yt.current&1|2),t.child}e=e.sibling}s.tail!==null&&zi()>cd&&(t.flags|=128,i=!0,rl(s,!1),t.lanes=4194304)}else{if(!i)if(e=rd(a),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,lu(t,e),rl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!qe)return vt(t),null}else 2*zi()-s.renderingStartTime>cd&&n!==536870912&&(t.flags|=128,i=!0,rl(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(e=s.last,e!==null?e.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=zi(),t.sibling=null,e=Yt.current,xt(Yt,i?e&1|2:e&1),t):(vt(t),null);case 22:case 23:return cr(t),om(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),n=t.updateQueue,n!==null&&lu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&en(Ys),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),hr(Gt),vt(t),null;case 25:return null;case 30:return null}throw Error(ie(156,t.tag))}function e4(e,t){switch(im(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hr(Gt),ao(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return qu(t),null;case 13:if(cr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ie(340));xc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return en(Yt),null;case 4:return ao(),null;case 10:return hr(t.type),null;case 22:case 23:return cr(t),om(),e!==null&&en(Ys),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return hr(Gt),null;case 25:return null;default:return null}}function Rw(e,t){switch(im(t),t.tag){case 3:hr(Gt),ao();break;case 26:case 27:case 5:qu(t);break;case 4:ao();break;case 13:cr(t);break;case 19:en(Yt);break;case 10:hr(t.type);break;case 22:case 23:cr(t),om(),e!==null&&en(Ys);break;case 24:hr(Gt)}}function Ac(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){i=void 0;var a=n.create,c=n.inst;i=a(),c.destroy=i}n=n.next}while(n!==s)}}catch(f){st(t,t.return,f)}}function ls(e,t,n){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var a=s.next;i=a;do{if((i.tag&e)===e){var c=i.inst,f=c.destroy;if(f!==void 0){c.destroy=void 0,s=t;var g=n,p=f;try{p()}catch(y){st(s,g,y)}}}i=i.next}while(i!==a)}}catch(y){st(t,t.return,y)}}function jw(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ub(t,n)}catch(i){st(e,e.return,i)}}}function Ow(e,t,n){n.props=ea(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){st(e,t,i)}}function Nl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(s){st(e,t,s)}}function Fi(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){st(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){st(e,t,s)}else n.current=null}function kw(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){st(e,e.return,s)}}function cf(e,t,n){try{var i=e.stateNode;v4(i,e.type,n,t),i[Bn]=t}catch(s){st(e,e.return,s)}}function Lw(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ps(e.type)||e.tag===4}function uf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ps(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function I0(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Qd));else if(i!==4&&(i===27&&ps(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(I0(e,t,n),e=e.sibling;e!==null;)I0(e,t,n),e=e.sibling}function ld(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&ps(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ld(e,t,n),e=e.sibling;e!==null;)ld(e,t,n),e=e.sibling}function Bw(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);un(t,i,n),t[mn]=e,t[Bn]=n}catch(a){st(e,e.return,a)}}var rr=!1,jt=!1,df=!1,nx=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function t4(e,t){if(e=e.containerInfo,B0=yd,e=Sb(e),$1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var c=0,f=-1,g=-1,p=0,y=0,w=e,E=null;t:for(;;){for(var A;w!==n||s!==0&&w.nodeType!==3||(f=c+s),w!==a||i!==0&&w.nodeType!==3||(g=c+i),w.nodeType===3&&(c+=w.nodeValue.length),(A=w.firstChild)!==null;)E=w,w=A;for(;;){if(w===e)break t;if(E===n&&++p===s&&(f=c),E===a&&++y===i&&(g=c),(A=w.nextSibling)!==null)break;w=E,E=w.parentNode}w=A}n=f===-1||g===-1?null:{start:f,end:g}}else n=null}n=n||{start:0,end:0}}else n=null;for(P0={focusedElem:e,selectionRange:n},yd=!1,Qt=t;Qt!==null;)if(t=Qt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Qt=e;else for(;Qt!==null;){switch(t=Qt,a=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,s=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var R=ea(n.type,s,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(R,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){st(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)F0(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":F0(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(ie(163))}if(e=t.sibling,e!==null){e.return=t.return,Qt=e;break}Qt=t.return}}function Pw(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Rr(e,n),i&4&&Ac(5,n);break;case 1:if(Rr(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(c){st(n,n.return,c)}else{var s=ea(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){st(n,n.return,c)}}i&64&&jw(n),i&512&&Nl(n,n.return);break;case 3:if(Rr(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ub(e,t)}catch(c){st(n,n.return,c)}}break;case 27:t===null&&i&4&&Bw(n);case 26:case 5:Rr(e,n),t===null&&i&4&&kw(n),i&512&&Nl(n,n.return);break;case 12:Rr(e,n);break;case 13:Rr(e,n),i&4&&Vw(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=u4.bind(null,n),T4(e,n))));break;case 22:if(i=n.memoizedState!==null||rr,!i){t=t!==null&&t.memoizedState!==null||jt,s=rr;var a=jt;rr=i,(jt=t)&&!a?kr(e,n,(n.subtreeFlags&8772)!==0):Rr(e,n),rr=s,jt=a}break;case 30:break;default:Rr(e,n)}}function Uw(e){var t=e.alternate;t!==null&&(e.alternate=null,Uw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&q1(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var gt=null,jn=!1;function er(e,t,n){for(n=n.child;n!==null;)Fw(e,t,n),n=n.sibling}function Fw(e,t,n){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(hc,n)}catch{}switch(n.tag){case 26:jt||Fi(n,t),er(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:jt||Fi(n,t);var i=gt,s=jn;ps(n.type)&&(gt=n.stateNode,jn=!1),er(e,t,n),Ml(n.stateNode),gt=i,jn=s;break;case 5:jt||Fi(n,t);case 6:if(i=gt,s=jn,gt=null,er(e,t,n),gt=i,jn=s,gt!==null)if(jn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(n.stateNode)}catch(a){st(n,t,a)}else try{gt.removeChild(n.stateNode)}catch(a){st(n,t,a)}break;case 18:gt!==null&&(jn?(e=gt,mx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Jl(e)):mx(gt,n.stateNode));break;case 4:i=gt,s=jn,gt=n.stateNode.containerInfo,jn=!0,er(e,t,n),gt=i,jn=s;break;case 0:case 11:case 14:case 15:jt||ls(2,n,t),jt||ls(4,n,t),er(e,t,n);break;case 1:jt||(Fi(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Ow(n,t,i)),er(e,t,n);break;case 21:er(e,t,n);break;case 22:jt=(i=jt)||n.memoizedState!==null,er(e,t,n),jt=i;break;default:er(e,t,n)}}function Vw(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Jl(e)}catch(n){st(t,t.return,n)}}function n4(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new nx),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new nx),t;default:throw Error(ie(435,e.tag))}}function hf(e,t){var n=n4(e);t.forEach(function(i){var s=d4.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}function Fn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],a=e,c=t,f=c;e:for(;f!==null;){switch(f.tag){case 27:if(ps(f.type)){gt=f.stateNode,jn=!1;break e}break;case 5:gt=f.stateNode,jn=!1;break e;case 3:case 4:gt=f.stateNode.containerInfo,jn=!0;break e}f=f.return}if(gt===null)throw Error(ie(160));Fw(a,c,s),gt=null,jn=!1,a=s.alternate,a!==null&&(a.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)zw(t,e),t=t.sibling}var vi=null;function zw(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Fn(t,e),Vn(e),i&4&&(ls(3,e,e.return),Ac(3,e),ls(5,e,e.return));break;case 1:Fn(t,e),Vn(e),i&512&&(jt||n===null||Fi(n,n.return)),i&64&&rr&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=vi;if(Fn(t,e),Vn(e),i&512&&(jt||n===null||Fi(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":a=s.getElementsByTagName("title")[0],(!a||a[gc]||a[mn]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=s.createElement(i),s.head.insertBefore(a,s.querySelector("head > title"))),un(a,i,n),a[mn]=e,$t(a),i=a;break e;case"link":var c=bx("link","href",s).get(i+(n.href||""));if(c){for(var f=0;f<c.length;f++)if(a=c[f],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){c.splice(f,1);break t}}a=s.createElement(i),un(a,i,n),s.head.appendChild(a);break;case"meta":if(c=bx("meta","content",s).get(i+(n.content||""))){for(f=0;f<c.length;f++)if(a=c[f],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){c.splice(f,1);break t}}a=s.createElement(i),un(a,i,n),s.head.appendChild(a);break;default:throw Error(ie(468,i))}a[mn]=e,$t(a),i=a}e.stateNode=i}else wx(s,e.type,e.stateNode);else e.stateNode=yx(s,i,e.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?wx(s,e.type,e.stateNode):yx(s,i,e.memoizedProps)):i===null&&e.stateNode!==null&&cf(e,e.memoizedProps,n.memoizedProps)}break;case 27:Fn(t,e),Vn(e),i&512&&(jt||n===null||Fi(n,n.return)),n!==null&&i&4&&cf(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Fn(t,e),Vn(e),i&512&&(jt||n===null||Fi(n,n.return)),e.flags&32){s=e.stateNode;try{lo(s,"")}catch(A){st(e,e.return,A)}}i&4&&e.stateNode!=null&&(s=e.memoizedProps,cf(e,s,n!==null?n.memoizedProps:s)),i&1024&&(df=!0);break;case 6:if(Fn(t,e),Vn(e),i&4){if(e.stateNode===null)throw Error(ie(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(A){st(e,e.return,A)}}break;case 3:if(ku=null,s=vi,vi=gd(t.containerInfo),Fn(t,e),vi=s,Vn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Jl(t.containerInfo)}catch(A){st(e,e.return,A)}df&&(df=!1,Hw(e));break;case 4:i=vi,vi=gd(e.stateNode.containerInfo),Fn(t,e),Vn(e),vi=i;break;case 12:Fn(t,e),Vn(e);break;case 13:Fn(t,e),Vn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Cm=zi()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,hf(e,i)));break;case 22:s=e.memoizedState!==null;var g=n!==null&&n.memoizedState!==null,p=rr,y=jt;if(rr=p||s,jt=y||g,Fn(t,e),jt=y,rr=p,Vn(e),i&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||g||rr||jt||Os(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){g=n=t;try{if(a=g.stateNode,s)c=a.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{f=g.stateNode;var w=g.memoizedProps.style,E=w!=null&&w.hasOwnProperty("display")?w.display:null;f.style.display=E==null||typeof E=="boolean"?"":(""+E).trim()}}catch(A){st(g,g.return,A)}}}else if(t.tag===6){if(n===null){g=t;try{g.stateNode.nodeValue=s?"":g.memoizedProps}catch(A){st(g,g.return,A)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,hf(e,n))));break;case 19:Fn(t,e),Vn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,hf(e,i)));break;case 30:break;case 21:break;default:Fn(t,e),Vn(e)}}function Vn(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Lw(i)){n=i;break}i=i.return}if(n==null)throw Error(ie(160));switch(n.tag){case 27:var s=n.stateNode,a=uf(e);ld(e,a,s);break;case 5:var c=n.stateNode;n.flags&32&&(lo(c,""),n.flags&=-33);var f=uf(e);ld(e,f,c);break;case 3:case 4:var g=n.stateNode.containerInfo,p=uf(e);I0(e,p,g);break;default:throw Error(ie(161))}}catch(y){st(e,e.return,y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hw(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Hw(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Rr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Pw(e,t.alternate,t),t=t.sibling}function Os(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ls(4,t,t.return),Os(t);break;case 1:Fi(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Ow(t,t.return,n),Os(t);break;case 27:Ml(t.stateNode);case 26:case 5:Fi(t,t.return),Os(t);break;case 22:t.memoizedState===null&&Os(t);break;case 30:Os(t);break;default:Os(t)}e=e.sibling}}function kr(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=e,a=t,c=a.flags;switch(a.tag){case 0:case 11:case 15:kr(s,a,n),Ac(4,a);break;case 1:if(kr(s,a,n),i=a,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(p){st(i,i.return,p)}if(i=a,s=i.updateQueue,s!==null){var f=i.stateNode;try{var g=s.shared.hiddenCallbacks;if(g!==null)for(s.shared.hiddenCallbacks=null,s=0;s<g.length;s++)Pb(g[s],f)}catch(p){st(i,i.return,p)}}n&&c&64&&jw(a),Nl(a,a.return);break;case 27:Bw(a);case 26:case 5:kr(s,a,n),n&&i===null&&c&4&&kw(a),Nl(a,a.return);break;case 12:kr(s,a,n);break;case 13:kr(s,a,n),n&&c&4&&Vw(s,a);break;case 22:a.memoizedState===null&&kr(s,a,n),Nl(a,a.return);break;case 30:break;default:kr(s,a,n)}t=t.sibling}}function vm(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&bc(n))}function Em(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bc(e))}function Bi(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gw(e,t,n,i),t=t.sibling}function Gw(e,t,n,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Bi(e,t,n,i),s&2048&&Ac(9,t);break;case 1:Bi(e,t,n,i);break;case 3:Bi(e,t,n,i),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bc(e)));break;case 12:if(s&2048){Bi(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,c=a.id,f=a.onPostCommit;typeof f=="function"&&f(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(g){st(t,t.return,g)}}else Bi(e,t,n,i);break;case 13:Bi(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,c=t.alternate,t.memoizedState!==null?a._visibility&2?Bi(e,t,n,i):_l(e,t):a._visibility&2?Bi(e,t,n,i):(a._visibility|=2,Ta(e,t,n,i,(t.subtreeFlags&10256)!==0)),s&2048&&vm(c,t);break;case 24:Bi(e,t,n,i),s&2048&&Em(t.alternate,t);break;default:Bi(e,t,n,i)}}function Ta(e,t,n,i,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=e,c=t,f=n,g=i,p=c.flags;switch(c.tag){case 0:case 11:case 15:Ta(a,c,f,g,s),Ac(8,c);break;case 23:break;case 22:var y=c.stateNode;c.memoizedState!==null?y._visibility&2?Ta(a,c,f,g,s):_l(a,c):(y._visibility|=2,Ta(a,c,f,g,s)),s&&p&2048&&vm(c.alternate,c);break;case 24:Ta(a,c,f,g,s),s&&p&2048&&Em(c.alternate,c);break;default:Ta(a,c,f,g,s)}t=t.sibling}}function _l(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,s=i.flags;switch(i.tag){case 22:_l(n,i),s&2048&&vm(i.alternate,i);break;case 24:_l(n,i),s&2048&&Em(i.alternate,i);break;default:_l(n,i)}t=t.sibling}}var fl=8192;function ba(e){if(e.subtreeFlags&fl)for(e=e.child;e!==null;)Yw(e),e=e.sibling}function Yw(e){switch(e.tag){case 26:ba(e),e.flags&fl&&e.memoizedState!==null&&V4(vi,e.memoizedState,e.memoizedProps);break;case 5:ba(e);break;case 3:case 4:var t=vi;vi=gd(e.stateNode.containerInfo),ba(e),vi=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=fl,fl=16777216,ba(e),fl=t):ba(e));break;default:ba(e)}}function qw(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function sl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Qt=i,Ww(i,e)}qw(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xw(e),e=e.sibling}function Xw(e){switch(e.tag){case 0:case 11:case 15:sl(e),e.flags&2048&&ls(9,e,e.return);break;case 3:sl(e);break;case 12:sl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ju(e)):sl(e);break;default:sl(e)}}function ju(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Qt=i,Ww(i,e)}qw(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ls(8,t,t.return),ju(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ju(t));break;default:ju(t)}e=e.sibling}}function Ww(e,t){for(;Qt!==null;){var n=Qt;switch(n.tag){case 0:case 11:case 15:ls(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:bc(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Qt=i;else e:for(n=e;Qt!==null;){i=Qt;var s=i.sibling,a=i.return;if(Uw(i),i===n){Qt=null;break e}if(s!==null){s.return=a,Qt=s;break e}Qt=a}}}var i4={getCacheForType:function(e){var t=gn(Gt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},r4=typeof WeakMap=="function"?WeakMap:Map,$e=0,ct=null,Be=null,Fe=0,Ke=0,Gn=null,Zr=!1,Do=!1,Am=!1,xr=0,It=0,cs=0,qs=0,Sm=0,di=0,mo=0,Tl=null,On=null,M0=!1,Cm=0,cd=1/0,ud=null,ts=null,cn=0,ns=null,go=null,so=0,D0=0,R0=null,Zw=null,Il=0,j0=null;function Zn(){if($e&2&&Fe!==0)return Fe&-Fe;if(Ne.T!==null){var e=co;return e!==0?e:_m()}return ab()}function Kw(){di===0&&(di=!(Fe&536870912)||qe?nb():536870912);var e=fi.current;return e!==null&&(e.flags|=32),di}function Kn(e,t,n){(e===ct&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)&&(po(e,0),Kr(e,Fe,di,!1)),mc(e,n),(!($e&2)||e!==ct)&&(e===ct&&(!($e&2)&&(qs|=n),It===4&&Kr(e,Fe,di,!1)),Zi(e))}function Qw(e,t,n){if($e&6)throw Error(ie(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||fc(e,t),s=i?o4(e,t):ff(e,t,!0),a=i;do{if(s===0){Do&&!i&&Kr(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!s4(n)){s=ff(e,t,!1),a=!1;continue}if(s===2){if(a=t,e.errorRecoveryDisabledLanes&a)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var f=e;s=Tl;var g=f.current.memoizedState.isDehydrated;if(g&&(po(f,c).flags|=256),c=ff(f,c,!1),c!==2){if(Am&&!g){f.errorRecoveryDisabledLanes|=a,qs|=a,s=4;break e}a=On,On=s,a!==null&&(On===null?On=a:On.push.apply(On,a))}s=c}if(a=!1,s!==2)continue}}if(s===1){po(e,0),Kr(e,t,0,!0);break}e:{switch(i=e,a=s,a){case 0:case 1:throw Error(ie(345));case 4:if((t&4194048)!==t)break;case 6:Kr(i,t,di,!Zr);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(ie(329))}if((t&62914560)===t&&(s=Cm+300-zi(),10<s)){if(Kr(i,t,di,!Zr),Pd(i,0,!0)!==0)break e;i.timeoutHandle=pv(ix.bind(null,i,n,On,ud,M0,t,di,qs,mo,Zr,a,2,-0,0),s);break e}ix(i,n,On,ud,M0,t,di,qs,mo,Zr,a,0,-0,0)}}break}while(!0);Zi(e)}function ix(e,t,n,i,s,a,c,f,g,p,y,w,E,A){if(e.timeoutHandle=-1,w=t.subtreeFlags,(w&8192||(w&16785408)===16785408)&&(Zl={stylesheets:null,count:0,unsuspend:F4},Yw(t),w=z4(),w!==null)){e.cancelPendingCommit=w(sx.bind(null,e,t,a,n,i,s,c,f,g,y,1,E,A)),Kr(e,a,c,!p);return}sx(e,t,a,n,i,s,c,f,g)}function s4(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!Qn(a(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kr(e,t,n,i){t&=~Sm,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var s=t;0<s;){var a=31-Wn(s),c=1<<a;i[a]=-1,s&=~c}n!==0&&rb(e,n,t)}function Wd(){return $e&6?!0:(Sc(0),!1)}function Nm(){if(Be!==null){if(Ke===0)var e=Be.return;else e=Be,lr=sa=null,hm(e),ro=null,ql=0,e=Be;for(;e!==null;)Rw(e.alternate,e),e=e.return;Be=null}}function po(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,A4(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Nm(),ct=e,Be=n=dr(e.current,null),Fe=t,Ke=0,Gn=null,Zr=!1,Do=fc(e,t),Am=!1,mo=di=Sm=qs=cs=It=0,On=Tl=null,M0=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var s=31-Wn(i),a=1<<s;t|=e[s],i&=~a}return xr=t,zd(),n}function $w(e,t){Oe=null,Ne.H=id,t===wc||t===Gd?(t=kp(),Ke=3):t===Lb?(t=kp(),Ke=4):Ke=t===Nw?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Gn=t,Be===null&&(It=1,ad(e,ui(t,e.current)))}function Jw(){var e=Ne.H;return Ne.H=id,e===null?id:e}function ev(){var e=Ne.A;return Ne.A=i4,e}function O0(){It=4,Zr||(Fe&4194048)!==Fe&&fi.current!==null||(Do=!0),!(cs&134217727)&&!(qs&134217727)||ct===null||Kr(ct,Fe,di,!1)}function ff(e,t,n){var i=$e;$e|=2;var s=Jw(),a=ev();(ct!==e||Fe!==t)&&(ud=null,po(e,t)),t=!1;var c=It;e:do try{if(Ke!==0&&Be!==null){var f=Be,g=Gn;switch(Ke){case 8:Nm(),c=6;break e;case 3:case 2:case 9:case 6:fi.current===null&&(t=!0);var p=Ke;if(Ke=0,Gn=null,Ga(e,f,g,p),n&&Do){c=0;break e}break;default:p=Ke,Ke=0,Gn=null,Ga(e,f,g,p)}}a4(),c=It;break}catch(y){$w(e,y)}while(!0);return t&&e.shellSuspendCounter++,lr=sa=null,$e=i,Ne.H=s,Ne.A=a,Be===null&&(ct=null,Fe=0,zd()),c}function a4(){for(;Be!==null;)tv(Be)}function o4(e,t){var n=$e;$e|=2;var i=Jw(),s=ev();ct!==e||Fe!==t?(ud=null,cd=zi()+500,po(e,t)):Do=fc(e,t);e:do try{if(Ke!==0&&Be!==null){t=Be;var a=Gn;t:switch(Ke){case 1:Ke=0,Gn=null,Ga(e,t,a,1);break;case 2:case 9:if(Op(a)){Ke=0,Gn=null,rx(t);break}t=function(){Ke!==2&&Ke!==9||ct!==e||(Ke=7),Zi(e)},a.then(t,t);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Op(a)?(Ke=0,Gn=null,rx(t)):(Ke=0,Gn=null,Ga(e,t,a,7));break;case 5:var c=null;switch(Be.tag){case 26:c=Be.memoizedState;case 5:case 27:var f=Be;if(!c||wv(c)){Ke=0,Gn=null;var g=f.sibling;if(g!==null)Be=g;else{var p=f.return;p!==null?(Be=p,Zd(p)):Be=null}break t}}Ke=0,Gn=null,Ga(e,t,a,5);break;case 6:Ke=0,Gn=null,Ga(e,t,a,6);break;case 8:Nm(),It=6;break e;default:throw Error(ie(462))}}l4();break}catch(y){$w(e,y)}while(!0);return lr=sa=null,Ne.H=i,Ne.A=s,$e=n,Be!==null?0:(ct=null,Fe=0,zd(),It)}function l4(){for(;Be!==null&&!MS();)tv(Be)}function tv(e){var t=Dw(e.alternate,e,xr);e.memoizedProps=e.pendingProps,t===null?Zd(e):Be=t}function rx(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Qp(n,t,t.pendingProps,t.type,void 0,Fe);break;case 11:t=Qp(n,t,t.pendingProps,t.type.render,t.ref,Fe);break;case 5:hm(t);default:Rw(n,t),t=Be=Rb(t,xr),t=Dw(n,t,xr)}e.memoizedProps=e.pendingProps,t===null?Zd(e):Be=t}function Ga(e,t,n,i){lr=sa=null,hm(t),ro=null,ql=0;var s=t.return;try{if(QC(e,s,t,n,Fe)){It=1,ad(e,ui(n,e.current)),Be=null;return}}catch(a){if(s!==null)throw Be=s,a;It=1,ad(e,ui(n,e.current)),Be=null;return}t.flags&32768?(qe||i===1?e=!0:Do||Fe&536870912?e=!1:(Zr=e=!0,(i===2||i===9||i===3||i===6)&&(i=fi.current,i!==null&&i.tag===13&&(i.flags|=16384))),nv(t,e)):Zd(t)}function Zd(e){var t=e;do{if(t.flags&32768){nv(t,Zr);return}e=t.return;var n=JC(t.alternate,t,xr);if(n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);It===0&&(It=5)}function nv(e,t){do{var n=e4(e.alternate,e);if(n!==null){n.flags&=32767,Be=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Be=e;return}Be=e=n}while(e!==null);It=6,Be=null}function sx(e,t,n,i,s,a,c,f,g){e.cancelPendingCommit=null;do Kd();while(cn!==0);if($e&6)throw Error(ie(327));if(t!==null){if(t===e.current)throw Error(ie(177));if(a=t.lanes|t.childLanes,a|=J1,FS(e,n,a,c,f,g),e===ct&&(Be=ct=null,Fe=0),go=t,ns=e,so=n,D0=a,R0=s,Zw=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,h4(Xu,function(){return ov(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Ne.T,Ne.T=null,s=Xe.p,Xe.p=2,c=$e,$e|=4;try{t4(e,t,n)}finally{$e=c,Xe.p=s,Ne.T=i}}cn=1,iv(),rv(),sv()}}function iv(){if(cn===1){cn=0;var e=ns,t=go,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Ne.T,Ne.T=null;var i=Xe.p;Xe.p=2;var s=$e;$e|=4;try{zw(t,e);var a=P0,c=Sb(e.containerInfo),f=a.focusedElem,g=a.selectionRange;if(c!==f&&f&&f.ownerDocument&&Ab(f.ownerDocument.documentElement,f)){if(g!==null&&$1(f)){var p=g.start,y=g.end;if(y===void 0&&(y=p),"selectionStart"in f)f.selectionStart=p,f.selectionEnd=Math.min(y,f.value.length);else{var w=f.ownerDocument||document,E=w&&w.defaultView||window;if(E.getSelection){var A=E.getSelection(),R=f.textContent.length,M=Math.min(g.start,R),D=g.end===void 0?M:Math.min(g.end,R);!A.extend&&M>D&&(c=D,D=M,M=c);var C=Np(f,M),N=Np(f,D);if(C&&N&&(A.rangeCount!==1||A.anchorNode!==C.node||A.anchorOffset!==C.offset||A.focusNode!==N.node||A.focusOffset!==N.offset)){var _=w.createRange();_.setStart(C.node,C.offset),A.removeAllRanges(),M>D?(A.addRange(_),A.extend(N.node,N.offset)):(_.setEnd(N.node,N.offset),A.addRange(_))}}}}for(w=[],A=f;A=A.parentNode;)A.nodeType===1&&w.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<w.length;f++){var k=w[f];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}yd=!!B0,P0=B0=null}finally{$e=s,Xe.p=i,Ne.T=n}}e.current=t,cn=2}}function rv(){if(cn===2){cn=0;var e=ns,t=go,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Ne.T,Ne.T=null;var i=Xe.p;Xe.p=2;var s=$e;$e|=4;try{Pw(e,t.alternate,t)}finally{$e=s,Xe.p=i,Ne.T=n}}cn=3}}function sv(){if(cn===4||cn===3){cn=0,DS();var e=ns,t=go,n=so,i=Zw;t.subtreeFlags&10256||t.flags&10256?cn=5:(cn=0,go=ns=null,av(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ts=null),Y1(n),t=t.stateNode,Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(hc,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Ne.T,s=Xe.p,Xe.p=2,Ne.T=null;try{for(var a=e.onRecoverableError,c=0;c<i.length;c++){var f=i[c];a(f.value,{componentStack:f.stack})}}finally{Ne.T=t,Xe.p=s}}so&3&&Kd(),Zi(e),s=e.pendingLanes,n&4194090&&s&42?e===j0?Il++:(Il=0,j0=e):Il=0,Sc(0)}}function av(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,bc(t)))}function Kd(e){return iv(),rv(),sv(),ov()}function ov(){if(cn!==5)return!1;var e=ns,t=D0;D0=0;var n=Y1(so),i=Ne.T,s=Xe.p;try{Xe.p=32>n?32:n,Ne.T=null,n=R0,R0=null;var a=ns,c=so;if(cn=0,go=ns=null,so=0,$e&6)throw Error(ie(331));var f=$e;if($e|=4,Xw(a.current),Gw(a,a.current,c,n),$e=f,Sc(0,!1),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(hc,a)}catch{}return!0}finally{Xe.p=s,Ne.T=i,av(e,t)}}function ax(e,t,n){t=ui(n,t),t=N0(e.stateNode,t,2),e=es(e,t,2),e!==null&&(mc(e,2),Zi(e))}function st(e,t,n){if(e.tag===3)ax(e,e,n);else for(;t!==null;){if(t.tag===3){ax(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ts===null||!ts.has(i))){e=ui(n,e),n=Sw(2),i=es(t,n,2),i!==null&&(Cw(n,i,t,e),mc(i,2),Zi(i));break}}t=t.return}}function mf(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new r4;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(Am=!0,s.add(n),e=c4.bind(null,e,t,n),t.then(e,e))}function c4(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ct===e&&(Fe&n)===n&&(It===4||It===3&&(Fe&62914560)===Fe&&300>zi()-Cm?!($e&2)&&po(e,0):Sm|=n,mo===Fe&&(mo=0)),Zi(e)}function lv(e,t){t===0&&(t=ib()),e=Mo(e,t),e!==null&&(mc(e,t),Zi(e))}function u4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),lv(e,n)}function d4(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(ie(314))}i!==null&&i.delete(t),lv(e,n)}function h4(e,t){return H1(e,t)}var dd=null,Ia=null,k0=!1,hd=!1,gf=!1,Xs=0;function Zi(e){e!==Ia&&e.next===null&&(Ia===null?dd=Ia=e:Ia=Ia.next=e),hd=!0,k0||(k0=!0,m4())}function Sc(e,t){if(!gf&&hd){gf=!0;do for(var n=!1,i=dd;i!==null;){if(e!==0){var s=i.pendingLanes;if(s===0)var a=0;else{var c=i.suspendedLanes,f=i.pingedLanes;a=(1<<31-Wn(42|e)+1)-1,a&=s&~(c&~f),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,ox(i,a))}else a=Fe,a=Pd(i,i===ct?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||fc(i,a)||(n=!0,ox(i,a));i=i.next}while(n);gf=!1}}function f4(){cv()}function cv(){hd=k0=!1;var e=0;Xs!==0&&(E4()&&(e=Xs),Xs=0);for(var t=zi(),n=null,i=dd;i!==null;){var s=i.next,a=uv(i,t);a===0?(i.next=null,n===null?dd=s:n.next=s,s===null&&(Ia=n)):(n=i,(e!==0||a&3)&&(hd=!0)),i=s}Sc(e)}function uv(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var c=31-Wn(a),f=1<<c,g=s[c];g===-1?(!(f&n)||f&i)&&(s[c]=US(f,t)):g<=t&&(e.expiredLanes|=f),a&=~f}if(t=ct,n=Fe,n=Pd(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Fh(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||fc(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Fh(i),Y1(n)){case 2:case 8:n=eb;break;case 32:n=Xu;break;case 268435456:n=tb;break;default:n=Xu}return i=dv.bind(null,e),n=H1(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Fh(i),e.callbackPriority=2,e.callbackNode=null,2}function dv(e,t){if(cn!==0&&cn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Kd()&&e.callbackNode!==n)return null;var i=Fe;return i=Pd(e,e===ct?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Qw(e,i,t),uv(e,zi()),e.callbackNode!=null&&e.callbackNode===n?dv.bind(null,e):null)}function ox(e,t){if(Kd())return null;Qw(e,t,!0)}function m4(){S4(function(){$e&6?H1(J2,f4):cv()})}function _m(){return Xs===0&&(Xs=nb()),Xs}function lx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Cu(""+e)}function cx(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function g4(e,t,n,i,s){if(t==="submit"&&n&&n.stateNode===s){var a=lx((s[Bn]||null).action),c=i.submitter;c&&(t=(t=c[Bn]||null)?lx(t.formAction):c.getAttribute("formAction"),t!==null&&(a=t,c=null));var f=new Ud("action","action",null,i,s);e.push({event:f,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Xs!==0){var g=c?cx(s,c):new FormData(s);S0(n,{pending:!0,data:g,method:s.method,action:a},null,g)}}else typeof a=="function"&&(f.preventDefault(),g=c?cx(s,c):new FormData(s),S0(n,{pending:!0,data:g,method:s.method,action:a},a,g))},currentTarget:s}]})}}for(var pf=0;pf<h0.length;pf++){var xf=h0[pf],p4=xf.toLowerCase(),x4=xf[0].toUpperCase()+xf.slice(1);_i(p4,"on"+x4)}_i(Nb,"onAnimationEnd");_i(_b,"onAnimationIteration");_i(Tb,"onAnimationStart");_i("dblclick","onDoubleClick");_i("focusin","onFocus");_i("focusout","onBlur");_i(OC,"onTransitionRun");_i(kC,"onTransitionStart");_i(LC,"onTransitionCancel");_i(Ib,"onTransitionEnd");oo("onMouseEnter",["mouseout","mouseover"]);oo("onMouseLeave",["mouseout","mouseover"]);oo("onPointerEnter",["pointerout","pointerover"]);oo("onPointerLeave",["pointerout","pointerover"]);na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));na("onBeforeInput",["compositionend","keypress","textInput","paste"]);na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function hv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var c=i.length-1;0<=c;c--){var f=i[c],g=f.instance,p=f.currentTarget;if(f=f.listener,g!==a&&s.isPropagationStopped())break e;a=f,s.currentTarget=p;try{a(s)}catch(y){sd(y)}s.currentTarget=null,a=g}else for(c=0;c<i.length;c++){if(f=i[c],g=f.instance,p=f.currentTarget,f=f.listener,g!==a&&s.isPropagationStopped())break e;a=f,s.currentTarget=p;try{a(s)}catch(y){sd(y)}s.currentTarget=null,a=g}}}}function Le(e,t){var n=t[s0];n===void 0&&(n=t[s0]=new Set);var i=e+"__bubble";n.has(i)||(fv(t,e,2,!1),n.add(i))}function yf(e,t,n){var i=0;t&&(i|=4),fv(n,e,i,t)}var cu="_reactListening"+Math.random().toString(36).slice(2);function Tm(e){if(!e[cu]){e[cu]=!0,ob.forEach(function(n){n!=="selectionchange"&&(y4.has(n)||yf(n,!1,e),yf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cu]||(t[cu]=!0,yf("selectionchange",!1,t))}}function fv(e,t,n,i){switch(Cv(t)){case 2:var s=Y4;break;case 8:s=q4;break;default:s=Rm}n=s.bind(null,t,n,e),s=void 0,!c0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function bf(e,t,n,i,s){var a=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var c=i.tag;if(c===3||c===4){var f=i.stateNode.containerInfo;if(f===s)break;if(c===4)for(c=i.return;c!==null;){var g=c.tag;if((g===3||g===4)&&c.stateNode.containerInfo===s)return;c=c.return}for(;f!==null;){if(c=ka(f),c===null)return;if(g=c.tag,g===5||g===6||g===26||g===27){i=a=c;continue e}f=f.parentNode}}i=i.return}gb(function(){var p=a,y=W1(n),w=[];e:{var E=Mb.get(e);if(E!==void 0){var A=Ud,R=e;switch(e){case"keypress":if(_u(n)===0)break e;case"keydown":case"keyup":A=hC;break;case"focusin":R="focus",A=Wh;break;case"focusout":R="blur",A=Wh;break;case"beforeblur":case"afterblur":A=Wh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=pp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=eC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=gC;break;case Nb:case _b:case Tb:A=iC;break;case Ib:A=xC;break;case"scroll":case"scrollend":A=$S;break;case"wheel":A=bC;break;case"copy":case"cut":case"paste":A=sC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=yp;break;case"toggle":case"beforetoggle":A=vC}var M=(t&4)!==0,D=!M&&(e==="scroll"||e==="scrollend"),C=M?E!==null?E+"Capture":null:E;M=[];for(var N=p,_;N!==null;){var k=N;if(_=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||_===null||C===null||(k=Vl(N,C),k!=null&&M.push(Wl(N,k,_))),D)break;N=N.return}0<M.length&&(E=new A(E,R,null,n,y),w.push({event:E,listeners:M}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",A=e==="mouseout"||e==="pointerout",E&&n!==l0&&(R=n.relatedTarget||n.fromElement)&&(ka(R)||R[To]))break e;if((A||E)&&(E=y.window===y?y:(E=y.ownerDocument)?E.defaultView||E.parentWindow:window,A?(R=n.relatedTarget||n.toElement,A=p,R=R?ka(R):null,R!==null&&(D=dc(R),M=R.tag,R!==D||M!==5&&M!==27&&M!==6)&&(R=null)):(A=null,R=p),A!==R)){if(M=pp,k="onMouseLeave",C="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(M=yp,k="onPointerLeave",C="onPointerEnter",N="pointer"),D=A==null?E:hl(A),_=R==null?E:hl(R),E=new M(k,N+"leave",A,n,y),E.target=D,E.relatedTarget=_,k=null,ka(y)===p&&(M=new M(C,N+"enter",R,n,y),M.target=_,M.relatedTarget=D,k=M),D=k,A&&R)t:{for(M=A,C=R,N=0,_=M;_;_=wa(_))N++;for(_=0,k=C;k;k=wa(k))_++;for(;0<N-_;)M=wa(M),N--;for(;0<_-N;)C=wa(C),_--;for(;N--;){if(M===C||C!==null&&M===C.alternate)break t;M=wa(M),C=wa(C)}M=null}else M=null;A!==null&&ux(w,E,A,M,!1),R!==null&&D!==null&&ux(w,D,R,M,!0)}}e:{if(E=p?hl(p):window,A=E.nodeName&&E.nodeName.toLowerCase(),A==="select"||A==="input"&&E.type==="file")var V=Ep;else if(vp(E))if(vb)V=DC;else{V=IC;var L=TC}else A=E.nodeName,!A||A.toLowerCase()!=="input"||E.type!=="checkbox"&&E.type!=="radio"?p&&X1(p.elementType)&&(V=Ep):V=MC;if(V&&(V=V(e,p))){wb(w,V,n,y);break e}L&&L(e,E,p),e==="focusout"&&p&&E.type==="number"&&p.memoizedProps.value!=null&&o0(E,"number",E.value)}switch(L=p?hl(p):window,e){case"focusin":(vp(L)||L.contentEditable==="true")&&(Pa=L,u0=p,bl=null);break;case"focusout":bl=u0=Pa=null;break;case"mousedown":d0=!0;break;case"contextmenu":case"mouseup":case"dragend":d0=!1,_p(w,n,y);break;case"selectionchange":if(jC)break;case"keydown":case"keyup":_p(w,n,y)}var B;if(Q1)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Ba?yb(e,n)&&(z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(xb&&n.locale!=="ko"&&(Ba||z!=="onCompositionStart"?z==="onCompositionEnd"&&Ba&&(B=pb()):(Wr=y,Z1="value"in Wr?Wr.value:Wr.textContent,Ba=!0)),L=fd(p,z),0<L.length&&(z=new xp(z,e,null,n,y),w.push({event:z,listeners:L}),B?z.data=B:(B=bb(n),B!==null&&(z.data=B)))),(B=AC?SC(e,n):CC(e,n))&&(z=fd(p,"onBeforeInput"),0<z.length&&(L=new xp("onBeforeInput","beforeinput",null,n,y),w.push({event:L,listeners:z}),L.data=B)),g4(w,e,p,n,y)}hv(w,t)})}function Wl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fd(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,a=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||a===null||(s=Vl(e,n),s!=null&&i.unshift(Wl(e,s,a)),s=Vl(e,t),s!=null&&i.push(Wl(e,s,a))),e.tag===3)return i;e=e.return}return[]}function wa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ux(e,t,n,i,s){for(var a=t._reactName,c=[];n!==null&&n!==i;){var f=n,g=f.alternate,p=f.stateNode;if(f=f.tag,g!==null&&g===i)break;f!==5&&f!==26&&f!==27||p===null||(g=p,s?(p=Vl(n,a),p!=null&&c.unshift(Wl(n,p,g))):s||(p=Vl(n,a),p!=null&&c.push(Wl(n,p,g)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var b4=/\r\n?/g,w4=/\u0000|\uFFFD/g;function dx(e){return(typeof e=="string"?e:""+e).replace(b4,`
`).replace(w4,"")}function mv(e,t){return t=dx(t),dx(e)===t}function Qd(){}function et(e,t,n,i,s,a){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||lo(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&lo(e,""+i);break;case"className":nu(e,"class",i);break;case"tabIndex":nu(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":nu(e,n,i);break;case"style":mb(e,i,a);break;case"data":if(t!=="object"){nu(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Cu(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&et(e,t,"name",s.name,s,null),et(e,t,"formEncType",s.formEncType,s,null),et(e,t,"formMethod",s.formMethod,s,null),et(e,t,"formTarget",s.formTarget,s,null)):(et(e,t,"encType",s.encType,s,null),et(e,t,"method",s.method,s,null),et(e,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Cu(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Qd);break;case"onScroll":i!=null&&Le("scroll",e);break;case"onScrollEnd":i!=null&&Le("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(ie(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(ie(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Cu(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Le("beforetoggle",e),Le("toggle",e),Su(e,"popover",i);break;case"xlinkActuate":$i(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":$i(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":$i(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":$i(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":$i(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":$i(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":$i(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":$i(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":$i(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Su(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=KS.get(n)||n,Su(e,n,i))}}function L0(e,t,n,i,s,a){switch(n){case"style":mb(e,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(ie(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(ie(60));e.innerHTML=n}}break;case"children":typeof i=="string"?lo(e,i):(typeof i=="number"||typeof i=="bigint")&&lo(e,""+i);break;case"onScroll":i!=null&&Le("scroll",e);break;case"onScrollEnd":i!=null&&Le("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Qd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lb.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),a=e[Bn]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,s),typeof i=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Su(e,n,i)}}}function un(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",e),Le("load",e);var i=!1,s=!1,a;for(a in n)if(n.hasOwnProperty(a)){var c=n[a];if(c!=null)switch(a){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ie(137,t));default:et(e,t,a,c,n,null)}}s&&et(e,t,"srcSet",n.srcSet,n,null),i&&et(e,t,"src",n.src,n,null);return;case"input":Le("invalid",e);var f=a=c=s=null,g=null,p=null;for(i in n)if(n.hasOwnProperty(i)){var y=n[i];if(y!=null)switch(i){case"name":s=y;break;case"type":c=y;break;case"checked":g=y;break;case"defaultChecked":p=y;break;case"value":a=y;break;case"defaultValue":f=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(ie(137,t));break;default:et(e,t,i,y,n,null)}}db(e,a,f,g,p,c,s,!1),Wu(e);return;case"select":Le("invalid",e),i=c=a=null;for(s in n)if(n.hasOwnProperty(s)&&(f=n[s],f!=null))switch(s){case"value":a=f;break;case"defaultValue":c=f;break;case"multiple":i=f;default:et(e,t,s,f,n,null)}t=a,n=c,e.multiple=!!i,t!=null?Ja(e,!!i,t,!1):n!=null&&Ja(e,!!i,n,!0);return;case"textarea":Le("invalid",e),a=s=i=null;for(c in n)if(n.hasOwnProperty(c)&&(f=n[c],f!=null))switch(c){case"value":i=f;break;case"defaultValue":s=f;break;case"children":a=f;break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(ie(91));break;default:et(e,t,c,f,n,null)}fb(e,i,s,a),Wu(e);return;case"option":for(g in n)if(n.hasOwnProperty(g)&&(i=n[g],i!=null))switch(g){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:et(e,t,g,i,n,null)}return;case"dialog":Le("beforetoggle",e),Le("toggle",e),Le("cancel",e),Le("close",e);break;case"iframe":case"object":Le("load",e);break;case"video":case"audio":for(i=0;i<Xl.length;i++)Le(Xl[i],e);break;case"image":Le("error",e),Le("load",e);break;case"details":Le("toggle",e);break;case"embed":case"source":case"link":Le("error",e),Le("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(p in n)if(n.hasOwnProperty(p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(ie(137,t));default:et(e,t,p,i,n,null)}return;default:if(X1(t)){for(y in n)n.hasOwnProperty(y)&&(i=n[y],i!==void 0&&L0(e,t,y,i,n,void 0));return}}for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!=null&&et(e,t,f,i,n,null))}function v4(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,c=null,f=null,g=null,p=null,y=null;for(A in n){var w=n[A];if(n.hasOwnProperty(A)&&w!=null)switch(A){case"checked":break;case"value":break;case"defaultValue":g=w;default:i.hasOwnProperty(A)||et(e,t,A,null,i,w)}}for(var E in i){var A=i[E];if(w=n[E],i.hasOwnProperty(E)&&(A!=null||w!=null))switch(E){case"type":a=A;break;case"name":s=A;break;case"checked":p=A;break;case"defaultChecked":y=A;break;case"value":c=A;break;case"defaultValue":f=A;break;case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(ie(137,t));break;default:A!==w&&et(e,t,E,A,i,w)}}a0(e,c,f,g,p,y,a,s);return;case"select":A=c=f=E=null;for(a in n)if(g=n[a],n.hasOwnProperty(a)&&g!=null)switch(a){case"value":break;case"multiple":A=g;default:i.hasOwnProperty(a)||et(e,t,a,null,i,g)}for(s in i)if(a=i[s],g=n[s],i.hasOwnProperty(s)&&(a!=null||g!=null))switch(s){case"value":E=a;break;case"defaultValue":f=a;break;case"multiple":c=a;default:a!==g&&et(e,t,s,a,i,g)}t=f,n=c,i=A,E!=null?Ja(e,!!n,E,!1):!!i!=!!n&&(t!=null?Ja(e,!!n,t,!0):Ja(e,!!n,n?[]:"",!1));return;case"textarea":A=E=null;for(f in n)if(s=n[f],n.hasOwnProperty(f)&&s!=null&&!i.hasOwnProperty(f))switch(f){case"value":break;case"children":break;default:et(e,t,f,null,i,s)}for(c in i)if(s=i[c],a=n[c],i.hasOwnProperty(c)&&(s!=null||a!=null))switch(c){case"value":E=s;break;case"defaultValue":A=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(ie(91));break;default:s!==a&&et(e,t,c,s,i,a)}hb(e,E,A);return;case"option":for(var R in n)if(E=n[R],n.hasOwnProperty(R)&&E!=null&&!i.hasOwnProperty(R))switch(R){case"selected":e.selected=!1;break;default:et(e,t,R,null,i,E)}for(g in i)if(E=i[g],A=n[g],i.hasOwnProperty(g)&&E!==A&&(E!=null||A!=null))switch(g){case"selected":e.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:et(e,t,g,E,i,A)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)E=n[M],n.hasOwnProperty(M)&&E!=null&&!i.hasOwnProperty(M)&&et(e,t,M,null,i,E);for(p in i)if(E=i[p],A=n[p],i.hasOwnProperty(p)&&E!==A&&(E!=null||A!=null))switch(p){case"children":case"dangerouslySetInnerHTML":if(E!=null)throw Error(ie(137,t));break;default:et(e,t,p,E,i,A)}return;default:if(X1(t)){for(var D in n)E=n[D],n.hasOwnProperty(D)&&E!==void 0&&!i.hasOwnProperty(D)&&L0(e,t,D,void 0,i,E);for(y in i)E=i[y],A=n[y],!i.hasOwnProperty(y)||E===A||E===void 0&&A===void 0||L0(e,t,y,E,i,A);return}}for(var C in n)E=n[C],n.hasOwnProperty(C)&&E!=null&&!i.hasOwnProperty(C)&&et(e,t,C,null,i,E);for(w in i)E=i[w],A=n[w],!i.hasOwnProperty(w)||E===A||E==null&&A==null||et(e,t,w,E,i,A)}var B0=null,P0=null;function md(e){return e.nodeType===9?e:e.ownerDocument}function hx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function U0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wf=null;function E4(){var e=window.event;return e&&e.type==="popstate"?e===wf?!1:(wf=e,!0):(wf=null,!1)}var pv=typeof setTimeout=="function"?setTimeout:void 0,A4=typeof clearTimeout=="function"?clearTimeout:void 0,fx=typeof Promise=="function"?Promise:void 0,S4=typeof queueMicrotask=="function"?queueMicrotask:typeof fx<"u"?function(e){return fx.resolve(null).then(e).catch(C4)}:pv;function C4(e){setTimeout(function(){throw e})}function ps(e){return e==="head"}function mx(e,t){var n=t,i=0,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<i&&8>i){n=i;var c=e.ownerDocument;if(n&1&&Ml(c.documentElement),n&2&&Ml(c.body),n&4)for(n=c.head,Ml(n),c=n.firstChild;c;){var f=c.nextSibling,g=c.nodeName;c[gc]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&c.rel.toLowerCase()==="stylesheet"||n.removeChild(c),c=f}}if(s===0){e.removeChild(a),Jl(t);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:i=n.charCodeAt(0)-48;else i=0;n=a}while(n);Jl(t)}function F0(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":F0(n),q1(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function N4(e,t,n,i){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[gc])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=Ci(e.nextSibling),e===null)break}return null}function _4(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ci(e.nextSibling),e===null))return null;return e}function V0(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function T4(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var z0=null;function gx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function xv(e,t,n){switch(t=md(n),e){case"html":if(e=t.documentElement,!e)throw Error(ie(452));return e;case"head":if(e=t.head,!e)throw Error(ie(453));return e;case"body":if(e=t.body,!e)throw Error(ie(454));return e;default:throw Error(ie(451))}}function Ml(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);q1(e)}var mi=new Map,px=new Set;function gd(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Er=Xe.d;Xe.d={f:I4,r:M4,D:D4,C:R4,L:j4,m:O4,X:L4,S:k4,M:B4};function I4(){var e=Er.f(),t=Wd();return e||t}function M4(e){var t=Io(e);t!==null&&t.tag===5&&t.type==="form"?uw(t):Er.r(e)}var Ro=typeof document>"u"?null:document;function yv(e,t,n){var i=Ro;if(i&&typeof t=="string"&&t){var s=ci(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),px.has(s)||(px.add(s),e={rel:e,crossOrigin:n,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),un(t,"link",e),$t(t),i.head.appendChild(t)))}}function D4(e){Er.D(e),yv("dns-prefetch",e,null)}function R4(e,t){Er.C(e,t),yv("preconnect",e,t)}function j4(e,t,n){Er.L(e,t,n);var i=Ro;if(i&&e&&t){var s='link[rel="preload"][as="'+ci(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+ci(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+ci(n.imageSizes)+'"]')):s+='[href="'+ci(e)+'"]';var a=s;switch(t){case"style":a=xo(e);break;case"script":a=jo(e)}mi.has(a)||(e=ft({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),mi.set(a,e),i.querySelector(s)!==null||t==="style"&&i.querySelector(Cc(a))||t==="script"&&i.querySelector(Nc(a))||(t=i.createElement("link"),un(t,"link",e),$t(t),i.head.appendChild(t)))}}function O4(e,t){Er.m(e,t);var n=Ro;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+ci(i)+'"][href="'+ci(e)+'"]',a=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=jo(e)}if(!mi.has(a)&&(e=ft({rel:"modulepreload",href:e},t),mi.set(a,e),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Nc(a)))return}i=n.createElement("link"),un(i,"link",e),$t(i),n.head.appendChild(i)}}}function k4(e,t,n){Er.S(e,t,n);var i=Ro;if(i&&e){var s=$a(i).hoistableStyles,a=xo(e);t=t||"default";var c=s.get(a);if(!c){var f={loading:0,preload:null};if(c=i.querySelector(Cc(a)))f.loading=5;else{e=ft({rel:"stylesheet",href:e,"data-precedence":t},n),(n=mi.get(a))&&Im(e,n);var g=c=i.createElement("link");$t(g),un(g,"link",e),g._p=new Promise(function(p,y){g.onload=p,g.onerror=y}),g.addEventListener("load",function(){f.loading|=1}),g.addEventListener("error",function(){f.loading|=2}),f.loading|=4,Ou(c,t,i)}c={type:"stylesheet",instance:c,count:1,state:f},s.set(a,c)}}}function L4(e,t){Er.X(e,t);var n=Ro;if(n&&e){var i=$a(n).hoistableScripts,s=jo(e),a=i.get(s);a||(a=n.querySelector(Nc(s)),a||(e=ft({src:e,async:!0},t),(t=mi.get(s))&&Mm(e,t),a=n.createElement("script"),$t(a),un(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function B4(e,t){Er.M(e,t);var n=Ro;if(n&&e){var i=$a(n).hoistableScripts,s=jo(e),a=i.get(s);a||(a=n.querySelector(Nc(s)),a||(e=ft({src:e,async:!0,type:"module"},t),(t=mi.get(s))&&Mm(e,t),a=n.createElement("script"),$t(a),un(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(s,a))}}function xx(e,t,n,i){var s=(s=$r.current)?gd(s):null;if(!s)throw Error(ie(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=xo(n.href),n=$a(s).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=xo(n.href);var a=$a(s).hoistableStyles,c=a.get(e);if(c||(s=s.ownerDocument||s,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,c),(a=s.querySelector(Cc(e)))&&!a._p&&(c.instance=a,c.state.loading=5),mi.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},mi.set(e,n),a||P4(s,e,n,c.state))),t&&i===null)throw Error(ie(528,""));return c}if(t&&i!==null)throw Error(ie(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=jo(n),n=$a(s).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(ie(444,e))}}function xo(e){return'href="'+ci(e)+'"'}function Cc(e){return'link[rel="stylesheet"]['+e+"]"}function bv(e){return ft({},e,{"data-precedence":e.precedence,precedence:null})}function P4(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),un(t,"link",n),$t(t),e.head.appendChild(t))}function jo(e){return'[src="'+ci(e)+'"]'}function Nc(e){return"script[async]"+e}function yx(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+ci(n.href)+'"]');if(i)return t.instance=i,$t(i),i;var s=ft({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),$t(i),un(i,"style",s),Ou(i,n.precedence,e),t.instance=i;case"stylesheet":s=xo(n.href);var a=e.querySelector(Cc(s));if(a)return t.state.loading|=4,t.instance=a,$t(a),a;i=bv(n),(s=mi.get(s))&&Im(i,s),a=(e.ownerDocument||e).createElement("link"),$t(a);var c=a;return c._p=new Promise(function(f,g){c.onload=f,c.onerror=g}),un(a,"link",i),t.state.loading|=4,Ou(a,n.precedence,e),t.instance=a;case"script":return a=jo(n.src),(s=e.querySelector(Nc(a)))?(t.instance=s,$t(s),s):(i=n,(s=mi.get(a))&&(i=ft({},n),Mm(i,s)),e=e.ownerDocument||e,s=e.createElement("script"),$t(s),un(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(ie(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Ou(i,n.precedence,e));return t.instance}function Ou(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,a=s,c=0;c<i.length;c++){var f=i[c];if(f.dataset.precedence===t)a=f;else if(a!==s)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Im(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Mm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ku=null;function bx(e,t,n){if(ku===null){var i=new Map,s=ku=new Map;s.set(n,i)}else s=ku,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var a=n[s];if(!(a[gc]||a[mn]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var c=a.getAttribute(t)||"";c=e+c;var f=i.get(c);f?f.push(a):i.set(c,[a])}}return i}function wx(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function U4(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function wv(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Zl=null;function F4(){}function V4(e,t,n){if(Zl===null)throw Error(ie(475));var i=Zl;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var s=xo(n.href),a=e.querySelector(Cc(s));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=pd.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=a,$t(a);return}a=e.ownerDocument||e,n=bv(n),(s=mi.get(s))&&Im(n,s),a=a.createElement("link"),$t(a);var c=a;c._p=new Promise(function(f,g){c.onload=f,c.onerror=g}),un(a,"link",n),t.instance=a}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=pd.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function z4(){if(Zl===null)throw Error(ie(475));var e=Zl;return e.stylesheets&&e.count===0&&H0(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&H0(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function pd(){if(this.count--,this.count===0){if(this.stylesheets)H0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xd=null;function H0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xd=new Map,t.forEach(H4,e),xd=null,pd.call(e))}function H4(e,t){if(!(t.state.loading&4)){var n=xd.get(e);if(n)var i=n.get(null);else{n=new Map,xd.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var c=s[a];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(n.set(c.dataset.precedence,c),i=c)}i&&n.set(null,i)}s=t.instance,c=s.getAttribute("data-precedence"),a=n.get(c)||i,a===i&&n.set(null,s),n.set(c,s),this.count++,i=pd.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),a?a.parentNode.insertBefore(s,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Kl={$$typeof:sr,Provider:null,Consumer:null,_currentValue:Vs,_currentValue2:Vs,_threadCount:0};function G4(e,t,n,i,s,a,c,f){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vh(0),this.hiddenUpdates=Vh(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=f,this.incompleteTransitions=new Map}function vv(e,t,n,i,s,a,c,f,g,p,y,w){return e=new G4(e,t,n,c,f,g,p,w),t=1,a===!0&&(t|=24),a=Yn(3,null,null,t),e.current=a,a.stateNode=e,t=rm(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},am(a),e}function Ev(e){return e?(e=Va,e):Va}function Av(e,t,n,i,s,a){s=Ev(s),i.context===null?i.context=s:i.pendingContext=s,i=Jr(t),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=es(e,i,t),n!==null&&(Kn(n,e,t),El(n,e,t))}function vx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Dm(e,t){vx(e,t),(e=e.alternate)&&vx(e,t)}function Sv(e){if(e.tag===13){var t=Mo(e,67108864);t!==null&&Kn(t,e,67108864),Dm(e,67108864)}}var yd=!0;function Y4(e,t,n,i){var s=Ne.T;Ne.T=null;var a=Xe.p;try{Xe.p=2,Rm(e,t,n,i)}finally{Xe.p=a,Ne.T=s}}function q4(e,t,n,i){var s=Ne.T;Ne.T=null;var a=Xe.p;try{Xe.p=8,Rm(e,t,n,i)}finally{Xe.p=a,Ne.T=s}}function Rm(e,t,n,i){if(yd){var s=G0(i);if(s===null)bf(e,t,i,bd,n),Ex(e,i);else if(W4(s,e,t,n,i))i.stopPropagation();else if(Ex(e,i),t&4&&-1<X4.indexOf(e)){for(;s!==null;){var a=Io(s);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var c=Rs(a.pendingLanes);if(c!==0){var f=a;for(f.pendingLanes|=2,f.entangledLanes|=2;c;){var g=1<<31-Wn(c);f.entanglements[1]|=g,c&=~g}Zi(a),!($e&6)&&(cd=zi()+500,Sc(0))}}break;case 13:f=Mo(a,2),f!==null&&Kn(f,a,2),Wd(),Dm(a,2)}if(a=G0(i),a===null&&bf(e,t,i,bd,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else bf(e,t,i,null,n)}}function G0(e){return e=W1(e),jm(e)}var bd=null;function jm(e){if(bd=null,e=ka(e),e!==null){var t=dc(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Z2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return bd=e,null}function Cv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(RS()){case J2:return 2;case eb:return 8;case Xu:case jS:return 32;case tb:return 268435456;default:return 32}default:return 32}}var Y0=!1,is=null,rs=null,ss=null,Ql=new Map,$l=new Map,Gr=[],X4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ex(e,t){switch(e){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":Ql.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(t.pointerId)}}function al(e,t,n,i,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Io(t),t!==null&&Sv(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function W4(e,t,n,i,s){switch(t){case"focusin":return is=al(is,e,t,n,i,s),!0;case"dragenter":return rs=al(rs,e,t,n,i,s),!0;case"mouseover":return ss=al(ss,e,t,n,i,s),!0;case"pointerover":var a=s.pointerId;return Ql.set(a,al(Ql.get(a)||null,e,t,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,$l.set(a,al($l.get(a)||null,e,t,n,i,s)),!0}return!1}function Nv(e){var t=ka(e.target);if(t!==null){var n=dc(t);if(n!==null){if(t=n.tag,t===13){if(t=Z2(n),t!==null){e.blockedOn=t,VS(e.priority,function(){if(n.tag===13){var i=Zn();i=G1(i);var s=Mo(n,i);s!==null&&Kn(s,n,i),Dm(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=G0(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);l0=i,n.target.dispatchEvent(i),l0=null}else return t=Io(n),t!==null&&Sv(t),e.blockedOn=n,!1;t.shift()}return!0}function Ax(e,t,n){Lu(e)&&n.delete(t)}function Z4(){Y0=!1,is!==null&&Lu(is)&&(is=null),rs!==null&&Lu(rs)&&(rs=null),ss!==null&&Lu(ss)&&(ss=null),Ql.forEach(Ax),$l.forEach(Ax)}function uu(e,t){e.blockedOn===t&&(e.blockedOn=null,Y0||(Y0=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,Z4)))}var du=null;function Sx(e){du!==e&&(du=e,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,function(){du===e&&(du=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],s=e[t+2];if(typeof i!="function"){if(jm(i||n)===null)continue;break}var a=Io(n);a!==null&&(e.splice(t,3),t-=3,S0(a,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function Jl(e){function t(g){return uu(g,e)}is!==null&&uu(is,e),rs!==null&&uu(rs,e),ss!==null&&uu(ss,e),Ql.forEach(t),$l.forEach(t);for(var n=0;n<Gr.length;n++){var i=Gr[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Gr.length&&(n=Gr[0],n.blockedOn===null);)Nv(n),n.blockedOn===null&&Gr.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],a=n[i+1],c=s[Bn]||null;if(typeof a=="function")c||Sx(n);else if(c){var f=null;if(a&&a.hasAttribute("formAction")){if(s=a,c=a[Bn]||null)f=c.formAction;else if(jm(s)!==null)continue}else f=c.action;typeof f=="function"?n[i+1]=f:(n.splice(i,3),i-=3),Sx(n)}}}function Om(e){this._internalRoot=e}$d.prototype.render=Om.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ie(409));var n=t.current,i=Zn();Av(n,i,e,t,null,null)};$d.prototype.unmount=Om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Av(e.current,2,null,e,null,null),Wd(),t[To]=null}};function $d(e){this._internalRoot=e}$d.prototype.unstable_scheduleHydration=function(e){if(e){var t=ab();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gr.length&&t!==0&&t<Gr[n].priority;n++);Gr.splice(n,0,e),n===0&&Nv(e)}};var Cx=X2.version;if(Cx!=="19.1.0")throw Error(ie(527,Cx,"19.1.0"));Xe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ie(188)):(e=Object.keys(e).join(","),Error(ie(268,e)));return e=CS(t),e=e!==null?K2(e):null,e=e===null?null:e.stateNode,e};var K4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Ne,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{hc=hu.inject(K4),Xn=hu}catch{}}Ld.createRoot=function(e,t){if(!W2(e))throw Error(ie(299));var n=!1,i="",s=vw,a=Ew,c=Aw,f=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(f=t.unstable_transitionCallbacks)),t=vv(e,1,!1,null,null,n,i,s,a,c,f,null),e[To]=t.current,Tm(e),new Om(t)};Ld.hydrateRoot=function(e,t,n){if(!W2(e))throw Error(ie(299));var i=!1,s="",a=vw,c=Ew,f=Aw,g=null,p=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(c=n.onCaughtError),n.onRecoverableError!==void 0&&(f=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(g=n.unstable_transitionCallbacks),n.formState!==void 0&&(p=n.formState)),t=vv(e,1,!0,t,n??null,i,s,a,c,f,g,p),t.context=Ev(null),n=t.current,i=Zn(),i=G1(i),s=Jr(i),s.callback=null,es(n,s,i),n=i,t.current.lanes=n,mc(t,n),Zi(t),e[To]=t.current,Tm(e),new $d(t)};Ld.version="19.1.0";function _v(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_v)}catch(e){console.error(e)}}_v(),V2.exports=Ld;var Q4=V2.exports;const $4=k1(Q4);/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Nx="popstate";function J4(e={}){function t(s,a){let{pathname:c="/",search:f="",hash:g=""}=aa(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),q0("",{pathname:c,search:f,hash:g},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let c=s.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let g=s.location.href,p=g.indexOf("#");f=p===-1?g:g.slice(0,p)}return f+"#"+(typeof a=="string"?a:ec(a))}function i(s,a){gi(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return tN(t,n,i,e)}function bt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eN(){return Math.random().toString(36).substring(2,10)}function _x(e,t){return{usr:e.state,key:e.key,idx:t}}function q0(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?aa(t):t,state:n,key:t&&t.key||i||eN()}}function ec({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function aa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function tN(e,t,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,c=s.history,f="POP",g=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function w(){f="POP";let D=y(),C=D==null?null:D-p;p=D,g&&g({action:f,location:M.location,delta:C})}function E(D,C){f="PUSH";let N=q0(M.location,D,C);n&&n(N,D),p=y()+1;let _=_x(N,p),k=M.createHref(N);try{c.pushState(_,"",k)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(k)}a&&g&&g({action:f,location:M.location,delta:1})}function A(D,C){f="REPLACE";let N=q0(M.location,D,C);n&&n(N,D),p=y();let _=_x(N,p),k=M.createHref(N);c.replaceState(_,"",k),a&&g&&g({action:f,location:M.location,delta:0})}function R(D){return nN(D)}let M={get action(){return f},get location(){return e(s,c)},listen(D){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(Nx,w),g=D,()=>{s.removeEventListener(Nx,w),g=null}},createHref(D){return t(s,D)},createURL:R,encodeLocation(D){let C=R(D);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:E,replace:A,go(D){return c.go(D)}};return M}function nN(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),bt(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:ec(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Tv(e,t,n="/"){return iN(e,t,n,!1)}function iN(e,t,n,i){let s=typeof t=="string"?aa(t):t,a=yr(s.pathname||"/",n);if(a==null)return null;let c=Iv(e);rN(c);let f=null;for(let g=0;f==null&&g<c.length;++g){let p=gN(a);f=fN(c[g],p,i)}return f}function Iv(e,t=[],n=[],i=""){let s=(a,c,f)=>{let g={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};g.relativePath.startsWith("/")&&(bt(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let p=fr([i,g.relativePath]),y=n.concat(g);a.children&&a.children.length>0&&(bt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Iv(a.children,t,y,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:dN(p,a.index),routesMeta:y})};return e.forEach((a,c)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))s(a,c);else for(let g of Mv(a.path))s(a,c,g)}),t}function Mv(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let c=Mv(i.join("/")),f=[];return f.push(...c.map(g=>g===""?a:[a,g].join("/"))),s&&f.push(...c),f.map(g=>e.startsWith("/")&&g===""?"/":g)}function rN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hN(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var sN=/^:[\w-]+$/,aN=3,oN=2,lN=1,cN=10,uN=-2,Tx=e=>e==="*";function dN(e,t){let n=e.split("/"),i=n.length;return n.some(Tx)&&(i+=uN),t&&(i+=oN),n.filter(s=>!Tx(s)).reduce((s,a)=>s+(sN.test(a)?aN:a===""?lN:cN),i)}function hN(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function fN(e,t,n=!1){let{routesMeta:i}=e,s={},a="/",c=[];for(let f=0;f<i.length;++f){let g=i[f],p=f===i.length-1,y=a==="/"?t:t.slice(a.length)||"/",w=wd({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},y),E=g.route;if(!w&&p&&n&&!i[i.length-1].route.index&&(w=wd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!w)return null;Object.assign(s,w.params),c.push({params:s,pathname:fr([a,w.pathname]),pathnameBase:bN(fr([a,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(a=fr([a,w.pathnameBase]))}return c}function wd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=mN(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:w},E)=>{if(y==="*"){let R=f[E]||"";c=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const A=f[E];return w&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:c,pattern:e}}function mN(e,t=!1,n=!0){gi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,g)=>(i.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function gN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function yr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function pN(e,t="/"){let{pathname:n,search:i="",hash:s=""}=typeof e=="string"?aa(e):e;return{pathname:n?n.startsWith("/")?n:xN(n,t):t,search:wN(i),hash:vN(s)}}function xN(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function vf(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function km(e){let t=yN(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Lm(e,t,n,i=!1){let s;typeof e=="string"?s=aa(e):(s={...e},bt(!s.pathname||!s.pathname.includes("?"),vf("?","pathname","search",s)),bt(!s.pathname||!s.pathname.includes("#"),vf("#","pathname","hash",s)),bt(!s.search||!s.search.includes("#"),vf("#","search","hash",s)));let a=e===""||s.pathname==="",c=a?"/":s.pathname,f;if(c==null)f=n;else{let w=t.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),w-=1;s.pathname=E.join("/")}f=w>=0?t[w]:"/"}let g=pN(s,f),p=c&&c!=="/"&&c.endsWith("/"),y=(a||c===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||y)&&(g.pathname+="/"),g}var fr=e=>e.join("/").replace(/\/\/+/g,"/"),bN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function EN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Dv=["POST","PUT","PATCH","DELETE"];new Set(Dv);var AN=["GET",...Dv];new Set(AN);var Oo=O.createContext(null);Oo.displayName="DataRouter";var Jd=O.createContext(null);Jd.displayName="DataRouterState";O.createContext(!1);var Rv=O.createContext({isTransitioning:!1});Rv.displayName="ViewTransition";var SN=O.createContext(new Map);SN.displayName="Fetchers";var CN=O.createContext(null);CN.displayName="Await";var Ti=O.createContext(null);Ti.displayName="Navigation";var _c=O.createContext(null);_c.displayName="Location";var Ii=O.createContext({outlet:null,matches:[],isDataRoute:!1});Ii.displayName="Route";var Bm=O.createContext(null);Bm.displayName="RouteError";function NN(e,{relative:t}={}){bt(ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=O.useContext(Ti),{hash:s,pathname:a,search:c}=Ic(e,{relative:t}),f=a;return n!=="/"&&(f=a==="/"?n:fr([n,a])),i.createHref({pathname:f,search:c,hash:s})}function ko(){return O.useContext(_c)!=null}function Ar(){return bt(ko(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(_c).location}var jv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ov(e){O.useContext(Ti).static||O.useLayoutEffect(e)}function Tc(){let{isDataRoute:e}=O.useContext(Ii);return e?UN():_N()}function _N(){bt(ko(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(Oo),{basename:t,navigator:n}=O.useContext(Ti),{matches:i}=O.useContext(Ii),{pathname:s}=Ar(),a=JSON.stringify(km(i)),c=O.useRef(!1);return Ov(()=>{c.current=!0}),O.useCallback((g,p={})=>{if(gi(c.current,jv),!c.current)return;if(typeof g=="number"){n.go(g);return}let y=Lm(g,JSON.parse(a),s,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:fr([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,a,s,e])}O.createContext(null);function eh(){let{matches:e}=O.useContext(Ii),t=e[e.length-1];return t?t.params:{}}function Ic(e,{relative:t}={}){let{matches:n}=O.useContext(Ii),{pathname:i}=Ar(),s=JSON.stringify(km(n));return O.useMemo(()=>Lm(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function TN(e,t){return kv(e,t)}function kv(e,t,n,i){var C;bt(ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=O.useContext(Ti),{matches:a}=O.useContext(Ii),c=a[a.length-1],f=c?c.params:{},g=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let N=y&&y.path||"";Lv(g,!y||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let w=Ar(),E;if(t){let N=typeof t=="string"?aa(t):t;bt(p==="/"||((C=N.pathname)==null?void 0:C.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${N.pathname}" was given in the \`location\` prop.`),E=N}else E=w;let A=E.pathname||"/",R=A;if(p!=="/"){let N=p.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(N.length).join("/")}let M=Tv(e,{pathname:R});gi(y||M!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),gi(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=jN(M&&M.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:fr([p,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:fr([p,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,n,i);return t&&D?O.createElement(_c.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},D):D}function IN(){let e=PN(),t=EN(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:s},n):null,c)}var MN=O.createElement(IN,null),DN=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?O.createElement(Ii.Provider,{value:this.props.routeContext},O.createElement(Bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RN({routeContext:e,match:t,children:n}){let i=O.useContext(Oo);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(Ii.Provider,{value:e},n)}function jN(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let g=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);bt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,g+1))}let c=!1,f=-1;if(n)for(let g=0;g<s.length;g++){let p=s[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=g),p.route.id){let{loaderData:y,errors:w}=n,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||E){c=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((g,p,y)=>{let w,E=!1,A=null,R=null;n&&(w=a&&p.route.id?a[p.route.id]:void 0,A=p.route.errorElement||MN,c&&(f<0&&y===0?(Lv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):f===y&&(E=!0,R=p.route.hydrateFallbackElement||null)));let M=t.concat(s.slice(0,y+1)),D=()=>{let C;return w?C=A:E?C=R:p.route.Component?C=O.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=g,O.createElement(RN,{match:p,routeContext:{outlet:g,matches:M,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?O.createElement(DN,{location:n.location,revalidation:n.revalidation,component:A,error:w,children:D(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):D()},null)}function Pm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ON(e){let t=O.useContext(Oo);return bt(t,Pm(e)),t}function kN(e){let t=O.useContext(Jd);return bt(t,Pm(e)),t}function LN(e){let t=O.useContext(Ii);return bt(t,Pm(e)),t}function Um(e){let t=LN(e),n=t.matches[t.matches.length-1];return bt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function BN(){return Um("useRouteId")}function PN(){var i;let e=O.useContext(Bm),t=kN("useRouteError"),n=Um("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function UN(){let{router:e}=ON("useNavigate"),t=Um("useNavigate"),n=O.useRef(!1);return Ov(()=>{n.current=!0}),O.useCallback(async(s,a={})=>{gi(n.current,jv),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var Ix={};function Lv(e,t,n){!t&&!Ix[e]&&(Ix[e]=!0,gi(!1,n))}O.memo(FN);function FN({routes:e,future:t,state:n}){return kv(e,void 0,n,t)}function Ef({to:e,replace:t,state:n,relative:i}){bt(ko(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=O.useContext(Ti);gi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=O.useContext(Ii),{pathname:c}=Ar(),f=Tc(),g=Lm(e,km(a),c,i==="path"),p=JSON.stringify(g);return O.useEffect(()=>{f(JSON.parse(p),{replace:t,state:n,relative:i})},[f,p,i,t,n]),null}function Lt(e){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VN({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:s,static:a=!1}){bt(!ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:c,navigator:s,static:a,future:{}}),[c,s,a]);typeof n=="string"&&(n=aa(n));let{pathname:g="/",search:p="",hash:y="",state:w=null,key:E="default"}=n,A=O.useMemo(()=>{let R=yr(g,c);return R==null?null:{location:{pathname:R,search:p,hash:y,state:w,key:E},navigationType:i}},[c,g,p,y,w,E,i]);return gi(A!=null,`<Router basename="${c}"> is not able to match the URL "${g}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:O.createElement(Ti.Provider,{value:f},O.createElement(_c.Provider,{children:t,value:A}))}function Mx({children:e,location:t}){return TN(X0(e),t)}function X0(e,t=[]){let n=[];return O.Children.forEach(e,(i,s)=>{if(!O.isValidElement(i))return;let a=[...t,s];if(i.type===O.Fragment){n.push.apply(n,X0(i.props.children,a));return}bt(i.type===Lt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=X0(i.props.children,a)),n.push(c)}),n}var Bu="get",Pu="application/x-www-form-urlencoded";function th(e){return e!=null&&typeof e.tagName=="string"}function zN(e){return th(e)&&e.tagName.toLowerCase()==="button"}function HN(e){return th(e)&&e.tagName.toLowerCase()==="form"}function GN(e){return th(e)&&e.tagName.toLowerCase()==="input"}function YN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qN(e,t){return e.button===0&&(!t||t==="_self")&&!YN(e)}var fu=null;function XN(){if(fu===null)try{new FormData(document.createElement("form"),0),fu=!1}catch{fu=!0}return fu}var WN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Af(e){return e!=null&&!WN.has(e)?(gi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pu}"`),null):e}function ZN(e,t){let n,i,s,a,c;if(HN(e)){let f=e.getAttribute("action");i=f?yr(f,t):null,n=e.getAttribute("method")||Bu,s=Af(e.getAttribute("enctype"))||Pu,a=new FormData(e)}else if(zN(e)||GN(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=e.getAttribute("formaction")||f.getAttribute("action");if(i=g?yr(g,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||Bu,s=Af(e.getAttribute("formenctype"))||Af(f.getAttribute("enctype"))||Pu,a=new FormData(f,e),!XN()){let{name:p,type:y,value:w}=e;if(y==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,w)}}else{if(th(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bu,i=null,s=Pu,c=e}return a&&s==="text/plain"&&(c=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fm(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function KN(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&yr(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function QN(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $N(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function JN(e,t,n){let i=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let c=await QN(a,n);return c.links?c.links():[]}return[]}));return i_(i.flat(1).filter($N).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Dx(e,t,n,i,s,a){let c=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,f=(g,p)=>{var y;return n[p].pathname!==g.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==g.params["*"]};return a==="assets"?t.filter((g,p)=>c(g,p)||f(g,p)):a==="data"?t.filter((g,p)=>{var w;let y=i.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(c(g,p)||f(g,p))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(e,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function e_(e,t,{includeHydrateFallback:n}={}){return t_(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function t_(e){return[...new Set(e)]}function n_(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function i_(e,t){let n=new Set;return new Set(t),e.reduce((i,s)=>{let a=JSON.stringify(n_(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function Bv(){let e=O.useContext(Oo);return Fm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function r_(){let e=O.useContext(Jd);return Fm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Vm=O.createContext(void 0);Vm.displayName="FrameworkContext";function Pv(){let e=O.useContext(Vm);return Fm(e,"You must render this element inside a <HydratedRouter> element"),e}function s_(e,t){let n=O.useContext(Vm),[i,s]=O.useState(!1),[a,c]=O.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:p,onMouseLeave:y,onTouchStart:w}=t,E=O.useRef(null);O.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let M=C=>{C.forEach(N=>{c(N.isIntersecting)})},D=new IntersectionObserver(M,{threshold:.5});return E.current&&D.observe(E.current),()=>{D.disconnect()}}},[e]),O.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let A=()=>{s(!0)},R=()=>{s(!1),c(!1)};return n?e!=="intent"?[a,E,{}]:[a,E,{onFocus:ol(f,A),onBlur:ol(g,R),onMouseEnter:ol(p,A),onMouseLeave:ol(y,R),onTouchStart:ol(w,A)}]:[!1,E,{}]}function ol(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function a_({page:e,...t}){let{router:n}=Bv(),i=O.useMemo(()=>Tv(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?O.createElement(l_,{page:e,matches:i,...t}):null}function o_(e){let{manifest:t,routeModules:n}=Pv(),[i,s]=O.useState([]);return O.useEffect(()=>{let a=!1;return JN(e,t,n).then(c=>{a||s(c)}),()=>{a=!0}},[e,t,n]),i}function l_({page:e,matches:t,...n}){let i=Ar(),{manifest:s,routeModules:a}=Pv(),{basename:c}=Bv(),{loaderData:f,matches:g}=r_(),p=O.useMemo(()=>Dx(e,t,g,s,i,"data"),[e,t,g,s,i]),y=O.useMemo(()=>Dx(e,t,g,s,i,"assets"),[e,t,g,s,i]),w=O.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let R=new Set,M=!1;if(t.forEach(C=>{var _;let N=s.routes[C.route.id];!N||!N.hasLoader||(!p.some(k=>k.route.id===C.route.id)&&C.route.id in f&&((_=a[C.route.id])!=null&&_.shouldRevalidate)||N.hasClientLoader?M=!0:R.add(C.route.id))}),R.size===0)return[];let D=KN(e,c,"data");return M&&R.size>0&&D.searchParams.set("_routes",t.filter(C=>R.has(C.route.id)).map(C=>C.route.id).join(",")),[D.pathname+D.search]},[c,f,i,s,p,t,e,a]),E=O.useMemo(()=>e_(y,s),[y,s]),A=o_(y);return O.createElement(O.Fragment,null,w.map(R=>O.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),E.map(R=>O.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),A.map(({key:R,link:M})=>O.createElement("link",{key:R,...M})))}function c_(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Uv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Uv&&(window.__reactRouterVersion="7.7.0")}catch{}function u_({basename:e,children:t,window:n}){let i=O.useRef();i.current==null&&(i.current=J4({window:n,v5Compat:!0}));let s=i.current,[a,c]=O.useState({action:s.action,location:s.location}),f=O.useCallback(g=>{O.startTransition(()=>c(g))},[c]);return O.useLayoutEffect(()=>s.listen(f),[s,f]),O.createElement(VN,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var Fv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bn=O.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:c,state:f,target:g,to:p,preventScrollReset:y,viewTransition:w,...E},A){let{basename:R}=O.useContext(Ti),M=typeof p=="string"&&Fv.test(p),D,C=!1;if(typeof p=="string"&&M&&(D=p,Uv))try{let P=new URL(window.location.href),Y=p.startsWith("//")?new URL(P.protocol+p):new URL(p),H=yr(Y.pathname,R);Y.origin===P.origin&&H!=null?p=H+Y.search+Y.hash:C=!0}catch{gi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=NN(p,{relative:s}),[_,k,V]=s_(i,E),L=m_(p,{replace:c,state:f,target:g,preventScrollReset:y,relative:s,viewTransition:w});function B(P){t&&t(P),P.defaultPrevented||L(P)}let z=O.createElement("a",{...E,...V,href:D||N,onClick:C||a?t:B,ref:c_(A,k),target:g,"data-discover":!M&&n==="render"?"true":void 0});return _&&!M?O.createElement(O.Fragment,null,z,O.createElement(a_,{page:N})):z});bn.displayName="Link";var d_=O.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:c,viewTransition:f,children:g,...p},y){let w=Ic(c,{relative:p.relative}),E=Ar(),A=O.useContext(Jd),{navigator:R,basename:M}=O.useContext(Ti),D=A!=null&&b_(w)&&f===!0,C=R.encodeLocation?R.encodeLocation(w).pathname:w.pathname,N=E.pathname,_=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(N=N.toLowerCase(),_=_?_.toLowerCase():null,C=C.toLowerCase()),_&&M&&(_=yr(_,M)||_);const k=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let V=N===C||!s&&N.startsWith(C)&&N.charAt(k)==="/",L=_!=null&&(_===C||!s&&_.startsWith(C)&&_.charAt(C.length)==="/"),B={isActive:V,isPending:L,isTransitioning:D},z=V?t:void 0,P;typeof i=="function"?P=i(B):P=[i,V?"active":null,L?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let Y=typeof a=="function"?a(B):a;return O.createElement(bn,{...p,"aria-current":z,className:P,ref:y,style:Y,to:c,viewTransition:f},typeof g=="function"?g(B):g)});d_.displayName="NavLink";var h_=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:s,state:a,method:c=Bu,action:f,onSubmit:g,relative:p,preventScrollReset:y,viewTransition:w,...E},A)=>{let R=x_(),M=y_(f,{relative:p}),D=c.toLowerCase()==="get"?"get":"post",C=typeof f=="string"&&Fv.test(f),N=_=>{if(g&&g(_),_.defaultPrevented)return;_.preventDefault();let k=_.nativeEvent.submitter,V=(k==null?void 0:k.getAttribute("formmethod"))||c;R(k||_.currentTarget,{fetcherKey:t,method:V,navigate:n,replace:s,state:a,relative:p,preventScrollReset:y,viewTransition:w})};return O.createElement("form",{ref:A,method:D,action:M,onSubmit:i?g:N,...E,"data-discover":!C&&e==="render"?"true":void 0})});h_.displayName="Form";function f_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vv(e){let t=O.useContext(Oo);return bt(t,f_(e)),t}function m_(e,{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:c}={}){let f=Tc(),g=Ar(),p=Ic(e,{relative:a});return O.useCallback(y=>{if(qN(y,t)){y.preventDefault();let w=n!==void 0?n:ec(g)===ec(p);f(e,{replace:w,state:i,preventScrollReset:s,relative:a,viewTransition:c})}},[g,f,p,n,i,t,e,s,a,c])}var g_=0,p_=()=>`__${String(++g_)}__`;function x_(){let{router:e}=Vv("useSubmit"),{basename:t}=O.useContext(Ti),n=BN();return O.useCallback(async(i,s={})=>{let{action:a,method:c,encType:f,formData:g,body:p}=ZN(i,t);if(s.navigate===!1){let y=s.fetcherKey||p_();await e.fetch(y,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:g,body:p,formMethod:s.method||c,formEncType:s.encType||f,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:g,body:p,formMethod:s.method||c,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function y_(e,{relative:t}={}){let{basename:n}=O.useContext(Ti),i=O.useContext(Ii);bt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Ic(e||".",{relative:t})},c=Ar();if(e==null){a.search=c.search;let f=new URLSearchParams(a.search),g=f.getAll("index");if(g.some(y=>y==="")){f.delete("index"),g.filter(w=>w).forEach(w=>f.append("index",w));let y=f.toString();a.search=y?`?${y}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:fr([n,a.pathname])),ec(a)}function b_(e,t={}){let n=O.useContext(Rv);bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Vv("useViewTransitionState"),s=Ic(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=yr(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=yr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return wd(s.pathname,c)!=null||wd(s.pathname,a)!=null}let w_={data:""},v_=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||w_,E_=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,A_=/\/\*[^]*?\*\/|  +/g,Rx=/\n+/g,Yr=(e,t)=>{let n="",i="",s="";for(let a in e){let c=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+c+";":i+=a[1]=="f"?Yr(c,a):a+"{"+Yr(c,a[1]=="k"?"":t)+"}":typeof c=="object"?i+=Yr(c,t?t.replace(/([^,])+/g,f=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,f):f?f+" "+g:g)):a):c!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Yr.p?Yr.p(a,c):a+":"+c+";")}return n+(t&&s?t+"{"+s+"}":s)+i},tr={},zv=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+zv(e[n]);return t}return e},S_=(e,t,n,i,s)=>{let a=zv(e),c=tr[a]||(tr[a]=(g=>{let p=0,y=11;for(;p<g.length;)y=101*y+g.charCodeAt(p++)>>>0;return"go"+y})(a));if(!tr[c]){let g=a!==e?e:(p=>{let y,w,E=[{}];for(;y=E_.exec(p.replace(A_,""));)y[4]?E.shift():y[3]?(w=y[3].replace(Rx," ").trim(),E.unshift(E[0][w]=E[0][w]||{})):E[0][y[1]]=y[2].replace(Rx," ").trim();return E[0]})(e);tr[c]=Yr(s?{["@keyframes "+c]:g}:g,n?"":"."+c)}let f=n&&tr.g?tr.g:null;return n&&(tr.g=tr[c]),((g,p,y,w)=>{w?p.data=p.data.replace(w,g):p.data.indexOf(g)===-1&&(p.data=y?g+p.data:p.data+g)})(tr[c],t,i,f),c},C_=(e,t,n)=>e.reduce((i,s,a)=>{let c=t[a];if(c&&c.call){let f=c(n),g=f&&f.props&&f.props.className||/^go/.test(f)&&f;c=g?"."+g:f&&typeof f=="object"?f.props?"":Yr(f,""):f===!1?"":f}return i+s+(c??"")},"");function nh(e){let t=this||{},n=e.call?e(t.p):e;return S_(n.unshift?n.raw?C_(n,[].slice.call(arguments,1),t.p):n.reduce((i,s)=>Object.assign(i,s&&s.call?s(t.p):s),{}):n,v_(t.target),t.g,t.o,t.k)}let Hv,W0,Z0;nh.bind({g:1});let br=nh.bind({k:1});function N_(e,t,n,i){Yr.p=t,Hv=e,W0=n,Z0=i}function xs(e,t){let n=this||{};return function(){let i=arguments;function s(a,c){let f=Object.assign({},a),g=f.className||s.className;n.p=Object.assign({theme:W0&&W0()},f),n.o=/ *go\d+/.test(g),f.className=nh.apply(n,i)+(g?" "+g:"");let p=e;return e[0]&&(p=f.as||e,delete f.as),Z0&&p[0]&&Z0(f),Hv(p,f)}return s}}var __=e=>typeof e=="function",vd=(e,t)=>__(e)?e(t):e,T_=(()=>{let e=0;return()=>(++e).toString()})(),Gv=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),I_=20,Yv=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,I_)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:n}=t;return Yv(e,{type:e.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},Uu=[],Ps={toasts:[],pausedAt:void 0},oa=e=>{Ps=Yv(Ps,e),Uu.forEach(t=>{t(Ps)})},M_={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},D_=(e={})=>{let[t,n]=O.useState(Ps),i=O.useRef(Ps);O.useEffect(()=>(i.current!==Ps&&n(Ps),Uu.push(n),()=>{let a=Uu.indexOf(n);a>-1&&Uu.splice(a,1)}),[]);let s=t.toasts.map(a=>{var c,f,g;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((c=e[a.type])==null?void 0:c.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((f=e[a.type])==null?void 0:f.duration)||(e==null?void 0:e.duration)||M_[a.type],style:{...e.style,...(g=e[a.type])==null?void 0:g.style,...a.style}}});return{...t,toasts:s}},R_=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||T_()}),Mc=e=>(t,n)=>{let i=R_(t,e,n);return oa({type:2,toast:i}),i.id},wn=(e,t)=>Mc("blank")(e,t);wn.error=Mc("error");wn.success=Mc("success");wn.loading=Mc("loading");wn.custom=Mc("custom");wn.dismiss=e=>{oa({type:3,toastId:e})};wn.remove=e=>oa({type:4,toastId:e});wn.promise=(e,t,n)=>{let i=wn.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let a=t.success?vd(t.success,s):void 0;return a?wn.success(a,{id:i,...n,...n==null?void 0:n.success}):wn.dismiss(i),s}).catch(s=>{let a=t.error?vd(t.error,s):void 0;a?wn.error(a,{id:i,...n,...n==null?void 0:n.error}):wn.dismiss(i)}),e};var j_=(e,t)=>{oa({type:1,toast:{id:e,height:t}})},O_=()=>{oa({type:5,time:Date.now()})},Dl=new Map,k_=1e3,L_=(e,t=k_)=>{if(Dl.has(e))return;let n=setTimeout(()=>{Dl.delete(e),oa({type:4,toastId:e})},t);Dl.set(e,n)},B_=e=>{let{toasts:t,pausedAt:n}=D_(e);O.useEffect(()=>{if(n)return;let a=Date.now(),c=t.map(f=>{if(f.duration===1/0)return;let g=(f.duration||0)+f.pauseDuration-(a-f.createdAt);if(g<0){f.visible&&wn.dismiss(f.id);return}return setTimeout(()=>wn.dismiss(f.id),g)});return()=>{c.forEach(f=>f&&clearTimeout(f))}},[t,n]);let i=O.useCallback(()=>{n&&oa({type:6,time:Date.now()})},[n]),s=O.useCallback((a,c)=>{let{reverseOrder:f=!1,gutter:g=8,defaultPosition:p}=c||{},y=t.filter(A=>(A.position||p)===(a.position||p)&&A.height),w=y.findIndex(A=>A.id===a.id),E=y.filter((A,R)=>R<w&&A.visible).length;return y.filter(A=>A.visible).slice(...f?[E+1]:[0,E]).reduce((A,R)=>A+(R.height||0)+g,0)},[t]);return O.useEffect(()=>{t.forEach(a=>{if(a.dismissed)L_(a.id,a.removeDelay);else{let c=Dl.get(a.id);c&&(clearTimeout(c),Dl.delete(a.id))}})},[t]),{toasts:t,handlers:{updateHeight:j_,startPause:O_,endPause:i,calculateOffset:s}}},P_=br`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,U_=br`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,F_=br`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,V_=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${P_} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${U_} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${F_} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,z_=br`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,H_=xs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${z_} 1s linear infinite;
`,G_=br`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Y_=br`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,q_=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${G_} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Y_} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,X_=xs("div")`
  position: absolute;
`,W_=xs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Z_=br`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,K_=xs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Z_} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Q_=({toast:e})=>{let{icon:t,type:n,iconTheme:i}=e;return t!==void 0?typeof t=="string"?O.createElement(K_,null,t):t:n==="blank"?null:O.createElement(W_,null,O.createElement(H_,{...i}),n!=="loading"&&O.createElement(X_,null,n==="error"?O.createElement(V_,{...i}):O.createElement(q_,{...i})))},$_=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,J_=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,eT="0%{opacity:0;} 100%{opacity:1;}",tT="0%{opacity:1;} 100%{opacity:0;}",nT=xs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,iT=xs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,rT=(e,t)=>{let n=e.includes("top")?1:-1,[i,s]=Gv()?[eT,tT]:[$_(n),J_(n)];return{animation:t?`${br(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${br(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},sT=O.memo(({toast:e,position:t,style:n,children:i})=>{let s=e.height?rT(e.position||t||"top-center",e.visible):{opacity:0},a=O.createElement(Q_,{toast:e}),c=O.createElement(iT,{...e.ariaProps},vd(e.message,e));return O.createElement(nT,{className:e.className,style:{...s,...n,...e.style}},typeof i=="function"?i({icon:a,message:c}):O.createElement(O.Fragment,null,a,c))});N_(O.createElement);var aT=({id:e,className:t,style:n,onHeightUpdate:i,children:s})=>{let a=O.useCallback(c=>{if(c){let f=()=>{let g=c.getBoundingClientRect().height;i(e,g)};f(),new MutationObserver(f).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[e,i]);return O.createElement("div",{ref:a,className:t,style:n},s)},oT=(e,t)=>{let n=e.includes("top"),i=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Gv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...i,...s}},lT=nh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,mu=16,cT=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:i,children:s,containerStyle:a,containerClassName:c})=>{let{toasts:f,handlers:g}=B_(n);return O.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:mu,left:mu,right:mu,bottom:mu,pointerEvents:"none",...a},className:c,onMouseEnter:g.startPause,onMouseLeave:g.endPause},f.map(p=>{let y=p.position||t,w=g.calculateOffset(p,{reverseOrder:e,gutter:i,defaultPosition:t}),E=oT(y,w);return O.createElement(aT,{id:p.id,key:p.id,onHeightUpdate:g.updateHeight,className:p.visible?lT:"",style:E},p.type==="custom"?vd(p.message,p):s?s(p):O.createElement(sT,{toast:p,position:y}))}))},le=wn;const uT="modulepreload",dT=function(e){return"/"+e},jx={},Dc=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=Promise.allSettled(n.map(g=>{if(g=dT(g),g in jx)return;jx[g]=!0;const p=g.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":uT,p||(w.as="script"),w.crossOrigin="",w.href=g,f&&w.setAttribute("nonce",f),document.head.appendChild(w),p)return new Promise((E,A)=>{w.addEventListener("load",E),w.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${g}`)))})}))}function a(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return s.then(c=>{for(const f of c||[])f.status==="rejected"&&a(f.reason);return t().catch(a)})},hT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Dc(async()=>{const{default:i}=await Promise.resolve().then(()=>Lo);return{default:i}},[]).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)};class zm extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class fT extends zm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ox extends zm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class kx extends zm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var K0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(K0||(K0={}));var mT=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function f(y){try{p(i.next(y))}catch(w){c(w)}}function g(y){try{p(i.throw(y))}catch(w){c(w)}}function p(y){y.done?a(y.value):s(y.value).then(f,g)}p((i=i.apply(e,t||[])).next())})};class gT{constructor(t,{headers:n={},customFetch:i,region:s=K0.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=hT(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var i;return mT(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:c}=n;let f={},{region:g}=n;g||(g=this.region);const p=new URL(`${this.url}/${t}`);g&&g!=="any"&&(f["x-region"]=g,p.searchParams.set("forceFunctionRegion",g));let y;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=c):typeof c=="string"?(f["Content-Type"]="text/plain",y=c):typeof FormData<"u"&&c instanceof FormData?y=c:(f["Content-Type"]="application/json",y=JSON.stringify(c)));const w=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),s),body:y}).catch(M=>{throw new fT(M)}),E=w.headers.get("x-relay-error");if(E&&E==="true")throw new Ox(w);if(!w.ok)throw new kx(w);let A=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),R;return A==="application/json"?R=yield w.json():A==="application/octet-stream"?R=yield w.blob():A==="text/event-stream"?R=w:A==="multipart/form-data"?R=yield w.formData():R=yield w.text(),{data:R,error:null,response:w}}catch(s){return{data:null,error:s,response:s instanceof kx||s instanceof Ox?s.context:void 0}}})}}var kn={},Hm={},ih={},Rc={},rh={},sh={},pT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yo=pT();const xT=yo.fetch,qv=yo.fetch.bind(yo),Xv=yo.Headers,yT=yo.Request,bT=yo.Response,Lo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xv,Request:yT,Response:bT,default:qv,fetch:xT},Symbol.toStringTag,{value:"Module"})),wT=eS(Lo);var ah={};Object.defineProperty(ah,"__esModule",{value:!0});let vT=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ah.default=vT;var Wv=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sh,"__esModule",{value:!0});const ET=Wv(wT),AT=Wv(ah);let ST=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=ET.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var c,f,g;let p=null,y=null,w=null,E=a.status,A=a.statusText;if(a.ok){if(this.method!=="HEAD"){const C=await a.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=C:y=JSON.parse(C))}const M=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),D=(f=a.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");M&&D&&D.length>1&&(w=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,E=406,A="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const M=await a.text();try{p=JSON.parse(M),Array.isArray(p)&&a.status===404&&(y=[],p=null,E=200,A="OK")}catch{a.status===404&&M===""?(E=204,A="No Content"):p={message:M}}if(p&&this.isMaybeSingle&&(!((g=p==null?void 0:p.details)===null||g===void 0)&&g.includes("0 rows"))&&(p=null,E=200,A="OK"),p&&this.shouldThrowOnError)throw new AT.default(p)}return{error:p,data:y,count:w,status:E,statusText:A}});return this.shouldThrowOnError||(s=s.catch(a=>{var c,f,g;return{error:{message:`${(c=a==null?void 0:a.name)!==null&&c!==void 0?c:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(f=a==null?void 0:a.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(g=a==null?void 0:a.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};sh.default=ST;var CT=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rh,"__esModule",{value:!0});const NT=CT(sh);let _T=class extends NT.default{select(t){let n=!1;const i=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:i,foreignTable:s,referencedTable:a=s}={}){const c=a?`${a}.order`:"order",f=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${f?`${f},`:""}${t}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:i,referencedTable:s=i}={}){const a=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(c,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:i=!1,buffers:s=!1,wal:a=!1,format:c="text"}={}){var f;const g=[t?"analyze":null,n?"verbose":null,i?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${p}"; options=${g};`,c==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};rh.default=_T;var TT=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rc,"__esModule",{value:!0});const IT=TT(rh);let MT=class extends IT.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const i=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${i})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:i,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const c=i===void 0?"":`(${i})`;return this.url.searchParams.append(t,`${a}fts${c}.${n}`),this}match(t){return Object.entries(t).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(t,n,i){return this.url.searchParams.append(t,`not.${n}.${i}`),this}or(t,{foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,i){return this.url.searchParams.append(t,`${n}.${i}`),this}};Rc.default=MT;var DT=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ih,"__esModule",{value:!0});const ll=DT(Rc);let RT=class{constructor(t,{headers:n={},schema:i,fetch:s}){this.url=t,this.headers=n,this.schema=i,this.fetch=s}select(t,{head:n=!1,count:i}={}){const s=n?"HEAD":"GET";let a=!1;const c=(t??"*").split("").map(f=>/\s/.test(f)&&!a?"":(f==='"'&&(a=!a),f)).join("");return this.url.searchParams.set("select",c),i&&(this.headers.Prefer=`count=${i}`),new ll.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:i=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const c=t.reduce((f,g)=>f.concat(Object.keys(g)),[]);if(c.length>0){const f=[...new Set(c)].map(g=>`"${g}"`);this.url.searchParams.set("columns",f.join(","))}}return new ll.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:i=!1,count:s,defaultToNull:a=!0}={}){const c="POST",f=[`resolution=${i?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&f.push(this.headers.Prefer),s&&f.push(`count=${s}`),a||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(t)){const g=t.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(g.length>0){const p=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new ll.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const i="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new ll.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",i=[];return t&&i.push(`count=${t}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new ll.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ih.default=RT;var oh={},lh={};Object.defineProperty(lh,"__esModule",{value:!0});lh.version=void 0;lh.version="0.0.0-automated";Object.defineProperty(oh,"__esModule",{value:!0});oh.DEFAULT_HEADERS=void 0;const jT=lh;oh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${jT.version}`};var Zv=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hm,"__esModule",{value:!0});const OT=Zv(ih),kT=Zv(Rc),LT=oh;let BT=class Kv{constructor(t,{headers:n={},schema:i,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},LT.DEFAULT_HEADERS),n),this.schemaName=i,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new OT.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Kv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:i=!1,get:s=!1,count:a}={}){let c;const f=new URL(`${this.url}/rpc/${t}`);let g;i||s?(c=i?"HEAD":"GET",Object.entries(n).filter(([y,w])=>w!==void 0).map(([y,w])=>[y,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([y,w])=>{f.searchParams.append(y,w)})):(c="POST",g=n);const p=Object.assign({},this.headers);return a&&(p.Prefer=`count=${a}`),new kT.default({method:c,url:f,headers:p,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}};Hm.default=BT;var Bo=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kn,"__esModule",{value:!0});kn.PostgrestError=kn.PostgrestBuilder=kn.PostgrestTransformBuilder=kn.PostgrestFilterBuilder=kn.PostgrestQueryBuilder=kn.PostgrestClient=void 0;const Qv=Bo(Hm);kn.PostgrestClient=Qv.default;const $v=Bo(ih);kn.PostgrestQueryBuilder=$v.default;const Jv=Bo(Rc);kn.PostgrestFilterBuilder=Jv.default;const e3=Bo(rh);kn.PostgrestTransformBuilder=e3.default;const t3=Bo(sh);kn.PostgrestBuilder=t3.default;const n3=Bo(ah);kn.PostgrestError=n3.default;var PT=kn.default={PostgrestClient:Qv.default,PostgrestQueryBuilder:$v.default,PostgrestFilterBuilder:Jv.default,PostgrestTransformBuilder:e3.default,PostgrestBuilder:t3.default,PostgrestError:n3.default};const{PostgrestClient:UT,PostgrestQueryBuilder:c7,PostgrestFilterBuilder:u7,PostgrestTransformBuilder:d7,PostgrestBuilder:h7,PostgrestError:f7}=PT;function FT(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const VT=FT(),zT="2.11.15",HT=`realtime-js/${zT}`,GT="1.0.0",i3=1e4,YT=1e3;var Rl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rl||(Rl={}));var fn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(fn||(fn={}));var Ei;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ei||(Ei={}));var Q0;(function(e){e.websocket="websocket"})(Q0||(Q0={}));var Bs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Bs||(Bs={}));class qT{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,n,i)}_decodeBroadcast(t,n,i){const s=n.getUint8(1),a=n.getUint8(2);let c=this.HEADER_LENGTH+2;const f=i.decode(t.slice(c,c+s));c=c+s;const g=i.decode(t.slice(c,c+a));c=c+a;const p=JSON.parse(i.decode(t.slice(c,t.byteLength)));return{ref:null,topic:f,event:g,payload:p}}}class r3{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(lt||(lt={}));const Lx=(e,t,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((a,c)=>(a[c]=XT(c,e,t,s),a),{})},XT=(e,t,n,i)=>{const s=t.find(f=>f.name===e),a=s==null?void 0:s.type,c=n[e];return a&&!i.includes(a)?s3(a,c):$0(c)},s3=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return QT(t,n)}switch(e){case lt.bool:return WT(t);case lt.float4:case lt.float8:case lt.int2:case lt.int4:case lt.int8:case lt.numeric:case lt.oid:return ZT(t);case lt.json:case lt.jsonb:return KT(t);case lt.timestamp:return $T(t);case lt.abstime:case lt.date:case lt.daterange:case lt.int4range:case lt.int8range:case lt.money:case lt.reltime:case lt.text:case lt.time:case lt.timestamptz:case lt.timetz:case lt.tsrange:case lt.tstzrange:return $0(t);default:return $0(t)}},$0=e=>e,WT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ZT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},KT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},QT=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let a;const c=e.slice(1,n);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(f=>s3(t,f))}return e},$T=e=>typeof e=="string"?e.replace(" ","T"):e,a3=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Sf{constructor(t,n,i={},s=i3){this.channel=t,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Bx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Bx||(Bx={}));class jl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:a,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jl.syncState(this.state,s,a,c),this.pendingDiffs.forEach(g=>{this.state=jl.syncDiff(this.state,g,a,c)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},s=>{const{onJoin:a,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=jl.syncDiff(this.state,s,a,c),f())}),this.onJoin((s,a,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:c})}),this.onLeave((s,a,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,s){const a=this.cloneDeep(t),c=this.transformState(n),f={},g={};return this.map(a,(p,y)=>{c[p]||(g[p]=y)}),this.map(c,(p,y)=>{const w=a[p];if(w){const E=y.map(D=>D.presence_ref),A=w.map(D=>D.presence_ref),R=y.filter(D=>A.indexOf(D.presence_ref)<0),M=w.filter(D=>E.indexOf(D.presence_ref)<0);R.length>0&&(f[p]=R),M.length>0&&(g[p]=M)}else f[p]=y}),this.syncDiff(a,{joins:f,leaves:g},i,s)}static syncDiff(t,n,i,s){const{joins:a,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(a,(f,g)=>{var p;const y=(p=t[f])!==null&&p!==void 0?p:[];if(t[f]=this.cloneDeep(g),y.length>0){const w=t[f].map(A=>A.presence_ref),E=y.filter(A=>w.indexOf(A.presence_ref)<0);t[f].unshift(...E)}i(f,y,g)}),this.map(c,(f,g)=>{let p=t[f];if(!p)return;const y=g.map(w=>w.presence_ref);p=p.filter(w=>y.indexOf(w.presence_ref)<0),t[f]=p,s(f,p,g),p.length===0&&delete t[f]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const s=t[i];return"metas"in s?n[i]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Px;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Px||(Px={}));var Ux;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ux||(Ux={}));var ir;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ir||(ir={}));class Gm{constructor(t,n={config:{}},i){this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=fn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Sf(this,Ei.join,this.params,this.timeout),this.rejoinTimer=new r3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=fn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ei.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new jl(this),this.broadcastEndpointURL=a3(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==fn.closed){const{config:{broadcast:a,presence:c,private:f}}=this.params;this._onError(y=>t==null?void 0:t(ir.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(ir.CLOSED));const g={},p={broadcast:a,presence:c,postgres_changes:(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(y=>y.filter))!==null&&s!==void 0?s:[],private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var w;if(this.socket.setAuth(),y===void 0){t==null||t(ir.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,A=(w=E==null?void 0:E.length)!==null&&w!==void 0?w:0,R=[];for(let M=0;M<A;M++){const D=E[M],{filter:{event:C,schema:N,table:_,filter:k}}=D,V=y&&y[M];if(V&&V.event===C&&V.schema===N&&V.table===_&&V.filter===k)R.push(Object.assign(Object.assign({},D),{id:V.id}));else{this.unsubscribe(),this.state=fn.errored,t==null||t(ir.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,t&&t(ir.SUBSCRIBED);return}}).receive("error",y=>{this.state=fn.errored,t==null||t(ir.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ir.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this._on(t,n,i)}async send(t,n={}){var i,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:c}=t,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=p.body)===null||s===void 0?void 0:s.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,f,g;const p=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||g===void 0)&&g.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=fn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ei.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new Sf(this,Ei.leave,{},t),i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,i){const s=new AbortController,a=setTimeout(()=>s.abort(),i),c=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),c}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Sf(this,t,n,i);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var s,a;const c=t.toLocaleLowerCase(),{close:f,error:g,leave:p,join:y}=Ei;if(i&&[f,g,p,y].indexOf(c)>=0&&i!==this._joinRef())return;let E=this._onMessage(c,n,i);if(n&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(A=>{var R,M,D;return((R=A.filter)===null||R===void 0?void 0:R.event)==="*"||((D=(M=A.filter)===null||M===void 0?void 0:M.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===c}).map(A=>A.callback(E,i)):(a=this.bindings[c])===null||a===void 0||a.filter(A=>{var R,M,D,C,N,_;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in A){const k=A.id,V=(R=A.filter)===null||R===void 0?void 0:R.event;return k&&((M=n.ids)===null||M===void 0?void 0:M.includes(k))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((D=n.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))}else{const k=(N=(C=A==null?void 0:A.filter)===null||C===void 0?void 0:C.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return k==="*"||k===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===c}).map(A=>{if(typeof E=="object"&&"ids"in E){const R=E.data,{schema:M,table:D,commit_timestamp:C,type:N,errors:_}=R;E=Object.assign(Object.assign({},{schema:M,table:D,commit_timestamp:C,eventType:N,new:{},old:{},errors:_}),this._getPayloadRecords(R))}A.callback(E,i)})}_isClosed(){return this.state===fn.closed}_isJoined(){return this.state===fn.joined}_isJoining(){return this.state===fn.joining}_isLeaving(){return this.state===fn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&Gm.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ei.close,{},t)}_onError(t){this._on(Ei.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Lx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Lx(t.columns,t.old_record)),n}}const Fx=()=>{},JT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class e6{constructor(t,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=i3,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fx,this.ref=0,this.logger=Fx,this.conn=null,this.sendBuffer=[],this.serializer=new qT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let c;return a?c=a:typeof fetch>"u"?c=(...f)=>Dc(async()=>{const{default:g}=await Promise.resolve().then(()=>Lo);return{default:g}},void 0).then(({default:g})=>g(...f)):c=fetch,(...f)=>c(...f)},this.endPoint=`${t}/${Q0.websocket}`,this.httpEndpoint=a3(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,c)=>c(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new r3(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=VT),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:GT}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Rl.connecting:return Bs.Connecting;case Rl.open:return Bs.Open;case Rl.closing:return Bs.Closing;default:return Bs.Closed}}isConnected(){return this.connectionState()===Bs.Open}channel(t,n={config:{}}){const i=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===i);if(s)return s;{const a=new Gm(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:i,payload:s,ref:a}=t,c=()=>{this.encode(t,f=>{var g;(g=this.conn)===null||g===void 0||g.send(f)})};this.log("push",`${n} ${i} (${a})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:HT};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Ei.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(YT,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:i,event:s,payload:a,ref:c}=n;i==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${i} ${s} ${c&&"("+c+")"||""}`,a),Array.from(this.channels).filter(f=>f._isMember(i)).forEach(f=>f._trigger(s,a,c)),this.stateChangeCallbacks.message.forEach(f=>f(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ei.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${i}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([JT],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class Ym extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Zt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class t6 extends Ym{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class J0 extends Ym{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var n6=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function f(y){try{p(i.next(y))}catch(w){c(w)}}function g(y){try{p(i.throw(y))}catch(w){c(w)}}function p(y){y.done?a(y.value):s(y.value).then(f,g)}p((i=i.apply(e,t||[])).next())})};const o3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Dc(async()=>{const{default:i}=await Promise.resolve().then(()=>Lo);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},i6=()=>n6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Dc(()=>Promise.resolve().then(()=>Lo),void 0)).Response:Response}),e1=e=>{if(Array.isArray(e))return e.map(n=>e1(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=e1(i)}),t};var la=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function f(y){try{p(i.next(y))}catch(w){c(w)}}function g(y){try{p(i.throw(y))}catch(w){c(w)}}function p(y){y.done?a(y.value):s(y.value).then(f,g)}p((i=i.apply(e,t||[])).next())})};const Cf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),r6=(e,t,n)=>la(void 0,void 0,void 0,function*(){const i=yield i6();e instanceof i&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new t6(Cf(s),e.status||500))}).catch(s=>{t(new J0(Cf(s),s))}):t(new J0(Cf(e),e))}),s6=(e,t,n,i)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i&&(s.body=JSON.stringify(i)),Object.assign(Object.assign({},s),n))};function jc(e,t,n,i,s,a){return la(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(n,s6(t,i,s,a)).then(g=>{if(!g.ok)throw g;return i!=null&&i.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>r6(g,f,i))})})}function Ed(e,t,n,i){return la(this,void 0,void 0,function*(){return jc(e,"GET",t,n,i)})}function Fr(e,t,n,i,s){return la(this,void 0,void 0,function*(){return jc(e,"POST",t,i,s,n)})}function a6(e,t,n,i,s){return la(this,void 0,void 0,function*(){return jc(e,"PUT",t,i,s,n)})}function o6(e,t,n,i){return la(this,void 0,void 0,function*(){return jc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function l3(e,t,n,i,s){return la(this,void 0,void 0,function*(){return jc(e,"DELETE",t,i,s,n)})}var Dn=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function f(y){try{p(i.next(y))}catch(w){c(w)}}function g(y){try{p(i.throw(y))}catch(w){c(w)}}function p(y){y.done?a(y.value):s(y.value).then(f,g)}p((i=i.apply(e,t||[])).next())})};const l6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class c6{constructor(t,n={},i,s){this.url=t,this.headers=n,this.bucketId=i,this.fetch=o3(s)}uploadOrUpdate(t,n,i,s){return Dn(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},Vx),s);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),g&&a.append("metadata",this.encodeMetadata(g)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",c.cacheControl),g&&a.append("metadata",this.encodeMetadata(g))):(a=i,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,g&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),s!=null&&s.headers&&(f=Object.assign(Object.assign({},f),s.headers));const p=this._removeEmptyFolders(n),y=this._getFinalPath(p),w=yield this.fetch(`${this.url}/object/${y}`,Object.assign({method:t,body:a,headers:f},c!=null&&c.duplex?{duplex:c.duplex}:{})),E=yield w.json();return w.ok?{data:{path:p,id:E.Id,fullPath:E.Key},error:null}:{data:null,error:E}}catch(a){if(Zt(a))return{data:null,error:a};throw a}})}upload(t,n,i){return Dn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,i)})}uploadToSignedUrl(t,n,i,s){return Dn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",n);try{let g;const p=Object.assign({upsert:Vx.upsert},s),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",p.cacheControl)):(g=i,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const w=yield this.fetch(f.toString(),{method:"PUT",body:g,headers:y}),E=yield w.json();return w.ok?{data:{path:a,fullPath:E.Key},error:null}:{data:null,error:E}}catch(g){if(Zt(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(t,n){return Dn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield Fr(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),c=new URL(this.url+a.url),f=c.searchParams.get("token");if(!f)throw new Ym("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(i){if(Zt(i))return{data:null,error:i};throw i}})}update(t,n,i){return Dn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,i)})}move(t,n,i){return Dn(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Zt(s))return{data:null,error:s};throw s}})}copy(t,n,i){return Dn(this,void 0,void 0,function*(){try{return{data:{path:(yield Fr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Zt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,i){return Dn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Fr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(s){if(Zt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,i){return Dn(this,void 0,void 0,function*(){try{const s=yield Fr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(s){if(Zt(s))return{data:null,error:s};throw s}})}download(t,n){return Dn(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=a?`?${a}`:"";try{const f=this._getFinalPath(t);return{data:yield(yield Ed(this.fetch,`${this.url}/${s}/${f}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(Zt(f))return{data:null,error:f};throw f}})}info(t){return Dn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const i=yield Ed(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:e1(i),error:null}}catch(i){if(Zt(i))return{data:null,error:i};throw i}})}exists(t){return Dn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield o6(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Zt(i)&&i instanceof J0){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,n){const i=this._getFinalPath(t),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const f=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});g!==""&&s.push(g);let p=s.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${p}`)}}}remove(t){return Dn(this,void 0,void 0,function*(){try{return{data:yield l3(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}list(t,n,i){return Dn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},l6),n),{prefix:t||""});return{data:yield Fr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(Zt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const u6="2.7.1",d6={"X-Client-Info":`storage-js/${u6}`};var va=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function f(y){try{p(i.next(y))}catch(w){c(w)}}function g(y){try{p(i.throw(y))}catch(w){c(w)}}function p(y){y.done?a(y.value):s(y.value).then(f,g)}p((i=i.apply(e,t||[])).next())})};class h6{constructor(t,n={},i){this.url=t,this.headers=Object.assign(Object.assign({},d6),n),this.fetch=o3(i)}listBuckets(){return va(this,void 0,void 0,function*(){try{return{data:yield Ed(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Zt(t))return{data:null,error:t};throw t}})}getBucket(t){return va(this,void 0,void 0,function*(){try{return{data:yield Ed(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return va(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Zt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return va(this,void 0,void 0,function*(){try{return{data:yield a6(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Zt(i))return{data:null,error:i};throw i}})}emptyBucket(t){return va(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return va(this,void 0,void 0,function*(){try{return{data:yield l3(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}})}}class f6 extends h6{constructor(t,n={},i){super(t,n,i)}from(t){return new c6(this.url,this.headers,t,this.fetch)}}const m6="2.52.0";let ml="";typeof Deno<"u"?ml="deno":typeof document<"u"?ml="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ml="react-native":ml="node";const g6={"X-Client-Info":`supabase-js-${ml}/${m6}`},p6={headers:g6},x6={schema:"public"},y6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},b6={};var w6=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function f(y){try{p(i.next(y))}catch(w){c(w)}}function g(y){try{p(i.throw(y))}catch(w){c(w)}}function p(y){y.done?a(y.value):s(y.value).then(f,g)}p((i=i.apply(e,t||[])).next())})};const v6=e=>{let t;return e?t=e:typeof fetch>"u"?t=qv:t=fetch,(...n)=>t(...n)},E6=()=>typeof Headers>"u"?Xv:Headers,A6=(e,t,n)=>{const i=v6(n),s=E6();return(a,c)=>w6(void 0,void 0,void 0,function*(){var f;const g=(f=yield t())!==null&&f!==void 0?f:e;let p=new s(c==null?void 0:c.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),i(a,Object.assign(Object.assign({},c),{headers:p}))})};var S6=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function f(y){try{p(i.next(y))}catch(w){c(w)}}function g(y){try{p(i.throw(y))}catch(w){c(w)}}function p(y){y.done?a(y.value):s(y.value).then(f,g)}p((i=i.apply(e,t||[])).next())})};function C6(e){return e.endsWith("/")?e:e+"/"}function N6(e,t){var n,i;const{db:s,auth:a,realtime:c,global:f}=e,{db:g,auth:p,realtime:y,global:w}=t,E={db:Object.assign(Object.assign({},g),s),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},y),c),global:Object.assign(Object.assign(Object.assign({},w),f),{headers:Object.assign(Object.assign({},(n=w==null?void 0:w.headers)!==null&&n!==void 0?n:{}),(i=f==null?void 0:f.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>S6(this,void 0,void 0,function*(){return""})};return e.accessToken?E.accessToken=e.accessToken:delete E.accessToken,E}const c3="2.71.1",Ma=30*1e3,t1=3,Nf=t1*Ma,_6="http://localhost:9999",T6="supabase.auth.token",I6={"X-Client-Info":`gotrue-js/${c3}`},n1="X-Supabase-Api-Version",u3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},M6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,D6=10*60*1e3;class qm extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class R6 extends qm{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function j6(e){return Me(e)&&e.name==="AuthApiError"}class d3 extends qm{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ys extends qm{constructor(t,n,i,s){super(t,i,s),this.name=n,this.status=i}}class Lr extends ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function O6(e){return Me(e)&&e.name==="AuthSessionMissingError"}class gu extends ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pu extends ys{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xu extends ys{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function k6(e){return Me(e)&&e.name==="AuthImplicitGrantRedirectError"}class zx extends ys{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class i1 extends ys{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function _f(e){return Me(e)&&e.name==="AuthRetryableFetchError"}class Hx extends ys{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class r1 extends ys{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ad="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gx=` 	
\r=`.split(""),L6=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Gx.length;t+=1)e[Gx[t].charCodeAt(0)]=-2;for(let t=0;t<Ad.length;t+=1)e[Ad[t].charCodeAt(0)]=t;return e})();function Yx(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Ad[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Ad[i]),t.queuedBits-=6}}function h3(e,t,n){const i=L6[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function qx(e){const t=[],n=c=>{t.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=c=>{U6(c,i,n)};for(let c=0;c<e.length;c+=1)h3(e.charCodeAt(c),s,a);return t.join("")}function B6(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function P6(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}B6(i,t)}}function U6(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if(!(e>>7-i&1)){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function F6(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)h3(e.charCodeAt(s),n,i);return new Uint8Array(t)}function V6(e){const t=[];return P6(e,n=>t.push(n)),new Uint8Array(t)}function z6(e){const t=[],n={queue:0,queuedBits:0},i=s=>{t.push(s)};return e.forEach(s=>Yx(s,n,i)),Yx(null,n,i),t.join("")}function H6(e){return Math.round(Date.now()/1e3)+e}function G6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const bi=()=>typeof window<"u"&&typeof document<"u",Is={tested:!1,writable:!1},f3=()=>{if(!bi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Is.tested)return Is.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Is.tested=!0,Is.writable=!0}catch{Is.tested=!0,Is.writable=!1}return Is.writable};function Y6(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((i,s)=>{t[s]=i}),t}const m3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Dc(async()=>{const{default:i}=await Promise.resolve().then(()=>Lo);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},q6=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Da=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ms=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},jr=async(e,t)=>{await e.removeItem(t)};class ch{constructor(){this.promise=new ch.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ch.promiseConstructor=Promise;function Tf(e){const t=e.split(".");if(t.length!==3)throw new r1("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!M6.test(t[i]))throw new r1("JWT not in base64url format");return{header:JSON.parse(qx(t[0])),payload:JSON.parse(qx(t[1])),signature:F6(t[2]),raw:{header:t[0],payload:t[1]}}}async function X6(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function W6(e,t){return new Promise((i,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await e(a);if(!t(a,null,c)){i(c);return}}catch(c){if(!t(a,c)){s(c);return}}})()})}function Z6(e){return("0"+e.toString(16)).substr(-2)}function K6(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(t),Array.from(t,Z6).join("")}async function Q6(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function $6(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Q6(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ea(e,t,n=!1){const i=K6();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await Da(e,`${t}-code-verifier`,s);const a=await $6(i);return[a,i===a?"plain":"s256"]}const J6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function e8(e){const t=e.headers.get(n1);if(!t||!t.match(J6))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function t8(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function n8(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const i8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Aa(e){if(!i8.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function If(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Xx(e){return JSON.parse(JSON.stringify(e))}var r8=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n};const ks=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),s8=[502,503,504];async function Wx(e){var t;if(!q6(e))throw new i1(ks(e),0);if(s8.includes(e.status))throw new i1(ks(e),e.status);let n;try{n=await e.json()}catch(a){throw new d3(ks(a),a)}let i;const s=e8(e);if(s&&s.getTime()>=u3["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Hx(ks(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Lr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new Hx(ks(n),e.status,n.weak_password.reasons);throw new R6(ks(n),e.status||500,i)}const a8=(e,t,n,i)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function ke(e,t,n,i){var s;const a=Object.assign({},i==null?void 0:i.headers);a[n1]||(a[n1]=u3["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const c=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await o8(e,t,n+f,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(g):{data:Object.assign({},g),error:null}}async function o8(e,t,n,i,s,a){const c=a8(t,i,s,a);let f;try{f=await e(n,Object.assign({},c))}catch(g){throw console.error(g),new i1(ks(g),0)}if(f.ok||await Wx(f),i!=null&&i.noResolveJson)return f;try{return await f.json()}catch(g){await Wx(g)}}function nr(e){var t;let n=null;d8(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=H6(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function Zx(e){const t=nr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function l8(e){return{data:e,error:null}}function c8(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:a}=e,c=r8(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:n,hashed_token:i,redirect_to:s,verification_type:a},g=Object.assign({},c);return{data:{properties:f,user:g},error:null}}function u8(e){return e}function d8(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mf=["global","local","others"];var h8=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n};class f8{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=m3(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Mf[0]){if(Mf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mf.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Me(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:qr})}catch(i){if(Me(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=h8(t,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:c8,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Me(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qr})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,s,a,c,f,g;try{const p={nextPage:null,lastPage:0,total:0},y=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:u8});if(y.error)throw y.error;const w=await y.json(),E=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,A=(g=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return A.length>0&&(A.forEach(R=>{const M=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(R.split(";")[1].split("=")[1]);p[`${D}Page`]=M}),p.total=parseInt(E)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(Me(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){Aa(t);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qr})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Aa(t);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:qr})}catch(i){if(Me(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){Aa(t);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:qr})}catch(i){if(Me(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){Aa(t.userId);try{const{data:n,error:i}=await ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Aa(t.userId),Aa(t.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}}function Kx(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function m8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Sa={debug:!!(globalThis&&f3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class g3 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class g8 extends g3{}async function p8(e,t,n){Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new g8(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Sa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}m8();const x8={url:_6,storageKey:T6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:I6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qx(e,t,n){return await n()}const Ca={};class tc{constructor(t){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tc.nextInstanceID,tc.nextInstanceID+=1,this.instanceID>0&&bi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},x8),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new f8({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=m3(s.fetch),this.lock=s.lock||Qx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:bi()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=p8:this.lock=Qx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:f3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kx(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Kx(this.memoryStorage)),bi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Ca[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ca[this.storageKey]=Object.assign(Object.assign({},Ca[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ca[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ca[this.storageKey]=Object.assign(Object.assign({},Ca[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${c3}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Y6(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),bi()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),k6(a)){const g=(t=a.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:f}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Me(n)?{error:n}:{error:new d3("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,s;try{const a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:nr}),{data:c,error:f}=a;if(f||!c)return{data:{user:null,session:null},error:f};const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(a){if(Me(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,i,s;try{let a;if("email"in t){const{email:y,password:w,options:E}=t;let A=null,R=null;this.flowType==="pkce"&&([A,R]=await Ea(this.storage,this.storageKey)),a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:y,password:w,data:(n=E==null?void 0:E.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:A,code_challenge_method:R},xform:nr})}else if("phone"in t){const{phone:y,password:w,options:E}=t;a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:w,data:(i=E==null?void 0:E.data)!==null&&i!==void 0?i:{},channel:(s=E==null?void 0:E.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:nr})}else throw new pu("You must provide either an email or phone number and a password");const{data:c,error:f}=a;if(f||!c)return{data:{user:null,session:null},error:f};const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(a){if(Me(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:c,options:f}=t;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Zx})}else if("phone"in t){const{phone:a,password:c,options:f}=t;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Zx})}else throw new pu("You must provide either an email or phone number and a password");const{data:i,error:s}=n;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new gu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,i,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,i,s,a,c,f,g,p,y,w,E,A;let R,M;if("message"in t)R=t.message,M=t.signature;else{const{chain:D,wallet:C,statement:N,options:_}=t;let k;if(bi())if(typeof C=="object")k=C;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))k=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=C}const V=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const L=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),N?{statement:N}:null));let B;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")B=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)B=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)R=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),M=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${V.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(s=(i=_==null?void 0:_.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((f=_==null?void 0:_.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((g=_==null?void 0:_.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((p=_==null?void 0:_.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((w=(y=_==null?void 0:_.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||w===void 0)&&w.length?["Resources",..._.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const L=await k.signMessage(new TextEncoder().encode(R),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");M=L}}try{const{data:D,error:C}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:z6(M)},!((E=t.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(A=t.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:nr});if(C)throw C;return!D||!D.session||!D.user?{data:{user:null,session:null},error:new gu}:(D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),{data:Object.assign({},D),error:C})}catch(D){if(Me(D))return{data:{user:null,session:null},error:D};throw D}}async _exchangeCodeForSession(t){const n=await Ms(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{const{data:a,error:c}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:nr});if(await jr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new gu}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:c})}catch(a){if(Me(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:i,token:s,access_token:a,nonce:c}=t,f=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:nr}),{data:g,error:p}=f;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new gu}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:p})}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,i,s,a,c;try{if("email"in t){const{email:f,options:g}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Ea(this.storage,this.storageKey));const{error:w}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},create_user:(i=g==null?void 0:g.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in t){const{phone:f,options:g}=t,{data:p,error:y}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(a=g==null?void 0:g.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(c=g==null?void 0:g.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y}}throw new pu("You must provide either an email or phone number.")}catch(f){if(Me(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(t){var n,i;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:f}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:nr});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,p=c.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(s){if(Me(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,i,s;try{let a=null,c=null;return this.flowType==="pkce"&&([a,c]=await Ea(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:l8})}catch(a){if(Me(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new Lr;const{error:s}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Me(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:s,options:a}=t,{error:c}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:i,type:s,options:a}=t,{data:c,error:f}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f}}throw new pu("You must provide either an email or phone number and a type")}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ms(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Nf:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const c=await Ms(this.userStorage,this.storageKey+"-user");c!=null&&c.user?t.user=c.user:t.user=If()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(g,p,y)=>(!c&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,p,y))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qr}):await this._useSession(async n=>{var i,s,a;const{data:c,error:f}=n;if(f)throw f;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Lr}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:qr})})}catch(n){if(Me(n))return O6(n)&&(await this._removeSession(),await jr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new Lr;const c=s.session;let f=null,g=null;this.flowType==="pkce"&&t.email!=null&&([f,g]=await Ea(this.storage,this.storageKey));const{data:p,error:y}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:g}),jwt:c.access_token,xform:qr});if(y)throw y;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(Me(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Lr;const n=Date.now()/1e3;let i=n,s=!0,a=null;const{payload:c}=Tf(t.access_token);if(c.exp&&(i=c.exp,s=i<=n),s){const{session:f,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!f)return{data:{user:null,session:null},error:null};a=f}else{const{data:f,error:g}=await this._getUser(t.access_token);if(g)throw g;a={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Me(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:c,error:f}=n;if(f)throw f;t=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new Lr;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Me(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!bi())throw new xu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new zx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zx("No code detected.");const{data:N,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:a,refresh_token:c,expires_in:f,expires_at:g,token_type:p}=t;if(!a||!f||!c||!p)throw new xu("No session defined in URL");const y=Math.round(Date.now()/1e3),w=parseInt(f);let E=y+w;g&&(E=parseInt(g));const A=E-y;A*1e3<=Ma&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${w}s`);const R=E-w;y-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,E,y):y-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,E,y);const{data:M,error:D}=await this._getUser(a);if(D)throw D;const C={provider_token:i,provider_refresh_token:s,access_token:a,expires_in:w,expires_at:E,refresh_token:c,token_type:p,user:M.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:t.type},error:null}}catch(i){if(Me(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ms(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return{error:a};const c=(i=s.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(j6(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return t!=="others"&&(await this._removeSession(),await jr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=G6(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,s;try{const{data:{session:a},error:c}=n;if(c)throw c;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await Ea(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Me(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:i,error:s}=await this._useSession(async a=>{var c,f,g,p,y;const{data:w,error:E}=a;if(E)throw E;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",A,{headers:this.headers,jwt:(y=(p=w.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(s)throw s;return bi()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:t.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Me(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,s;const{data:a,error:c}=n;if(c)throw c;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await W6(async s=>(s>0&&await X6(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:nr})),(s,a)=>{const c=200*Math.pow(2,s);return a&&_f(a)&&Date.now()+c-i<Ma})}catch(i){if(this._debug(n,"error",i),Me(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),bi()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await Ms(this.storage,this.storageKey);if(s&&this.userStorage){let c=await Ms(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:s.user},await Da(this.userStorage,this.storageKey+"-user",c)),s.user=(t=c==null?void 0:c.user)!==null&&t!==void 0?t:If()}else if(s&&!s.user&&!s.user){const c=await Ms(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(s.user=c.user,await jr(this.storage,this.storageKey+"-user"),await Da(this.storage,this.storageKey,s)):s.user=If()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const a=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Nf;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${Nf}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=await this._callRefreshToken(s.refresh_token);c&&(console.error(c),_f(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(s.access_token);!f&&(c!=null&&c.user)?(s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new Lr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ch;const{data:a,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new Lr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const f={session:a.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(a){if(this._debug(s,"error",a),Me(a)){const c={session:null,error:a};return _f(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,i=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,n)}catch(g){a.push(g)}});if(await Promise.all(c),a.length>0){for(let f=0;f<a.length;f+=1)console.error(a[f]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Da(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const a=Xx(s);await Da(this.storage,this.storageKey,a)}else{const s=Xx(n);await Da(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await jr(this.storage,this.storageKey),await jr(this.storage,this.storageKey+"-code-verifier"),await jr(this.storage,this.storageKey+"-user"),this.userStorage&&await jr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&bi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ma);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-t)/Ma);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ma}ms, refresh threshold is ${t1} ticks`),s<=t1&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof g3)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const s=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,c]=await Ea(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(f.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);s.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;return a?{data:null,error:a}:await ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,s;const{data:a,error:c}=n;if(c)return{data:null,error:c};const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:g,error:p}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((s=g==null?void 0:g.totp)===null||s===void 0)&&s.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const{data:c,error:f}=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:f})})}catch(n){if(Me(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;return a?{data:null,error:a}:await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Me(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(t==null?void 0:t.factors)||[],s=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),a=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,i;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Tf(s.access_token);let f=null;c.aal&&(f=c.aal);let g=f;((i=(n=s.user.factors)===null||n===void 0?void 0:n.filter(w=>w.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const y=c.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(f=>f.kid===t);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(f=>f.kid===t),i&&this.jwks_cached_at+D6>s)return i;const{data:a,error:c}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,i=a.keys.find(f=>f.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:A,error:R}=await this.getSession();if(R||!A.session)return{data:null,error:R};i=A.session.access_token}const{header:s,payload:a,signature:c,raw:{header:f,payload:g}}=Tf(i);n!=null&&n.allowExpired||t8(a.exp);const p=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:A}=await this.getUser(i);if(A)throw A;return{data:{claims:a,header:s,signature:c},error:null}}const y=n8(s.alg),w=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,w,c,V6(`${f}.${g}`)))throw new r1("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(i){if(Me(i))return{data:null,error:i};throw i}}}tc.nextInstanceID=0;const y8=tc;class b8 extends y8{constructor(t){super(t)}}var w8=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function f(y){try{p(i.next(y))}catch(w){c(w)}}function g(y){try{p(i.throw(y))}catch(w){c(w)}}function p(y){y.done?a(y.value):s(y.value).then(f,g)}p((i=i.apply(e,t||[])).next())})};class v8{constructor(t,n,i){var s,a,c;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const f=C6(t),g=new URL(f);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const p=`sb-${g.hostname.split(".")[0]}-auth-token`,y={db:x6,realtime:b6,auth:Object.assign(Object.assign({},y6),{storageKey:p}),global:p6},w=N6(i??{},y);this.storageKey=(s=w.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=w.global.headers)!==null&&a!==void 0?a:{},w.accessToken?(this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(E,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=w.auth)!==null&&c!==void 0?c:{},this.headers,w.global.fetch),this.fetch=A6(n,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.rest=new UT(new URL("rest/v1",g).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),w.accessToken||this._listenForAuthEvents()}get functions(){return new gT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new f6(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},i={}){return this.rest.rpc(t,n,i)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return w8(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:s,storageKey:a,flowType:c,lock:f,debug:g},p,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new b8({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),p),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:s,flowType:c,lock:f,debug:g,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new e6(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(t,n,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const E8=(e,t,n)=>new v8(e,t,n),A8="https://yoxgdfyhxbqeofslxtdc.supabase.co",S8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlveGdkZnloeGJxZW9mc2x4dGRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI4NzczOTUsImV4cCI6MjA2ODQ1MzM5NX0.E8aI_9cPmbwBErsZQaA0LJw2eHj94lIdrFE6qoanC7o",ue=E8(A8,S8,{auth:{persistSession:!0,autoRefreshToken:!0}});/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N8=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),$x=e=>{const t=N8(e);return t.charAt(0).toUpperCase()+t.slice(1)},p3=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),_8=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=O.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:c,...f},g)=>O.createElement("svg",{ref:g,...T8,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:p3("lucide",s),...!a&&!_8(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,y])=>O.createElement(p,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(e,t)=>{const n=O.forwardRef(({className:i,...s},a)=>O.createElement(I8,{ref:a,iconNode:t,className:p3(`lucide-${C8($x(e))}`,`lucide-${e}`,i),...s}));return n.displayName=$x(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],D8=Te("activity",M8);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Df=Te("arrow-right",R8);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],O8=Te("award",j8);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Si=Te("building-2",k8);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Kt=Te("calendar",L8);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],s1=Te("camera",B8);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],bo=Te("chart-column",P8);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],F8=Te("circle-alert",U8);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ws=Te("circle-check-big",V8);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],H8=Te("clock",z8);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Y8=Te("database",G8);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],x3=Te("download",q8);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],W8=Te("external-link",X8);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K8=Te("eye",Z8);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Ya=Te("gift",Q8);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],as=Te("image",$8);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Jx=Te("log-out",J8);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ta=Te("map-pin",e5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],n5=Te("maximize",t5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],wo=Te("monitor",i5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],s5=Te("pause",r5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],y3=Te("play",a5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nc=Te("plus",o5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],us=Te("qr-code",l5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],u5=Te("rocket",c5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],h5=Te("rotate-ccw",d5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],m5=Te("save",f5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],b3=Te("search",g5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],w3=Te("settings",p5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],v3=Te("shuffle",x5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Sd=Te("sparkles",y5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],uh=Te("square-pen",b5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],v5=Te("star",w5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],A5=Te("target",E5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ds=Te("trash-2",S5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ra=Te("trending-up",C5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],a1=Te("trophy",N5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Cd=Te("upload",_5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],o1=Te("user-check",T5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],l1=Te("user-plus",I5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ot=Te("users",M5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]],Gi=Te("vote",D5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],j5=Te("zap",R5);function O5(){return h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:h.jsx("div",{className:"max-w-2xl w-full",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:h.jsx(Y8,{className:"h-12 w-12 text-blue-600"})})}),h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Event Management System"}),h.jsx("p",{className:"text-gray-600",children:"A comprehensive solution for managing events, attendees, and more"})]}),h.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-8",children:h.jsxs("div",{className:"flex items-start",children:[h.jsx(F8,{className:"h-6 w-6 text-yellow-600 mr-3 mt-0.5"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Database Configuration Required"}),h.jsx("p",{className:"text-yellow-700 mb-4",children:"This application requires a Supabase database to function. To get started:"}),h.jsxs("ol",{className:"list-decimal list-inside text-yellow-700 space-y-2 text-sm",children:[h.jsxs("li",{children:["Create a free account at ",h.jsx("a",{href:"https://supabase.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"supabase.com"})]}),h.jsx("li",{children:"Create a new project"}),h.jsx("li",{children:"Get your project URL and anon key from the API settings"}),h.jsx("li",{children:"Configure the environment variables in your deployment"})]})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:" Features"}),h.jsxs("ul",{className:"text-gray-600 space-y-2 text-sm",children:[h.jsx("li",{children:" Company & Event Management"}),h.jsx("li",{children:" Attendee Registration & Check-in"}),h.jsx("li",{children:" QR Code Generation"}),h.jsx("li",{children:" Seating Arrangements"}),h.jsx("li",{children:" Photo Gallery & Voting"}),h.jsx("li",{children:" Lucky Draw System"}),h.jsx("li",{children:" Real-time Monitoring"})]})]}),h.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:" Tech Stack"}),h.jsxs("ul",{className:"text-gray-600 space-y-2 text-sm",children:[h.jsx("li",{children:" React + TypeScript"}),h.jsx("li",{children:" Tailwind CSS"}),h.jsx("li",{children:" Supabase (Database & Auth)"}),h.jsx("li",{children:" QR Code Generation"}),h.jsx("li",{children:" Real-time Updates"}),h.jsx("li",{children:" Responsive Design"}),h.jsx("li",{children:" PWA Ready"})]})]})]}),h.jsx("div",{className:"text-center",children:h.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[h.jsx(w3,{className:"h-8 w-8 text-blue-600 mx-auto mb-3"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to Deploy?"}),h.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Set up your Supabase database and configure the environment variables to start using this application."}),h.jsxs("div",{className:"text-xs text-gray-500",children:[h.jsx("p",{children:"Environment variables needed:"}),h.jsx("p",{className:"font-mono bg-gray-100 px-2 py-1 rounded mt-1",children:"VITE_SUPABASE_URL, VITE_SUPABASE_ANON_KEY"})]})]})})]})})})}const ey=[{name:"Dashboard",href:"/admin",icon:bo,color:"from-purple-500 to-pink-500"},{name:"Companies",href:"/admin/companies",icon:Si,color:"from-blue-500 to-cyan-500"},{name:"Events",href:"/admin/events",icon:Kt,color:"from-green-500 to-emerald-500"},{name:"Attendees",href:"/admin/attendees",icon:Ot,color:"from-orange-500 to-red-500"},{name:"Check-in",href:"/admin/checkin",icon:us,color:"from-indigo-500 to-purple-500"},{name:"Seating",href:"/admin/seating",icon:ta,color:"from-pink-500 to-rose-500"},{name:"Voting",href:"/admin/voting",icon:Gi,color:"from-violet-500 to-purple-500"},{name:"Lucky Draw",href:"/admin/lucky-draw",icon:Ya,color:"from-yellow-500 to-orange-500"},{name:"Gallery",href:"/admin/gallery",icon:as,color:"from-teal-500 to-cyan-500"},{name:"Welcome Monitor",href:"/admin/welcome-monitor",icon:wo,color:"from-blue-500 to-indigo-500"},{name:"Voting Monitor",href:"/admin/voting-monitor",icon:wo,color:"from-purple-500 to-indigo-500"}];function k5({children:e,userCompany:t}){const n=Ar(),i=Tc(),s=async()=>{await ue.auth.signOut(),i("/")};return h.jsxs("div",{className:"flex min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[h.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:left-0 lg:z-50 lg:w-72 lg:block",children:h.jsxs("div",{className:"flex h-full flex-col bg-white/80 backdrop-blur-xl border-r border-white/20 shadow-2xl",children:[h.jsx("div",{className:"flex h-20 items-center justify-center border-b border-gray-200/50 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"flex items-center justify-center mb-1",children:[h.jsx(Sd,{className:"h-8 w-8 text-white mr-2"}),h.jsx("h1",{className:"text-2xl font-bold text-white",children:"EventPro"})]}),t&&h.jsx("p",{className:"text-sm text-indigo-100 truncate px-2 font-medium",children:t.company.name})]})}),h.jsx("nav",{className:"flex-1 space-y-2 p-4 overflow-y-auto",children:ey.filter(a=>!(t&&a.href==="/admin/companies")).map(a=>{const c=a.icon,f=n.pathname===a.href||a.href!=="/admin"&&n.pathname.startsWith(a.href);return h.jsxs(bn,{to:a.href,className:`group flex items-center px-4 py-3 text-sm font-semibold rounded-xl transition-all duration-300 ${f?`bg-gradient-to-r ${a.color} text-white shadow-lg transform scale-105`:"text-gray-700 hover:bg-gradient-to-r hover:from-gray-100 hover:to-gray-50 hover:text-gray-900 hover:scale-105"}`,children:[h.jsx("div",{className:`p-2 rounded-lg mr-3 transition-all duration-300 ${f?"bg-white/20":"bg-gray-100 group-hover:bg-white group-hover:shadow-md"}`,children:h.jsx(c,{className:`h-5 w-5 ${f?"text-white":"text-gray-600 group-hover:text-gray-800"}`})}),h.jsx("span",{className:"truncate",children:a.name}),f&&h.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full animate-pulse"})]},a.name)})}),h.jsx("div",{className:"p-4 border-t border-gray-200/50",children:h.jsxs("button",{onClick:s,className:"flex items-center w-full px-4 py-3 text-sm font-semibold text-gray-700 rounded-xl hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 hover:text-red-600 transition-all duration-300 group",children:[h.jsx("div",{className:"p-2 rounded-lg mr-3 bg-gray-100 group-hover:bg-red-100 transition-all duration-300",children:h.jsx(Jx,{className:"h-5 w-5 text-gray-600 group-hover:text-red-600"})}),"Sign Out"]})})]})}),h.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-xl shadow-lg border-b border-white/20",children:[h.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(Sd,{className:"h-6 w-6 text-indigo-600 mr-2"}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"EventPro"}),t&&h.jsx("p",{className:"text-xs text-indigo-600 font-medium truncate",children:t.company.name})]})]}),h.jsxs("button",{onClick:s,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-lg hover:bg-red-50 hover:text-red-600 transition-all duration-300",children:[h.jsx(Jx,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]}),h.jsx("div",{className:"px-4 pb-4 border-t border-gray-200/50 bg-gradient-to-r from-gray-50 to-white",children:h.jsx("div",{className:"grid grid-cols-3 gap-2 mt-3",children:ey.filter(a=>!(t&&a.href==="/admin/companies")).slice(0,9).map(a=>{const c=a.icon,f=n.pathname===a.href||a.href!=="/admin"&&n.pathname.startsWith(a.href);return h.jsxs(bn,{to:a.href,className:`flex flex-col items-center px-2 py-3 text-xs font-semibold rounded-xl transition-all duration-300 ${f?`bg-gradient-to-br ${a.color} text-white shadow-lg`:"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[h.jsx(c,{className:"h-5 w-5 mb-1"}),h.jsx("span",{className:"truncate text-center leading-tight",children:a.name})]},a.name)})})})]}),h.jsx("div",{className:"flex-1 lg:ml-72",children:h.jsx("main",{className:"flex-1 p-4 md:p-8 pt-32 lg:pt-8",children:h.jsx("div",{className:"animate-fade-in",children:e})})})]})}function L5(){const[e,t]=O.useState(""),[n,i]=O.useState(""),[s,a]=O.useState(!1),[c,f]=O.useState(!1),g=Tc(),p=async y=>{y.preventDefault(),a(!0);try{if(c){const{error:w}=await ue.auth.signUp({email:e,password:n});if(w)throw w;le.success("Account created successfully!")}else{const{error:w}=await ue.auth.signInWithPassword({email:e,password:n});if(w)throw w;g("/admin")}}catch(w){le.error(w.message)}finally{a(!1)}};return h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:c?"Create your account":"Sign in to your account"}),h.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Event Management System"})]}),h.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),h.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"relative block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Email address",value:e,onChange:y=>t(y.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),h.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"relative block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Password",value:n,onChange:y=>i(y.target.value)})]})]}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Loading...":c?"Sign up":"Sign in"})}),h.jsx("div",{className:"text-center",children:h.jsx("button",{type:"button",onClick:()=>f(!c),className:"text-blue-600 hover:text-blue-500 text-sm",children:c?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})]})})}function B5({userCompany:e}){const[t,n]=O.useState(null),[i,s]=O.useState(null),[a,c]=O.useState(!0),[f,g]=O.useState(""),[p,y]=O.useState(null),[w,E]=O.useState(!1);O.useEffect(()=>{e?M():R()},[e]),O.useEffect(()=>{if(f&&!e){const D=setTimeout(()=>{A()},300);return()=>clearTimeout(D)}else y(null)},[f,e]);const A=async()=>{if(!f.trim()){y(null);return}E(!0);try{const D=`%${f.toLowerCase()}%`,{data:C}=await ue.from("companies").select("id, name, created_at").ilike("name",D).limit(5),{data:N}=await ue.from("company_users").select(`
          id,
          email,
          company:companies(name)
        `).ilike("email",D).limit(5),{data:_}=await ue.from("events").select(`
          id,
          name,
          date,
          company:companies(name)
        `).ilike("name",D).limit(5);y({companies:C||[],users:(N||[]).map(k=>({...k,company:Array.isArray(k.company)?k.company[0]:k.company})),events:(_||[]).map(k=>({...k,company:Array.isArray(k.company)?k.company[0]:k.company}))})}catch(D){console.error("Search error:",D)}finally{E(!1)}},R=async()=>{try{c(!0);const{data:D}=await ue.from("companies").select("id, created_at"),{data:C}=await ue.from("events").select(`
          id,
          name,
          date,
          created_at,
          company:companies(name)
        `).order("created_at",{ascending:!1}),{data:N}=await ue.from("attendees").select("id, event_id, checked_in, created_at"),{data:_}=await ue.from("company_users").select(`
          id,
          email,
          created_at,
          company:companies(name)
        `).order("created_at",{ascending:!1}),k=(D==null?void 0:D.length)||0,V=(C==null?void 0:C.length)||0,L=(N==null?void 0:N.length)||0,B=(N==null?void 0:N.filter(te=>te.checked_in).length)||0,z=(_==null?void 0:_.length)||0,P=await Promise.all(((C==null?void 0:C.slice(0,5))||[]).map(async te=>{const fe=(N==null?void 0:N.filter(X=>X.event_id===te.id))||[];return{...te,company:Array.isArray(te.company)?te.company[0]:te.company,attendee_count:fe.length,checked_in_count:fe.filter(X=>X.checked_in).length}})),Y=((_==null?void 0:_.slice(0,5))||[]).map(te=>({...te,company:Array.isArray(te.company)?te.company[0]:te.company,last_sign_in_at:null})),H=new Date;H.setDate(H.getDate()-30);const Q={companies:(D==null?void 0:D.filter(te=>new Date(te.created_at)>H).length)||0,events:(C==null?void 0:C.filter(te=>new Date(te.created_at)>H).length)||0,attendees:(N==null?void 0:N.filter(te=>new Date(te.created_at)>H).length)||0,users:(_==null?void 0:_.filter(te=>new Date(te.created_at)>H).length)||0};n({totalCompanies:k,totalEvents:V,totalAttendees:L,totalCheckedIn:B,totalUsers:z,recentEvents:P,recentUsers:Y,monthlyGrowth:Q,searchResults:{companies:[],users:[],events:[]}})}catch(D){console.error("Error fetching admin stats:",D)}finally{c(!1)}},M=async()=>{try{c(!0);const{data:D}=await ue.from("events").select("id, name, date, created_at").eq("company_id",e.company_id).order("created_at",{ascending:!1}),C=(D==null?void 0:D.map(H=>H.id))||[],{data:N}=await ue.from("attendees").select("id, event_id, checked_in, created_at").in("event_id",C),_=(D==null?void 0:D.length)||0,k=(N==null?void 0:N.length)||0,V=(N==null?void 0:N.filter(H=>H.checked_in).length)||0,L=new Date,B=(D==null?void 0:D.filter(H=>H.date&&new Date(H.date)>L).length)||0,z=((D==null?void 0:D.slice(0,5))||[]).map(H=>{const Q=(N==null?void 0:N.filter(te=>te.event_id===H.id))||[];return{...H,attendee_count:Q.length,checked_in_count:Q.filter(te=>te.checked_in).length}}),P=[];for(let H=5;H>=0;H--){const Q=new Date;Q.setMonth(Q.getMonth()-H);const te=new Date(Q.getFullYear(),Q.getMonth(),1),fe=new Date(Q.getFullYear(),Q.getMonth()+1,0),X=(D==null?void 0:D.filter(re=>{const W=new Date(re.created_at);return W>=te&&W<=fe}))||[],ne=(N==null?void 0:N.filter(re=>{const W=new Date(re.created_at);return W>=te&&W<=fe}))||[];P.push({month:Q.toLocaleDateString("en-US",{month:"short"}),events:X.length,attendees:ne.length,checkedIn:ne.filter(re=>re.checked_in).length})}s({totalEvents:_,totalAttendees:k,totalCheckedIn:V,upcomingEvents:B,recentEvents:z,quickActions:[{name:"Create Event",path:"/admin/events",icon:Kt,description:"Set up a new event",color:"bg-gradient-to-br from-blue-500 to-cyan-500",gradient:"from-blue-500 to-cyan-500"},{name:"Manage Attendees",path:"/admin/attendees",icon:Ot,description:"View and manage registrations",color:"bg-gradient-to-br from-green-500 to-emerald-500",gradient:"from-green-500 to-emerald-500"},{name:"Check-in System",path:"/admin/checkin",icon:us,description:"Scan QR codes for check-in",color:"bg-gradient-to-br from-purple-500 to-indigo-500",gradient:"from-purple-500 to-indigo-500"},{name:"Seating Arrangement",path:"/admin/seating",icon:ta,description:"Arrange tables and seats",color:"bg-gradient-to-br from-orange-500 to-red-500",gradient:"from-orange-500 to-red-500"},{name:"Event Gallery",path:"/admin/gallery",icon:as,description:"Manage photo uploads",color:"bg-gradient-to-br from-pink-500 to-rose-500",gradient:"from-pink-500 to-rose-500"},{name:"Voting System",path:"/admin/voting",icon:Gi,description:"Create voting sessions",color:"bg-gradient-to-br from-violet-500 to-purple-500",gradient:"from-violet-500 to-purple-500"}],monthlyData:P})}catch(D){console.error("Error fetching company stats:",D)}finally{c(!1)}};return a?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin"}),h.jsx(Sd,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 h-6 w-6 text-purple-600 animate-pulse"})]})}):!e&&t?h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"flex items-center justify-center mb-4",children:h.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl shadow-lg",children:h.jsx(bo,{className:"h-8 w-8 text-white"})})}),h.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 bg-clip-text text-transparent mb-2",children:"Admin Dashboard"}),h.jsx("p",{className:"text-gray-600 text-lg",children:"System-wide analytics and management overview"})]}),h.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:h.jsx(b3,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"text",value:f,onChange:D=>g(D.target.value),className:"block w-full pl-12 pr-12 py-4 border-0 rounded-xl bg-gray-50/50 placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:bg-white transition-all duration-300 text-lg",placeholder:"Search companies, users, or events..."}),w&&h.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:h.jsx("div",{className:"w-5 h-5 border-2 border-purple-300 border-t-purple-600 rounded-full animate-spin"})})]}),p&&h.jsxs("div",{className:"mt-6 space-y-6",children:[p.companies.length>0&&h.jsxs("div",{className:"animate-fade-in",children:[h.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[h.jsx(Si,{className:"h-5 w-5 text-blue-500 mr-2"}),"Companies"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:p.companies.map(D=>h.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl border border-blue-100 hover:shadow-md transition-all duration-300",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg mr-3",children:h.jsx(Si,{className:"h-4 w-4 text-white"})}),h.jsx("span",{className:"font-medium text-gray-900",children:D.name})]}),h.jsx("span",{className:"text-sm text-gray-500 bg-white px-3 py-1 rounded-full",children:new Date(D.created_at).toLocaleDateString()})]},D.id))})]}),p.users.length>0&&h.jsxs("div",{className:"animate-fade-in",children:[h.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[h.jsx(Ot,{className:"h-5 w-5 text-green-500 mr-2"}),"Users"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:p.users.map(D=>h.jsx("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-100 hover:shadow-md transition-all duration-300",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg mr-3",children:h.jsx(Ot,{className:"h-4 w-4 text-white"})}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-900 block",children:D.email}),h.jsx("span",{className:"text-sm text-gray-500",children:D.company.name})]})]})},D.id))})]}),p.events.length>0&&h.jsxs("div",{className:"animate-fade-in",children:[h.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[h.jsx(Kt,{className:"h-5 w-5 text-purple-500 mr-2"}),"Events"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:p.events.map(D=>h.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-100 hover:shadow-md transition-all duration-300",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg mr-3",children:h.jsx(Kt,{className:"h-4 w-4 text-white"})}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium text-gray-900 block",children:D.name}),h.jsx("span",{className:"text-sm text-gray-500",children:D.company.name})]})]}),D.date&&h.jsx("span",{className:"text-sm text-gray-500 bg-white px-3 py-1 rounded-full",children:new Date(D.date).toLocaleDateString()})]},D.id))})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[h.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 card-hover",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl shadow-lg mr-4",children:h.jsx(Si,{className:"h-8 w-8 text-white"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:t.totalCompanies}),h.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Companies"}),t.monthlyGrowth.companies>0&&h.jsxs("div",{className:"text-xs text-green-600 flex items-center mt-1 bg-green-50 px-2 py-1 rounded-full",children:[h.jsx(Ra,{className:"h-3 w-3 mr-1"}),"+",t.monthlyGrowth.companies," this month"]})]})]})}),h.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 card-hover",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl shadow-lg mr-4",children:h.jsx(Kt,{className:"h-8 w-8 text-white"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:t.totalEvents}),h.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Events"}),t.monthlyGrowth.events>0&&h.jsxs("div",{className:"text-xs text-green-600 flex items-center mt-1 bg-green-50 px-2 py-1 rounded-full",children:[h.jsx(Ra,{className:"h-3 w-3 mr-1"}),"+",t.monthlyGrowth.events," this month"]})]})]})}),h.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 card-hover",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl shadow-lg mr-4",children:h.jsx(Ot,{className:"h-8 w-8 text-white"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:t.totalAttendees}),h.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Attendees"}),t.monthlyGrowth.attendees>0&&h.jsxs("div",{className:"text-xs text-green-600 flex items-center mt-1 bg-green-50 px-2 py-1 rounded-full",children:[h.jsx(Ra,{className:"h-3 w-3 mr-1"}),"+",t.monthlyGrowth.attendees," this month"]})]})]})}),h.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 card-hover",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl shadow-lg mr-4",children:h.jsx(o1,{className:"h-8 w-8 text-white"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:t.totalCheckedIn}),h.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Check-ins"}),h.jsx("div",{className:"text-xs text-gray-500 mt-1 bg-gray-50 px-2 py-1 rounded-full",children:t.totalAttendees>0?`${Math.round(t.totalCheckedIn/t.totalAttendees*100)}% rate`:"0% rate"})]})]})}),h.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 card-hover",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl shadow-lg mr-4",children:h.jsx(K8,{className:"h-8 w-8 text-white"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:t.totalUsers}),h.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Users"}),t.monthlyGrowth.users>0&&h.jsxs("div",{className:"text-xs text-green-600 flex items-center mt-1 bg-green-50 px-2 py-1 rounded-full",children:[h.jsx(Ra,{className:"h-3 w-3 mr-1"}),"+",t.monthlyGrowth.users," this month"]})]})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[h.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg mr-3",children:h.jsx(u5,{className:"h-6 w-6 text-white"})}),"System Management"]}),h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsx(bn,{to:"/admin/companies",className:"group p-6 border-2 border-gray-100 rounded-xl hover:border-blue-300 hover:bg-gradient-to-br hover:from-blue-50 hover:to-cyan-50 transition-all duration-300 card-hover",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl shadow-lg mr-4 group-hover:scale-110 transition-transform duration-300",children:h.jsx(Si,{className:"h-8 w-8 text-white"})}),h.jsxs("div",{children:[h.jsx("div",{className:"font-semibold text-gray-900 text-lg",children:"Companies"}),h.jsx("div",{className:"text-sm text-gray-600",children:"Manage organizations"})]})]})}),h.jsx(bn,{to:"/admin/progress",className:"group p-6 border-2 border-gray-100 rounded-xl hover:border-green-300 hover:bg-gradient-to-br hover:from-green-50 hover:to-emerald-50 transition-all duration-300 card-hover",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl shadow-lg mr-4 group-hover:scale-110 transition-transform duration-300",children:h.jsx(D8,{className:"h-8 w-8 text-white"})}),h.jsxs("div",{children:[h.jsx("div",{className:"font-semibold text-gray-900 text-lg",children:"Analytics"}),h.jsx("div",{className:"text-sm text-gray-600",children:"Monthly progress"})]})]})})]})]}),h.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[h.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg mr-3",children:h.jsx(Kt,{className:"h-6 w-6 text-white"})}),"Recent Events"]}),h.jsxs(bn,{to:"/admin/events",className:"text-purple-600 hover:text-purple-700 flex items-center text-sm font-medium bg-purple-50 px-3 py-2 rounded-lg hover:bg-purple-100 transition-all duration-300",children:["View All ",h.jsx(Df,{className:"h-4 w-4 ml-1"})]})]}),h.jsxs("div",{className:"space-y-3",children:[t.recentEvents.map((D,C)=>h.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-gray-50 to-white rounded-xl border border-gray-100 hover:shadow-md transition-all duration-300 animate-slide-in",style:{animationDelay:`${C*.1}s`},children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-medium text-gray-900",children:D.name}),h.jsx("div",{className:"text-sm text-gray-600",children:D.company.name}),D.date&&h.jsx("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full mt-1 inline-block",children:new Date(D.date).toLocaleDateString()})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[D.checked_in_count,"/",D.attendee_count]}),h.jsx("div",{className:"text-xs text-gray-500",children:"checked in"}),h.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mt-1",children:h.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-2 rounded-full transition-all duration-500",style:{width:`${D.attendee_count>0?D.checked_in_count/D.attendee_count*100:0}%`}})})]})]},D.id)),t.recentEvents.length===0&&h.jsxs("div",{className:"text-center py-8 text-gray-500",children:[h.jsx(Kt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),h.jsx("p",{className:"font-medium",children:"No recent events"})]})]})]}),h.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[h.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-lg mr-3",children:h.jsx(Ot,{className:"h-6 w-6 text-white"})}),"Recent Users"]}),h.jsxs(bn,{to:"/admin/companies",className:"text-indigo-600 hover:text-indigo-700 flex items-center text-sm font-medium bg-indigo-50 px-3 py-2 rounded-lg hover:bg-indigo-100 transition-all duration-300",children:["View All ",h.jsx(Df,{className:"h-4 w-4 ml-1"})]})]}),h.jsxs("div",{className:"space-y-3",children:[t.recentUsers.map((D,C)=>h.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-gray-50 to-white rounded-xl border border-gray-100 hover:shadow-md transition-all duration-300 animate-slide-in",style:{animationDelay:`${C*.1}s`},children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-medium text-gray-900",children:D.email}),h.jsx("div",{className:"text-sm text-gray-600",children:D.company.name})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:new Date(D.created_at).toLocaleDateString()}),D.last_sign_in_at&&h.jsxs("div",{className:"text-xs text-green-600 flex items-center mt-1",children:[h.jsx(H8,{className:"h-3 w-3 mr-1"}),"Active"]})]})]},D.id)),t.recentUsers.length===0&&h.jsxs("div",{className:"text-center py-8 text-gray-500",children:[h.jsx(Ot,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),h.jsx("p",{className:"font-medium",children:"No recent users"})]})]})]})]})]}):e&&i?h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"flex items-center justify-center mb-4",children:h.jsx("div",{className:"p-3 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl shadow-lg",children:h.jsx(v5,{className:"h-8 w-8 text-white"})})}),h.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-2",children:"Welcome Back!"}),h.jsxs("p",{className:"text-gray-600 text-lg",children:[h.jsx("span",{className:"font-semibold text-indigo-600",children:e.company.name})," Dashboard"]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[h.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 card-hover",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl shadow-lg mr-4",children:h.jsx(Kt,{className:"h-8 w-8 text-white"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:i.totalEvents}),h.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Total Events"})]})]})}),h.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 card-hover",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl shadow-lg mr-4",children:h.jsx(Ot,{className:"h-8 w-8 text-white"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:i.totalAttendees}),h.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Total Attendees"})]})]})}),h.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 card-hover",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl shadow-lg mr-4",children:h.jsx(o1,{className:"h-8 w-8 text-white"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:i.totalCheckedIn}),h.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Total Check-ins"}),h.jsx("div",{className:"text-xs text-gray-500 mt-1 bg-gray-50 px-2 py-1 rounded-full",children:i.totalAttendees>0?`${Math.round(i.totalCheckedIn/i.totalAttendees*100)}% rate`:"0% rate"})]})]})}),h.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 card-hover",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl shadow-lg mr-4",children:h.jsx(Ra,{className:"h-8 w-8 text-white"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:i.upcomingEvents}),h.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Upcoming Events"})]})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6",children:[h.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[h.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-lg mr-3",children:h.jsx(j5,{className:"h-6 w-6 text-white"})}),"Quick Actions"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.quickActions.map((D,C)=>{const N=D.icon;return h.jsxs(bn,{to:D.path,className:"group p-6 border-2 border-gray-100 rounded-xl hover:border-transparent hover:shadow-xl transition-all duration-300 card-hover animate-scale-in",style:{animationDelay:`${C*.1}s`},children:[h.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${D.gradient} rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg`,children:h.jsx(N,{className:"h-6 w-6 text-white"})}),h.jsx("div",{className:"font-semibold text-gray-900 text-lg mb-1",children:D.name}),h.jsx("div",{className:"text-sm text-gray-600",children:D.description})]},D.name)})})]}),h.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h2",{className:"text-2xl font-semibold flex items-center",children:[h.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg mr-3",children:h.jsx(Kt,{className:"h-6 w-6 text-white"})}),"Recent Events"]}),h.jsxs(bn,{to:"/admin/events",className:"text-green-600 hover:text-green-700 flex items-center text-sm font-medium bg-green-50 px-3 py-2 rounded-lg hover:bg-green-100 transition-all duration-300",children:["View All ",h.jsx(Df,{className:"h-4 w-4 ml-1"})]})]}),h.jsxs("div",{className:"space-y-4",children:[i.recentEvents.map((D,C)=>h.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-gray-50 to-white rounded-xl border border-gray-100 hover:shadow-md transition-all duration-300 animate-slide-in",style:{animationDelay:`${C*.1}s`},children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-semibold text-gray-900 text-lg",children:D.name}),D.date&&h.jsx("div",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full mt-1 inline-block",children:new Date(D.date).toLocaleDateString()})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[D.checked_in_count,"/",D.attendee_count]}),h.jsx("div",{className:"text-xs text-gray-500",children:"attendees"}),h.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mt-1",children:h.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-2 rounded-full transition-all duration-500",style:{width:`${D.attendee_count>0?D.checked_in_count/D.attendee_count*100:0}%`}})})]})]},D.id)),i.recentEvents.length===0&&h.jsxs("div",{className:"text-center py-8 text-gray-500",children:[h.jsx(Kt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),h.jsx("p",{className:"font-medium",children:"No events yet"}),h.jsx(bn,{to:"/admin/events",className:"text-green-600 hover:text-green-700 text-sm font-medium bg-green-50 px-4 py-2 rounded-lg hover:bg-green-100 transition-all duration-300 inline-block mt-2",children:"Create your first event"})]})]})]})]}),h.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6",children:[h.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[h.jsx("div",{className:"p-2 bg-gradient-to-br from-pink-500 to-rose-500 rounded-lg mr-3",children:h.jsx(A5,{className:"h-6 w-6 text-white"})}),"Event Tools & Monitors"]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxs(bn,{to:"/admin/lucky-draw",className:"group p-6 text-center border-2 border-gray-100 rounded-xl hover:border-yellow-300 hover:bg-gradient-to-br hover:from-yellow-50 hover:to-orange-50 transition-all duration-300 card-hover",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl shadow-lg mx-auto mb-3 w-fit group-hover:scale-110 transition-transform duration-300",children:h.jsx(Ya,{className:"h-8 w-8 text-white"})}),h.jsx("div",{className:"font-semibold text-gray-900",children:"Lucky Draw"}),h.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Random winner selection"})]}),h.jsxs(bn,{to:"/admin/welcome-monitor",className:"group p-6 text-center border-2 border-gray-100 rounded-xl hover:border-blue-300 hover:bg-gradient-to-br hover:from-blue-50 hover:to-cyan-50 transition-all duration-300 card-hover",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl shadow-lg mx-auto mb-3 w-fit group-hover:scale-110 transition-transform duration-300",children:h.jsx(wo,{className:"h-8 w-8 text-white"})}),h.jsx("div",{className:"font-semibold text-gray-900",children:"Welcome Monitor"}),h.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Live check-in display"})]}),h.jsxs(bn,{to:"/admin/voting-monitor",className:"group p-6 text-center border-2 border-gray-100 rounded-xl hover:border-purple-300 hover:bg-gradient-to-br hover:from-purple-50 hover:to-pink-50 transition-all duration-300 card-hover",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl shadow-lg mx-auto mb-3 w-fit group-hover:scale-110 transition-transform duration-300",children:h.jsx(bo,{className:"h-8 w-8 text-white"})}),h.jsx("div",{className:"font-semibold text-gray-900",children:"Voting Monitor"}),h.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Live voting results"})]}),h.jsxs(bn,{to:"/admin/progress",className:"group p-6 text-center border-2 border-gray-100 rounded-xl hover:border-green-300 hover:bg-gradient-to-br hover:from-green-50 hover:to-emerald-50 transition-all duration-300 card-hover",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl shadow-lg mx-auto mb-3 w-fit group-hover:scale-110 transition-transform duration-300",children:h.jsx(O8,{className:"h-8 w-8 text-white"})}),h.jsx("div",{className:"font-semibold text-gray-900",children:"Analytics"}),h.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Performance insights"})]})]})]})]}):null}function P5(){const[e,t]=O.useState([]),[n,i]=O.useState([]),[s,a]=O.useState(!1),[c,f]=O.useState(!1),[g,p]=O.useState(null),[y,w]=O.useState(""),[E,A]=O.useState({email:"",password:"",company_id:""}),[R,M]=O.useState(!0);O.useEffect(()=>{D(),C()},[]);const D=async()=>{try{const{data:P,error:Y}=await ue.from("companies").select("*").order("created_at",{ascending:!1});if(Y)throw Y;const H=await Promise.all(P.map(async Q=>{const{data:te}=await ue.from("events").select("id").eq("company_id",Q.id),{data:fe}=await ue.from("attendees").select("id").in("event_id",(te==null?void 0:te.map(X=>X.id))||[]);return{...Q,event_count:(te==null?void 0:te.length)||0,attendee_count:(fe==null?void 0:fe.length)||0}}));t(H)}catch(P){le.error("Error fetching companies: "+P.message)}finally{M(!1)}},C=async()=>{try{const{data:P,error:Y}=await ue.from("company_users").select(`
          *,
          company:companies(name)
        `).order("created_at",{ascending:!1});if(Y)throw Y;i(P||[])}catch(P){console.error("Error fetching company users:",P)}},N=async P=>{if(P.preventDefault(),!!y.trim())try{const{error:Y}=await ue.from("companies").insert([{name:y}]);if(Y)throw Y;le.success("Company created successfully!"),w(""),a(!1),D()}catch(Y){le.error("Error creating company: "+Y.message)}},_=async P=>{if(P.preventDefault(),!(!y.trim()||!g))try{const{error:Y}=await ue.from("companies").update({name:y}).eq("id",g.id);if(Y)throw Y;le.success("Company updated successfully!"),w(""),p(null),a(!1),D()}catch(Y){le.error("Error updating company: "+Y.message)}},k=async P=>{if(confirm("Are you sure you want to delete this company? This will also delete all events and attendees."))try{const{error:Y}=await ue.from("companies").delete().eq("id",P);if(Y)throw Y;le.success("Company deleted successfully!"),D(),C()}catch(Y){le.error("Error deleting company: "+Y.message)}},V=P=>{p(P),w(P.name),a(!0)},L=async P=>{if(P.preventDefault(),!(!E.email.trim()||!E.password.trim()||!E.company_id))try{const{data:{session:Y}}=await ue.auth.getSession();if(!Y)throw new Error("Not authenticated");const H=await fetch("https://yoxgdfyhxbqeofslxtdc.supabase.co/functions/v1/create-company-user",{method:"POST",headers:{Authorization:`Bearer ${Y.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({email:E.email,password:E.password,company_id:E.company_id})}),Q=await H.json();if(!H.ok)throw new Error(Q.error||"Failed to create user");le.success("Company user created successfully!"),A({email:"",password:"",company_id:""}),f(!1),C()}catch(Y){le.error("Error creating user: "+Y.message)}},B=async P=>{if(confirm("Are you sure you want to delete this user?"))try{const{error:Y}=await ue.from("company_users").delete().eq("id",P);if(Y)throw Y;le.success("User deleted successfully!"),C()}catch(Y){le.error("Error deleting user: "+Y.message)}},z=()=>{w(""),p(null),a(!1)};return R?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Company Management"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Manage companies, events, and user access"})]}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsxs("button",{onClick:()=>f(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[h.jsx(l1,{className:"h-5 w-5 mr-2"}),"Add User"]}),h.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[h.jsx(nc,{className:"h-5 w-5 mr-2"}),"Add Company"]})]})]}),h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:["        ",e.map(P=>{const Y=n.filter(H=>H.company_id===P.id);return h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(Si,{className:"h-8 w-8 text-blue-600 mr-3"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:P.name}),h.jsxs("p",{className:"text-sm text-gray-500",children:["Created ",new Date(P.created_at).toLocaleDateString()]})]})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:()=>V(P),className:"text-gray-400 hover:text-blue-600 transition-colors",children:h.jsx(uh,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>k(P.id),className:"text-gray-400 hover:text-red-600 transition-colors",children:h.jsx(ds,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[h.jsxs("div",{className:"flex items-center text-gray-600",children:[h.jsx(Kt,{className:"h-5 w-5 mr-2"}),h.jsxs("span",{children:[P.event_count," Events"]})]}),h.jsxs("div",{className:"flex items-center text-gray-600",children:[h.jsx(Ot,{className:"h-5 w-5 mr-2"}),h.jsxs("span",{children:[P.attendee_count," Total Attendees"]})]}),h.jsxs("div",{className:"flex items-center text-gray-600",children:[h.jsx(l1,{className:"h-5 w-5 mr-2"}),h.jsxs("span",{children:[Y.length," Users"]})]})]}),Y.length>0&&h.jsxs("div",{className:"border-t pt-4",children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Company Users"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Y.map(H=>h.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-medium text-gray-900 text-sm",children:H.email}),h.jsx("div",{className:"text-xs text-gray-500",children:new Date(H.created_at).toLocaleDateString()})]}),h.jsx("button",{onClick:()=>B(H.id),className:"text-gray-400 hover:text-red-600 transition-colors",children:h.jsx(ds,{className:"h-3 w-3"})})]})},H.id))})]})]},P.id)})]})}),e.length===0&&n.length===0&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Si,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No companies found"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first company"}),h.jsx("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Company"})]}),c&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[h.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create Company User"}),h.jsxs("form",{onSubmit:L,children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company *"}),h.jsxs("select",{value:E.company_id,onChange:P=>A({...E,company_id:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[h.jsx("option",{value:"",children:"Select a company"}),e.map(P=>h.jsx("option",{value:P.id,children:P.name},P.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),h.jsx("input",{type:"email",value:E.email,onChange:P=>A({...E,email:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email address",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),h.jsx("input",{type:"password",value:E.password,onChange:P=>A({...E,password:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password",required:!0,minLength:6})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[h.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create User"})]})]})]})}),h.jsx("div",{className:"hidden",children:e.map(P=>h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx(Si,{className:"h-8 w-8 text-blue-600 mr-3"}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:P.name})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center text-gray-600",children:[h.jsx(Kt,{className:"h-5 w-5 mr-2"}),h.jsxs("span",{children:[P.event_count," Events"]})]}),h.jsxs("div",{className:"flex items-center text-gray-600",children:[h.jsx(Ot,{className:"h-5 w-5 mr-2"}),h.jsxs("span",{children:[P.attendee_count," Total Attendees"]})]})]}),h.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:h.jsxs("p",{className:"text-sm text-gray-500",children:["Created ",new Date(P.created_at).toLocaleDateString()]})})]},P.id))}),s&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[h.jsx("h2",{className:"text-xl font-bold mb-4",children:g?"Edit Company":"Create New Company"}),h.jsxs("form",{onSubmit:g?_:N,children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),h.jsx("input",{type:"text",id:"companyName",value:y,onChange:P=>w(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter company name",required:!0})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{type:"button",onClick:z,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:g?"Update Company":"Create Company"})]})]})]})})]})}var Ni={},U5=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},E3={},$n={};let Xm;const F5=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];$n.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};$n.getSymbolTotalCodewords=function(t){return F5[t]};$n.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};$n.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Xm=t};$n.isKanjiModeEnabled=function(){return typeof Xm<"u"};$n.toSJIS=function(t){return Xm(t)};var dh={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},e.from=function(i,s){if(e.isValid(i))return i;try{return t(i)}catch{return s}}})(dh);function A3(){this.buffer=[],this.length=0}A3.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var V5=A3;function Oc(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Oc.prototype.set=function(e,t,n,i){const s=e*this.size+t;this.data[s]=n,i&&(this.reservedBit[s]=!0)};Oc.prototype.get=function(e,t){return this.data[e*this.size+t]};Oc.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};Oc.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var z5=Oc,S3={};(function(e){const t=$n.getSymbolSize;e.getRowColCoords=function(i){if(i===1)return[];const s=Math.floor(i/7)+2,a=t(i),c=a===145?26:Math.ceil((a-13)/(2*s-2))*2,f=[a-7];for(let g=1;g<s-1;g++)f[g]=f[g-1]-c;return f.push(6),f.reverse()},e.getPositions=function(i){const s=[],a=e.getRowColCoords(i),c=a.length;for(let f=0;f<c;f++)for(let g=0;g<c;g++)f===0&&g===0||f===0&&g===c-1||f===c-1&&g===0||s.push([a[f],a[g]]);return s}})(S3);var C3={};const H5=$n.getSymbolSize,ty=7;C3.getPositions=function(t){const n=H5(t);return[[0,0],[n-ty,0],[0,n-ty]]};var N3={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const a=s.size;let c=0,f=0,g=0,p=null,y=null;for(let w=0;w<a;w++){f=g=0,p=y=null;for(let E=0;E<a;E++){let A=s.get(w,E);A===p?f++:(f>=5&&(c+=t.N1+(f-5)),p=A,f=1),A=s.get(E,w),A===y?g++:(g>=5&&(c+=t.N1+(g-5)),y=A,g=1)}f>=5&&(c+=t.N1+(f-5)),g>=5&&(c+=t.N1+(g-5))}return c},e.getPenaltyN2=function(s){const a=s.size;let c=0;for(let f=0;f<a-1;f++)for(let g=0;g<a-1;g++){const p=s.get(f,g)+s.get(f,g+1)+s.get(f+1,g)+s.get(f+1,g+1);(p===4||p===0)&&c++}return c*t.N2},e.getPenaltyN3=function(s){const a=s.size;let c=0,f=0,g=0;for(let p=0;p<a;p++){f=g=0;for(let y=0;y<a;y++)f=f<<1&2047|s.get(p,y),y>=10&&(f===1488||f===93)&&c++,g=g<<1&2047|s.get(y,p),y>=10&&(g===1488||g===93)&&c++}return c*t.N3},e.getPenaltyN4=function(s){let a=0;const c=s.data.length;for(let g=0;g<c;g++)a+=s.data[g];return Math.abs(Math.ceil(a*100/c/5)-10)*t.N4};function n(i,s,a){switch(i){case e.Patterns.PATTERN000:return(s+a)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(s+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return s*a%2+s*a%3===0;case e.Patterns.PATTERN110:return(s*a%2+s*a%3)%2===0;case e.Patterns.PATTERN111:return(s*a%3+(s+a)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}e.applyMask=function(s,a){const c=a.size;for(let f=0;f<c;f++)for(let g=0;g<c;g++)a.isReserved(g,f)||a.xor(g,f,n(s,g,f))},e.getBestMask=function(s,a){const c=Object.keys(e.Patterns).length;let f=0,g=1/0;for(let p=0;p<c;p++){a(p),e.applyMask(p,s);const y=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(p,s),y<g&&(g=y,f=p)}return f}})(N3);var hh={};const Qr=dh,yu=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],bu=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];hh.getBlocksCount=function(t,n){switch(n){case Qr.L:return yu[(t-1)*4+0];case Qr.M:return yu[(t-1)*4+1];case Qr.Q:return yu[(t-1)*4+2];case Qr.H:return yu[(t-1)*4+3];default:return}};hh.getTotalCodewordsCount=function(t,n){switch(n){case Qr.L:return bu[(t-1)*4+0];case Qr.M:return bu[(t-1)*4+1];case Qr.Q:return bu[(t-1)*4+2];case Qr.H:return bu[(t-1)*4+3];default:return}};var _3={},fh={};const Ol=new Uint8Array(512),Nd=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)Ol[n]=t,Nd[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)Ol[n]=Ol[n-255]})();fh.log=function(t){if(t<1)throw new Error("log("+t+")");return Nd[t]};fh.exp=function(t){return Ol[t]};fh.mul=function(t,n){return t===0||n===0?0:Ol[Nd[t]+Nd[n]]};(function(e){const t=fh;e.mul=function(i,s){const a=new Uint8Array(i.length+s.length-1);for(let c=0;c<i.length;c++)for(let f=0;f<s.length;f++)a[c+f]^=t.mul(i[c],s[f]);return a},e.mod=function(i,s){let a=new Uint8Array(i);for(;a.length-s.length>=0;){const c=a[0];for(let g=0;g<s.length;g++)a[g]^=t.mul(s[g],c);let f=0;for(;f<a.length&&a[f]===0;)f++;a=a.slice(f)}return a},e.generateECPolynomial=function(i){let s=new Uint8Array([1]);for(let a=0;a<i;a++)s=e.mul(s,new Uint8Array([1,t.exp(a)]));return s}})(_3);const T3=_3;function Wm(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Wm.prototype.initialize=function(t){this.degree=t,this.genPoly=T3.generateECPolynomial(this.degree)};Wm.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const i=T3.mod(n,this.genPoly),s=this.degree-i.length;if(s>0){const a=new Uint8Array(this.degree);return a.set(i,s),a}return i};var G5=Wm,I3={},bs={},Zm={};Zm.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Ki={};const M3="[0-9]+",Y5="[A-Z $%*+\\-./:]+";let ic="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ic=ic.replace(/u/g,"\\u");const q5="(?:(?![A-Z0-9 $%*+\\-./:]|"+ic+`)(?:.|[\r
]))+`;Ki.KANJI=new RegExp(ic,"g");Ki.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ki.BYTE=new RegExp(q5,"g");Ki.NUMERIC=new RegExp(M3,"g");Ki.ALPHANUMERIC=new RegExp(Y5,"g");const X5=new RegExp("^"+ic+"$"),W5=new RegExp("^"+M3+"$"),Z5=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ki.testKanji=function(t){return X5.test(t)};Ki.testNumeric=function(t){return W5.test(t)};Ki.testAlphanumeric=function(t){return Z5.test(t)};(function(e){const t=Zm,n=Ki;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,c){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?a.ccBits[0]:c<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return n.testNumeric(a)?e.NUMERIC:n.testAlphanumeric(a)?e.ALPHANUMERIC:n.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function i(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(a,c){if(e.isValid(a))return a;try{return i(a)}catch{return c}}})(bs);(function(e){const t=$n,n=hh,i=dh,s=bs,a=Zm,c=7973,f=t.getBCHDigit(c);function g(E,A,R){for(let M=1;M<=40;M++)if(A<=e.getCapacity(M,R,E))return M}function p(E,A){return s.getCharCountIndicator(E,A)+4}function y(E,A){let R=0;return E.forEach(function(M){const D=p(M.mode,A);R+=D+M.getBitsLength()}),R}function w(E,A){for(let R=1;R<=40;R++)if(y(E,R)<=e.getCapacity(R,A,s.MIXED))return R}e.from=function(A,R){return a.isValid(A)?parseInt(A,10):R},e.getCapacity=function(A,R,M){if(!a.isValid(A))throw new Error("Invalid QR Code version");typeof M>"u"&&(M=s.BYTE);const D=t.getSymbolTotalCodewords(A),C=n.getTotalCodewordsCount(A,R),N=(D-C)*8;if(M===s.MIXED)return N;const _=N-p(M,A);switch(M){case s.NUMERIC:return Math.floor(_/10*3);case s.ALPHANUMERIC:return Math.floor(_/11*2);case s.KANJI:return Math.floor(_/13);case s.BYTE:default:return Math.floor(_/8)}},e.getBestVersionForData=function(A,R){let M;const D=i.from(R,i.M);if(Array.isArray(A)){if(A.length>1)return w(A,D);if(A.length===0)return 1;M=A[0]}else M=A;return g(M.mode,M.getLength(),D)},e.getEncodedBits=function(A){if(!a.isValid(A)||A<7)throw new Error("Invalid QR Code version");let R=A<<12;for(;t.getBCHDigit(R)-f>=0;)R^=c<<t.getBCHDigit(R)-f;return A<<12|R}})(I3);var D3={};const c1=$n,R3=1335,K5=21522,ny=c1.getBCHDigit(R3);D3.getEncodedBits=function(t,n){const i=t.bit<<3|n;let s=i<<10;for(;c1.getBCHDigit(s)-ny>=0;)s^=R3<<c1.getBCHDigit(s)-ny;return(i<<10|s)^K5};var j3={};const Q5=bs;function vo(e){this.mode=Q5.NUMERIC,this.data=e.toString()}vo.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};vo.prototype.getLength=function(){return this.data.length};vo.prototype.getBitsLength=function(){return vo.getBitsLength(this.data.length)};vo.prototype.write=function(t){let n,i,s;for(n=0;n+3<=this.data.length;n+=3)i=this.data.substr(n,3),s=parseInt(i,10),t.put(s,10);const a=this.data.length-n;a>0&&(i=this.data.substr(n),s=parseInt(i,10),t.put(s,a*3+1))};var $5=vo;const J5=bs,Rf=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Eo(e){this.mode=J5.ALPHANUMERIC,this.data=e}Eo.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Eo.prototype.getLength=function(){return this.data.length};Eo.prototype.getBitsLength=function(){return Eo.getBitsLength(this.data.length)};Eo.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let i=Rf.indexOf(this.data[n])*45;i+=Rf.indexOf(this.data[n+1]),t.put(i,11)}this.data.length%2&&t.put(Rf.indexOf(this.data[n]),6)};var eI=Eo;const tI=bs;function Ao(e){this.mode=tI.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Ao.getBitsLength=function(t){return t*8};Ao.prototype.getLength=function(){return this.data.length};Ao.prototype.getBitsLength=function(){return Ao.getBitsLength(this.data.length)};Ao.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var nI=Ao;const iI=bs,rI=$n;function So(e){this.mode=iI.KANJI,this.data=e}So.getBitsLength=function(t){return t*13};So.prototype.getLength=function(){return this.data.length};So.prototype.getBitsLength=function(){return So.getBitsLength(this.data.length)};So.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=rI.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var sI=So,O3={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,i,s){var a={},c={};c[i]=0;var f=t.PriorityQueue.make();f.push(i,0);for(var g,p,y,w,E,A,R,M,D;!f.empty();){g=f.pop(),p=g.value,w=g.cost,E=n[p]||{};for(y in E)E.hasOwnProperty(y)&&(A=E[y],R=w+A,M=c[y],D=typeof c[y]>"u",(D||M>R)&&(c[y]=R,f.push(y,R),a[y]=p))}if(typeof s<"u"&&typeof c[s]>"u"){var C=["Could not find a path from ",i," to ",s,"."].join("");throw new Error(C)}return a},extract_shortest_path_from_predecessor_list:function(n,i){for(var s=[],a=i;a;)s.push(a),n[a],a=n[a];return s.reverse(),s},find_path:function(n,i,s){var a=t.single_source_shortest_paths(n,i,s);return t.extract_shortest_path_from_predecessor_list(a,s)},PriorityQueue:{make:function(n){var i=t.PriorityQueue,s={},a;n=n||{};for(a in i)i.hasOwnProperty(a)&&(s[a]=i[a]);return s.queue=[],s.sorter=n.sorter||i.default_sorter,s},default_sorter:function(n,i){return n.cost-i.cost},push:function(n,i){var s={value:n,cost:i};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(O3);var aI=O3.exports;(function(e){const t=bs,n=$5,i=eI,s=nI,a=sI,c=Ki,f=$n,g=aI;function p(C){return unescape(encodeURIComponent(C)).length}function y(C,N,_){const k=[];let V;for(;(V=C.exec(_))!==null;)k.push({data:V[0],index:V.index,mode:N,length:V[0].length});return k}function w(C){const N=y(c.NUMERIC,t.NUMERIC,C),_=y(c.ALPHANUMERIC,t.ALPHANUMERIC,C);let k,V;return f.isKanjiModeEnabled()?(k=y(c.BYTE,t.BYTE,C),V=y(c.KANJI,t.KANJI,C)):(k=y(c.BYTE_KANJI,t.BYTE,C),V=[]),N.concat(_,k,V).sort(function(B,z){return B.index-z.index}).map(function(B){return{data:B.data,mode:B.mode,length:B.length}})}function E(C,N){switch(N){case t.NUMERIC:return n.getBitsLength(C);case t.ALPHANUMERIC:return i.getBitsLength(C);case t.KANJI:return a.getBitsLength(C);case t.BYTE:return s.getBitsLength(C)}}function A(C){return C.reduce(function(N,_){const k=N.length-1>=0?N[N.length-1]:null;return k&&k.mode===_.mode?(N[N.length-1].data+=_.data,N):(N.push(_),N)},[])}function R(C){const N=[];for(let _=0;_<C.length;_++){const k=C[_];switch(k.mode){case t.NUMERIC:N.push([k,{data:k.data,mode:t.ALPHANUMERIC,length:k.length},{data:k.data,mode:t.BYTE,length:k.length}]);break;case t.ALPHANUMERIC:N.push([k,{data:k.data,mode:t.BYTE,length:k.length}]);break;case t.KANJI:N.push([k,{data:k.data,mode:t.BYTE,length:p(k.data)}]);break;case t.BYTE:N.push([{data:k.data,mode:t.BYTE,length:p(k.data)}])}}return N}function M(C,N){const _={},k={start:{}};let V=["start"];for(let L=0;L<C.length;L++){const B=C[L],z=[];for(let P=0;P<B.length;P++){const Y=B[P],H=""+L+P;z.push(H),_[H]={node:Y,lastCount:0},k[H]={};for(let Q=0;Q<V.length;Q++){const te=V[Q];_[te]&&_[te].node.mode===Y.mode?(k[te][H]=E(_[te].lastCount+Y.length,Y.mode)-E(_[te].lastCount,Y.mode),_[te].lastCount+=Y.length):(_[te]&&(_[te].lastCount=Y.length),k[te][H]=E(Y.length,Y.mode)+4+t.getCharCountIndicator(Y.mode,N))}}V=z}for(let L=0;L<V.length;L++)k[V[L]].end=0;return{map:k,table:_}}function D(C,N){let _;const k=t.getBestModeForData(C);if(_=t.from(N,k),_!==t.BYTE&&_.bit<k.bit)throw new Error('"'+C+'" cannot be encoded with mode '+t.toString(_)+`.
 Suggested mode is: `+t.toString(k));switch(_===t.KANJI&&!f.isKanjiModeEnabled()&&(_=t.BYTE),_){case t.NUMERIC:return new n(C);case t.ALPHANUMERIC:return new i(C);case t.KANJI:return new a(C);case t.BYTE:return new s(C)}}e.fromArray=function(N){return N.reduce(function(_,k){return typeof k=="string"?_.push(D(k,null)):k.data&&_.push(D(k.data,k.mode)),_},[])},e.fromString=function(N,_){const k=w(N,f.isKanjiModeEnabled()),V=R(k),L=M(V,_),B=g.find_path(L.map,"start","end"),z=[];for(let P=1;P<B.length-1;P++)z.push(L.table[B[P]].node);return e.fromArray(A(z))},e.rawSplit=function(N){return e.fromArray(w(N,f.isKanjiModeEnabled()))}})(j3);const mh=$n,jf=dh,oI=V5,lI=z5,cI=S3,uI=C3,u1=N3,d1=hh,dI=G5,_d=I3,hI=D3,fI=bs,Of=j3;function mI(e,t){const n=e.size,i=uI.getPositions(t);for(let s=0;s<i.length;s++){const a=i[s][0],c=i[s][1];for(let f=-1;f<=7;f++)if(!(a+f<=-1||n<=a+f))for(let g=-1;g<=7;g++)c+g<=-1||n<=c+g||(f>=0&&f<=6&&(g===0||g===6)||g>=0&&g<=6&&(f===0||f===6)||f>=2&&f<=4&&g>=2&&g<=4?e.set(a+f,c+g,!0,!0):e.set(a+f,c+g,!1,!0))}}function gI(e){const t=e.size;for(let n=8;n<t-8;n++){const i=n%2===0;e.set(n,6,i,!0),e.set(6,n,i,!0)}}function pI(e,t){const n=cI.getPositions(t);for(let i=0;i<n.length;i++){const s=n[i][0],a=n[i][1];for(let c=-2;c<=2;c++)for(let f=-2;f<=2;f++)c===-2||c===2||f===-2||f===2||c===0&&f===0?e.set(s+c,a+f,!0,!0):e.set(s+c,a+f,!1,!0)}}function xI(e,t){const n=e.size,i=_d.getEncodedBits(t);let s,a,c;for(let f=0;f<18;f++)s=Math.floor(f/3),a=f%3+n-8-3,c=(i>>f&1)===1,e.set(s,a,c,!0),e.set(a,s,c,!0)}function kf(e,t,n){const i=e.size,s=hI.getEncodedBits(t,n);let a,c;for(a=0;a<15;a++)c=(s>>a&1)===1,a<6?e.set(a,8,c,!0):a<8?e.set(a+1,8,c,!0):e.set(i-15+a,8,c,!0),a<8?e.set(8,i-a-1,c,!0):a<9?e.set(8,15-a-1+1,c,!0):e.set(8,15-a-1,c,!0);e.set(i-8,8,1,!0)}function yI(e,t){const n=e.size;let i=-1,s=n-1,a=7,c=0;for(let f=n-1;f>0;f-=2)for(f===6&&f--;;){for(let g=0;g<2;g++)if(!e.isReserved(s,f-g)){let p=!1;c<t.length&&(p=(t[c]>>>a&1)===1),e.set(s,f-g,p),a--,a===-1&&(c++,a=7)}if(s+=i,s<0||n<=s){s-=i,i=-i;break}}}function bI(e,t,n){const i=new oI;n.forEach(function(g){i.put(g.mode.bit,4),i.put(g.getLength(),fI.getCharCountIndicator(g.mode,e)),g.write(i)});const s=mh.getSymbolTotalCodewords(e),a=d1.getTotalCodewordsCount(e,t),c=(s-a)*8;for(i.getLengthInBits()+4<=c&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);const f=(c-i.getLengthInBits())/8;for(let g=0;g<f;g++)i.put(g%2?17:236,8);return wI(i,e,t)}function wI(e,t,n){const i=mh.getSymbolTotalCodewords(t),s=d1.getTotalCodewordsCount(t,n),a=i-s,c=d1.getBlocksCount(t,n),f=i%c,g=c-f,p=Math.floor(i/c),y=Math.floor(a/c),w=y+1,E=p-y,A=new dI(E);let R=0;const M=new Array(c),D=new Array(c);let C=0;const N=new Uint8Array(e.buffer);for(let B=0;B<c;B++){const z=B<g?y:w;M[B]=N.slice(R,R+z),D[B]=A.encode(M[B]),R+=z,C=Math.max(C,z)}const _=new Uint8Array(i);let k=0,V,L;for(V=0;V<C;V++)for(L=0;L<c;L++)V<M[L].length&&(_[k++]=M[L][V]);for(V=0;V<E;V++)for(L=0;L<c;L++)_[k++]=D[L][V];return _}function vI(e,t,n,i){let s;if(Array.isArray(e))s=Of.fromArray(e);else if(typeof e=="string"){let p=t;if(!p){const y=Of.rawSplit(e);p=_d.getBestVersionForData(y,n)}s=Of.fromString(e,p||40)}else throw new Error("Invalid data");const a=_d.getBestVersionForData(s,n);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const c=bI(t,n,s),f=mh.getSymbolSize(t),g=new lI(f);return mI(g,t),gI(g),pI(g,t),kf(g,n,0),t>=7&&xI(g,t),yI(g,c),isNaN(i)&&(i=u1.getBestMask(g,kf.bind(null,g,n))),u1.applyMask(i,g),kf(g,n,i),{modules:g,version:t,errorCorrectionLevel:n,maskPattern:i,segments:s}}E3.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let i=jf.M,s,a;return typeof n<"u"&&(i=jf.from(n.errorCorrectionLevel,jf.M),s=_d.from(n.version),a=u1.from(n.maskPattern),n.toSJISFunc&&mh.setToSJISFunction(n.toSJISFunc)),vI(t,s,i,a)};var k3={},Km={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let i=n.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+n);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(a){return[a,a]}))),i.length===6&&i.push("F","F");const s=parseInt(i.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+i.slice(0,6).join("")}}e.getOptions=function(i){i||(i={}),i.color||(i.color={});const s=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,a=i.width&&i.width>=21?i.width:void 0,c=i.scale||4;return{width:a,scale:a?4:c,margin:s,color:{dark:t(i.color.dark||"#000000ff"),light:t(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},e.getScale=function(i,s){return s.width&&s.width>=i+s.margin*2?s.width/(i+s.margin*2):s.scale},e.getImageWidth=function(i,s){const a=e.getScale(i,s);return Math.floor((i+s.margin*2)*a)},e.qrToImageData=function(i,s,a){const c=s.modules.size,f=s.modules.data,g=e.getScale(c,a),p=Math.floor((c+a.margin*2)*g),y=a.margin*g,w=[a.color.light,a.color.dark];for(let E=0;E<p;E++)for(let A=0;A<p;A++){let R=(E*p+A)*4,M=a.color.light;if(E>=y&&A>=y&&E<p-y&&A<p-y){const D=Math.floor((E-y)/g),C=Math.floor((A-y)/g);M=w[f[D*c+C]?1:0]}i[R++]=M.r,i[R++]=M.g,i[R++]=M.b,i[R]=M.a}}})(Km);(function(e){const t=Km;function n(s,a,c){s.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=c,a.width=c,a.style.height=c+"px",a.style.width=c+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,c,f){let g=f,p=c;typeof g>"u"&&(!c||!c.getContext)&&(g=c,c=void 0),c||(p=i()),g=t.getOptions(g);const y=t.getImageWidth(a.modules.size,g),w=p.getContext("2d"),E=w.createImageData(y,y);return t.qrToImageData(E.data,a,g),n(w,p,y),w.putImageData(E,0,0),p},e.renderToDataURL=function(a,c,f){let g=f;typeof g>"u"&&(!c||!c.getContext)&&(g=c,c=void 0),g||(g={});const p=e.render(a,c,g),y=g.type||"image/png",w=g.rendererOpts||{};return p.toDataURL(y,w.quality)}})(k3);var L3={};const EI=Km;function iy(e,t){const n=e.a/255,i=t+'="'+e.hex+'"';return n<1?i+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':i}function Lf(e,t,n){let i=e+t;return typeof n<"u"&&(i+=" "+n),i}function AI(e,t,n){let i="",s=0,a=!1,c=0;for(let f=0;f<e.length;f++){const g=Math.floor(f%t),p=Math.floor(f/t);!g&&!a&&(a=!0),e[f]?(c++,f>0&&g>0&&e[f-1]||(i+=a?Lf("M",g+n,.5+p+n):Lf("m",s,0),s=0,a=!1),g+1<t&&e[f+1]||(i+=Lf("h",c),c=0)):s++}return i}L3.render=function(t,n,i){const s=EI.getOptions(n),a=t.modules.size,c=t.modules.data,f=a+s.margin*2,g=s.color.light.a?"<path "+iy(s.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",p="<path "+iy(s.color.dark,"stroke")+' d="'+AI(c,a,s.margin)+'"/>',y='viewBox="0 0 '+f+" "+f+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+y+' shape-rendering="crispEdges">'+g+p+`</svg>
`;return typeof i=="function"&&i(null,E),E};const SI=U5,h1=E3,B3=k3,CI=L3;function Qm(e,t,n,i,s){const a=[].slice.call(arguments,1),c=a.length,f=typeof a[c-1]=="function";if(!f&&!SI())throw new Error("Callback required as last argument");if(f){if(c<2)throw new Error("Too few arguments provided");c===2?(s=n,n=t,t=i=void 0):c===3&&(t.getContext&&typeof s>"u"?(s=i,i=void 0):(s=i,i=n,n=t,t=void 0))}else{if(c<1)throw new Error("Too few arguments provided");return c===1?(n=t,t=i=void 0):c===2&&!t.getContext&&(i=n,n=t,t=void 0),new Promise(function(g,p){try{const y=h1.create(n,i);g(e(y,t,i))}catch(y){p(y)}})}try{const g=h1.create(n,i);s(null,e(g,t,i))}catch(g){s(g)}}Ni.create=h1.create;Ni.toCanvas=Qm.bind(null,B3.render);Ni.toDataURL=Qm.bind(null,B3.renderToDataURL);Ni.toString=Qm.bind(null,function(e,t,n){return CI.render(e,n)});function NI({userCompany:e}){var V;const[t,n]=O.useState([]),[i,s]=O.useState([]),[a,c]=O.useState(!1),[f,g]=O.useState(null),[p,y]=O.useState(!0),[w,E]=O.useState({company_id:"",name:"",description:"",date:"",location:"",max_attendees:1e3});O.useEffect(()=>{A(),R()},[]);const A=async()=>{try{let L=ue.from("events").select(`
          *,
          company:companies(name)
        `);e&&(L=L.eq("company_id",e.company_id));const{data:B,error:z}=await L.order("created_at",{ascending:!1});if(z)throw z;const P=(B==null?void 0:B.map(H=>({...H,company:Array.isArray(H.company)?H.company[0]:H.company})))||[],Y=await Promise.all(P.map(async H=>{const{data:Q}=await ue.from("attendees").select("id, checked_in").eq("event_id",H.id);return{...H,attendee_count:(Q==null?void 0:Q.length)||0,checked_in_count:(Q==null?void 0:Q.filter(te=>te.checked_in).length)||0}}));n(Y)}catch(L){le.error("Error fetching events: "+L.message)}finally{y(!1)}},R=async()=>{try{let L=ue.from("companies").select("*").order("name");e&&(L=L.eq("id",e.company_id));const{data:B,error:z}=await L;if(z)throw z;s(B)}catch(L){le.error("Error fetching companies: "+L.message)}},M=async L=>{if(L.preventDefault(),!(!w.name.trim()||!w.company_id))try{if(f){const{error:B}=await ue.from("events").update({company_id:w.company_id,name:w.name,description:w.description||null,date:w.date||null,location:w.location||null,max_attendees:w.max_attendees}).eq("id",f.id);if(B)throw B;le.success("Event updated successfully!")}else{const{data:B,error:z}=await ue.from("events").insert([{company_id:w.company_id,name:w.name,description:w.description||null,date:w.date||null,location:w.location||null,max_attendees:w.max_attendees}]).select();if(z)throw z;const P=`${window.location.origin}/public/register/${B[0].id}`,Y=await Ni.toDataURL(P,{width:300,margin:2,errorCorrectionLevel:"M"});await ue.from("events").update({registration_qr:Y}).eq("id",B[0].id),le.success("Event created successfully!")}C(),A()}catch(B){le.error("Error saving event: "+B.message)}},D=async L=>{if(confirm("Are you sure you want to delete this event? This will also delete all attendees."))try{const{error:B}=await ue.from("events").delete().eq("id",L);if(B)throw B;le.success("Event deleted successfully!"),A()}catch(B){le.error("Error deleting event: "+B.message)}},C=()=>{E({company_id:e?e.company_id:"",name:"",description:"",date:"",location:"",max_attendees:1e3}),g(null),c(!1)},N=L=>{g(L),E({company_id:e?e.company_id:L.company_id,name:L.name,description:L.description||"",date:L.date?new Date(L.date).toISOString().slice(0,16):"",location:L.location||"",max_attendees:L.max_attendees||1e3}),c(!0)},_=L=>`${window.location.origin}/public/register/${L}`,k=L=>{if(!L.registration_qr)return;const B=document.createElement("a");B.href=L.registration_qr,B.download=`${L.name}-registration-qr.png`,B.click()};return p?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsx("div",{children:h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl shadow-lg mr-4",children:h.jsx(Kt,{className:"h-8 w-8 text-white"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"Event Management"}),h.jsx("p",{className:"text-gray-600 text-lg",children:"Manage events across all companies"})]})]})}),h.jsxs("button",{onClick:()=>c(!0),className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-6 py-3 rounded-xl hover:from-blue-600 hover:to-cyan-600 transition-all duration-300 flex items-center shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[h.jsx(nc,{className:"h-5 w-5 mr-2"}),"Add Event"]})]}),h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(L=>h.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 hover:shadow-2xl transition-all duration-300 card-hover",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:L.name}),h.jsx("p",{className:"text-sm font-semibold bg-gradient-to-r from-blue-500 to-cyan-500 bg-clip-text text-transparent",children:L.company.name})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:()=>N(L),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-300",children:h.jsx(uh,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>D(L.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-300",children:h.jsx(ds,{className:"h-4 w-4"})})]})]}),L.description&&h.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 bg-gray-50 p-3 rounded-lg",children:L.description}),h.jsxs("div",{className:"space-y-3 mb-4",children:[L.date&&h.jsxs("div",{className:"flex items-center text-gray-600 text-sm bg-blue-50 p-2 rounded-lg",children:[h.jsx(Kt,{className:"h-4 w-4 mr-2"}),h.jsx("span",{children:new Date(L.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),L.location&&h.jsxs("div",{className:"flex items-center text-gray-600 text-sm bg-green-50 p-2 rounded-lg",children:[h.jsx(ta,{className:"h-4 w-4 mr-2"}),h.jsx("span",{className:"truncate",children:L.location})]}),h.jsxs("div",{className:"flex items-center text-gray-600 text-sm bg-purple-50 p-2 rounded-lg",children:[h.jsx(Ot,{className:"h-4 w-4 mr-2"}),h.jsxs("span",{children:[L.attendee_count," registered  ",L.checked_in_count," checked in"]})]})]}),L.registration_qr&&h.jsx("div",{className:"border-t border-gray-200 pt-4 mb-4",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Registration QR Code"}),h.jsx("div",{className:"flex justify-center mb-3",children:h.jsx("img",{src:L.registration_qr,alt:"Registration QR Code",className:"w-32 h-32 border-2 border-gray-200 rounded-xl shadow-sm"})}),h.jsx("p",{className:"text-xs text-gray-600 mb-2 bg-gray-50 px-3 py-1 rounded-full",children:"Scan to register for this event"})]})}),h.jsx("div",{className:"border-t border-gray-200 pt-4",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs("button",{onClick:()=>navigator.clipboard.writeText(_(L.id)),className:"text-blue-600 hover:text-blue-700 text-sm font-semibold flex items-center bg-blue-50 px-3 py-2 rounded-lg hover:bg-blue-100 transition-all duration-300",children:[h.jsx(W8,{className:"h-4 w-4 mr-1"}),"Copy Link"]}),L.registration_qr&&h.jsxs("button",{onClick:()=>k(L),className:"text-green-600 hover:text-green-700 text-sm font-semibold flex items-center bg-green-50 px-3 py-2 rounded-lg hover:bg-green-100 transition-all duration-300",children:[h.jsx(us,{className:"h-4 w-4 mr-1"}),"Download"]})]}),h.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:["Max: ",L.max_attendees]})]})})]},L.id))}),t.length===0&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"p-4 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl w-fit mx-auto mb-6",children:h.jsx(Kt,{className:"h-16 w-16 text-gray-400"})}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No events found"}),h.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Create your first event to get started"}),h.jsx("button",{onClick:()=>c(!0),className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-6 py-3 rounded-xl hover:from-blue-600 hover:to-cyan-600 transition-all duration-300 shadow-lg font-semibold",children:"Add Event"})]}),a&&h.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[h.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:f?"Edit Event":"Create New Event"}),h.jsxs("form",{onSubmit:M,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e?"Company":"Company *"}),e?h.jsx("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:((V=i.find(L=>L.id===e.company_id))==null?void 0:V.name)||"Your Company"}):h.jsxs("select",{value:w.company_id,onChange:L=>E({...w,company_id:L.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",required:!0,children:[h.jsx("option",{value:"",children:"Select a company"}),i.map(L=>h.jsx("option",{value:L.id,children:L.name},L.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Name *"}),h.jsx("input",{type:"text",value:w.name,onChange:L=>E({...w,name:L.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",placeholder:"Enter event name",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),h.jsx("textarea",{value:w.description,onChange:L=>E({...w,description:L.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",rows:3,placeholder:"Enter event description"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date & Time"}),h.jsx("input",{type:"datetime-local",value:w.date,onChange:L=>E({...w,date:L.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Attendees"}),h.jsx("input",{type:"number",value:w.max_attendees,onChange:L=>E({...w,max_attendees:parseInt(L.target.value)||1e3}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",min:"1"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),h.jsx("input",{type:"text",value:w.location,onChange:L=>E({...w,location:L.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",placeholder:"Enter event location"})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[h.jsx("button",{type:"button",onClick:C,className:"px-6 py-3 text-gray-600 hover:text-gray-800 bg-gray-100 hover:bg-gray-200 rounded-xl transition-all duration-300 font-medium",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all duration-300 font-semibold shadow-lg",children:f?"Update Event":"Create Event"})]})]})]})})]})}function _I({userCompany:e}){const[t,n]=O.useState([]),[i,s]=O.useState([]),[a,c]=O.useState(""),[f,g]=O.useState(""),[p,y]=O.useState(!1),[w,E]=O.useState(!1),[A,R]=O.useState(!1),[M,D]=O.useState(!0),[C,N]=O.useState({event_id:"",name:"",email:"",phone:"",identification_number:"",staff_id:""});O.useEffect(()=>{_()},[]),O.useEffect(()=>{a?k():V()},[a]);const _=async()=>{try{let H=ue.from("events").select(`
          id,
          name,
          company_id,
          company:companies(name)
        `);e&&(H=H.eq("company_id",e.company_id));const{data:Q,error:te}=await H.order("created_at",{ascending:!1});if(te)throw te;s(Q),e&&Q&&Q.length>0&&c(Q[0].id)}catch(H){le.error("Error fetching events: "+H.message)}},k=async()=>{try{D(!0);let H=ue.from("attendees").select(`
          *,
          event:events(
            name,
            company:companies(name)
          )
        `);if(a)H=H.eq("event_id",a);else if(e){const fe=i.map(X=>X.id);fe.length>0&&(H=H.in("event_id",fe))}const{data:Q,error:te}=await H.order("created_at",{ascending:!1});if(te)throw te;n(Q)}catch(H){le.error("Error fetching attendees: "+H.message)}finally{D(!1)}},V=async()=>{try{D(!0);let H=ue.from("attendees").select(`
          *,
          event:events(
            name,
            company:companies(name)
          )
        `);if(e){const fe=i.map(X=>X.id);fe.length>0&&(H=H.in("event_id",fe))}const{data:Q,error:te}=await H.order("created_at",{ascending:!1});if(te)throw te;n(Q)}catch(H){le.error("Error fetching attendees: "+H.message)}finally{D(!1)}},L=async H=>{if(H.preventDefault(),!(!C.name.trim()||!C.event_id))try{const Q=crypto.randomUUID(),te=`${Q}|${C.event_id}|${C.name}`,fe=await Ni.toDataURL(te,{width:200,margin:1,errorCorrectionLevel:"L"}),{error:X}=await ue.from("attendees").insert([{id:Q,event_id:C.event_id,name:C.name,email:C.email||null,phone:C.phone||null,identification_number:C.identification_number,staff_id:C.staff_id||null,qr_code:fe}]);if(X)throw X;le.success("Attendee added successfully!"),B(),a?k():V()}catch(Q){le.error("Error adding attendee: "+Q.message)}},B=()=>{N({event_id:a,name:"",email:"",phone:"",identification_number:"",staff_id:""}),y(!1)},z=()=>{var X;const H=[["Name","Email","Phone","Event","Checked In","Check-in Time"],...Y.map(ne=>[ne.name,ne.email||"",ne.phone||"",ne.event.name,ne.checked_in?"Yes":"No",ne.check_in_time?new Date(ne.check_in_time).toLocaleString():""])].map(ne=>ne.join(",")).join(`
`),Q=new Blob([H],{type:"text/csv"}),te=window.URL.createObjectURL(Q),fe=document.createElement("a");fe.href=te,fe.download=`attendees-${a?(X=i.find(ne=>ne.id===a))==null?void 0:X.name:"all"}-${new Date().toISOString().split("T")[0]}.csv`,fe.click(),window.URL.revokeObjectURL(te)},P=async H=>{var te;const Q=(te=H.target.files)==null?void 0:te[0];if(Q){if(!Q.name.endsWith(".csv")){le.error("Please select a CSV file");return}R(!0);try{const X=(await Q.text()).split(`
`).filter(_e=>_e.trim());if(X.length<2){le.error("CSV file must have at least a header row and one data row");return}const ne=X[0].split(",").map(_e=>_e.trim().toLowerCase()),W=["name","identification_number"].filter(_e=>!ne.includes(_e));if(W.length>0){le.error(`Missing required columns: ${W.join(", ")}`);return}const ae=[],J=[];for(let _e=1;_e<X.length;_e++){const Ae=X[_e].split(",").map(ut=>ut.trim()),Ze={};if(ne.forEach((ut,vs)=>{Ze[ut]=Ae[vs]||""}),!Ze.name||!Ze.identification_number){J.push(`Row ${_e+1}: Missing name or identification number`);continue}const ye=crypto.randomUUID(),Vo=`${ye}|${C.event_id}|${Ze.name}`;try{const ut=await Ni.toDataURL(Vo,{width:200,margin:1,errorCorrectionLevel:"L"});ae.push({id:ye,event_id:C.event_id,name:Ze.name,email:Ze.email||null,phone:Ze.phone||null,identification_number:Ze.identification_number,staff_id:Ze.staff_id||null,qr_code:ut})}catch{J.push(`Row ${_e+1}: Error generating QR code`)}}if(J.length>0&&le.error(`Import errors: ${J.slice(0,3).join(", ")}${J.length>3?"...":""}`),ae.length===0){le.error("No valid attendees to import");return}const me=50;let ve=0;for(let _e=0;_e<ae.length;_e+=me){const Ae=ae.slice(_e,_e+me),{error:Ze}=await ue.from("attendees").insert(Ae);Ze?(console.error("Batch import error:",Ze),le.error(`Error importing batch: ${Ze.message}`)):ve+=Ae.length}le.success(`Successfully imported ${ve} attendees`),E(!1),a?k():V()}catch(fe){le.error("Error reading CSV file: "+fe.message)}finally{R(!1)}}},Y=t.filter(H=>H.name.toLowerCase().includes(f.toLowerCase())||H.email&&H.email.toLowerCase().includes(f.toLowerCase())||H.identification_number&&H.identification_number.toLowerCase().includes(f.toLowerCase())||H.staff_id&&H.staff_id.toLowerCase().includes(f.toLowerCase()));return h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Attendee Management"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Manage event attendees and registrations"})]}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsxs("button",{onClick:z,className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all duration-300 flex items-center shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[h.jsx(x3,{className:"h-5 w-5 mr-2"}),"Export CSV"]}),h.jsxs("button",{onClick:()=>E(!0),className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-300 flex items-center shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[h.jsx(Cd,{className:"h-5 w-5 mr-2"}),"Import CSV"]}),h.jsxs("button",{onClick:()=>{N({...C,event_id:a}),y(!0)},className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-6 py-3 rounded-xl hover:from-blue-600 hover:to-cyan-600 transition-all duration-300 flex items-center shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[h.jsx(l1,{className:"h-5 w-5 mr-2"}),"Add Attendee"]})]})]}),h.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 mb-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[!e&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Event"}),h.jsxs("select",{value:a,onChange:H=>c(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"All Events"}),i.map(H=>h.jsxs("option",{value:H.id,children:[H.name," (",H.company.name,")"]},H.id))]})]}),e&&i.length>1&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Event"}),h.jsx("select",{value:a,onChange:H=>c(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:i.map(H=>h.jsx("option",{value:H.id,children:H.name},H.id))})]}),h.jsxs("div",{className:e&&i.length<=1?"md:col-span-2":"",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Attendees"}),h.jsxs("div",{className:"relative",children:[h.jsx(b3,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),h.jsx("input",{type:"text",value:f,onChange:H=>g(H.target.value),className:"w-full pl-10 pr-3 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300 bg-gray-50 focus:bg-white",placeholder:"Search by name, email, ID number, or staff ID"})]})]})]})}),h.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 overflow-hidden",children:[M?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin"}),h.jsx(Ot,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 h-6 w-6 text-purple-600 animate-pulse"})]})}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Attendee"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Identification"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Event"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Contact"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),h.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Y.map(H=>h.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-blue-50 hover:to-cyan-50 transition-all duration-300",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-semibold text-gray-900",children:H.name}),H.staff_id&&h.jsxs("div",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded-full mt-1 inline-block",children:["Staff: ",H.staff_id]})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm font-semibold text-gray-900 bg-gray-50 px-3 py-1 rounded-lg",children:H.identification_number})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-semibold text-gray-900",children:H.event.name}),h.jsx("div",{className:"text-sm text-gray-500 bg-blue-50 px-2 py-1 rounded-full mt-1 inline-block",children:H.event.company.name})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"text-sm text-gray-900",children:[H.email&&h.jsx("div",{children:H.email}),H.phone&&h.jsx("div",{children:H.phone})]})}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[h.jsx("span",{className:`inline-flex px-3 py-2 text-xs font-bold rounded-full shadow-sm ${H.checked_in?"bg-gradient-to-r from-green-500 to-emerald-500 text-white":"bg-gradient-to-r from-yellow-500 to-orange-500 text-white"}`,children:H.checked_in?"Checked In":"Registered"}),H.check_in_time&&h.jsx("div",{className:"text-xs text-gray-500 mt-2 bg-gray-100 px-2 py-1 rounded-full",children:new Date(H.check_in_time).toLocaleString()})]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:h.jsxs("button",{onClick:()=>window.open(`/public/ticket/${H.id}`,"_blank"),className:"text-blue-600 hover:text-blue-800 flex items-center bg-blue-50 px-3 py-2 rounded-lg hover:bg-blue-100 transition-all duration-300 font-semibold",children:[h.jsx(us,{className:"h-4 w-4 mr-1"}),"View Ticket"]})})]},H.id))})]})}),Y.length===0&&!M&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"p-4 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl w-fit mx-auto mb-4",children:h.jsx(Ot,{className:"h-16 w-16 text-gray-400"})}),h.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No attendees found"}),h.jsx("p",{className:"text-gray-600 mb-6",children:f?"No attendees match your search criteria":"No attendees registered yet"})]})]}),p&&h.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8 w-full max-w-md",children:[h.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"Add New Attendee"}),h.jsxs("form",{onSubmit:L,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event *"}),h.jsxs("select",{value:C.event_id,onChange:H=>N({...C,event_id:H.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",required:!0,children:[h.jsx("option",{value:"",children:"Select an event"}),i.map(H=>h.jsx("option",{value:H.id,children:e?H.name:`${H.name} (${H.company.name})`},H.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),h.jsx("input",{type:"text",value:C.name,onChange:H=>N({...C,name:H.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",placeholder:"Enter full name",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Identification Number *"}),h.jsx("input",{type:"text",value:C.identification_number,onChange:H=>N({...C,identification_number:H.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",placeholder:"Enter identification number",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Staff ID"}),h.jsx("input",{type:"text",value:C.staff_id,onChange:H=>N({...C,staff_id:H.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",placeholder:"Enter staff ID (optional)"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),h.jsx("input",{type:"email",value:C.email,onChange:H=>N({...C,email:H.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",placeholder:"Enter email"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),h.jsx("input",{type:"tel",value:C.phone,onChange:H=>N({...C,phone:H.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300",placeholder:"Enter phone number"})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[h.jsx("button",{type:"button",onClick:B,className:"px-6 py-3 text-gray-600 hover:text-gray-800 bg-gray-100 hover:bg-gray-200 rounded-xl transition-all duration-300 font-medium",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-6 py-3 rounded-xl hover:from-blue-600 hover:to-cyan-600 transition-all duration-300 font-semibold shadow-lg",children:"Add Attendee"})]})]})]})}),w&&h.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8 w-full max-w-md",children:[h.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Import Attendees from CSV"}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Event *"}),h.jsxs("select",{value:C.event_id,onChange:H=>N({...C,event_id:H.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300",required:!0,children:[h.jsx("option",{value:"",children:"Select an event"}),i.map(H=>h.jsx("option",{value:H.id,children:e?H.name:`${H.name} (${H.company.name})`},H.id))]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CSV File *"}),h.jsx("input",{type:"file",accept:".csv",onChange:P,disabled:!C.event_id||A,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300 disabled:opacity-50"})]}),h.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4 mb-6 border border-purple-100",children:[h.jsx("h3",{className:"font-semibold text-purple-900 mb-3",children:"CSV Format Requirements:"}),h.jsxs("ul",{className:"text-sm text-purple-800 space-y-2",children:[h.jsxs("li",{children:[" Required columns: ",h.jsx("code",{children:"name"}),", ",h.jsx("code",{children:"identification_number"})]}),h.jsxs("li",{children:[" Optional columns: ",h.jsx("code",{children:"email"}),", ",h.jsx("code",{children:"phone"}),", ",h.jsx("code",{children:"staff_id"})]}),h.jsx("li",{children:" First row must be headers"}),h.jsx("li",{children:" Use comma separation"})]})]}),A&&h.jsxs("div",{className:"mb-6 text-center",children:[h.jsxs("div",{className:"relative mx-auto w-fit",children:[h.jsx("div",{className:"w-12 h-12 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin"}),h.jsx(Cd,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 h-5 w-5 text-purple-600 animate-pulse"})]}),h.jsx("p",{className:"text-sm text-gray-600 mt-3 font-medium",children:"Importing attendees..."})]}),h.jsx("div",{className:"flex justify-end space-x-3",children:h.jsx("button",{type:"button",onClick:()=>E(!1),disabled:A,className:"px-6 py-3 text-gray-600 hover:text-gray-800 bg-gray-100 hover:bg-gray-200 rounded-xl transition-all duration-300 font-medium disabled:opacity-50",children:"Cancel"})})]})})]})}var pe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(pe||(pe={}));var ry=new Map([[pe.QR_CODE,"QR_CODE"],[pe.AZTEC,"AZTEC"],[pe.CODABAR,"CODABAR"],[pe.CODE_39,"CODE_39"],[pe.CODE_93,"CODE_93"],[pe.CODE_128,"CODE_128"],[pe.DATA_MATRIX,"DATA_MATRIX"],[pe.MAXICODE,"MAXICODE"],[pe.ITF,"ITF"],[pe.EAN_13,"EAN_13"],[pe.EAN_8,"EAN_8"],[pe.PDF_417,"PDF_417"],[pe.RSS_14,"RSS_14"],[pe.RSS_EXPANDED,"RSS_EXPANDED"],[pe.UPC_A,"UPC_A"],[pe.UPC_E,"UPC_E"],[pe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),sy;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(sy||(sy={}));function TI(e){return Object.values(pe).includes(e)}var hs;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(hs||(hs={}));var Ai=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[hs.SCAN_TYPE_CAMERA,hs.SCAN_TYPE_FILE],e}(),P3=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!ry.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,ry.get(t))},e}(),ay=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),f1;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(f1||(f1={}));var U3=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:f1.UNKWOWN_ERROR}},e}(),F3=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Pi(e){return typeof e>"u"||e===null}function II(e,t,n){return e>n?n:e<t?t:e}var qa=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Qe=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),oy=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),V3=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var i=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(s),c=Object.keys(t),f=0,g=c;f<g.length;f++){var p=g[f];if(a.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),m1={exports:{}};(function(e,t){(function(n,i){i(t)})(ln,function(n){function i(T){return T==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,r){T.__proto__=r}||function(T,r){for(var o in r)r.hasOwnProperty(o)&&(T[o]=r[o])};function a(T,r){s(T,r);function o(){this.constructor=T}T.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}function c(T,r){var o=Object.setPrototypeOf;o?o(T,r):T.__proto__=r}function f(T,r){r===void 0&&(r=T.constructor);var o=Error.captureStackTrace;o&&o(T,r)}var g=function(T){a(r,T);function r(o){var l=this.constructor,u=T.call(this,o)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),c(u,l.prototype),f(u),u}return r}(Error);class p extends g{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}p.kind="Exception";class y extends p{}y.kind="ArgumentException";class w extends p{}w.kind="IllegalArgumentException";class E{constructor(r){if(this.binarizer=r,r===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,o){return this.binarizer.getBlackRow(r,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,o,l,u){const d=this.binarizer.getLuminanceSource().crop(r,o,l,u);return new E(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class A extends p{static getChecksumInstance(){return new A}}A.kind="ChecksumException";class R{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class M{static arraycopy(r,o,l,u,d){for(;d--;)l[u++]=r[o++]}static currentTimeMillis(){return Date.now()}}class D extends p{}D.kind="IndexOutOfBoundsException";class C extends D{constructor(r=void 0,o=void 0){super(o),this.index=r,this.message=o}}C.kind="ArrayIndexOutOfBoundsException";class N{static fill(r,o){for(let l=0,u=r.length;l<u;l++)r[l]=o}static fillWithin(r,o,l,u){N.rangeCheck(r.length,o,l);for(let d=o;d<l;d++)r[d]=u}static rangeCheck(r,o,l){if(o>l)throw new w("fromIndex("+o+") > toIndex("+l+")");if(o<0)throw new C(o);if(l>r)throw new C(l)}static asList(...r){return r}static create(r,o,l){return Array.from({length:r}).map(d=>Array.from({length:o}).fill(l))}static createInt32Array(r,o,l){return Array.from({length:r}).map(d=>Int32Array.from({length:o}).fill(l))}static equals(r,o){if(!r||!o||!r.length||!o.length||r.length!==o.length)return!1;for(let l=0,u=r.length;l<u;l++)if(r[l]!==o[l])return!1;return!0}static hashCode(r){if(r===null)return 0;let o=1;for(const l of r)o=31*o+l;return o}static fillUint8Array(r,o){for(let l=0;l!==r.length;l++)r[l]=o}static copyOf(r,o){return r.slice(0,o)}static copyOfUint8Array(r,o){if(r.length<=o){const l=new Uint8Array(o);return l.set(r),l}return r.slice(0,o)}static copyOfRange(r,o,l){const u=l-o,d=new Int32Array(u);return M.arraycopy(r,o,d,0,u),d}static binarySearch(r,o,l){l===void 0&&(l=N.numberComparator);let u=0,d=r.length-1;for(;u<=d;){const m=d+u>>1,x=l(o,r[m]);if(x>0)u=m+1;else if(x<0)d=m-1;else return m}return-u-1}static numberComparator(r,o){return r-o}}class _{static numberOfTrailingZeros(r){let o;if(r===0)return 32;let l=31;return o=r<<16,o!==0&&(l-=16,r=o),o=r<<8,o!==0&&(l-=8,r=o),o=r<<4,o!==0&&(l-=4,r=o),o=r<<2,o!==0&&(l-=2,r=o),l-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let o=1;return r>>>16||(o+=16,r<<=16),r>>>24||(o+=8,r<<=8),r>>>28||(o+=4,r<<=4),r>>>30||(o+=2,r<<=2),o-=r>>>31,o}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,o){return Math.trunc(r/o)}static parseInt(r,o=void 0){return parseInt(r,o)}}_.MIN_VALUE_32_BITS=-2147483648,_.MAX_VALUE=Number.MAX_SAFE_INTEGER;class k{constructor(r,o){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,o==null?this.bits=k.makeArray(r):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const o=k.makeArray(r);M.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const o=this.size;if(r>=o)return o;const l=this.bits;let u=Math.floor(r/32),d=l[u];d&=~((1<<(r&31))-1);const m=l.length;for(;d===0;){if(++u===m)return o;d=l[u]}const x=u*32+_.numberOfTrailingZeros(d);return x>o?o:x}getNextUnset(r){const o=this.size;if(r>=o)return o;const l=this.bits;let u=Math.floor(r/32),d=~l[u];d&=~((1<<(r&31))-1);const m=l.length;for(;d===0;){if(++u===m)return o;d=~l[u]}const x=u*32+_.numberOfTrailingZeros(d);return x>o?o:x}setBulk(r,o){this.bits[Math.floor(r/32)]=o}setRange(r,o){if(o<r||r<0||o>this.size)throw new w;if(o===r)return;o--;const l=Math.floor(r/32),u=Math.floor(o/32),d=this.bits;for(let m=l;m<=u;m++){const x=m>l?0:r&31,v=(2<<(m<u?31:o&31))-(1<<x);d[m]|=v}}clear(){const r=this.bits.length,o=this.bits;for(let l=0;l<r;l++)o[l]=0}isRange(r,o,l){if(o<r||r<0||o>this.size)throw new w;if(o===r)return!0;o--;const u=Math.floor(r/32),d=Math.floor(o/32),m=this.bits;for(let x=u;x<=d;x++){const b=x>u?0:r&31,S=(2<<(x<d?31:o&31))-(1<<b)&4294967295;if((m[x]&S)!==(l?S:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,o){if(o<0||o>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let l=o;l>0;l--)this.appendBit((r>>l-1&1)===1)}appendBitArray(r){const o=r.size;this.ensureCapacity(this.size+o);for(let l=0;l<o;l++)this.appendBit(r.get(l))}xor(r){if(this.size!==r.size)throw new w("Sizes don't match");const o=this.bits;for(let l=0,u=o.length;l<u;l++)o[l]^=r.bits[l]}toBytes(r,o,l,u){for(let d=0;d<u;d++){let m=0;for(let x=0;x<8;x++)this.get(r)&&(m|=1<<7-x),r++;o[l+d]=m}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),l=o+1,u=this.bits;for(let d=0;d<l;d++){let m=u[d];m=m>>1&1431655765|(m&1431655765)<<1,m=m>>2&858993459|(m&858993459)<<2,m=m>>4&252645135|(m&252645135)<<4,m=m>>8&16711935|(m&16711935)<<8,m=m>>16&65535|(m&65535)<<16,r[o-d]=m}if(this.size!==l*32){const d=l*32-this.size;let m=r[0]>>>d;for(let x=1;x<l;x++){const b=r[x];m|=b<<32-d,r[x-1]=m,m=b>>>d}r[l-1]=m}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof k))return!1;const o=r;return this.size===o.size&&N.equals(this.bits,o.bits)}hashCode(){return 31*this.size+N.hashCode(this.bits)}toString(){let r="";for(let o=0,l=this.size;o<l;o++)o&7||(r+=" "),r+=this.get(o)?"X":".";return r}clone(){return new k(this.size,this.bits.slice())}}var V;(function(T){T[T.OTHER=0]="OTHER",T[T.PURE_BARCODE=1]="PURE_BARCODE",T[T.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",T[T.TRY_HARDER=3]="TRY_HARDER",T[T.CHARACTER_SET=4]="CHARACTER_SET",T[T.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",T[T.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",T[T.ASSUME_GS1=7]="ASSUME_GS1",T[T.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",T[T.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",T[T.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(V||(V={}));var L=V;class B extends p{static getFormatInstance(){return new B}}B.kind="FormatException";var z;(function(T){T[T.Cp437=0]="Cp437",T[T.ISO8859_1=1]="ISO8859_1",T[T.ISO8859_2=2]="ISO8859_2",T[T.ISO8859_3=3]="ISO8859_3",T[T.ISO8859_4=4]="ISO8859_4",T[T.ISO8859_5=5]="ISO8859_5",T[T.ISO8859_6=6]="ISO8859_6",T[T.ISO8859_7=7]="ISO8859_7",T[T.ISO8859_8=8]="ISO8859_8",T[T.ISO8859_9=9]="ISO8859_9",T[T.ISO8859_10=10]="ISO8859_10",T[T.ISO8859_11=11]="ISO8859_11",T[T.ISO8859_13=12]="ISO8859_13",T[T.ISO8859_14=13]="ISO8859_14",T[T.ISO8859_15=14]="ISO8859_15",T[T.ISO8859_16=15]="ISO8859_16",T[T.SJIS=16]="SJIS",T[T.Cp1250=17]="Cp1250",T[T.Cp1251=18]="Cp1251",T[T.Cp1252=19]="Cp1252",T[T.Cp1256=20]="Cp1256",T[T.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",T[T.UTF8=22]="UTF8",T[T.ASCII=23]="ASCII",T[T.Big5=24]="Big5",T[T.GB18030=25]="GB18030",T[T.EUC_KR=26]="EUC_KR"})(z||(z={}));class P{constructor(r,o,l,...u){this.valueIdentifier=r,this.name=l,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=u,P.VALUE_IDENTIFIER_TO_ECI.set(r,this),P.NAME_TO_ECI.set(l,this);const d=this.values;for(let m=0,x=d.length;m!==x;m++){const b=d[m];P.VALUES_TO_ECI.set(b,this)}for(const m of u)P.NAME_TO_ECI.set(m,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new B("incorect value");const o=P.VALUES_TO_ECI.get(r);if(o===void 0)throw new B("incorect value");return o}static getCharacterSetECIByName(r){const o=P.NAME_TO_ECI.get(r);if(o===void 0)throw new B("incorect value");return o}equals(r){if(!(r instanceof P))return!1;const o=r;return this.getName()===o.getName()}}P.VALUE_IDENTIFIER_TO_ECI=new Map,P.VALUES_TO_ECI=new Map,P.NAME_TO_ECI=new Map,P.Cp437=new P(z.Cp437,Int32Array.from([0,2]),"Cp437"),P.ISO8859_1=new P(z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),P.ISO8859_2=new P(z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),P.ISO8859_3=new P(z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),P.ISO8859_4=new P(z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),P.ISO8859_5=new P(z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),P.ISO8859_6=new P(z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),P.ISO8859_7=new P(z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),P.ISO8859_8=new P(z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),P.ISO8859_9=new P(z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),P.ISO8859_10=new P(z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),P.ISO8859_11=new P(z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),P.ISO8859_13=new P(z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),P.ISO8859_14=new P(z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),P.ISO8859_15=new P(z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),P.ISO8859_16=new P(z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),P.SJIS=new P(z.SJIS,20,"SJIS","Shift_JIS"),P.Cp1250=new P(z.Cp1250,21,"Cp1250","windows-1250"),P.Cp1251=new P(z.Cp1251,22,"Cp1251","windows-1251"),P.Cp1252=new P(z.Cp1252,23,"Cp1252","windows-1252"),P.Cp1256=new P(z.Cp1256,24,"Cp1256","windows-1256"),P.UnicodeBigUnmarked=new P(z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),P.UTF8=new P(z.UTF8,26,"UTF8","UTF-8"),P.ASCII=new P(z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),P.Big5=new P(z.Big5,28,"Big5"),P.GB18030=new P(z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),P.EUC_KR=new P(z.EUC_KR,30,"EUC_KR","EUC-KR");class Y extends p{}Y.kind="UnsupportedOperationException";class H{static decode(r,o){const l=this.encodingName(o);return this.customDecoder?this.customDecoder(r,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(r,l):new TextDecoder(l).decode(r)}static shouldDecodeOnFallback(r){return!H.isBrowser()&&r==="ISO-8859-1"}static encode(r,o){const l=this.encodingName(o);return this.customEncoder?this.customEncoder(r,l):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof P?r:P.getCharacterSetECIByName(r)}static decodeFallback(r,o){const l=this.encodingCharacterSet(o);if(H.isDecodeFallbackSupported(l)){let u="";for(let d=0,m=r.length;d<m;d++){let x=r[d].toString(16);x.length<2&&(x="0"+x),u+="%"+x}return decodeURIComponent(u)}if(l.equals(P.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new Y(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(P.UTF8)||r.equals(P.ISO8859_1)||r.equals(P.ASCII)}static encodeFallback(r){const l=btoa(unescape(encodeURIComponent(r))).split(""),u=[];for(let d=0;d<l.length;d++)u.push(l[d].charCodeAt(0));return new Uint8Array(u)}}class Q{static castAsNonUtf8Char(r,o=null){const l=o?o.getName():this.ISO88591;return H.decode(new Uint8Array([r]),l)}static guessEncoding(r,o){if(o!=null&&o.get(L.CHARACTER_SET)!==void 0)return o.get(L.CHARACTER_SET).toString();const l=r.length;let u=!0,d=!0,m=!0,x=0,b=0,v=0,S=0,I=0,j=0,F=0,G=0,q=0,Z=0,ee=0;const ce=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let de=0;de<l&&(u||d||m);de++){const oe=r[de]&255;m&&(x>0?oe&128?x--:m=!1:oe&128&&(oe&64?(x++,oe&32?(x++,oe&16?(x++,oe&8?m=!1:S++):v++):b++):m=!1)),u&&(oe>127&&oe<160?u=!1:oe>159&&(oe<192||oe===215||oe===247)&&ee++),d&&(I>0?oe<64||oe===127||oe>252?d=!1:I--:oe===128||oe===160||oe>239?d=!1:oe>160&&oe<224?(j++,G=0,F++,F>q&&(q=F)):oe>127?(I++,F=0,G++,G>Z&&(Z=G)):(F=0,G=0))}return m&&x>0&&(m=!1),d&&I>0&&(d=!1),m&&(ce||b+v+S>0)?Q.UTF8:d&&(Q.ASSUME_SHIFT_JIS||q>=3||Z>=3)?Q.SHIFT_JIS:u&&d?q===2&&j===2||ee*10>=l?Q.SHIFT_JIS:Q.ISO88591:u?Q.ISO88591:d?Q.SHIFT_JIS:m?Q.UTF8:Q.PLATFORM_DEFAULT_ENCODING}static format(r,...o){let l=-1;function u(m,x,b,v,S,I){if(m==="%%")return"%";if(o[++l]===void 0)return;m=v?parseInt(v.substr(1)):void 0;let j=S?parseInt(S.substr(1)):void 0,F;switch(I){case"s":F=o[l];break;case"c":F=o[l][0];break;case"f":F=parseFloat(o[l]).toFixed(m);break;case"p":F=parseFloat(o[l]).toPrecision(m);break;case"e":F=parseFloat(o[l]).toExponential(m);break;case"x":F=parseInt(o[l]).toString(j||16);break;case"d":F=parseFloat(parseInt(o[l],j||10).toPrecision(m)).toFixed(0);break}F=typeof F=="object"?JSON.stringify(F):(+F).toString(j);let G=parseInt(b),q=b&&b[0]+""=="0"?"0":" ";for(;F.length<G;)F=x!==void 0?F+q:q+F;return F}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(d,u)}static getBytes(r,o){return H.encode(r,o)}static getCharCode(r,o=0){return r.charCodeAt(o)}static getCharAt(r){return String.fromCharCode(r)}}Q.SHIFT_JIS=P.SJIS.getName(),Q.GB2312="GB2312",Q.ISO88591=P.ISO8859_1.getName(),Q.EUC_JP="EUC_JP",Q.UTF8=P.UTF8.getName(),Q.PLATFORM_DEFAULT_ENCODING=Q.UTF8,Q.ASSUME_SHIFT_JIS=!1;class te{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=Q.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,o,l){for(let u=o;o<o+l;u++)this.append(r[u]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,o){this.value=this.value.substr(0,r)+o+this.value.substr(r+1)}substring(r,o){return this.value.substring(r,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,o){this.value=this.value.substr(0,r)+o+this.value.substr(r+o.length)}}class fe{constructor(r,o,l,u){if(this.width=r,this.height=o,this.rowSize=l,this.bits=u,o==null&&(o=r),this.height=o,r<1||o<1)throw new w("Both dimensions must be greater than 0");l==null&&(l=Math.floor((r+31)/32)),this.rowSize=l,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const o=r.length,l=r[0].length,u=new fe(l,o);for(let d=0;d<o;d++){const m=r[d];for(let x=0;x<l;x++)m[x]&&u.set(x,d)}return u}static parseFromString(r,o,l){if(r===null)throw new w("stringRepresentation cannot be null");const u=new Array(r.length);let d=0,m=0,x=-1,b=0,v=0;for(;v<r.length;)if(r.charAt(v)===`
`||r.charAt(v)==="\r"){if(d>m){if(x===-1)x=d-m;else if(d-m!==x)throw new w("row lengths do not match");m=d,b++}v++}else if(r.substring(v,v+o.length)===o)v+=o.length,u[d]=!0,d++;else if(r.substring(v,v+l.length)===l)v+=l.length,u[d]=!1,d++;else throw new w("illegal character encountered: "+r.substring(v));if(d>m){if(x===-1)x=d-m;else if(d-m!==x)throw new w("row lengths do not match");b++}const S=new fe(x,b);for(let I=0;I<d;I++)u[I]&&S.set(Math.floor(I%x),Math.floor(I/x));return S}get(r,o){const l=o*this.rowSize+Math.floor(r/32);return(this.bits[l]>>>(r&31)&1)!==0}set(r,o){const l=o*this.rowSize+Math.floor(r/32);this.bits[l]|=1<<(r&31)&4294967295}unset(r,o){const l=o*this.rowSize+Math.floor(r/32);this.bits[l]&=~(1<<(r&31)&4294967295)}flip(r,o){const l=o*this.rowSize+Math.floor(r/32);this.bits[l]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new w("input matrix dimensions do not match");const o=new k(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let d=0,m=this.height;d<m;d++){const x=d*l,b=r.getRow(d,o).getBitArray();for(let v=0;v<l;v++)u[x+v]^=b[v]}}clear(){const r=this.bits,o=r.length;for(let l=0;l<o;l++)r[l]=0}setRegion(r,o,l,u){if(o<0||r<0)throw new w("Left and top must be nonnegative");if(u<1||l<1)throw new w("Height and width must be at least 1");const d=r+l,m=o+u;if(m>this.height||d>this.width)throw new w("The region must fit inside the matrix");const x=this.rowSize,b=this.bits;for(let v=o;v<m;v++){const S=v*x;for(let I=r;I<d;I++)b[S+Math.floor(I/32)]|=1<<(I&31)&4294967295}}getRow(r,o){o==null||o.getSize()<this.width?o=new k(this.width):o.clear();const l=this.rowSize,u=this.bits,d=r*l;for(let m=0;m<l;m++)o.setBulk(m*32,u[d+m]);return o}setRow(r,o){M.arraycopy(o.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),o=this.getHeight();let l=new k(r),u=new k(r);for(let d=0,m=Math.floor((o+1)/2);d<m;d++)l=this.getRow(d,l),u=this.getRow(o-1-d,u),l.reverse(),u.reverse(),this.setRow(d,u),this.setRow(o-1-d,l)}getEnclosingRectangle(){const r=this.width,o=this.height,l=this.rowSize,u=this.bits;let d=r,m=o,x=-1,b=-1;for(let v=0;v<o;v++)for(let S=0;S<l;S++){const I=u[v*l+S];if(I!==0){if(v<m&&(m=v),v>b&&(b=v),S*32<d){let j=0;for(;!(I<<31-j&4294967295);)j++;S*32+j<d&&(d=S*32+j)}if(S*32+31>x){let j=31;for(;!(I>>>j);)j--;S*32+j>x&&(x=S*32+j)}}}return x<d||b<m?null:Int32Array.from([d,m,x-d+1,b-m+1])}getTopLeftOnBit(){const r=this.rowSize,o=this.bits;let l=0;for(;l<o.length&&o[l]===0;)l++;if(l===o.length)return null;const u=l/r;let d=l%r*32;const m=o[l];let x=0;for(;!(m<<31-x&4294967295);)x++;return d+=x,Int32Array.from([d,u])}getBottomRightOnBit(){const r=this.rowSize,o=this.bits;let l=o.length-1;for(;l>=0&&o[l]===0;)l--;if(l<0)return null;const u=Math.floor(l/r);let d=Math.floor(l%r)*32;const m=o[l];let x=31;for(;!(m>>>x);)x--;return d+=x,Int32Array.from([d,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof fe))return!1;const o=r;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&N.equals(this.bits,o.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+N.hashCode(this.bits),r}toString(r="X ",o="  ",l=`
`){return this.buildToString(r,o,l)}buildToString(r,o,l){let u=new te;for(let d=0,m=this.height;d<m;d++){for(let x=0,b=this.width;x<b;x++)u.append(this.get(x,d)?r:o);u.append(l)}return u.toString()}clone(){return new fe(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends p{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class ne extends R{constructor(r){super(r),this.luminances=ne.EMPTY,this.buckets=new Int32Array(ne.LUMINANCE_BUCKETS)}getBlackRow(r,o){const l=this.getLuminanceSource(),u=l.getWidth();o==null||o.getSize()<u?o=new k(u):o.clear(),this.initArrays(u);const d=l.getRow(r,this.luminances),m=this.buckets;for(let b=0;b<u;b++)m[(d[b]&255)>>ne.LUMINANCE_SHIFT]++;const x=ne.estimateBlackPoint(m);if(u<3)for(let b=0;b<u;b++)(d[b]&255)<x&&o.set(b);else{let b=d[0]&255,v=d[1]&255;for(let S=1;S<u-1;S++){const I=d[S+1]&255;(v*4-b-I)/2<x&&o.set(S),b=v,v=I}}return o}getBlackMatrix(){const r=this.getLuminanceSource(),o=r.getWidth(),l=r.getHeight(),u=new fe(o,l);this.initArrays(o);const d=this.buckets;for(let b=1;b<5;b++){const v=Math.floor(l*b/5),S=r.getRow(v,this.luminances),I=Math.floor(o*4/5);for(let j=Math.floor(o/5);j<I;j++){const F=S[j]&255;d[F>>ne.LUMINANCE_SHIFT]++}}const m=ne.estimateBlackPoint(d),x=r.getMatrix();for(let b=0;b<l;b++){const v=b*o;for(let S=0;S<o;S++)(x[v+S]&255)<m&&u.set(S,b)}return u}createBinarizer(r){return new ne(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const o=this.buckets;for(let l=0;l<ne.LUMINANCE_BUCKETS;l++)o[l]=0}static estimateBlackPoint(r){const o=r.length;let l=0,u=0,d=0;for(let S=0;S<o;S++)r[S]>d&&(u=S,d=r[S]),r[S]>l&&(l=r[S]);let m=0,x=0;for(let S=0;S<o;S++){const I=S-u,j=r[S]*I*I;j>x&&(m=S,x=j)}if(u>m){const S=u;u=m,m=S}if(m-u<=o/16)throw new X;let b=m-1,v=-1;for(let S=m-1;S>u;S--){const I=S-u,j=I*I*(m-S)*(l-r[S]);j>v&&(b=S,v=j)}return b<<ne.LUMINANCE_SHIFT}}ne.LUMINANCE_BITS=5,ne.LUMINANCE_SHIFT=8-ne.LUMINANCE_BITS,ne.LUMINANCE_BUCKETS=1<<ne.LUMINANCE_BITS,ne.EMPTY=Uint8ClampedArray.from([0]);class re extends ne{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),o=r.getWidth(),l=r.getHeight();if(o>=re.MINIMUM_DIMENSION&&l>=re.MINIMUM_DIMENSION){const u=r.getMatrix();let d=o>>re.BLOCK_SIZE_POWER;o&re.BLOCK_SIZE_MASK&&d++;let m=l>>re.BLOCK_SIZE_POWER;l&re.BLOCK_SIZE_MASK&&m++;const x=re.calculateBlackPoints(u,d,m,o,l),b=new fe(o,l);re.calculateThresholdForBlock(u,d,m,o,l,x,b),this.matrix=b}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new re(r)}static calculateThresholdForBlock(r,o,l,u,d,m,x){const b=d-re.BLOCK_SIZE,v=u-re.BLOCK_SIZE;for(let S=0;S<l;S++){let I=S<<re.BLOCK_SIZE_POWER;I>b&&(I=b);const j=re.cap(S,2,l-3);for(let F=0;F<o;F++){let G=F<<re.BLOCK_SIZE_POWER;G>v&&(G=v);const q=re.cap(F,2,o-3);let Z=0;for(let ce=-2;ce<=2;ce++){const de=m[j+ce];Z+=de[q-2]+de[q-1]+de[q]+de[q+1]+de[q+2]}const ee=Z/25;re.thresholdBlock(r,G,I,ee,u,x)}}}static cap(r,o,l){return r<o?o:r>l?l:r}static thresholdBlock(r,o,l,u,d,m){for(let x=0,b=l*d+o;x<re.BLOCK_SIZE;x++,b+=d)for(let v=0;v<re.BLOCK_SIZE;v++)(r[b+v]&255)<=u&&m.set(o+v,l+x)}static calculateBlackPoints(r,o,l,u,d){const m=d-re.BLOCK_SIZE,x=u-re.BLOCK_SIZE,b=new Array(l);for(let v=0;v<l;v++){b[v]=new Int32Array(o);let S=v<<re.BLOCK_SIZE_POWER;S>m&&(S=m);for(let I=0;I<o;I++){let j=I<<re.BLOCK_SIZE_POWER;j>x&&(j=x);let F=0,G=255,q=0;for(let ee=0,ce=S*u+j;ee<re.BLOCK_SIZE;ee++,ce+=u){for(let de=0;de<re.BLOCK_SIZE;de++){const oe=r[ce+de]&255;F+=oe,oe<G&&(G=oe),oe>q&&(q=oe)}if(q-G>re.MIN_DYNAMIC_RANGE)for(ee++,ce+=u;ee<re.BLOCK_SIZE;ee++,ce+=u)for(let de=0;de<re.BLOCK_SIZE;de++)F+=r[ce+de]&255}let Z=F>>re.BLOCK_SIZE_POWER*2;if(q-G<=re.MIN_DYNAMIC_RANGE&&(Z=G/2,v>0&&I>0)){const ee=(b[v-1][I]+2*b[v][I-1]+b[v-1][I-1])/4;G<ee&&(Z=ee)}b[v][I]=Z}}return b}}re.BLOCK_SIZE_POWER=3,re.BLOCK_SIZE=1<<re.BLOCK_SIZE_POWER,re.BLOCK_SIZE_MASK=re.BLOCK_SIZE-1,re.MINIMUM_DIMENSION=re.BLOCK_SIZE*5,re.MIN_DYNAMIC_RANGE=24;class W{constructor(r,o){this.width=r,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,o,l,u){throw new Y("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Y("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Y("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let o=new te;for(let l=0;l<this.height;l++){const u=this.getRow(l,r);for(let d=0;d<this.width;d++){const m=u[d]&255;let x;m<64?x="#":m<128?x="+":m<192?x=".":x=" ",o.append(x)}o.append(`
`)}return o.toString()}}class ae extends W{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,o){const l=this.delegate.getRow(r,o),u=this.getWidth();for(let d=0;d<u;d++)l[d]=255-(l[d]&255);return l}getMatrix(){const r=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(o);for(let u=0;u<o;u++)l[u]=255-(r[u]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(r,o,l,u){return new ae(this.delegate.crop(r,o,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ae(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ae(this.delegate.rotateCounterClockwise45())}}class J extends W{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=J.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const o=r.getContext("2d").getImageData(0,0,r.width,r.height);return J.toGrayscaleBuffer(o.data,r.width,r.height)}static toGrayscaleBuffer(r,o,l){const u=new Uint8ClampedArray(o*l);for(let d=0,m=0,x=r.length;d<x;d+=4,m++){let b;if(r[d+3]===0)b=255;else{const S=r[d],I=r[d+1],j=r[d+2];b=306*S+601*I+117*j+512>>10}u[m]=b}return u}getRow(r,o){if(r<0||r>=this.getHeight())throw new w("Requested row is outside the image: "+r);const l=this.getWidth(),u=r*l;return o===null?o=this.buffer.slice(u,u+l):(o.length<l&&(o=new Uint8ClampedArray(l)),o.set(this.buffer.slice(u,u+l))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,o,l,u){return super.crop(r,o,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const o=this.getTempCanvasElement(),l=o.getContext("2d"),u=r*J.DEGREE_TO_RADIANS,d=this.canvas.width,m=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(u))*d+Math.abs(Math.sin(u))*m),b=Math.ceil(Math.abs(Math.sin(u))*d+Math.abs(Math.cos(u))*m);return o.width=x,o.height=b,l.translate(x/2,b/2),l.rotate(u),l.drawImage(this.canvas,d/-2,m/-2),this.buffer=J.makeBufferFromCanvasImageData(o),this}invert(){return new ae(this)}}J.DEGREE_TO_RADIANS=Math.PI/180;class me{constructor(r,o,l){this.deviceId=r,this.label=o,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ve=(globalThis||ln||self||window||void 0)&&(globalThis||ln||self||window||void 0).__awaiter||function(T,r,o,l){function u(d){return d instanceof o?d:new o(function(m){m(d)})}return new(o||(o=Promise))(function(d,m){function x(S){try{v(l.next(S))}catch(I){m(I)}}function b(S){try{v(l.throw(S))}catch(I){m(I)}}function v(S){S.done?d(S.value):u(S.value).then(x,b)}v((l=l.apply(T,r||[])).next())})};class _e{constructor(r,o=500,l){this.reader=r,this.timeBetweenScansMillis=o,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return ve(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const l of r){const u=l.kind==="video"?"videoinput":l.kind;if(u!=="videoinput")continue;const d=l.deviceId||l.id,m=l.label||`Video device ${o.length+1}`,x=l.groupId,b={deviceId:d,label:m,kind:u,groupId:x};o.push(b)}return o})}getVideoInputDevices(){return ve(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new me(o.deviceId,o.label))})}findDeviceById(r){return ve(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(l=>l.deviceId===r):null})}decodeFromInputVideoDevice(r,o){return ve(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,o)})}decodeOnceFromVideoDevice(r,o){return ve(this,void 0,void 0,function*(){this.reset();let l;r?l={deviceId:{exact:r}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,o)})}decodeOnceFromConstraints(r,o){return ve(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(l,o)})}decodeOnceFromStream(r,o){return ve(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(r,o);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(r,o,l){return ve(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,o,l)})}decodeFromVideoDevice(r,o,l){return ve(this,void 0,void 0,function*(){let u;r?u={deviceId:{exact:r}}:u={facingMode:"environment"};const d={video:u};return yield this.decodeFromConstraints(d,o,l)})}decodeFromConstraints(r,o,l){return ve(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(u,o,l)})}decodeFromStream(r,o,l){return ve(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(r,o);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,o){return ve(this,void 0,void 0,function*(){const l=this.prepareVideoElement(o);return this.addVideoSource(l,r),this.videoElement=l,this.stream=r,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(r){return new Promise((o,l)=>this.playVideoOnLoad(r,()=>o()))}playVideoOnLoad(r,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",o),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return ve(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,o){const l=document.getElementById(r);if(!l)throw new y(`element with id '${r}' not found`);if(l.nodeName.toLowerCase()!==o.toLowerCase())throw new y(`element with id '${r}' must be an ${o} element`);return l}decodeFromImage(r,o){if(!r&&!o)throw new y("either imageElement with a src set or an url must be provided");return o&&!r?this.decodeFromImageUrl(o):this.decodeFromImageElement(r)}decodeFromVideo(r,o){if(!r&&!o)throw new y("Either an element with a src set or an URL must be provided");return o&&!r?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,o,l){if(r===void 0&&o===void 0)throw new y("Either an element with a src set or an URL must be provided");return o&&!r?this.decodeFromVideoUrlContinuously(o,l):this.decodeFromVideoElementContinuously(r,l)}decodeFromImageElement(r){if(!r)throw new y("An image element must be provided.");this.reset();const o=this.prepareImageElement(r);this.imageElement=o;let l;return this.isImageLoaded(o)?l=this.decodeOnce(o,!1,!0):l=this._decodeOnLoadImage(o),l}decodeFromVideoElement(r){const o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(r,o){const l=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(l,o)}_decodeFromVideoElementSetup(r){if(!r)throw new y("A video element must be provided.");this.reset();const o=this.prepareVideoElement(r);return this.videoElement=o,o}decodeFromImageUrl(r){if(!r)throw new y("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const l=this._decodeOnLoadImage(o);return o.src=r,l}decodeFromVideoUrl(r){if(!r)throw new y("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElement(o);return o.src=r,l}decodeFromVideoUrlContinuously(r,o){if(!r)throw new y("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,o);return l.src=r,u}_decodeOnLoadImage(r){return new Promise((o,l)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(o,l),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return ve(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,o){return ve(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,o)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let o;return typeof r>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof r=="string"&&(o=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(o=r),o}prepareVideoElement(r){let o;return!r&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof r=="string"&&(o=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(o=r),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(r,o=!0,l=!0){this._stopAsyncDecode=!1;const u=(d,m)=>{if(this._stopAsyncDecode){m(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(r);d(x)}catch(x){const b=o&&x instanceof X,S=(x instanceof A||x instanceof B)&&l;if(b||S)return setTimeout(u,this._timeBetweenDecodingAttempts,d,m);m(x)}};return new Promise((d,m)=>u(d,m))}decodeContinuously(r,o){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(r);o(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){o(null,u);const d=u instanceof A||u instanceof B,m=u instanceof X;(d||m)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(r){const o=this.createBinaryBitmap(r);return this.decodeBitmap(o)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,o,l){o||(o={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(r,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(r,o,l=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(r,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const o=this.getCaptureCanvas(r),l=new J(o),u=new re(l);return new E(u)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const o=this.createCaptureCanvas(r);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let l,u;return typeof r<"u"&&(r instanceof HTMLVideoElement?(l=r.videoWidth,u=r.videoHeight):r instanceof HTMLImageElement&&(l=r.naturalWidth||r.width,u=r.naturalHeight||r.height)),o.style.width=l+"px",o.style.height=u+"px",o.width=l,o.height=u,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,o){try{r.srcObject=o}catch{r.src=URL.createObjectURL(o)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class Ae{constructor(r,o,l=o==null?0:8*o.length,u,d,m=M.currentTimeMillis()){this.text=r,this.rawBytes=o,this.numBits=l,this.resultPoints=u,this.format=d,this.timestamp=m,this.text=r,this.rawBytes=o,l==null?this.numBits=o==null?0:8*o.length:this.numBits=l,this.resultPoints=u,this.format=d,this.resultMetadata=null,m==null?this.timestamp=M.currentTimeMillis():this.timestamp=m}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,o)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const o=this.resultPoints;if(o===null)this.resultPoints=r;else if(r!==null&&r.length>0){const l=new Array(o.length+r.length);M.arraycopy(o,0,l,0,o.length),M.arraycopy(r,0,l,o.length,r.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ze;(function(T){T[T.AZTEC=0]="AZTEC",T[T.CODABAR=1]="CODABAR",T[T.CODE_39=2]="CODE_39",T[T.CODE_93=3]="CODE_93",T[T.CODE_128=4]="CODE_128",T[T.DATA_MATRIX=5]="DATA_MATRIX",T[T.EAN_8=6]="EAN_8",T[T.EAN_13=7]="EAN_13",T[T.ITF=8]="ITF",T[T.MAXICODE=9]="MAXICODE",T[T.PDF_417=10]="PDF_417",T[T.QR_CODE=11]="QR_CODE",T[T.RSS_14=12]="RSS_14",T[T.RSS_EXPANDED=13]="RSS_EXPANDED",T[T.UPC_A=14]="UPC_A",T[T.UPC_E=15]="UPC_E",T[T.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ze||(Ze={}));var ye=Ze,Vo;(function(T){T[T.OTHER=0]="OTHER",T[T.ORIENTATION=1]="ORIENTATION",T[T.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",T[T.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",T[T.ISSUE_NUMBER=4]="ISSUE_NUMBER",T[T.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",T[T.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",T[T.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",T[T.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",T[T.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",T[T.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Vo||(Vo={}));var ut=Vo;class vs{constructor(r,o,l,u,d=-1,m=-1){this.rawBytes=r,this.text=o,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=m,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class zo{exp(r){return this.expTable[r]}log(r){if(r===0)throw new w;return this.logTable[r]}static addOrSubtract(r,o){return r^o}}class Cn{constructor(r,o){if(o.length===0)throw new w;this.field=r;const l=o.length;if(l>1&&o[0]===0){let u=1;for(;u<l&&o[u]===0;)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),M.arraycopy(o,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const o=this.coefficients;let l;if(r===1){l=0;for(let m=0,x=o.length;m!==x;m++){const b=o[m];l=zo.addOrSubtract(l,b)}return l}l=o[0];const u=o.length,d=this.field;for(let m=1;m<u;m++)l=zo.addOrSubtract(d.multiply(r,l),o[m]);return l}addOrSubtract(r){if(!this.field.equals(r.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let o=this.coefficients,l=r.coefficients;if(o.length>l.length){const m=o;o=l,l=m}let u=new Int32Array(l.length);const d=l.length-o.length;M.arraycopy(l,0,u,0,d);for(let m=d;m<l.length;m++)u[m]=zo.addOrSubtract(o[m-d],l[m]);return new Cn(this.field,u)}multiply(r){if(!this.field.equals(r.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const o=this.coefficients,l=o.length,u=r.coefficients,d=u.length,m=new Int32Array(l+d-1),x=this.field;for(let b=0;b<l;b++){const v=o[b];for(let S=0;S<d;S++)m[b+S]=zo.addOrSubtract(m[b+S],x.multiply(v,u[S]))}return new Cn(x,m)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const o=this.coefficients.length,l=this.field,u=new Int32Array(o),d=this.coefficients;for(let m=0;m<o;m++)u[m]=l.multiply(d[m],r);return new Cn(l,u)}multiplyByMonomial(r,o){if(r<0)throw new w;if(o===0)return this.field.getZero();const l=this.coefficients,u=l.length,d=new Int32Array(u+r),m=this.field;for(let x=0;x<u;x++)d[x]=m.multiply(l[x],o);return new Cn(m,d)}divide(r){if(!this.field.equals(r.field))throw new w("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new w("Divide by 0");const o=this.field;let l=o.getZero(),u=this;const d=r.getCoefficient(r.getDegree()),m=o.inverse(d);for(;u.getDegree()>=r.getDegree()&&!u.isZero();){const x=u.getDegree()-r.getDegree(),b=o.multiply(u.getCoefficient(u.getDegree()),m),v=r.multiplyByMonomial(x,b),S=o.buildMonomial(x,b);l=l.addOrSubtract(S),u=u.addOrSubtract(v)}return[l,u]}toString(){let r="";for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);if(l!==0){if(l<0?(r+=" - ",l=-l):r.length>0&&(r+=" + "),o===0||l!==1){const u=this.field.log(l);u===0?r+="1":u===1?r+="a":(r+="a^",r+=u)}o!==0&&(o===1?r+="x":(r+="x^",r+=o))}}return r}}class Uc extends p{}Uc.kind="ArithmeticException";class He extends zo{constructor(r,o,l){super(),this.primitive=r,this.size=o,this.generatorBase=l;const u=new Int32Array(o);let d=1;for(let x=0;x<o;x++)u[x]=d,d*=2,d>=o&&(d^=r,d&=o-1);this.expTable=u;const m=new Int32Array(o);for(let x=0;x<o-1;x++)m[u[x]]=x;this.logTable=m,this.zero=new Cn(this,Int32Array.from([0])),this.one=new Cn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,o){if(r<0)throw new w;if(o===0)return this.zero;const l=new Int32Array(r+1);return l[0]=o,new Cn(this,l)}inverse(r){if(r===0)throw new Uc;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,o){return r===0||o===0?0:this.expTable[(this.logTable[r]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+_.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}He.AZTEC_DATA_12=new He(4201,4096,1),He.AZTEC_DATA_10=new He(1033,1024,1),He.AZTEC_DATA_6=new He(67,64,1),He.AZTEC_PARAM=new He(19,16,1),He.QR_CODE_FIELD_256=new He(285,256,0),He.DATA_MATRIX_FIELD_256=new He(301,256,1),He.AZTEC_DATA_8=He.DATA_MATRIX_FIELD_256,He.MAXICODE_FIELD_64=He.AZTEC_DATA_6;class ca extends p{}ca.kind="ReedSolomonException";class Mi extends p{}Mi.kind="IllegalStateException";class Ho{constructor(r){this.field=r}decode(r,o){const l=this.field,u=new Cn(l,r),d=new Int32Array(o);let m=!0;for(let F=0;F<o;F++){const G=u.evaluateAt(l.exp(F+l.getGeneratorBase()));d[d.length-1-F]=G,G!==0&&(m=!1)}if(m)return;const x=new Cn(l,d),b=this.runEuclideanAlgorithm(l.buildMonomial(o,1),x,o),v=b[0],S=b[1],I=this.findErrorLocations(v),j=this.findErrorMagnitudes(S,I);for(let F=0;F<I.length;F++){const G=r.length-1-l.log(I[F]);if(G<0)throw new ca("Bad error location");r[G]=He.addOrSubtract(r[G],j[F])}}runEuclideanAlgorithm(r,o,l){if(r.getDegree()<o.getDegree()){const F=r;r=o,o=F}const u=this.field;let d=r,m=o,x=u.getZero(),b=u.getOne();for(;m.getDegree()>=(l/2|0);){let F=d,G=x;if(d=m,x=b,d.isZero())throw new ca("r_{i-1} was zero");m=F;let q=u.getZero();const Z=d.getCoefficient(d.getDegree()),ee=u.inverse(Z);for(;m.getDegree()>=d.getDegree()&&!m.isZero();){const ce=m.getDegree()-d.getDegree(),de=u.multiply(m.getCoefficient(m.getDegree()),ee);q=q.addOrSubtract(u.buildMonomial(ce,de)),m=m.addOrSubtract(d.multiplyByMonomial(ce,de))}if(b=q.multiply(x).addOrSubtract(G),m.getDegree()>=d.getDegree())throw new Mi("Division algorithm failed to reduce polynomial?")}const v=b.getCoefficient(0);if(v===0)throw new ca("sigmaTilde(0) was zero");const S=u.inverse(v),I=b.multiplyScalar(S),j=m.multiplyScalar(S);return[I,j]}findErrorLocations(r){const o=r.getDegree();if(o===1)return Int32Array.from([r.getCoefficient(1)]);const l=new Int32Array(o);let u=0;const d=this.field;for(let m=1;m<d.getSize()&&u<o;m++)r.evaluateAt(m)===0&&(l[u]=d.inverse(m),u++);if(u!==o)throw new ca("Error locator degree does not match number of roots");return l}findErrorMagnitudes(r,o){const l=o.length,u=new Int32Array(l),d=this.field;for(let m=0;m<l;m++){const x=d.inverse(o[m]);let b=1;for(let v=0;v<l;v++)if(m!==v){const S=d.multiply(o[v],x),I=S&1?S&-2:S|1;b=d.multiply(b,I)}u[m]=d.multiply(r.evaluateAt(x),d.inverse(b)),d.getGeneratorBase()!==0&&(u[m]=d.multiply(u[m],x))}return u}}var tn;(function(T){T[T.UPPER=0]="UPPER",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.DIGIT=3]="DIGIT",T[T.PUNCT=4]="PUNCT",T[T.BINARY=5]="BINARY"})(tn||(tn={}));class at{decode(r){this.ddata=r;let o=r.getBits(),l=this.extractBits(o),u=this.correctBits(l),d=at.convertBoolArrayToByteArray(u),m=at.getEncodedData(u),x=new vs(d,m,null,null);return x.setNumBits(u.length),x}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let o=r.length,l=tn.UPPER,u=tn.UPPER,d="",m=0;for(;m<o;)if(u===tn.BINARY){if(o-m<5)break;let x=at.readCode(r,m,5);if(m+=5,x===0){if(o-m<11)break;x=at.readCode(r,m,11)+31,m+=11}for(let b=0;b<x;b++){if(o-m<8){m=o;break}const v=at.readCode(r,m,8);d+=Q.castAsNonUtf8Char(v),m+=8}u=l}else{let x=u===tn.DIGIT?4:5;if(o-m<x)break;let b=at.readCode(r,m,x);m+=x;let v=at.getCharacter(u,b);v.startsWith("CTRL_")?(l=u,u=at.getTable(v.charAt(5)),v.charAt(6)==="L"&&(l=u)):(d+=v,u=l)}return d}static getTable(r){switch(r){case"L":return tn.LOWER;case"P":return tn.PUNCT;case"M":return tn.MIXED;case"D":return tn.DIGIT;case"B":return tn.BINARY;case"U":default:return tn.UPPER}}static getCharacter(r,o){switch(r){case tn.UPPER:return at.UPPER_TABLE[o];case tn.LOWER:return at.LOWER_TABLE[o];case tn.MIXED:return at.MIXED_TABLE[o];case tn.PUNCT:return at.PUNCT_TABLE[o];case tn.DIGIT:return at.DIGIT_TABLE[o];default:throw new Mi("Bad table")}}correctBits(r){let o,l;this.ddata.getNbLayers()<=2?(l=6,o=He.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,o=He.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,o=He.AZTEC_DATA_10):(l=12,o=He.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),d=r.length/l;if(d<u)throw new B;let m=r.length%l,x=new Int32Array(d);for(let j=0;j<d;j++,m+=l)x[j]=at.readCode(r,m,l);try{new Ho(o).decode(x,d-u)}catch(j){throw new B(j)}let b=(1<<l)-1,v=0;for(let j=0;j<u;j++){let F=x[j];if(F===0||F===b)throw new B;(F===1||F===b-1)&&v++}let S=new Array(u*l-v),I=0;for(let j=0;j<u;j++){let F=x[j];if(F===1||F===b-1)S.fill(F>1,I,I+l-1),I+=l-1;else for(let G=l-1;G>=0;--G)S[I++]=(F&1<<G)!==0}return S}extractBits(r){let o=this.ddata.isCompact(),l=this.ddata.getNbLayers(),u=(o?11:14)+l*4,d=new Int32Array(u),m=new Array(this.totalBitsInLayer(l,o));if(o)for(let x=0;x<d.length;x++)d[x]=x;else{let x=u+1+2*_.truncDivision(_.truncDivision(u,2)-1,15),b=u/2,v=_.truncDivision(x,2);for(let S=0;S<b;S++){let I=S+_.truncDivision(S,15);d[b-S-1]=v-I-1,d[b+S]=v+I+1}}for(let x=0,b=0;x<l;x++){let v=(l-x)*4+(o?9:12),S=x*2,I=u-1-S;for(let j=0;j<v;j++){let F=j*2;for(let G=0;G<2;G++)m[b+F+G]=r.get(d[S+G],d[S+j]),m[b+2*v+F+G]=r.get(d[S+j],d[I-G]),m[b+4*v+F+G]=r.get(d[I-G],d[I-j]),m[b+6*v+F+G]=r.get(d[I-j],d[S+G])}b+=v*8}return m}static readCode(r,o,l){let u=0;for(let d=o;d<o+l;d++)u<<=1,r[d]&&(u|=1);return u}static readByte(r,o){let l=r.length-o;return l>=8?at.readCode(r,o,8):at.readCode(r,o,l)<<8-l}static convertBoolArrayToByteArray(r){let o=new Uint8Array((r.length+7)/8);for(let l=0;l<o.length;l++)o[l]=at.readByte(r,8*l);return o}totalBitsInLayer(r,o){return((o?88:112)+16*r)*r}}at.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],at.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],at.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],at.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],at.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ve{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,o,l,u){const d=r-l,m=o-u;return Math.sqrt(d*d+m*m)}static sum(r){let o=0;for(let l=0,u=r.length;l!==u;l++){const d=r[l];o+=d}return o}}class Fc{static floatToIntBits(r){return r}}Fc.MAX_VALUE=Number.MAX_SAFE_INTEGER;class xe{constructor(r,o){this.x=r,this.y=o}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof xe){const o=r;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Fc.floatToIntBits(this.x)+Fc.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const o=this.distance(r[0],r[1]),l=this.distance(r[1],r[2]),u=this.distance(r[0],r[2]);let d,m,x;if(l>=o&&l>=u?(m=r[0],d=r[1],x=r[2]):u>=l&&u>=o?(m=r[1],d=r[0],x=r[2]):(m=r[2],d=r[0],x=r[1]),this.crossProductZ(d,m,x)<0){const b=d;d=x,x=b}r[0]=d,r[1]=m,r[2]=x}static distance(r,o){return Ve.distance(r.x,r.y,o.x,o.y)}static crossProductZ(r,o,l){const u=o.x,d=o.y;return(l.x-u)*(r.y-d)-(l.y-d)*(r.x-u)}}class Vc{constructor(r,o){this.bits=r,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class kg extends Vc{constructor(r,o,l,u,d){super(r,o),this.compact=l,this.nbDatablocks=u,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Qi{constructor(r,o,l,u){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),o==null&&(o=Qi.INIT_SIZE),l==null&&(l=r.getWidth()/2|0),u==null&&(u=r.getHeight()/2|0);const d=o/2|0;if(this.leftInit=l-d,this.rightInit=l+d,this.upInit=u-d,this.downInit=u+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let r=this.leftInit,o=this.rightInit,l=this.upInit,u=this.downInit,d=!1,m=!0,x=!1,b=!1,v=!1,S=!1,I=!1;const j=this.width,F=this.height;for(;m;){m=!1;let G=!0;for(;(G||!b)&&o<j;)G=this.containsBlackPoint(l,u,o,!1),G?(o++,m=!0,b=!0):b||o++;if(o>=j){d=!0;break}let q=!0;for(;(q||!v)&&u<F;)q=this.containsBlackPoint(r,o,u,!0),q?(u++,m=!0,v=!0):v||u++;if(u>=F){d=!0;break}let Z=!0;for(;(Z||!S)&&r>=0;)Z=this.containsBlackPoint(l,u,r,!1),Z?(r--,m=!0,S=!0):S||r--;if(r<0){d=!0;break}let ee=!0;for(;(ee||!I)&&l>=0;)ee=this.containsBlackPoint(r,o,l,!0),ee?(l--,m=!0,I=!0):I||l--;if(l<0){d=!0;break}m&&(x=!0)}if(!d&&x){const G=o-r;let q=null;for(let de=1;q===null&&de<G;de++)q=this.getBlackPointOnSegment(r,u-de,r+de,u);if(q==null)throw new X;let Z=null;for(let de=1;Z===null&&de<G;de++)Z=this.getBlackPointOnSegment(r,l+de,r+de,l);if(Z==null)throw new X;let ee=null;for(let de=1;ee===null&&de<G;de++)ee=this.getBlackPointOnSegment(o,l+de,o-de,l);if(ee==null)throw new X;let ce=null;for(let de=1;ce===null&&de<G;de++)ce=this.getBlackPointOnSegment(o,u-de,o-de,u);if(ce==null)throw new X;return this.centerEdges(ce,q,ee,Z)}else throw new X}getBlackPointOnSegment(r,o,l,u){const d=Ve.round(Ve.distance(r,o,l,u)),m=(l-r)/d,x=(u-o)/d,b=this.image;for(let v=0;v<d;v++){const S=Ve.round(r+v*m),I=Ve.round(o+v*x);if(b.get(S,I))return new xe(S,I)}return null}centerEdges(r,o,l,u){const d=r.getX(),m=r.getY(),x=o.getX(),b=o.getY(),v=l.getX(),S=l.getY(),I=u.getX(),j=u.getY(),F=Qi.CORR;return d<this.width/2?[new xe(I-F,j+F),new xe(x+F,b+F),new xe(v-F,S-F),new xe(d+F,m-F)]:[new xe(I+F,j+F),new xe(x+F,b-F),new xe(v-F,S+F),new xe(d-F,m-F)]}containsBlackPoint(r,o,l,u){const d=this.image;if(u){for(let m=r;m<=o;m++)if(d.get(m,l))return!0}else for(let m=r;m<=o;m++)if(d.get(l,m))return!0;return!1}}Qi.INIT_SIZE=10,Qi.CORR=1;class bh{static checkAndNudgePoints(r,o){const l=r.getWidth(),u=r.getHeight();let d=!0;for(let m=0;m<o.length&&d;m+=2){const x=Math.floor(o[m]),b=Math.floor(o[m+1]);if(x<-1||x>l||b<-1||b>u)throw new X;d=!1,x===-1?(o[m]=0,d=!0):x===l&&(o[m]=l-1,d=!0),b===-1?(o[m+1]=0,d=!0):b===u&&(o[m+1]=u-1,d=!0)}d=!0;for(let m=o.length-2;m>=0&&d;m-=2){const x=Math.floor(o[m]),b=Math.floor(o[m+1]);if(x<-1||x>l||b<-1||b>u)throw new X;d=!1,x===-1?(o[m]=0,d=!0):x===l&&(o[m]=l-1,d=!0),b===-1?(o[m+1]=0,d=!0):b===u&&(o[m+1]=u-1,d=!0)}}}class pi{constructor(r,o,l,u,d,m,x,b,v){this.a11=r,this.a21=o,this.a31=l,this.a12=u,this.a22=d,this.a32=m,this.a13=x,this.a23=b,this.a33=v}static quadrilateralToQuadrilateral(r,o,l,u,d,m,x,b,v,S,I,j,F,G,q,Z){const ee=pi.quadrilateralToSquare(r,o,l,u,d,m,x,b);return pi.squareToQuadrilateral(v,S,I,j,F,G,q,Z).times(ee)}transformPoints(r){const o=r.length,l=this.a11,u=this.a12,d=this.a13,m=this.a21,x=this.a22,b=this.a23,v=this.a31,S=this.a32,I=this.a33;for(let j=0;j<o;j+=2){const F=r[j],G=r[j+1],q=d*F+b*G+I;r[j]=(l*F+m*G+v)/q,r[j+1]=(u*F+x*G+S)/q}}transformPointsWithValues(r,o){const l=this.a11,u=this.a12,d=this.a13,m=this.a21,x=this.a22,b=this.a23,v=this.a31,S=this.a32,I=this.a33,j=r.length;for(let F=0;F<j;F++){const G=r[F],q=o[F],Z=d*G+b*q+I;r[F]=(l*G+m*q+v)/Z,o[F]=(u*G+x*q+S)/Z}}static squareToQuadrilateral(r,o,l,u,d,m,x,b){const v=r-l+d-x,S=o-u+m-b;if(v===0&&S===0)return new pi(l-r,d-l,r,u-o,m-u,o,0,0,1);{const I=l-d,j=x-d,F=u-m,G=b-m,q=I*G-j*F,Z=(v*G-j*S)/q,ee=(I*S-v*F)/q;return new pi(l-r+Z*l,x-r+ee*x,r,u-o+Z*u,b-o+ee*b,o,Z,ee,1)}}static quadrilateralToSquare(r,o,l,u,d,m,x,b){return pi.squareToQuadrilateral(r,o,l,u,d,m,x,b).buildAdjoint()}buildAdjoint(){return new pi(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new pi(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class Lg extends bh{sampleGrid(r,o,l,u,d,m,x,b,v,S,I,j,F,G,q,Z,ee,ce,de){const oe=pi.quadrilateralToQuadrilateral(u,d,m,x,b,v,S,I,j,F,G,q,Z,ee,ce,de);return this.sampleGridWithTransform(r,o,l,oe)}sampleGridWithTransform(r,o,l,u){if(o<=0||l<=0)throw new X;const d=new fe(o,l),m=new Float32Array(2*o);for(let x=0;x<l;x++){const b=m.length,v=x+.5;for(let S=0;S<b;S+=2)m[S]=S/2+.5,m[S+1]=v;u.transformPoints(m),bh.checkAndNudgePoints(r,m);try{for(let S=0;S<b;S+=2)r.get(Math.floor(m[S]),Math.floor(m[S+1]))&&d.set(S/2,x)}catch{throw new X}}return d}}class Sr{static setGridSampler(r){Sr.gridSampler=r}static getInstance(){return Sr.gridSampler}}Sr.gridSampler=new Lg;class xn{constructor(r,o){this.x=r,this.y=o}toResultPoint(){return new xe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Bg{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let o=this.getMatrixCenter(),l=this.getBullsEyeCorners(o);if(r){let m=l[0];l[0]=l[2],l[2]=m}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new kg(u,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new X;let o=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(r[0],r[1],o),this.sampleLine(r[1],r[2],o),this.sampleLine(r[2],r[3],o),this.sampleLine(r[3],r[0],o)]);this.shift=this.getRotation(l,o);let u=0;for(let m=0;m<4;m++){let x=l[(this.shift+m)%4];this.compact?(u<<=7,u+=x>>1&127):(u<<=10,u+=(x>>2&992)+(x>>1&31))}let d=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(r,o){let l=0;r.forEach((u,d,m)=>{let x=(u>>o-2<<1)+(u&1);l=(l<<3)+x}),l=((l&1)<<11)+(l>>1);for(let u=0;u<4;u++)if(_.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new X}getCorrectedParameterData(r,o){let l,u;o?(l=7,u=2):(l=10,u=4);let d=l-u,m=new Int32Array(l);for(let b=l-1;b>=0;--b)m[b]=r&15,r>>=4;try{new Ho(He.AZTEC_PARAM).decode(m,d)}catch{throw new X}let x=0;for(let b=0;b<u;b++)x=(x<<4)+m[b];return x}getBullsEyeCorners(r){let o=r,l=r,u=r,d=r,m=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let I=this.getFirstDifferent(o,m,1,-1),j=this.getFirstDifferent(l,m,1,1),F=this.getFirstDifferent(u,m,-1,1),G=this.getFirstDifferent(d,m,-1,-1);if(this.nbCenterLayers>2){let q=this.distancePoint(G,I)*this.nbCenterLayers/(this.distancePoint(d,o)*(this.nbCenterLayers+2));if(q<.75||q>1.25||!this.isWhiteOrBlackRectangle(I,j,F,G))break}o=I,l=j,u=F,d=G,m=!m}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let x=new xe(o.getX()+.5,o.getY()-.5),b=new xe(l.getX()+.5,l.getY()+.5),v=new xe(u.getX()-.5,u.getY()+.5),S=new xe(d.getX()-.5,d.getY()-.5);return this.expandSquare([x,b,v,S],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,o,l,u;try{let x=new Qi(this.image).detect();r=x[0],o=x[1],l=x[2],u=x[3]}catch{let b=this.image.getWidth()/2,v=this.image.getHeight()/2;r=this.getFirstDifferent(new xn(b+7,v-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new xn(b+7,v+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new xn(b-7,v+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new xn(b-7,v-7),!1,-1,-1).toResultPoint()}let d=Ve.round((r.getX()+u.getX()+o.getX()+l.getX())/4),m=Ve.round((r.getY()+u.getY()+o.getY()+l.getY())/4);try{let x=new Qi(this.image,15,d,m).detect();r=x[0],o=x[1],l=x[2],u=x[3]}catch{r=this.getFirstDifferent(new xn(d+7,m-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new xn(d+7,m+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new xn(d-7,m+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new xn(d-7,m-7),!1,-1,-1).toResultPoint()}return d=Ve.round((r.getX()+u.getX()+o.getX()+l.getX())/4),m=Ve.round((r.getY()+u.getY()+o.getY()+l.getY())/4),new xn(d,m)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,o,l,u,d){let m=Sr.getInstance(),x=this.getDimension(),b=x/2-this.nbCenterLayers,v=x/2+this.nbCenterLayers;return m.sampleGrid(r,x,x,b,b,v,b,v,v,b,v,o.getX(),o.getY(),l.getX(),l.getY(),u.getX(),u.getY(),d.getX(),d.getY())}sampleLine(r,o,l){let u=0,d=this.distanceResultPoint(r,o),m=d/l,x=r.getX(),b=r.getY(),v=m*(o.getX()-r.getX())/d,S=m*(o.getY()-r.getY())/d;for(let I=0;I<l;I++)this.image.get(Ve.round(x+I*v),Ve.round(b+I*S))&&(u|=1<<l-I-1);return u}isWhiteOrBlackRectangle(r,o,l,u){let d=3;r=new xn(r.getX()-d,r.getY()+d),o=new xn(o.getX()-d,o.getY()-d),l=new xn(l.getX()+d,l.getY()-d),u=new xn(u.getX()+d,u.getY()+d);let m=this.getColor(u,r);if(m===0)return!1;let x=this.getColor(r,o);return x!==m||(x=this.getColor(o,l),x!==m)?!1:(x=this.getColor(l,u),x===m)}getColor(r,o){let l=this.distancePoint(r,o),u=(o.getX()-r.getX())/l,d=(o.getY()-r.getY())/l,m=0,x=r.getX(),b=r.getY(),v=this.image.get(r.getX(),r.getY()),S=Math.ceil(l);for(let j=0;j<S;j++)x+=u,b+=d,this.image.get(Ve.round(x),Ve.round(b))!==v&&m++;let I=m/l;return I>.1&&I<.9?0:I<=.1===v?1:-1}getFirstDifferent(r,o,l,u){let d=r.getX()+l,m=r.getY()+u;for(;this.isValid(d,m)&&this.image.get(d,m)===o;)d+=l,m+=u;for(d-=l,m-=u;this.isValid(d,m)&&this.image.get(d,m)===o;)d+=l;for(d-=l;this.isValid(d,m)&&this.image.get(d,m)===o;)m+=u;return m-=u,new xn(d,m)}expandSquare(r,o,l){let u=l/(2*o),d=r[0].getX()-r[2].getX(),m=r[0].getY()-r[2].getY(),x=(r[0].getX()+r[2].getX())/2,b=(r[0].getY()+r[2].getY())/2,v=new xe(x+u*d,b+u*m),S=new xe(x-u*d,b-u*m);d=r[1].getX()-r[3].getX(),m=r[1].getY()-r[3].getY(),x=(r[1].getX()+r[3].getX())/2,b=(r[1].getY()+r[3].getY())/2;let I=new xe(x+u*d,b+u*m),j=new xe(x-u*d,b-u*m);return[v,I,S,j]}isValid(r,o){return r>=0&&r<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(r){let o=Ve.round(r.getX()),l=Ve.round(r.getY());return this.isValid(o,l)}distancePoint(r,o){return Ve.distance(r.getX(),r.getY(),o.getX(),o.getY())}distanceResultPoint(r,o){return Ve.distance(r.getX(),r.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_.truncDivision(this.nbLayers-4,8)+1)+15}}class zc{decode(r,o=null){let l=null,u=new Bg(r.getBlackMatrix()),d=null,m=null;try{let S=u.detectMirror(!1);d=S.getPoints(),this.reportFoundResultPoints(o,d),m=new at().decode(S)}catch(S){l=S}if(m==null)try{let S=u.detectMirror(!0);d=S.getPoints(),this.reportFoundResultPoints(o,d),m=new at().decode(S)}catch(S){throw l??S}let x=new Ae(m.getText(),m.getRawBytes(),m.getNumBits(),d,ye.AZTEC,M.currentTimeMillis()),b=m.getByteSegments();b!=null&&x.putMetadata(ut.BYTE_SEGMENTS,b);let v=m.getECLevel();return v!=null&&x.putMetadata(ut.ERROR_CORRECTION_LEVEL,v),x}reportFoundResultPoints(r,o){if(r!=null){let l=r.get(L.NEED_RESULT_POINT_CALLBACK);l!=null&&o.forEach((u,d,m)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class EA extends _e{constructor(r=500){super(new zc,r)}}class kt{decode(r,o){try{return this.doDecode(r,o)}catch{if(o&&o.get(L.TRY_HARDER)===!0&&r.isRotateSupported()){const d=r.rotateCounterClockwise(),m=this.doDecode(d,o),x=m.getResultMetadata();let b=270;x!==null&&x.get(ut.ORIENTATION)===!0&&(b=b+x.get(ut.ORIENTATION)%360),m.putMetadata(ut.ORIENTATION,b);const v=m.getResultPoints();if(v!==null){const S=d.getHeight();for(let I=0;I<v.length;I++)v[I]=new xe(S-v[I].getY()-1,v[I].getX())}return m}else throw new X}}reset(){}doDecode(r,o){const l=r.getWidth(),u=r.getHeight();let d=new k(l);const m=o&&o.get(L.TRY_HARDER)===!0,x=Math.max(1,u>>(m?8:5));let b;m?b=u:b=15;const v=Math.trunc(u/2);for(let S=0;S<b;S++){const I=Math.trunc((S+1)/2),j=(S&1)===0,F=v+x*(j?I:-I);if(F<0||F>=u)break;try{d=r.getBlackRow(F,d)}catch{continue}for(let G=0;G<2;G++){if(G===1&&(d.reverse(),o&&o.get(L.NEED_RESULT_POINT_CALLBACK)===!0)){const q=new Map;o.forEach((Z,ee)=>q.set(ee,Z)),q.delete(L.NEED_RESULT_POINT_CALLBACK),o=q}try{const q=this.decodeRow(F,d,o);if(G===1){q.putMetadata(ut.ORIENTATION,180);const Z=q.getResultPoints();Z!==null&&(Z[0]=new xe(l-Z[0].getX()-1,Z[0].getY()),Z[1]=new xe(l-Z[1].getX()-1,Z[1].getY()))}return q}catch{}}}throw new X}static recordPattern(r,o,l){const u=l.length;for(let v=0;v<u;v++)l[v]=0;const d=r.getSize();if(o>=d)throw new X;let m=!r.get(o),x=0,b=o;for(;b<d;){if(r.get(b)!==m)l[x]++;else{if(++x===u)break;l[x]=1,m=!m}b++}if(!(x===u||x===u-1&&b===d))throw new X}static recordPatternInReverse(r,o,l){let u=l.length,d=r.get(o);for(;o>0&&u>=0;)r.get(--o)!==d&&(u--,d=!d);if(u>=0)throw new X;kt.recordPattern(r,o+1,l)}static patternMatchVariance(r,o,l){const u=r.length;let d=0,m=0;for(let v=0;v<u;v++)d+=r[v],m+=o[v];if(d<m)return Number.POSITIVE_INFINITY;const x=d/m;l*=x;let b=0;for(let v=0;v<u;v++){const S=r[v],I=o[v]*x,j=S>I?S-I:I-S;if(j>l)return Number.POSITIVE_INFINITY;b+=j}return b/d}}class he extends kt{static findStartPattern(r){const o=r.getSize(),l=r.getNextSet(0);let u=0,d=Int32Array.from([0,0,0,0,0,0]),m=l,x=!1;const b=6;for(let v=l;v<o;v++)if(r.get(v)!==x)d[u]++;else{if(u===b-1){let S=he.MAX_AVG_VARIANCE,I=-1;for(let j=he.CODE_START_A;j<=he.CODE_START_C;j++){const F=kt.patternMatchVariance(d,he.CODE_PATTERNS[j],he.MAX_INDIVIDUAL_VARIANCE);F<S&&(S=F,I=j)}if(I>=0&&r.isRange(Math.max(0,m-(v-m)/2),m,!1))return Int32Array.from([m,v,I]);m+=d[0]+d[1],d=d.slice(2,d.length-1),d[u-1]=0,d[u]=0,u--}else u++;d[u]=1,x=!x}throw new X}static decodeCode(r,o,l){kt.recordPattern(r,l,o);let u=he.MAX_AVG_VARIANCE,d=-1;for(let m=0;m<he.CODE_PATTERNS.length;m++){const x=he.CODE_PATTERNS[m],b=this.patternMatchVariance(o,x,he.MAX_INDIVIDUAL_VARIANCE);b<u&&(u=b,d=m)}if(d>=0)return d;throw new X}decodeRow(r,o,l){const u=l&&l.get(L.ASSUME_GS1)===!0,d=he.findStartPattern(o),m=d[2];let x=0;const b=new Uint8Array(20);b[x++]=m;let v;switch(m){case he.CODE_START_A:v=he.CODE_CODE_A;break;case he.CODE_START_B:v=he.CODE_CODE_B;break;case he.CODE_START_C:v=he.CODE_CODE_C;break;default:throw new B}let S=!1,I=!1,j="",F=d[0],G=d[1];const q=Int32Array.from([0,0,0,0,0,0]);let Z=0,ee=0,ce=m,de=0,oe=!0,Pe=!1,Ie=!1;for(;!S;){const ya=I;switch(I=!1,Z=ee,ee=he.decodeCode(o,q,G),b[x++]=ee,ee!==he.CODE_STOP&&(oe=!0),ee!==he.CODE_STOP&&(de++,ce+=de*ee),F=G,G+=q.reduce((QA,$A)=>QA+$A,0),ee){case he.CODE_START_A:case he.CODE_START_B:case he.CODE_START_C:throw new B}switch(v){case he.CODE_CODE_A:if(ee<64)Ie===Pe?j+=String.fromCharCode(32+ee):j+=String.fromCharCode(32+ee+128),Ie=!1;else if(ee<96)Ie===Pe?j+=String.fromCharCode(ee-64):j+=String.fromCharCode(ee+64),Ie=!1;else switch(ee!==he.CODE_STOP&&(oe=!1),ee){case he.CODE_FNC_1:u&&(j.length===0?j+="]C1":j+="");break;case he.CODE_FNC_2:case he.CODE_FNC_3:break;case he.CODE_FNC_4_A:!Pe&&Ie?(Pe=!0,Ie=!1):Pe&&Ie?(Pe=!1,Ie=!1):Ie=!0;break;case he.CODE_SHIFT:I=!0,v=he.CODE_CODE_B;break;case he.CODE_CODE_B:v=he.CODE_CODE_B;break;case he.CODE_CODE_C:v=he.CODE_CODE_C;break;case he.CODE_STOP:S=!0;break}break;case he.CODE_CODE_B:if(ee<96)Ie===Pe?j+=String.fromCharCode(32+ee):j+=String.fromCharCode(32+ee+128),Ie=!1;else switch(ee!==he.CODE_STOP&&(oe=!1),ee){case he.CODE_FNC_1:u&&(j.length===0?j+="]C1":j+="");break;case he.CODE_FNC_2:case he.CODE_FNC_3:break;case he.CODE_FNC_4_B:!Pe&&Ie?(Pe=!0,Ie=!1):Pe&&Ie?(Pe=!1,Ie=!1):Ie=!0;break;case he.CODE_SHIFT:I=!0,v=he.CODE_CODE_A;break;case he.CODE_CODE_A:v=he.CODE_CODE_A;break;case he.CODE_CODE_C:v=he.CODE_CODE_C;break;case he.CODE_STOP:S=!0;break}break;case he.CODE_CODE_C:if(ee<100)ee<10&&(j+="0"),j+=ee;else switch(ee!==he.CODE_STOP&&(oe=!1),ee){case he.CODE_FNC_1:u&&(j.length===0?j+="]C1":j+="");break;case he.CODE_CODE_A:v=he.CODE_CODE_A;break;case he.CODE_CODE_B:v=he.CODE_CODE_B;break;case he.CODE_STOP:S=!0;break}break}ya&&(v=v===he.CODE_CODE_A?he.CODE_CODE_B:he.CODE_CODE_A)}const In=G-F;if(G=o.getNextUnset(G),!o.isRange(G,Math.min(o.getSize(),G+(G-F)/2),!1))throw new X;if(ce-=de*Z,ce%103!==Z)throw new A;const yi=j.length;if(yi===0)throw new X;yi>0&&oe&&(v===he.CODE_CODE_C?j=j.substring(0,yi-2):j=j.substring(0,yi-1));const Mn=(d[1]+d[0])/2,rt=F+In/2,sn=b.length,Un=new Uint8Array(sn);for(let ya=0;ya<sn;ya++)Un[ya]=b[ya];const xa=[new xe(Mn,r),new xe(rt,r)];return new Ae(j,Un,0,xa,ye.CODE_128,new Date().getTime())}}he.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],he.MAX_AVG_VARIANCE=.25,he.MAX_INDIVIDUAL_VARIANCE=.7,he.CODE_SHIFT=98,he.CODE_CODE_C=99,he.CODE_CODE_B=100,he.CODE_CODE_A=101,he.CODE_FNC_1=102,he.CODE_FNC_2=97,he.CODE_FNC_3=96,he.CODE_FNC_4_A=101,he.CODE_FNC_4_B=100,he.CODE_START_A=103,he.CODE_START_B=104,he.CODE_START_C=105,he.CODE_STOP=106;class Ft extends kt{constructor(r=!1,o=!1){super(),this.usingCheckDigit=r,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,o,l){let u=this.counters;u.fill(0),this.decodeRowResult="";let d=Ft.findAsteriskPattern(o,u),m=o.getNextSet(d[1]),x=o.getSize(),b,v;do{Ft.recordPattern(o,m,u);let q=Ft.toNarrowWidePattern(u);if(q<0)throw new X;b=Ft.patternToChar(q),this.decodeRowResult+=b,v=m;for(let Z of u)m+=Z;m=o.getNextSet(m)}while(b!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let S=0;for(let q of u)S+=q;let I=m-v-S;if(m!==x&&I*2<S)throw new X;if(this.usingCheckDigit){let q=this.decodeRowResult.length-1,Z=0;for(let ee=0;ee<q;ee++)Z+=Ft.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ee));if(this.decodeRowResult.charAt(q)!==Ft.ALPHABET_STRING.charAt(Z%43))throw new A;this.decodeRowResult=this.decodeRowResult.substring(0,q)}if(this.decodeRowResult.length===0)throw new X;let j;this.extendedMode?j=Ft.decodeExtended(this.decodeRowResult):j=this.decodeRowResult;let F=(d[1]+d[0])/2,G=v+S/2;return new Ae(j,null,0,[new xe(F,r),new xe(G,r)],ye.CODE_39,new Date().getTime())}static findAsteriskPattern(r,o){let l=r.getSize(),u=r.getNextSet(0),d=0,m=u,x=!1,b=o.length;for(let v=u;v<l;v++)if(r.get(v)!==x)o[d]++;else{if(d===b-1){if(this.toNarrowWidePattern(o)===Ft.ASTERISK_ENCODING&&r.isRange(Math.max(0,m-Math.floor((v-m)/2)),m,!1))return[m,v];m+=o[0]+o[1],o.copyWithin(0,2,2+d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,x=!x}throw new X}static toNarrowWidePattern(r){let o=r.length,l=0,u;do{let d=2147483647;for(let b of r)b<d&&b>l&&(d=b);l=d,u=0;let m=0,x=0;for(let b=0;b<o;b++){let v=r[b];v>l&&(x|=1<<o-1-b,u++,m+=v)}if(u===3){for(let b=0;b<o&&u>0;b++){let v=r[b];if(v>l&&(u--,v*2>=m))return-1}return x}}while(u>3);return-1}static patternToChar(r){for(let o=0;o<Ft.CHARACTER_ENCODINGS.length;o++)if(Ft.CHARACTER_ENCODINGS[o]===r)return Ft.ALPHABET_STRING.charAt(o);if(r===Ft.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(r){let o=r.length,l="";for(let u=0;u<o;u++){let d=r.charAt(u);if(d==="+"||d==="$"||d==="%"||d==="/"){let m=r.charAt(u+1),x="\0";switch(d){case"+":if(m>="A"&&m<="Z")x=String.fromCharCode(m.charCodeAt(0)+32);else throw new B;break;case"$":if(m>="A"&&m<="Z")x=String.fromCharCode(m.charCodeAt(0)-64);else throw new B;break;case"%":if(m>="A"&&m<="E")x=String.fromCharCode(m.charCodeAt(0)-38);else if(m>="F"&&m<="J")x=String.fromCharCode(m.charCodeAt(0)-11);else if(m>="K"&&m<="O")x=String.fromCharCode(m.charCodeAt(0)+16);else if(m>="P"&&m<="T")x=String.fromCharCode(m.charCodeAt(0)+43);else if(m==="U")x="\0";else if(m==="V")x="@";else if(m==="W")x="`";else if(m==="X"||m==="Y"||m==="Z")x="";else throw new B;break;case"/":if(m>="A"&&m<="O")x=String.fromCharCode(m.charCodeAt(0)-32);else if(m==="Z")x=":";else throw new B;break}l+=x,u++}else l+=d}return l}}Ft.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ft.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ft.ASTERISK_ENCODING=148;class nt extends kt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,o,l){let u=this.decodeStart(o),d=this.decodeEnd(o),m=new te;nt.decodeMiddle(o,u[1],d[0],m);let x=m.toString(),b=null;l!=null&&(b=l.get(L.ALLOWED_LENGTHS)),b==null&&(b=nt.DEFAULT_ALLOWED_LENGTHS);let v=x.length,S=!1,I=0;for(let G of b){if(v===G){S=!0;break}G>I&&(I=G)}if(!S&&v>I&&(S=!0),!S)throw new B;const j=[new xe(u[1],r),new xe(d[0],r)];return new Ae(x,null,0,j,ye.ITF,new Date().getTime())}static decodeMiddle(r,o,l,u){let d=new Int32Array(10),m=new Int32Array(5),x=new Int32Array(5);for(d.fill(0),m.fill(0),x.fill(0);o<l;){kt.recordPattern(r,o,d);for(let v=0;v<5;v++){let S=2*v;m[v]=d[S],x[v]=d[S+1]}let b=nt.decodeDigit(m);u.append(b.toString()),b=this.decodeDigit(x),u.append(b.toString()),d.forEach(function(v){o+=v})}}decodeStart(r){let o=nt.skipWhiteSpace(r),l=nt.findGuardPattern(r,o,nt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(r,l[0]),l}validateQuietZone(r,o){let l=this.narrowLineWidth*10;l=l<o?l:o;for(let u=o-1;l>0&&u>=0&&!r.get(u);u--)l--;if(l!==0)throw new X}static skipWhiteSpace(r){const o=r.getSize(),l=r.getNextSet(0);if(l===o)throw new X;return l}decodeEnd(r){r.reverse();try{let o=nt.skipWhiteSpace(r),l;try{l=nt.findGuardPattern(r,o,nt.END_PATTERN_REVERSED[0])}catch(d){d instanceof X&&(l=nt.findGuardPattern(r,o,nt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,l[0]);let u=l[0];return l[0]=r.getSize()-l[1],l[1]=r.getSize()-u,l}finally{r.reverse()}}static findGuardPattern(r,o,l){let u=l.length,d=new Int32Array(u),m=r.getSize(),x=!1,b=0,v=o;d.fill(0);for(let S=o;S<m;S++)if(r.get(S)!==x)d[b]++;else{if(b===u-1){if(kt.patternMatchVariance(d,l,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return[v,S];v+=d[0]+d[1],M.arraycopy(d,2,d,0,b-1),d[b-1]=0,d[b]=0,b--}else b++;d[b]=1,x=!x}throw new X}static decodeDigit(r){let o=nt.MAX_AVG_VARIANCE,l=-1,u=nt.PATTERNS.length;for(let d=0;d<u;d++){let m=nt.PATTERNS[d],x=kt.patternMatchVariance(r,m,nt.MAX_INDIVIDUAL_VARIANCE);x<o?(o=x,l=d):x===o&&(l=-1)}if(l>=0)return l%10;throw new X}}nt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],nt.MAX_AVG_VARIANCE=.38,nt.MAX_INDIVIDUAL_VARIANCE=.5,nt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],nt.START_PATTERN=Int32Array.from([1,1,1,1]),nt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class At extends kt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let o=!1,l,u=0,d=Int32Array.from([0,0,0]);for(;!o;){d=Int32Array.from([0,0,0]),l=At.findGuardPattern(r,u,!1,this.START_END_PATTERN,d);let m=l[0];u=l[1];let x=m-(u-m);x>=0&&(o=r.isRange(x,m,!1))}return l}static checkChecksum(r){return At.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let o=r.length;if(o===0)return!1;let l=parseInt(r.charAt(o-1),10);return At.getStandardUPCEANChecksum(r.substring(0,o-1))===l}static getStandardUPCEANChecksum(r){let o=r.length,l=0;for(let u=o-1;u>=0;u-=2){let d=r.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new B;l+=d}l*=3;for(let u=o-2;u>=0;u-=2){let d=r.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new B;l+=d}return(1e3-l)%10}static decodeEnd(r,o){return At.findGuardPattern(r,o,!1,At.START_END_PATTERN,new Int32Array(At.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,o,l,u){return this.findGuardPattern(r,o,l,u,new Int32Array(u.length))}static findGuardPattern(r,o,l,u,d){let m=r.getSize();o=l?r.getNextUnset(o):r.getNextSet(o);let x=0,b=o,v=u.length,S=l;for(let I=o;I<m;I++)if(r.get(I)!==S)d[x]++;else{if(x===v-1){if(kt.patternMatchVariance(d,u,At.MAX_INDIVIDUAL_VARIANCE)<At.MAX_AVG_VARIANCE)return Int32Array.from([b,I]);b+=d[0]+d[1];let j=d.slice(2,d.length-1);for(let F=0;F<x-1;F++)d[F]=j[F];d[x-1]=0,d[x]=0,x--}else x++;d[x]=1,S=!S}throw new X}static decodeDigit(r,o,l,u){this.recordPattern(r,l,o);let d=this.MAX_AVG_VARIANCE,m=-1,x=u.length;for(let b=0;b<x;b++){let v=u[b],S=kt.patternMatchVariance(o,v,At.MAX_INDIVIDUAL_VARIANCE);S<d&&(d=S,m=b)}if(m>=0)return m;throw new X}}At.MAX_AVG_VARIANCE=.48,At.MAX_INDIVIDUAL_VARIANCE=.7,At.START_END_PATTERN=Int32Array.from([1,1,1]),At.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),At.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),At.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Go{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,o,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(o,l,u),m=u.toString(),x=Go.parseExtensionString(m),b=[new xe((l[0]+l[1])/2,r),new xe(d,r)],v=new Ae(m,null,0,b,ye.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&v.putAllMetadata(x),v}decodeMiddle(r,o,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=r.getSize(),m=o[1],x=0;for(let v=0;v<5&&m<d;v++){let S=At.decodeDigit(r,u,m,At.L_AND_G_PATTERNS);l+=String.fromCharCode(48+S%10);for(let I of u)m+=I;S>=10&&(x|=1<<4-v),v!==4&&(m=r.getNextSet(m),m=r.getNextUnset(m))}if(l.length!==5)throw new X;let b=this.determineCheckDigit(x);if(Go.extensionChecksum(l.toString())!==b)throw new X;return m}static extensionChecksum(r){let o=r.length,l=0;for(let u=o-2;u>=0;u-=2)l+=r.charAt(u).charCodeAt(0)-48;l*=3;for(let u=o-1;u>=0;u-=2)l+=r.charAt(u).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(r){for(let o=0;o<10;o++)if(r===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new X}static parseExtensionString(r){if(r.length!==5)return null;let o=Go.parseExtension5String(r);return o==null?null:new Map([[ut.SUGGESTED_PRICE,o]])}static parseExtension5String(r){let o;switch(r.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let l=parseInt(r.substring(1)),u=(l/100).toString(),d=l%100,m=d<10?"0"+d:d.toString();return o+u+"."+m}}class wh{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,o,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(o,l,u),m=u.toString(),x=wh.parseExtensionString(m),b=[new xe((l[0]+l[1])/2,r),new xe(d,r)],v=new Ae(m,null,0,b,ye.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&v.putAllMetadata(x),v}decodeMiddle(r,o,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=r.getSize(),m=o[1],x=0;for(let b=0;b<2&&m<d;b++){let v=At.decodeDigit(r,u,m,At.L_AND_G_PATTERNS);l+=String.fromCharCode(48+v%10);for(let S of u)m+=S;v>=10&&(x|=1<<1-b),b!==1&&(m=r.getNextSet(m),m=r.getNextUnset(m))}if(l.length!==2)throw new X;if(parseInt(l.toString())%4!==x)throw new X;return m}static parseExtensionString(r){return r.length!==2?null:new Map([[ut.ISSUE_NUMBER,parseInt(r)]])}}class Pg{static decodeRow(r,o,l){let u=At.findGuardPattern(o,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Go().decodeRow(r,o,u)}catch{return new wh().decodeRow(r,o,u)}}}Pg.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ge extends At{constructor(){super(),this.decodeRowStringBuffer="",Ge.L_AND_G_PATTERNS=Ge.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let o=Ge.L_PATTERNS[r-10],l=new Int32Array(o.length);for(let u=0;u<o.length;u++)l[u]=o[o.length-u-1];Ge.L_AND_G_PATTERNS[r]=l}}decodeRow(r,o,l){let u=Ge.findStartGuardPattern(o),d=l==null?null:l.get(L.NEED_RESULT_POINT_CALLBACK);if(d!=null){const oe=new xe((u[0]+u[1])/2,r);d.foundPossibleResultPoint(oe)}let m=this.decodeMiddle(o,u,this.decodeRowStringBuffer),x=m.rowOffset,b=m.resultString;if(d!=null){const oe=new xe(x,r);d.foundPossibleResultPoint(oe)}let v=this.decodeEnd(o,x);if(d!=null){const oe=new xe((v[0]+v[1])/2,r);d.foundPossibleResultPoint(oe)}let S=v[1],I=S+(S-v[0]);if(I>=o.getSize()||!o.isRange(S,I,!1))throw new X;let j=b.toString();if(j.length<8)throw new B;if(!Ge.checkChecksum(j))throw new A;let F=(u[1]+u[0])/2,G=(v[1]+v[0])/2,q=this.getBarcodeFormat(),Z=[new xe(F,r),new xe(G,r)],ee=new Ae(j,null,0,Z,q,new Date().getTime()),ce=0;try{let oe=Pg.decodeRow(r,o,v[1]);ee.putMetadata(ut.UPC_EAN_EXTENSION,oe.getText()),ee.putAllMetadata(oe.getResultMetadata()),ee.addResultPoints(oe.getResultPoints()),ce=oe.getText().length}catch{}let de=l==null?null:l.get(L.ALLOWED_EAN_EXTENSIONS);if(de!=null){let oe=!1;for(let Pe in de)if(ce.toString()===Pe){oe=!0;break}if(!oe)throw new X}return ee}decodeEnd(r,o){return Ge.findGuardPattern(r,o,!1,Ge.START_END_PATTERN,new Int32Array(Ge.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return Ge.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let o=r.length;if(o===0)return!1;let l=parseInt(r.charAt(o-1),10);return Ge.getStandardUPCEANChecksum(r.substring(0,o-1))===l}static getStandardUPCEANChecksum(r){let o=r.length,l=0;for(let u=o-1;u>=0;u-=2){let d=r.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new B;l+=d}l*=3;for(let u=o-2;u>=0;u-=2){let d=r.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new B;l+=d}return(1e3-l)%10}}class Es extends Ge{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,o,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=r.getSize(),m=o[1],x=0;for(let v=0;v<6&&m<d;v++){let S=Ge.decodeDigit(r,u,m,Ge.L_AND_G_PATTERNS);l+=String.fromCharCode(48+S%10);for(let I of u)m+=I;S>=10&&(x|=1<<5-v)}l=Es.determineFirstDigit(l,x),m=Ge.findGuardPattern(r,m,!0,Ge.MIDDLE_PATTERN,new Int32Array(Ge.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&m<d;v++){let S=Ge.decodeDigit(r,u,m,Ge.L_PATTERNS);l+=String.fromCharCode(48+S);for(let I of u)m+=I}return{rowOffset:m,resultString:l}}getBarcodeFormat(){return ye.EAN_13}static determineFirstDigit(r,o){for(let l=0;l<10;l++)if(o===this.FIRST_DIGIT_ENCODINGS[l])return r=String.fromCharCode(48+l)+r,r;throw new X}}Es.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ug extends Ge{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,o,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=r.getSize(),m=o[1];for(let b=0;b<4&&m<d;b++){let v=Ge.decodeDigit(r,u,m,Ge.L_PATTERNS);l+=String.fromCharCode(48+v);for(let S of u)m+=S}m=Ge.findGuardPattern(r,m,!0,Ge.MIDDLE_PATTERN,new Int32Array(Ge.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<4&&m<d;b++){let v=Ge.decodeDigit(r,u,m,Ge.L_PATTERNS);l+=String.fromCharCode(48+v);for(let S of u)m+=S}return{rowOffset:m,resultString:l}}getBarcodeFormat(){return ye.EAN_8}}class Fg extends Ge{constructor(){super(...arguments),this.ean13Reader=new Es}getBarcodeFormat(){return ye.UPC_A}decode(r,o){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,o,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,o,l))}decodeMiddle(r,o,l){return this.ean13Reader.decodeMiddle(r,o,l)}maybeReturnResult(r){let o=r.getText();if(o.charAt(0)==="0"){let l=new Ae(o.substring(1),null,null,r.getResultPoints(),ye.UPC_A);return r.getResultMetadata()!=null&&l.putAllMetadata(r.getResultMetadata()),l}else throw new X}reset(){this.ean13Reader.reset()}}class xi extends Ge{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,o,l){const u=this.decodeMiddleCounters.map(v=>v);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const d=r.getSize();let m=o[1],x=0;for(let v=0;v<6&&m<d;v++){const S=xi.decodeDigit(r,u,m,xi.L_AND_G_PATTERNS);l+=String.fromCharCode(48+S%10);for(let I of u)m+=I;S>=10&&(x|=1<<5-v)}let b=xi.determineNumSysAndCheckDigit(l,x);return{rowOffset:m,resultString:b}}decodeEnd(r,o){return xi.findGuardPatternWithoutCounters(r,o,!0,xi.MIDDLE_END_PATTERN)}checkChecksum(r){return Ge.checkChecksum(xi.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,o){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u]){let d=String.fromCharCode(48+l),m=String.fromCharCode(48+u);return d+r+m}throw X.getNotFoundInstance()}getBarcodeFormat(){return ye.UPC_E}static convertUPCEtoUPCA(r){const o=r.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new te;l.append(r.charAt(0));let u=o[5];switch(u){case 0:case 1:case 2:l.appendChars(o,0,2),l.append(u),l.append("0000"),l.appendChars(o,2,3);break;case 3:l.appendChars(o,0,3),l.append("00000"),l.appendChars(o,3,2);break;case 4:l.appendChars(o,0,4),l.append("00000"),l.append(o[4]);break;default:l.appendChars(o,0,5),l.append("0000"),l.append(u);break}return r.length>=8&&l.append(r.charAt(7)),l.toString()}}xi.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),xi.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class vh extends kt{constructor(r){super();let o=r==null?null:r.get(L.POSSIBLE_FORMATS),l=[];i(o)?(l.push(new Es),l.push(new Fg),l.push(new Ug),l.push(new xi)):(o.indexOf(ye.EAN_13)>-1&&l.push(new Es),o.indexOf(ye.UPC_A)>-1&&l.push(new Fg),o.indexOf(ye.EAN_8)>-1&&l.push(new Ug),o.indexOf(ye.UPC_E)>-1&&l.push(new xi)),this.readers=l}decodeRow(r,o,l){for(let u of this.readers)try{const d=u.decodeRow(r,o,l),m=d.getBarcodeFormat()===ye.EAN_13&&d.getText().charAt(0)==="0",x=l==null?null:l.get(L.POSSIBLE_FORMATS),b=x==null||x.includes(ye.UPC_A);if(m&&b){const v=d.getRawBytes(),S=new Ae(d.getText().substring(1),v,v?v.length:null,d.getResultPoints(),ye.UPC_A);return S.putAllMetadata(d.getResultMetadata()),S}return d}catch{}throw new X}reset(){for(let r of this.readers)r.reset()}}class dn extends kt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,o){for(let l=0;l<o.length;l++)if(kt.patternMatchVariance(r,o[l],dn.MAX_INDIVIDUAL_VARIANCE)<dn.MAX_AVG_VARIANCE)return l;throw new X}static count(r){return Ve.sum(new Int32Array(r))}static increment(r,o){let l=0,u=o[0];for(let d=1;d<r.length;d++)o[d]>u&&(u=o[d],l=d);r[l]++}static decrement(r,o){let l=0,u=o[0];for(let d=1;d<r.length;d++)o[d]<u&&(u=o[d],l=d);r[l]--}static isFinderPattern(r){let o=r[0]+r[1],l=o+r[2]+r[3],u=o/l;if(u>=dn.MIN_FINDER_PATTERN_RATIO&&u<=dn.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER;for(let x of r)x>m&&(m=x),x<d&&(d=x);return m<10*d}return!1}}dn.MAX_AVG_VARIANCE=.2,dn.MAX_INDIVIDUAL_VARIANCE=.45,dn.MIN_FINDER_PATTERN_RATIO=9.5/12,dn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ua{constructor(r,o){this.value=r,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof ua))return!1;const o=r;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Hc{constructor(r,o,l,u,d){this.value=r,this.startEnd=o,this.value=r,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new xe(l,d)),this.resultPoints.push(new xe(u,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof Hc))return!1;const o=r;return this.value===o.value}hashCode(){return this.value}}class Di{constructor(){}static getRSSvalue(r,o,l){let u=0;for(let b of r)u+=b;let d=0,m=0,x=r.length;for(let b=0;b<x-1;b++){let v;for(v=1,m|=1<<b;v<r[b];v++,m&=~(1<<b)){let S=Di.combins(u-v-1,x-b-2);if(l&&m===0&&u-v-(x-b-1)>=x-b-1&&(S-=Di.combins(u-v-(x-b),x-b-2)),x-b-1>1){let I=0;for(let j=u-v-(x-b-2);j>o;j--)I+=Di.combins(u-v-j-1,x-b-3);S-=I*(x-1-b)}else u-v>o&&S--;d+=S}u-=v}return d}static combins(r,o){let l,u;r-o>o?(u=o,l=r-o):(u=r-o,l=o);let d=1,m=1;for(let x=r;x>l;x--)d*=x,m<=u&&(d/=m,m++);for(;m<=u;)d/=m,m++;return d}}class AA{static buildBitArray(r){let o=r.length*2-1;r[r.length-1].getRightChar()==null&&(o-=1);let l=12*o,u=new k(l),d=0,x=r[0].getRightChar().getValue();for(let b=11;b>=0;--b)x&1<<b&&u.set(d),d++;for(let b=1;b<r.length;++b){let v=r[b],S=v.getLeftChar().getValue();for(let I=11;I>=0;--I)S&1<<I&&u.set(d),d++;if(v.getRightChar()!=null){let I=v.getRightChar().getValue();for(let j=11;j>=0;--j)I&1<<j&&u.set(d),d++}}return u}}class As{constructor(r,o){o?this.decodedInformation=null:(this.finished=r,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Eh{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class Nn extends Eh{constructor(r,o){super(r),this.value=o}getValue(){return this.value}isFNC1(){return this.value===Nn.FNC1}}Nn.FNC1="$";class Ss extends Eh{constructor(r,o,l){super(r),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Jn extends Eh{constructor(r,o,l){if(super(r),o<0||o>10||l<0||l>10)throw new B;this.firstDigit=o,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Jn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Jn.FNC1}isAnyFNC1(){return this.firstDigit===Jn.FNC1||this.secondDigit===Jn.FNC1}}Jn.FNC1=10;class ge{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new X;let o=r.substring(0,2);for(let d of ge.TWO_DIGIT_DATA_LENGTH)if(d[0]===o)return d[1]===ge.VARIABLE_LENGTH?ge.processVariableAI(2,d[2],r):ge.processFixedAI(2,d[1],r);if(r.length<3)throw new X;let l=r.substring(0,3);for(let d of ge.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===ge.VARIABLE_LENGTH?ge.processVariableAI(3,d[2],r):ge.processFixedAI(3,d[1],r);for(let d of ge.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===ge.VARIABLE_LENGTH?ge.processVariableAI(4,d[2],r):ge.processFixedAI(4,d[1],r);if(r.length<4)throw new X;let u=r.substring(0,4);for(let d of ge.FOUR_DIGIT_DATA_LENGTH)if(d[0]===u)return d[1]===ge.VARIABLE_LENGTH?ge.processVariableAI(4,d[2],r):ge.processFixedAI(4,d[1],r);throw new X}static processFixedAI(r,o,l){if(l.length<r)throw new X;let u=l.substring(0,r);if(l.length<r+o)throw new X;let d=l.substring(r,r+o),m=l.substring(r+o),x="("+u+")"+d,b=ge.parseFieldsInGeneralPurpose(m);return b==null?x:x+b}static processVariableAI(r,o,l){let u=l.substring(0,r),d;l.length<r+o?d=l.length:d=r+o;let m=l.substring(r,d),x=l.substring(d),b="("+u+")"+m,v=ge.parseFieldsInGeneralPurpose(x);return v==null?b:b+v}}ge.VARIABLE_LENGTH=[],ge.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ge.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ge.VARIABLE_LENGTH,20],["22",ge.VARIABLE_LENGTH,29],["30",ge.VARIABLE_LENGTH,8],["37",ge.VARIABLE_LENGTH,8],["90",ge.VARIABLE_LENGTH,30],["91",ge.VARIABLE_LENGTH,30],["92",ge.VARIABLE_LENGTH,30],["93",ge.VARIABLE_LENGTH,30],["94",ge.VARIABLE_LENGTH,30],["95",ge.VARIABLE_LENGTH,30],["96",ge.VARIABLE_LENGTH,30],["97",ge.VARIABLE_LENGTH,3],["98",ge.VARIABLE_LENGTH,30],["99",ge.VARIABLE_LENGTH,30]],ge.THREE_DIGIT_DATA_LENGTH=[["240",ge.VARIABLE_LENGTH,30],["241",ge.VARIABLE_LENGTH,30],["242",ge.VARIABLE_LENGTH,6],["250",ge.VARIABLE_LENGTH,30],["251",ge.VARIABLE_LENGTH,30],["253",ge.VARIABLE_LENGTH,17],["254",ge.VARIABLE_LENGTH,20],["400",ge.VARIABLE_LENGTH,30],["401",ge.VARIABLE_LENGTH,30],["402",17],["403",ge.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ge.VARIABLE_LENGTH,20],["421",ge.VARIABLE_LENGTH,15],["422",3],["423",ge.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ge.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ge.VARIABLE_LENGTH,15],["391",ge.VARIABLE_LENGTH,18],["392",ge.VARIABLE_LENGTH,15],["393",ge.VARIABLE_LENGTH,18],["703",ge.VARIABLE_LENGTH,30]],ge.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ge.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ge.VARIABLE_LENGTH,20],["8003",ge.VARIABLE_LENGTH,30],["8004",ge.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ge.VARIABLE_LENGTH,30],["8008",ge.VARIABLE_LENGTH,12],["8018",18],["8020",ge.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ge.VARIABLE_LENGTH,70],["8200",ge.VARIABLE_LENGTH,70]];class da{constructor(r){this.buffer=new te,this.information=r}decodeAllCodes(r,o){let l=o,u=null;do{let d=this.decodeGeneralPurposeField(l,u),m=ge.parseFieldsInGeneralPurpose(d.getNewString());if(m!=null&&r.append(m),d.isRemaining()?u=""+d.getRemainingValue():u=null,l===d.getNewPosition())break;l=d.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let o=r;o<r+3;++o)if(this.information.get(o))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(r,4);return d===0?new Jn(this.information.getSize(),Jn.FNC1,Jn.FNC1):new Jn(this.information.getSize(),d-1,Jn.FNC1)}let o=this.extractNumericValueFromBitArray(r,7),l=(o-8)/11,u=(o-8)%11;return new Jn(r+7,l,u)}extractNumericValueFromBitArray(r,o){return da.extractNumericValueFromBitArray(this.information,r,o)}static extractNumericValueFromBitArray(r,o,l){let u=0;for(let d=0;d<l;++d)r.get(o+d)&&(u|=1<<l-d-1);return u}decodeGeneralPurposeField(r,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(r);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Ss(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Ss(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,o;do{let l=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),r=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),r=o.isFinished()):(o=this.parseNumericBlock(),r=o.isFinished()),!(l!==this.current.getPosition())&&!r)break}while(!r);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let o;return r.isSecondDigitFNC1()?o=new Ss(this.current.getPosition(),this.buffer.toString()):o=new Ss(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new As(!0,o)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let o=new Ss(this.current.getPosition(),this.buffer.toString());return new As(!0,o)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new As(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let o=new Ss(this.current.getPosition(),this.buffer.toString());return new As(!0,o)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new As(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let o=new Ss(this.current.getPosition(),this.buffer.toString());return new As(!0,o)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new As(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,5);if(o>=5&&o<16)return!0;if(r+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(r,7);if(l>=64&&l<116)return!0;if(r+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(r,8);return u>=232&&u<253}decodeIsoIec646(r){let o=this.extractNumericValueFromBitArray(r,5);if(o===15)return new Nn(r+5,Nn.FNC1);if(o>=5&&o<15)return new Nn(r+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(r,7);if(l>=64&&l<90)return new Nn(r+7,""+(l+1));if(l>=90&&l<116)return new Nn(r+7,""+(l+7));let u=this.extractNumericValueFromBitArray(r,8),d;switch(u){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new B}return new Nn(r+8,d)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,5);if(o>=5&&o<16)return!0;if(r+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(r,6);return l>=16&&l<63}decodeAlphanumeric(r){let o=this.extractNumericValueFromBitArray(r,5);if(o===15)return new Nn(r+5,Nn.FNC1);if(o>=5&&o<15)return new Nn(r+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(r,6);if(l>=32&&l<58)return new Nn(r+6,""+(l+33));let u;switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new Mi("Decoding invalid alphanumeric value: "+l)}return new Nn(r+6,u)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let o=0;o<5&&o+r<this.information.getSize();++o)if(o===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+o))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let o=r;o<r+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let o=0;o<4&&o+r<this.information.getSize();++o)if(this.information.get(r+o))return!1;return!0}}class Ah{constructor(r){this.information=r,this.generalDecoder=new da(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class _n extends Ah{constructor(r){super(r)}encodeCompressedGtin(r,o){r.append("(01)");let l=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,o,l)}encodeCompressedGtinWithoutAI(r,o,l){for(let u=0;u<4;++u){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*u,10);d/100===0&&r.append("0"),d/10===0&&r.append("0"),r.append(d)}_n.appendCheckDigit(r,l)}static appendCheckDigit(r,o){let l=0;for(let u=0;u<13;u++){let d=r.charAt(u+o).charCodeAt(0)-48;l+=u&1?d:3*d}l=10-l%10,l===10&&(l=0),r.append(l)}}_n.GTIN_SIZE=40;class ha extends _n{constructor(r){super(r)}parseInformation(){let r=new te;r.append("(01)");let o=r.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(ha.HEADER_SIZE,4);return r.append(l),this.encodeCompressedGtinWithoutAI(r,ha.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(r,ha.HEADER_SIZE+44)}}ha.HEADER_SIZE=4;class Gc extends Ah{constructor(r){super(r)}parseInformation(){let r=new te;return this.getGeneralDecoder().decodeAllCodes(r,Gc.HEADER_SIZE)}}Gc.HEADER_SIZE=5;class Yc extends _n{constructor(r){super(r)}encodeCompressedWeight(r,o,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(o,l);this.addWeightCode(r,u);let d=this.checkWeight(u),m=1e5;for(let x=0;x<5;++x)d/m===0&&r.append("0"),m/=10;r.append(d)}}class Ri extends Yc{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=Ri.HEADER_SIZE+Yc.GTIN_SIZE+Ri.WEIGHT_SIZE)throw new X;let r=new te;return this.encodeCompressedGtin(r,Ri.HEADER_SIZE),this.encodeCompressedWeight(r,Ri.HEADER_SIZE+Yc.GTIN_SIZE,Ri.WEIGHT_SIZE),r.toString()}}Ri.HEADER_SIZE=5,Ri.WEIGHT_SIZE=15;class SA extends Ri{constructor(r){super(r)}addWeightCode(r,o){r.append("(3103)")}checkWeight(r){return r}}class CA extends Ri{constructor(r){super(r)}addWeightCode(r,o){o<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class ji extends _n{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<ji.HEADER_SIZE+_n.GTIN_SIZE)throw new X;let r=new te;this.encodeCompressedGtin(r,ji.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(ji.HEADER_SIZE+_n.GTIN_SIZE,ji.LAST_DIGIT_SIZE);r.append("(392"),r.append(o),r.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(ji.HEADER_SIZE+_n.GTIN_SIZE+ji.LAST_DIGIT_SIZE,null);return r.append(l.getNewString()),r.toString()}}ji.HEADER_SIZE=8,ji.LAST_DIGIT_SIZE=2;class yn extends _n{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<yn.HEADER_SIZE+_n.GTIN_SIZE)throw new X;let r=new te;this.encodeCompressedGtin(r,yn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(yn.HEADER_SIZE+_n.GTIN_SIZE,yn.LAST_DIGIT_SIZE);r.append("(393"),r.append(o),r.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(yn.HEADER_SIZE+_n.GTIN_SIZE+yn.LAST_DIGIT_SIZE,yn.FIRST_THREE_DIGITS_SIZE);l/100==0&&r.append("0"),l/10==0&&r.append("0"),r.append(l);let u=this.getGeneralDecoder().decodeGeneralPurposeField(yn.HEADER_SIZE+_n.GTIN_SIZE+yn.LAST_DIGIT_SIZE+yn.FIRST_THREE_DIGITS_SIZE,null);return r.append(u.getNewString()),r.toString()}}yn.HEADER_SIZE=8,yn.LAST_DIGIT_SIZE=2,yn.FIRST_THREE_DIGITS_SIZE=10;class mt extends Yc{constructor(r,o,l){super(r),this.dateCode=l,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=mt.HEADER_SIZE+mt.GTIN_SIZE+mt.WEIGHT_SIZE+mt.DATE_SIZE)throw new X;let r=new te;return this.encodeCompressedGtin(r,mt.HEADER_SIZE),this.encodeCompressedWeight(r,mt.HEADER_SIZE+mt.GTIN_SIZE,mt.WEIGHT_SIZE),this.encodeCompressedDate(r,mt.HEADER_SIZE+mt.GTIN_SIZE+mt.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,mt.DATE_SIZE);if(l==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let u=l%32;l/=32;let d=l%12+1;l/=12;let m=l;m/10==0&&r.append("0"),r.append(m),d/10==0&&r.append("0"),r.append(d),u/10==0&&r.append("0"),r.append(u)}addWeightCode(r,o){r.append("("),r.append(this.firstAIdigits),r.append(o/1e5),r.append(")")}checkWeight(r){return r%1e5}}mt.HEADER_SIZE=8,mt.WEIGHT_SIZE=20,mt.DATE_SIZE=16;function Vg(T){try{if(T.get(1))return new ha(T);if(!T.get(2))return new Gc(T);switch(da.extractNumericValueFromBitArray(T,1,4)){case 4:return new SA(T);case 5:return new CA(T)}switch(da.extractNumericValueFromBitArray(T,1,5)){case 12:return new ji(T);case 13:return new yn(T)}switch(da.extractNumericValueFromBitArray(T,1,7)){case 56:return new mt(T,"310","11");case 57:return new mt(T,"320","11");case 58:return new mt(T,"310","13");case 59:return new mt(T,"320","13");case 60:return new mt(T,"310","15");case 61:return new mt(T,"320","15");case 62:return new mt(T,"310","17");case 63:return new mt(T,"320","17")}}catch(r){throw console.log(r),new Mi("unknown decoder: "+T)}}class Cr{constructor(r,o,l,u){this.leftchar=r,this.rightchar=o,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,o){return r instanceof Cr?Cr.equalsOrNull(r.leftchar,o.leftchar)&&Cr.equalsOrNull(r.rightchar,o.rightchar)&&Cr.equalsOrNull(r.finderpattern,o.finderpattern):!1}static equalsOrNull(r,o){return r===null?o===null:Cr.equals(r,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Sh{constructor(r,o,l){this.pairs=r,this.rowNumber=o,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,o){return r instanceof Sh?this.checkEqualitity(r,o)&&r.wasReversed===o.wasReversed:!1}checkEqualitity(r,o){if(!r||!o)return;let l;return r.forEach((u,d)=>{o.forEach(m=>{u.getLeftChar().getValue()===m.getLeftChar().getValue()&&u.getRightChar().getValue()===m.getRightChar().getValue()&&u.getFinderPatter().getValue()===m.getFinderPatter().getValue()&&(l=!0)})}),l}}class se extends dn{constructor(r){super(...arguments),this.pairs=new Array(se.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,o,l){this.pairs.length=0,this.startFromEven=!1;try{return se.constructResult(this.decodeRow2pairs(r,o))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,se.constructResult(this.decodeRow2pairs(r,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,o){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,r))}catch(d){if(d instanceof X){if(!this.pairs.length)throw new X;l=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(r,!1),u){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new X}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return r&&(this.rows=this.rows.reverse()),o}checkRows(r,o){for(let l=o;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let m of r)this.pairs.push(m.getPairs());if(this.pairs.push(u.getPairs()),!se.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(r);d.push(u);try{return this.checkRows(d,l+1)}catch(m){this.verbose&&console.log(m)}}throw new X}static isValidSequence(r){for(let o of se.FINDER_PATTERN_SEQUENCES){if(r.length>o.length)continue;let l=!0;for(let u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!=o[u]){l=!1;break}if(l)return!0}return!1}storeRow(r,o){let l=0,u=!1,d=!1;for(;l<this.rows.length;){let m=this.rows[l];if(m.getRowNumber()>r){d=m.isEquivalent(this.pairs);break}u=m.isEquivalent(this.pairs),l++}d||u||se.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Sh(this.pairs,r,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,o){for(let l of o)if(l.getPairs().length!==r.length){for(let u of l.getPairs())for(let d of r)if(Cr.equals(u,d))break}}static isPartialRow(r,o){for(let l of o){let u=!0;for(let d of r){let m=!1;for(let x of l.getPairs())if(d.equals(x)){m=!0;break}if(!m){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(r){let o=AA.buildBitArray(r),u=Vg(o).parseInformation(),d=r[0].getFinderPattern().getResultPoints(),m=r[r.length-1].getFinderPattern().getResultPoints(),x=[d[0],d[1],m[0],m[1]];return new Ae(u,null,null,x,ye.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),o=r.getLeftChar(),l=r.getRightChar();if(l==null)return!1;let u=l.getChecksumPortion(),d=2;for(let x=1;x<this.pairs.size();++x){let b=this.pairs.get(x);u+=b.getLeftChar().getChecksumPortion(),d++;let v=b.getRightChar();v!=null&&(u+=v.getChecksumPortion(),d++)}return u%=211,211*(d-4)+u==o.getValue()}static getNextSecondBar(r,o){let l;return r.get(o)?(l=r.getNextUnset(o),l=r.getNextSet(l)):(l=r.getNextSet(o),l=r.getNextUnset(l)),l}retrieveNextPair(r,o,l){let u=o.length%2==0;this.startFromEven&&(u=!u);let d,m=!0,x=-1;do this.findNextPair(r,o,x),d=this.parseFoundFinderPattern(r,l,u),d==null?x=se.getNextSecondBar(r,this.startEnd[0]):m=!1;while(m);let b=this.decodeDataCharacter(r,d,u,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new X;let v;try{v=this.decodeDataCharacter(r,d,u,!1)}catch(S){v=null,this.verbose&&console.log(S)}return new Cr(b,v,d,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,o,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=r.getSize(),m;l>=0?m=l:this.isEmptyPair(o)?m=0:m=o[o.length-1].getFinderPattern().getStartEnd()[1];let x=o.length%2!=0;this.startFromEven&&(x=!x);let b=!1;for(;m<d&&(b=!r.get(m),!!b);)m++;let v=0,S=m;for(let I=m;I<d;I++)if(r.get(I)!=b)u[v]++;else{if(v==3){if(x&&se.reverseCounters(u),se.isFinderPattern(u)){this.startEnd[0]=S,this.startEnd[1]=I;return}x&&se.reverseCounters(u),S+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,v--}else v++;u[v]=1,b=!b}throw new X}static reverseCounters(r){let o=r.length;for(let l=0;l<o/2;++l){let u=r[l];r[l]=r[o-l-1],r[o-l-1]=u}}parseFoundFinderPattern(r,o,l){let u,d,m;if(l){let v=this.startEnd[0]-1;for(;v>=0&&!r.get(v);)v--;v++,u=this.startEnd[0]-v,d=v,m=this.startEnd[1]}else d=this.startEnd[0],m=r.getNextUnset(this.startEnd[1]+1),u=m-this.startEnd[1];let x=this.getDecodeFinderCounters();M.arraycopy(x,0,x,1,x.length-1),x[0]=u;let b;try{b=this.parseFinderValue(x,se.FINDER_PATTERNS)}catch{return null}return new Hc(b,[d,m],d,m,o)}decodeDataCharacter(r,o,l,u){let d=this.getDataCharacterCounters();for(let rt=0;rt<d.length;rt++)d[rt]=0;if(u)se.recordPatternInReverse(r,o.getStartEnd()[0],d);else{se.recordPattern(r,o.getStartEnd()[1],d);for(let rt=0,sn=d.length-1;rt<sn;rt++,sn--){let Un=d[rt];d[rt]=d[sn],d[sn]=Un}}let m=17,x=Ve.sum(new Int32Array(d))/m,b=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(x-b)/b>.3)throw new X;let v=this.getOddCounts(),S=this.getEvenCounts(),I=this.getOddRoundingErrors(),j=this.getEvenRoundingErrors();for(let rt=0;rt<d.length;rt++){let sn=1*d[rt]/x,Un=sn+.5;if(Un<1){if(sn<.3)throw new X;Un=1}else if(Un>8){if(sn>8.7)throw new X;Un=8}let xa=rt/2;rt&1?(S[xa]=Un,j[xa]=sn-Un):(v[xa]=Un,I[xa]=sn-Un)}this.adjustOddEvenCounts(m);let F=4*o.getValue()+(l?0:2)+(u?0:1)-1,G=0,q=0;for(let rt=v.length-1;rt>=0;rt--){if(se.isNotA1left(o,l,u)){let sn=se.WEIGHTS[F][2*rt];q+=v[rt]*sn}G+=v[rt]}let Z=0;for(let rt=S.length-1;rt>=0;rt--)if(se.isNotA1left(o,l,u)){let sn=se.WEIGHTS[F][2*rt+1];Z+=S[rt]*sn}let ee=q+Z;if(G&1||G>13||G<4)throw new X;let ce=(13-G)/2,de=se.SYMBOL_WIDEST[ce],oe=9-de,Pe=Di.getRSSvalue(v,de,!0),Ie=Di.getRSSvalue(S,oe,!1),In=se.EVEN_TOTAL_SUBSET[ce],yi=se.GSUM[ce],Mn=Pe*In+Ie+yi;return new ua(Mn,ee)}static isNotA1left(r,o,l){return!(r.getValue()==0&&o&&l)}adjustOddEvenCounts(r){let o=Ve.sum(new Int32Array(this.getOddCounts())),l=Ve.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1;o>13?d=!0:o<4&&(u=!0);let m=!1,x=!1;l>13?x=!0:l<4&&(m=!0);let b=o+l-r,v=(o&1)==1,S=(l&1)==0;if(b==1)if(v){if(S)throw new X;d=!0}else{if(!S)throw new X;x=!0}else if(b==-1)if(v){if(S)throw new X;u=!0}else{if(!S)throw new X;m=!0}else if(b==0){if(v){if(!S)throw new X;o<l?(u=!0,x=!0):(d=!0,m=!0)}else if(S)throw new X}else throw new X;if(u){if(d)throw new X;se.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&se.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(x)throw new X;se.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&se.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}se.SYMBOL_WIDEST=[7,5,4,3,1],se.EVEN_TOTAL_SUBSET=[4,20,52,104,204],se.GSUM=[0,348,1388,2948,3988],se.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],se.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],se.FINDER_PAT_A=0,se.FINDER_PAT_B=1,se.FINDER_PAT_C=2,se.FINDER_PAT_D=3,se.FINDER_PAT_E=4,se.FINDER_PAT_F=5,se.FINDER_PATTERN_SEQUENCES=[[se.FINDER_PAT_A,se.FINDER_PAT_A],[se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B],[se.FINDER_PAT_A,se.FINDER_PAT_C,se.FINDER_PAT_B,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_C],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F]],se.MAX_PAIRS=11;class NA extends ua{constructor(r,o,l){super(r,o),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class St extends dn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,o,l){const u=this.decodePair(o,!1,r,l);St.addOrTally(this.possibleLeftPairs,u),o.reverse();let d=this.decodePair(o,!0,r,l);St.addOrTally(this.possibleRightPairs,d),o.reverse();for(let m of this.possibleLeftPairs)if(m.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&St.checkChecksum(m,x))return St.constructResult(m,x)}throw new X}static addOrTally(r,o){if(o==null)return;let l=!1;for(let u of r)if(u.getValue()===o.getValue()){u.incrementCount(),l=!0;break}l||r.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,o){let l=4537077*r.getValue()+o.getValue(),u=new String(l).toString(),d=new te;for(let v=13-u.length;v>0;v--)d.append("0");d.append(u);let m=0;for(let v=0;v<13;v++){let S=d.charAt(v).charCodeAt(0)-48;m+=v&1?S:3*S}m=10-m%10,m===10&&(m=0),d.append(m.toString());let x=r.getFinderPattern().getResultPoints(),b=o.getFinderPattern().getResultPoints();return new Ae(d.toString(),null,0,[x[0],x[1],b[0],b[1]],ye.RSS_14,new Date().getTime())}static checkChecksum(r,o){let l=(r.getChecksumPortion()+16*o.getChecksumPortion())%79,u=9*r.getFinderPattern().getValue()+o.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(r,o,l,u){try{let d=this.findFinderPattern(r,o),m=this.parseFoundFinderPattern(r,l,o,d),x=u==null?null:u.get(L.NEED_RESULT_POINT_CALLBACK);if(x!=null){let S=(d[0]+d[1])/2;o&&(S=r.getSize()-1-S),x.foundPossibleResultPoint(new xe(S,l))}let b=this.decodeDataCharacter(r,m,!0),v=this.decodeDataCharacter(r,m,!1);return new NA(1597*b.getValue()+v.getValue(),b.getChecksumPortion()+4*v.getChecksumPortion(),m)}catch{return null}}decodeDataCharacter(r,o,l){let u=this.getDataCharacterCounters();for(let Z=0;Z<u.length;Z++)u[Z]=0;if(l)kt.recordPatternInReverse(r,o.getStartEnd()[0],u);else{kt.recordPattern(r,o.getStartEnd()[1]+1,u);for(let Z=0,ee=u.length-1;Z<ee;Z++,ee--){let ce=u[Z];u[Z]=u[ee],u[ee]=ce}}let d=l?16:15,m=Ve.sum(new Int32Array(u))/d,x=this.getOddCounts(),b=this.getEvenCounts(),v=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let Z=0;Z<u.length;Z++){let ee=u[Z]/m,ce=Math.floor(ee+.5);ce<1?ce=1:ce>8&&(ce=8);let de=Math.floor(Z/2);Z&1?(b[de]=ce,S[de]=ee-ce):(x[de]=ce,v[de]=ee-ce)}this.adjustOddEvenCounts(l,d);let I=0,j=0;for(let Z=x.length-1;Z>=0;Z--)j*=9,j+=x[Z],I+=x[Z];let F=0,G=0;for(let Z=b.length-1;Z>=0;Z--)F*=9,F+=b[Z],G+=b[Z];let q=j+3*F;if(l){if(I&1||I>12||I<4)throw new X;let Z=(12-I)/2,ee=St.OUTSIDE_ODD_WIDEST[Z],ce=9-ee,de=Di.getRSSvalue(x,ee,!1),oe=Di.getRSSvalue(b,ce,!0),Pe=St.OUTSIDE_EVEN_TOTAL_SUBSET[Z],Ie=St.OUTSIDE_GSUM[Z];return new ua(de*Pe+oe+Ie,q)}else{if(G&1||G>10||G<4)throw new X;let Z=(10-G)/2,ee=St.INSIDE_ODD_WIDEST[Z],ce=9-ee,de=Di.getRSSvalue(x,ee,!0),oe=Di.getRSSvalue(b,ce,!1),Pe=St.INSIDE_ODD_TOTAL_SUBSET[Z],Ie=St.INSIDE_GSUM[Z];return new ua(oe*Pe+de+Ie,q)}}findFinderPattern(r,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=r.getSize(),d=!1,m=0;for(;m<u&&(d=!r.get(m),o!==d);)m++;let x=0,b=m;for(let v=m;v<u;v++)if(r.get(v)!==d)l[x]++;else{if(x===3){if(dn.isFinderPattern(l))return[b,v];b+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,x--}else x++;l[x]=1,d=!d}throw new X}parseFoundFinderPattern(r,o,l,u){let d=r.get(u[0]),m=u[0]-1;for(;m>=0&&d!==r.get(m);)m--;m++;const x=u[0]-m,b=this.getDecodeFinderCounters(),v=new Int32Array(b.length);M.arraycopy(b,0,v,1,b.length-1),v[0]=x;const S=this.parseFinderValue(v,St.FINDER_PATTERNS);let I=m,j=u[1];return l&&(I=r.getSize()-1-I,j=r.getSize()-1-j),new Hc(S,[m,u[1]],I,j,o)}adjustOddEvenCounts(r,o){let l=Ve.sum(new Int32Array(this.getOddCounts())),u=Ve.sum(new Int32Array(this.getEvenCounts())),d=!1,m=!1,x=!1,b=!1;r?(l>12?m=!0:l<4&&(d=!0),u>12?b=!0:u<4&&(x=!0)):(l>11?m=!0:l<5&&(d=!0),u>10?b=!0:u<4&&(x=!0));let v=l+u-o,S=(l&1)===(r?1:0),I=(u&1)===1;if(v===1)if(S){if(I)throw new X;m=!0}else{if(!I)throw new X;b=!0}else if(v===-1)if(S){if(I)throw new X;d=!0}else{if(!I)throw new X;x=!0}else if(v===0){if(S){if(!I)throw new X;l<u?(d=!0,b=!0):(m=!0,x=!0)}else if(I)throw new X}else throw new X;if(d){if(m)throw new X;dn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&dn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(b)throw new X;dn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&dn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}St.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],St.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],St.OUTSIDE_GSUM=[0,161,961,2015,2715],St.INSIDE_GSUM=[0,336,1036,1516],St.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],St.INSIDE_ODD_WIDEST=[2,4,6,8],St.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class fa extends kt{constructor(r,o){super(),this.readers=[],this.verbose=o===!0;const l=r?r.get(L.POSSIBLE_FORMATS):null,u=r&&r.get(L.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(ye.EAN_13)||l.includes(ye.UPC_A)||l.includes(ye.EAN_8)||l.includes(ye.UPC_E))&&this.readers.push(new vh(r)),l.includes(ye.CODE_39)&&this.readers.push(new Ft(u)),l.includes(ye.CODE_128)&&this.readers.push(new he),l.includes(ye.ITF)&&this.readers.push(new nt),l.includes(ye.RSS_14)&&this.readers.push(new St),l.includes(ye.RSS_EXPANDED)&&this.readers.push(new se(this.verbose))):(this.readers.push(new vh(r)),this.readers.push(new Ft),this.readers.push(new vh(r)),this.readers.push(new he),this.readers.push(new nt),this.readers.push(new St),this.readers.push(new se(this.verbose)))}decodeRow(r,o,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(r,o,l)}catch{}throw new X}reset(){this.readers.forEach(r=>r.reset())}}class _A extends _e{constructor(r=500,o){super(new fa(o),r,o)}}class We{constructor(r,o,l){this.ecCodewords=r,this.ecBlocks=[o],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ye{constructor(r,o){this.count=r,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ue{constructor(r,o,l,u,d,m){this.versionNumber=r,this.symbolSizeRows=o,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=d,this.ecBlocks=m;let x=0;const b=m.getECCodewords(),v=m.getECBlocks();for(let S of v)x+=S.getCount()*(S.getDataCodewords()+b);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,o){if(r&1||o&1)throw new B;for(let l of Ue.VERSIONS)if(l.symbolSizeRows===r&&l.symbolSizeColumns===o)return l;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new Ue(1,10,10,8,8,new We(5,new Ye(1,3))),new Ue(2,12,12,10,10,new We(7,new Ye(1,5))),new Ue(3,14,14,12,12,new We(10,new Ye(1,8))),new Ue(4,16,16,14,14,new We(12,new Ye(1,12))),new Ue(5,18,18,16,16,new We(14,new Ye(1,18))),new Ue(6,20,20,18,18,new We(18,new Ye(1,22))),new Ue(7,22,22,20,20,new We(20,new Ye(1,30))),new Ue(8,24,24,22,22,new We(24,new Ye(1,36))),new Ue(9,26,26,24,24,new We(28,new Ye(1,44))),new Ue(10,32,32,14,14,new We(36,new Ye(1,62))),new Ue(11,36,36,16,16,new We(42,new Ye(1,86))),new Ue(12,40,40,18,18,new We(48,new Ye(1,114))),new Ue(13,44,44,20,20,new We(56,new Ye(1,144))),new Ue(14,48,48,22,22,new We(68,new Ye(1,174))),new Ue(15,52,52,24,24,new We(42,new Ye(2,102))),new Ue(16,64,64,14,14,new We(56,new Ye(2,140))),new Ue(17,72,72,16,16,new We(36,new Ye(4,92))),new Ue(18,80,80,18,18,new We(48,new Ye(4,114))),new Ue(19,88,88,20,20,new We(56,new Ye(4,144))),new Ue(20,96,96,22,22,new We(68,new Ye(4,174))),new Ue(21,104,104,24,24,new We(56,new Ye(6,136))),new Ue(22,120,120,18,18,new We(68,new Ye(6,175))),new Ue(23,132,132,20,20,new We(62,new Ye(8,163))),new Ue(24,144,144,22,22,new We(62,new Ye(8,156),new Ye(2,155))),new Ue(25,8,18,6,16,new We(7,new Ye(1,5))),new Ue(26,8,32,6,14,new We(11,new Ye(1,10))),new Ue(27,12,26,10,24,new We(14,new Ye(1,16))),new Ue(28,12,36,10,16,new We(18,new Ye(1,22))),new Ue(29,16,36,14,16,new We(24,new Ye(1,32))),new Ue(30,16,48,14,22,new We(28,new Ye(1,49)))]}}Ue.VERSIONS=Ue.buildVersions();class Ch{constructor(r){const o=r.getHeight();if(o<8||o>144||o&1)throw new B;this.version=Ch.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new fe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const o=r.getHeight(),l=r.getWidth();return Ue.getVersionForDimensions(o,l)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let o=0,l=4,u=0;const d=this.mappingBitMatrix.getHeight(),m=this.mappingBitMatrix.getWidth();let x=!1,b=!1,v=!1,S=!1;do if(l===d&&u===0&&!x)r[o++]=this.readCorner1(d,m)&255,l-=2,u+=2,x=!0;else if(l===d-2&&u===0&&m&3&&!b)r[o++]=this.readCorner2(d,m)&255,l-=2,u+=2,b=!0;else if(l===d+4&&u===2&&!(m&7)&&!v)r[o++]=this.readCorner3(d,m)&255,l-=2,u+=2,v=!0;else if(l===d-2&&u===0&&(m&7)===4&&!S)r[o++]=this.readCorner4(d,m)&255,l-=2,u+=2,S=!0;else{do l<d&&u>=0&&!this.readMappingMatrix.get(u,l)&&(r[o++]=this.readUtah(l,u,d,m)&255),l-=2,u+=2;while(l>=0&&u<m);l+=1,u+=3;do l>=0&&u<m&&!this.readMappingMatrix.get(u,l)&&(r[o++]=this.readUtah(l,u,d,m)&255),l+=2,u-=2;while(l<d&&u>=0);l+=3,u+=1}while(l<d||u<m);if(o!==this.version.getTotalCodewords())throw new B;return r}readModule(r,o,l,u){return r<0&&(r+=l,o+=4-(l+4&7)),o<0&&(o+=u,r+=4-(u+4&7)),this.readMappingMatrix.set(o,r),this.mappingBitMatrix.get(o,r)}readUtah(r,o,l,u){let d=0;return this.readModule(r-2,o-2,l,u)&&(d|=1),d<<=1,this.readModule(r-2,o-1,l,u)&&(d|=1),d<<=1,this.readModule(r-1,o-2,l,u)&&(d|=1),d<<=1,this.readModule(r-1,o-1,l,u)&&(d|=1),d<<=1,this.readModule(r-1,o,l,u)&&(d|=1),d<<=1,this.readModule(r,o-2,l,u)&&(d|=1),d<<=1,this.readModule(r,o-1,l,u)&&(d|=1),d<<=1,this.readModule(r,o,l,u)&&(d|=1),d}readCorner1(r,o){let l=0;return this.readModule(r-1,0,r,o)&&(l|=1),l<<=1,this.readModule(r-1,1,r,o)&&(l|=1),l<<=1,this.readModule(r-1,2,r,o)&&(l|=1),l<<=1,this.readModule(0,o-2,r,o)&&(l|=1),l<<=1,this.readModule(0,o-1,r,o)&&(l|=1),l<<=1,this.readModule(1,o-1,r,o)&&(l|=1),l<<=1,this.readModule(2,o-1,r,o)&&(l|=1),l<<=1,this.readModule(3,o-1,r,o)&&(l|=1),l}readCorner2(r,o){let l=0;return this.readModule(r-3,0,r,o)&&(l|=1),l<<=1,this.readModule(r-2,0,r,o)&&(l|=1),l<<=1,this.readModule(r-1,0,r,o)&&(l|=1),l<<=1,this.readModule(0,o-4,r,o)&&(l|=1),l<<=1,this.readModule(0,o-3,r,o)&&(l|=1),l<<=1,this.readModule(0,o-2,r,o)&&(l|=1),l<<=1,this.readModule(0,o-1,r,o)&&(l|=1),l<<=1,this.readModule(1,o-1,r,o)&&(l|=1),l}readCorner3(r,o){let l=0;return this.readModule(r-1,0,r,o)&&(l|=1),l<<=1,this.readModule(r-1,o-1,r,o)&&(l|=1),l<<=1,this.readModule(0,o-3,r,o)&&(l|=1),l<<=1,this.readModule(0,o-2,r,o)&&(l|=1),l<<=1,this.readModule(0,o-1,r,o)&&(l|=1),l<<=1,this.readModule(1,o-3,r,o)&&(l|=1),l<<=1,this.readModule(1,o-2,r,o)&&(l|=1),l<<=1,this.readModule(1,o-1,r,o)&&(l|=1),l}readCorner4(r,o){let l=0;return this.readModule(r-3,0,r,o)&&(l|=1),l<<=1,this.readModule(r-2,0,r,o)&&(l|=1),l<<=1,this.readModule(r-1,0,r,o)&&(l|=1),l<<=1,this.readModule(0,o-2,r,o)&&(l|=1),l<<=1,this.readModule(0,o-1,r,o)&&(l|=1),l<<=1,this.readModule(1,o-1,r,o)&&(l|=1),l<<=1,this.readModule(2,o-1,r,o)&&(l|=1),l<<=1,this.readModule(3,o-1,r,o)&&(l|=1),l}extractDataRegion(r){const o=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(r.getHeight()!==o)throw new w("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),m=o/u|0,x=l/d|0,b=m*u,v=x*d,S=new fe(v,b);for(let I=0;I<m;++I){const j=I*u;for(let F=0;F<x;++F){const G=F*d;for(let q=0;q<u;++q){const Z=I*(u+2)+1+q,ee=j+q;for(let ce=0;ce<d;++ce){const de=F*(d+2)+1+ce;if(r.get(de,Z)){const oe=G+ce;S.set(oe,ee)}}}}}return S}}class Nh{constructor(r,o){this.numDataCodewords=r,this.codewords=o}static getDataBlocks(r,o){const l=o.getECBlocks();let u=0;const d=l.getECBlocks();for(let q of d)u+=q.getCount();const m=new Array(u);let x=0;for(let q of d)for(let Z=0;Z<q.getCount();Z++){const ee=q.getDataCodewords(),ce=l.getECCodewords()+ee;m[x++]=new Nh(ee,new Uint8Array(ce))}const v=m[0].codewords.length-l.getECCodewords(),S=v-1;let I=0;for(let q=0;q<S;q++)for(let Z=0;Z<x;Z++)m[Z].codewords[q]=r[I++];const j=o.getVersionNumber()===24,F=j?8:x;for(let q=0;q<F;q++)m[q].codewords[v-1]=r[I++];const G=m[0].codewords.length;for(let q=v;q<G;q++)for(let Z=0;Z<x;Z++){const ee=j?(Z+8)%x:Z,ce=j&&ee>7?q-1:q;m[ee].codewords[ce]=r[I++]}if(I!==r.length)throw new w;return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class _h{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new w(""+r);let o=0,l=this.bitOffset,u=this.byteOffset;const d=this.bytes;if(l>0){const m=8-l,x=r<m?r:m,b=m-x,v=255>>8-x<<b;o=(d[u]&v)>>b,r-=x,l+=x,l===8&&(l=0,u++)}if(r>0){for(;r>=8;)o=o<<8|d[u]&255,u++,r-=8;if(r>0){const m=8-r,x=255>>m<<m;o=o<<r|(d[u]&x)>>m,l+=r}}return this.bitOffset=l,this.byteOffset=u,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Vt;(function(T){T[T.PAD_ENCODE=0]="PAD_ENCODE",T[T.ASCII_ENCODE=1]="ASCII_ENCODE",T[T.C40_ENCODE=2]="C40_ENCODE",T[T.TEXT_ENCODE=3]="TEXT_ENCODE",T[T.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",T[T.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",T[T.BASE256_ENCODE=6]="BASE256_ENCODE"})(Vt||(Vt={}));class Nr{static decode(r){const o=new _h(r),l=new te,u=new te,d=new Array;let m=Vt.ASCII_ENCODE;do if(m===Vt.ASCII_ENCODE)m=this.decodeAsciiSegment(o,l,u);else{switch(m){case Vt.C40_ENCODE:this.decodeC40Segment(o,l);break;case Vt.TEXT_ENCODE:this.decodeTextSegment(o,l);break;case Vt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,l);break;case Vt.EDIFACT_ENCODE:this.decodeEdifactSegment(o,l);break;case Vt.BASE256_ENCODE:this.decodeBase256Segment(o,l,d);break;default:throw new B}m=Vt.ASCII_ENCODE}while(m!==Vt.PAD_ENCODE&&o.available()>0);return u.length()>0&&l.append(u.toString()),new vs(r,l.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(r,o,l){let u=!1;do{let d=r.readBits(8);if(d===0)throw new B;if(d<=128)return u&&(d+=128),o.append(String.fromCharCode(d-1)),Vt.ASCII_ENCODE;if(d===129)return Vt.PAD_ENCODE;if(d<=229){const m=d-130;m<10&&o.append("0"),o.append(""+m)}else switch(d){case 230:return Vt.C40_ENCODE;case 231:return Vt.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:o.append("[)>05"),l.insert(0,"");break;case 237:o.append("[)>06"),l.insert(0,"");break;case 238:return Vt.ANSIX12_ENCODE;case 239:return Vt.TEXT_ENCODE;case 240:return Vt.EDIFACT_ENCODE;case 241:break;default:if(d!==254||r.available()!==0)throw new B;break}}while(r.available()>0);return Vt.ASCII_ENCODE}static decodeC40Segment(r,o){let l=!1;const u=[];let d=0;do{if(r.available()===8)return;const m=r.readBits(8);if(m===254)return;this.parseTwoBytes(m,r.readBits(8),u);for(let x=0;x<3;x++){const b=u[x];switch(d){case 0:if(b<3)d=b+1;else if(b<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[b];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else throw new B;break;case 1:l?(o.append(String.fromCharCode(b+128)),l=!1):o.append(String.fromCharCode(b)),d=0;break;case 2:if(b<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[b];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else switch(b){case 27:o.append("");break;case 30:l=!0;break;default:throw new B}d=0;break;case 3:l?(o.append(String.fromCharCode(b+224)),l=!1):o.append(String.fromCharCode(b+96)),d=0;break;default:throw new B}}}while(r.available()>0)}static decodeTextSegment(r,o){let l=!1,u=[],d=0;do{if(r.available()===8)return;const m=r.readBits(8);if(m===254)return;this.parseTwoBytes(m,r.readBits(8),u);for(let x=0;x<3;x++){const b=u[x];switch(d){case 0:if(b<3)d=b+1;else if(b<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[b];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else throw new B;break;case 1:l?(o.append(String.fromCharCode(b+128)),l=!1):o.append(String.fromCharCode(b)),d=0;break;case 2:if(b<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[b];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else switch(b){case 27:o.append("");break;case 30:l=!0;break;default:throw new B}d=0;break;case 3:if(b<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[b];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v),d=0}else throw new B;break;default:throw new B}}}while(r.available()>0)}static decodeAnsiX12Segment(r,o){const l=[];do{if(r.available()===8)return;const u=r.readBits(8);if(u===254)return;this.parseTwoBytes(u,r.readBits(8),l);for(let d=0;d<3;d++){const m=l[d];switch(m){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(m<14)o.append(String.fromCharCode(m+44));else if(m<40)o.append(String.fromCharCode(m+51));else throw new B;break}}}while(r.available()>0)}static parseTwoBytes(r,o,l){let u=(r<<8)+o-1,d=Math.floor(u/1600);l[0]=d,u-=d*1600,d=Math.floor(u/40),l[1]=d,l[2]=u-d*40}static decodeEdifactSegment(r,o){do{if(r.available()<=16)return;for(let l=0;l<4;l++){let u=r.readBits(6);if(u===31){const d=8-r.getBitOffset();d!==8&&r.readBits(d);return}u&32||(u|=64),o.append(String.fromCharCode(u))}}while(r.available()>0)}static decodeBase256Segment(r,o,l){let u=1+r.getByteOffset();const d=this.unrandomize255State(r.readBits(8),u++);let m;if(d===0?m=r.available()/8|0:d<250?m=d:m=250*(d-249)+this.unrandomize255State(r.readBits(8),u++),m<0)throw new B;const x=new Uint8Array(m);for(let b=0;b<m;b++){if(r.available()<8)throw new B;x[b]=this.unrandomize255State(r.readBits(8),u++)}l.push(x);try{o.append(H.decode(x,Q.ISO88591))}catch(b){throw new Mi("Platform does not support required encoding: "+b.message)}}static unrandomize255State(r,o){const l=149*o%255+1,u=r-l;return u>=0?u:u+256}}Nr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Nr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Nr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Nr.TEXT_SHIFT2_SET_CHARS=Nr.C40_SHIFT2_SET_CHARS,Nr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class TA{constructor(){this.rsDecoder=new Ho(He.DATA_MATRIX_FIELD_256)}decode(r){const o=new Ch(r),l=o.getVersion(),u=o.readCodewords(),d=Nh.getDataBlocks(u,l);let m=0;for(let v of d)m+=v.getNumDataCodewords();const x=new Uint8Array(m),b=d.length;for(let v=0;v<b;v++){const S=d[v],I=S.getCodewords(),j=S.getNumDataCodewords();this.correctErrors(I,j);for(let F=0;F<j;F++)x[F*b+v]=I[F]}return Nr.decode(x)}correctErrors(r,o){const l=new Int32Array(r);try{this.rsDecoder.decode(l,r.length-o)}catch{throw new A}for(let u=0;u<o;u++)r[u]=l[u]}}class Mt{constructor(r){this.image=r,this.rectangleDetector=new Qi(this.image)}detect(){const r=this.rectangleDetector.detect();let o=this.detectSolid1(r);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new X;o=this.shiftToModuleCenter(o);const l=o[0],u=o[1],d=o[2],m=o[3];let x=this.transitionsBetween(l,m)+1,b=this.transitionsBetween(d,m)+1;(x&1)===1&&(x+=1),(b&1)===1&&(b+=1),4*x<7*b&&4*b<7*x&&(x=b=Math.max(x,b));let v=Mt.sampleGrid(this.image,l,u,d,m,x,b);return new Vc(v,[l,u,d,m])}static shiftPoint(r,o,l){let u=(o.getX()-r.getX())/(l+1),d=(o.getY()-r.getY())/(l+1);return new xe(r.getX()+u,r.getY()+d)}static moveAway(r,o,l){let u=r.getX(),d=r.getY();return u<o?u-=1:u+=1,d<l?d-=1:d+=1,new xe(u,d)}detectSolid1(r){let o=r[0],l=r[1],u=r[3],d=r[2],m=this.transitionsBetween(o,l),x=this.transitionsBetween(l,u),b=this.transitionsBetween(u,d),v=this.transitionsBetween(d,o),S=m,I=[d,o,l,u];return S>x&&(S=x,I[0]=o,I[1]=l,I[2]=u,I[3]=d),S>b&&(S=b,I[0]=l,I[1]=u,I[2]=d,I[3]=o),S>v&&(I[0]=u,I[1]=d,I[2]=o,I[3]=l),I}detectSolid2(r){let o=r[0],l=r[1],u=r[2],d=r[3],m=this.transitionsBetween(o,d),x=Mt.shiftPoint(l,u,(m+1)*4),b=Mt.shiftPoint(u,l,(m+1)*4),v=this.transitionsBetween(x,o),S=this.transitionsBetween(b,d);return v<S?(r[0]=o,r[1]=l,r[2]=u,r[3]=d):(r[0]=l,r[1]=u,r[2]=d,r[3]=o),r}correctTopRight(r){let o=r[0],l=r[1],u=r[2],d=r[3],m=this.transitionsBetween(o,d),x=this.transitionsBetween(l,d),b=Mt.shiftPoint(o,l,(x+1)*4),v=Mt.shiftPoint(u,l,(m+1)*4);m=this.transitionsBetween(b,d),x=this.transitionsBetween(v,d);let S=new xe(d.getX()+(u.getX()-l.getX())/(m+1),d.getY()+(u.getY()-l.getY())/(m+1)),I=new xe(d.getX()+(o.getX()-l.getX())/(x+1),d.getY()+(o.getY()-l.getY())/(x+1));if(!this.isValid(S))return this.isValid(I)?I:null;if(!this.isValid(I))return S;let j=this.transitionsBetween(b,S)+this.transitionsBetween(v,S),F=this.transitionsBetween(b,I)+this.transitionsBetween(v,I);return j>F?S:I}shiftToModuleCenter(r){let o=r[0],l=r[1],u=r[2],d=r[3],m=this.transitionsBetween(o,d)+1,x=this.transitionsBetween(u,d)+1,b=Mt.shiftPoint(o,l,x*4),v=Mt.shiftPoint(u,l,m*4);m=this.transitionsBetween(b,d)+1,x=this.transitionsBetween(v,d)+1,(m&1)===1&&(m+=1),(x&1)===1&&(x+=1);let S=(o.getX()+l.getX()+u.getX()+d.getX())/4,I=(o.getY()+l.getY()+u.getY()+d.getY())/4;o=Mt.moveAway(o,S,I),l=Mt.moveAway(l,S,I),u=Mt.moveAway(u,S,I),d=Mt.moveAway(d,S,I);let j,F;return b=Mt.shiftPoint(o,l,x*4),b=Mt.shiftPoint(b,d,m*4),j=Mt.shiftPoint(l,o,x*4),j=Mt.shiftPoint(j,u,m*4),v=Mt.shiftPoint(u,d,x*4),v=Mt.shiftPoint(v,l,m*4),F=Mt.shiftPoint(d,u,x*4),F=Mt.shiftPoint(F,o,m*4),[b,j,v,F]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,o,l,u,d,m,x){return Sr.getInstance().sampleGrid(r,m,x,.5,.5,m-.5,.5,m-.5,x-.5,.5,x-.5,o.getX(),o.getY(),d.getX(),d.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(r,o){let l=Math.trunc(r.getX()),u=Math.trunc(r.getY()),d=Math.trunc(o.getX()),m=Math.trunc(o.getY()),x=Math.abs(m-u)>Math.abs(d-l);if(x){let q=l;l=u,u=q,q=d,d=m,m=q}let b=Math.abs(d-l),v=Math.abs(m-u),S=-b/2,I=u<m?1:-1,j=l<d?1:-1,F=0,G=this.image.get(x?u:l,x?l:u);for(let q=l,Z=u;q!==d;q+=j){let ee=this.image.get(x?Z:q,x?q:Z);if(ee!==G&&(F++,G=ee),S+=v,S>0){if(Z===m)break;Z+=I,S-=b}}return F}}class _r{constructor(){this.decoder=new TA}decode(r,o=null){let l,u;if(o!=null&&o.has(L.PURE_BARCODE)){const v=_r.extractPureBits(r.getBlackMatrix());l=this.decoder.decode(v),u=_r.NO_POINTS}else{const v=new Mt(r.getBlackMatrix()).detect();l=this.decoder.decode(v.getBits()),u=v.getPoints()}const d=l.getRawBytes(),m=new Ae(l.getText(),d,8*d.length,u,ye.DATA_MATRIX,M.currentTimeMillis()),x=l.getByteSegments();x!=null&&m.putMetadata(ut.BYTE_SEGMENTS,x);const b=l.getECLevel();return b!=null&&m.putMetadata(ut.ERROR_CORRECTION_LEVEL,b),m}reset(){}static extractPureBits(r){const o=r.getTopLeftOnBit(),l=r.getBottomRightOnBit();if(o==null||l==null)throw new X;const u=this.moduleSize(o,r);let d=o[1];const m=l[1];let x=o[0];const v=(l[0]-x+1)/u,S=(m-d+1)/u;if(v<=0||S<=0)throw new X;const I=u/2;d+=I,x+=I;const j=new fe(v,S);for(let F=0;F<S;F++){const G=d+F*u;for(let q=0;q<v;q++)r.get(x+q*u,G)&&j.set(q,F)}return j}static moduleSize(r,o){const l=o.getWidth();let u=r[0];const d=r[1];for(;u<l&&o.get(u,d);)u++;if(u===l)throw new X;const m=u-r[0];if(m===0)throw new X;return m}}_r.NO_POINTS=[];class IA extends _e{constructor(r=500){super(new _r,r)}}var ma;(function(T){T[T.L=0]="L",T[T.M=1]="M",T[T.Q=2]="Q",T[T.H=3]="H"})(ma||(ma={}));class ot{constructor(r,o,l){this.value=r,this.stringValue=o,this.bits=l,ot.FOR_BITS.set(l,this),ot.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return ot.L;case"M":return ot.M;case"Q":return ot.Q;case"H":return ot.H;default:throw new y(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof ot))return!1;const o=r;return this.value===o.value}static forBits(r){if(r<0||r>=ot.FOR_BITS.size)throw new w;return ot.FOR_BITS.get(r)}}ot.FOR_BITS=new Map,ot.FOR_VALUE=new Map,ot.L=new ot(ma.L,"L",1),ot.M=new ot(ma.M,"M",0),ot.Q=new ot(ma.Q,"Q",3),ot.H=new ot(ma.H,"H",2);class hn{constructor(r){this.errorCorrectionLevel=ot.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,o){return _.bitCount(r^o)}static decodeFormatInformation(r,o){const l=hn.doDecodeFormatInformation(r,o);return l!==null?l:hn.doDecodeFormatInformation(r^hn.FORMAT_INFO_MASK_QR,o^hn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,o){let l=Number.MAX_SAFE_INTEGER,u=0;for(const d of hn.FORMAT_INFO_DECODE_LOOKUP){const m=d[0];if(m===r||m===o)return new hn(d[1]);let x=hn.numBitsDiffering(r,m);x<l&&(u=d[1],l=x),r!==o&&(x=hn.numBitsDiffering(o,m),x<l&&(u=d[1],l=x))}return l<=3?new hn(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof hn))return!1;const o=r;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}hn.FORMAT_INFO_MASK_QR=21522,hn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class K{constructor(r,...o){this.ecCodewordsPerBlock=r,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const o=this.ecBlocks;for(const l of o)r+=l.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class U{constructor(r,o){this.count=r,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class be{constructor(r,o,...l){this.versionNumber=r,this.alignmentPatternCenters=o,this.ecBlocks=l;let u=0;const d=l[0].getECCodewordsPerBlock(),m=l[0].getECBlocks();for(const x of m)u+=x.getCount()*(x.getDataCodewords()+d);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new B;try{return this.getVersionForNumber((r-17)/4)}catch{throw new B}}static getVersionForNumber(r){if(r<1||r>40)throw new w;return be.VERSIONS[r-1]}static decodeVersionInformation(r){let o=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<be.VERSION_DECODE_INFO.length;u++){const d=be.VERSION_DECODE_INFO[u];if(d===r)return be.getVersionForNumber(u+7);const m=hn.numBitsDiffering(r,d);m<o&&(l=u+7,o=m)}return o<=3?be.getVersionForNumber(l):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),o=new fe(r);o.setRegion(0,0,9,9),o.setRegion(r-8,0,8,9),o.setRegion(0,r-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const d=this.alignmentPatternCenters[u]-2;for(let m=0;m<l;m++)u===0&&(m===0||m===l-1)||u===l-1&&m===0||o.setRegion(this.alignmentPatternCenters[m]-2,d,5,5)}return o.setRegion(6,9,1,r-17),o.setRegion(9,6,r-17,1),this.versionNumber>6&&(o.setRegion(r-11,0,3,6),o.setRegion(0,r-11,6,3)),o}toString(){return""+this.versionNumber}}be.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),be.VERSIONS=[new be(1,new Int32Array(0),new K(7,new U(1,19)),new K(10,new U(1,16)),new K(13,new U(1,13)),new K(17,new U(1,9))),new be(2,Int32Array.from([6,18]),new K(10,new U(1,34)),new K(16,new U(1,28)),new K(22,new U(1,22)),new K(28,new U(1,16))),new be(3,Int32Array.from([6,22]),new K(15,new U(1,55)),new K(26,new U(1,44)),new K(18,new U(2,17)),new K(22,new U(2,13))),new be(4,Int32Array.from([6,26]),new K(20,new U(1,80)),new K(18,new U(2,32)),new K(26,new U(2,24)),new K(16,new U(4,9))),new be(5,Int32Array.from([6,30]),new K(26,new U(1,108)),new K(24,new U(2,43)),new K(18,new U(2,15),new U(2,16)),new K(22,new U(2,11),new U(2,12))),new be(6,Int32Array.from([6,34]),new K(18,new U(2,68)),new K(16,new U(4,27)),new K(24,new U(4,19)),new K(28,new U(4,15))),new be(7,Int32Array.from([6,22,38]),new K(20,new U(2,78)),new K(18,new U(4,31)),new K(18,new U(2,14),new U(4,15)),new K(26,new U(4,13),new U(1,14))),new be(8,Int32Array.from([6,24,42]),new K(24,new U(2,97)),new K(22,new U(2,38),new U(2,39)),new K(22,new U(4,18),new U(2,19)),new K(26,new U(4,14),new U(2,15))),new be(9,Int32Array.from([6,26,46]),new K(30,new U(2,116)),new K(22,new U(3,36),new U(2,37)),new K(20,new U(4,16),new U(4,17)),new K(24,new U(4,12),new U(4,13))),new be(10,Int32Array.from([6,28,50]),new K(18,new U(2,68),new U(2,69)),new K(26,new U(4,43),new U(1,44)),new K(24,new U(6,19),new U(2,20)),new K(28,new U(6,15),new U(2,16))),new be(11,Int32Array.from([6,30,54]),new K(20,new U(4,81)),new K(30,new U(1,50),new U(4,51)),new K(28,new U(4,22),new U(4,23)),new K(24,new U(3,12),new U(8,13))),new be(12,Int32Array.from([6,32,58]),new K(24,new U(2,92),new U(2,93)),new K(22,new U(6,36),new U(2,37)),new K(26,new U(4,20),new U(6,21)),new K(28,new U(7,14),new U(4,15))),new be(13,Int32Array.from([6,34,62]),new K(26,new U(4,107)),new K(22,new U(8,37),new U(1,38)),new K(24,new U(8,20),new U(4,21)),new K(22,new U(12,11),new U(4,12))),new be(14,Int32Array.from([6,26,46,66]),new K(30,new U(3,115),new U(1,116)),new K(24,new U(4,40),new U(5,41)),new K(20,new U(11,16),new U(5,17)),new K(24,new U(11,12),new U(5,13))),new be(15,Int32Array.from([6,26,48,70]),new K(22,new U(5,87),new U(1,88)),new K(24,new U(5,41),new U(5,42)),new K(30,new U(5,24),new U(7,25)),new K(24,new U(11,12),new U(7,13))),new be(16,Int32Array.from([6,26,50,74]),new K(24,new U(5,98),new U(1,99)),new K(28,new U(7,45),new U(3,46)),new K(24,new U(15,19),new U(2,20)),new K(30,new U(3,15),new U(13,16))),new be(17,Int32Array.from([6,30,54,78]),new K(28,new U(1,107),new U(5,108)),new K(28,new U(10,46),new U(1,47)),new K(28,new U(1,22),new U(15,23)),new K(28,new U(2,14),new U(17,15))),new be(18,Int32Array.from([6,30,56,82]),new K(30,new U(5,120),new U(1,121)),new K(26,new U(9,43),new U(4,44)),new K(28,new U(17,22),new U(1,23)),new K(28,new U(2,14),new U(19,15))),new be(19,Int32Array.from([6,30,58,86]),new K(28,new U(3,113),new U(4,114)),new K(26,new U(3,44),new U(11,45)),new K(26,new U(17,21),new U(4,22)),new K(26,new U(9,13),new U(16,14))),new be(20,Int32Array.from([6,34,62,90]),new K(28,new U(3,107),new U(5,108)),new K(26,new U(3,41),new U(13,42)),new K(30,new U(15,24),new U(5,25)),new K(28,new U(15,15),new U(10,16))),new be(21,Int32Array.from([6,28,50,72,94]),new K(28,new U(4,116),new U(4,117)),new K(26,new U(17,42)),new K(28,new U(17,22),new U(6,23)),new K(30,new U(19,16),new U(6,17))),new be(22,Int32Array.from([6,26,50,74,98]),new K(28,new U(2,111),new U(7,112)),new K(28,new U(17,46)),new K(30,new U(7,24),new U(16,25)),new K(24,new U(34,13))),new be(23,Int32Array.from([6,30,54,78,102]),new K(30,new U(4,121),new U(5,122)),new K(28,new U(4,47),new U(14,48)),new K(30,new U(11,24),new U(14,25)),new K(30,new U(16,15),new U(14,16))),new be(24,Int32Array.from([6,28,54,80,106]),new K(30,new U(6,117),new U(4,118)),new K(28,new U(6,45),new U(14,46)),new K(30,new U(11,24),new U(16,25)),new K(30,new U(30,16),new U(2,17))),new be(25,Int32Array.from([6,32,58,84,110]),new K(26,new U(8,106),new U(4,107)),new K(28,new U(8,47),new U(13,48)),new K(30,new U(7,24),new U(22,25)),new K(30,new U(22,15),new U(13,16))),new be(26,Int32Array.from([6,30,58,86,114]),new K(28,new U(10,114),new U(2,115)),new K(28,new U(19,46),new U(4,47)),new K(28,new U(28,22),new U(6,23)),new K(30,new U(33,16),new U(4,17))),new be(27,Int32Array.from([6,34,62,90,118]),new K(30,new U(8,122),new U(4,123)),new K(28,new U(22,45),new U(3,46)),new K(30,new U(8,23),new U(26,24)),new K(30,new U(12,15),new U(28,16))),new be(28,Int32Array.from([6,26,50,74,98,122]),new K(30,new U(3,117),new U(10,118)),new K(28,new U(3,45),new U(23,46)),new K(30,new U(4,24),new U(31,25)),new K(30,new U(11,15),new U(31,16))),new be(29,Int32Array.from([6,30,54,78,102,126]),new K(30,new U(7,116),new U(7,117)),new K(28,new U(21,45),new U(7,46)),new K(30,new U(1,23),new U(37,24)),new K(30,new U(19,15),new U(26,16))),new be(30,Int32Array.from([6,26,52,78,104,130]),new K(30,new U(5,115),new U(10,116)),new K(28,new U(19,47),new U(10,48)),new K(30,new U(15,24),new U(25,25)),new K(30,new U(23,15),new U(25,16))),new be(31,Int32Array.from([6,30,56,82,108,134]),new K(30,new U(13,115),new U(3,116)),new K(28,new U(2,46),new U(29,47)),new K(30,new U(42,24),new U(1,25)),new K(30,new U(23,15),new U(28,16))),new be(32,Int32Array.from([6,34,60,86,112,138]),new K(30,new U(17,115)),new K(28,new U(10,46),new U(23,47)),new K(30,new U(10,24),new U(35,25)),new K(30,new U(19,15),new U(35,16))),new be(33,Int32Array.from([6,30,58,86,114,142]),new K(30,new U(17,115),new U(1,116)),new K(28,new U(14,46),new U(21,47)),new K(30,new U(29,24),new U(19,25)),new K(30,new U(11,15),new U(46,16))),new be(34,Int32Array.from([6,34,62,90,118,146]),new K(30,new U(13,115),new U(6,116)),new K(28,new U(14,46),new U(23,47)),new K(30,new U(44,24),new U(7,25)),new K(30,new U(59,16),new U(1,17))),new be(35,Int32Array.from([6,30,54,78,102,126,150]),new K(30,new U(12,121),new U(7,122)),new K(28,new U(12,47),new U(26,48)),new K(30,new U(39,24),new U(14,25)),new K(30,new U(22,15),new U(41,16))),new be(36,Int32Array.from([6,24,50,76,102,128,154]),new K(30,new U(6,121),new U(14,122)),new K(28,new U(6,47),new U(34,48)),new K(30,new U(46,24),new U(10,25)),new K(30,new U(2,15),new U(64,16))),new be(37,Int32Array.from([6,28,54,80,106,132,158]),new K(30,new U(17,122),new U(4,123)),new K(28,new U(29,46),new U(14,47)),new K(30,new U(49,24),new U(10,25)),new K(30,new U(24,15),new U(46,16))),new be(38,Int32Array.from([6,32,58,84,110,136,162]),new K(30,new U(4,122),new U(18,123)),new K(28,new U(13,46),new U(32,47)),new K(30,new U(48,24),new U(14,25)),new K(30,new U(42,15),new U(32,16))),new be(39,Int32Array.from([6,26,54,82,110,138,166]),new K(30,new U(20,117),new U(4,118)),new K(28,new U(40,47),new U(7,48)),new K(30,new U(43,24),new U(22,25)),new K(30,new U(10,15),new U(67,16))),new be(40,Int32Array.from([6,30,58,86,114,142,170]),new K(30,new U(19,118),new U(6,119)),new K(28,new U(18,47),new U(31,48)),new K(30,new U(34,24),new U(34,25)),new K(30,new U(20,15),new U(61,16)))];var Xt;(function(T){T[T.DATA_MASK_000=0]="DATA_MASK_000",T[T.DATA_MASK_001=1]="DATA_MASK_001",T[T.DATA_MASK_010=2]="DATA_MASK_010",T[T.DATA_MASK_011=3]="DATA_MASK_011",T[T.DATA_MASK_100=4]="DATA_MASK_100",T[T.DATA_MASK_101=5]="DATA_MASK_101",T[T.DATA_MASK_110=6]="DATA_MASK_110",T[T.DATA_MASK_111=7]="DATA_MASK_111"})(Xt||(Xt={}));class ei{constructor(r,o){this.value=r,this.isMasked=o}unmaskBitMatrix(r,o){for(let l=0;l<o;l++)for(let u=0;u<o;u++)this.isMasked(l,u)&&r.flip(u,l)}}ei.values=new Map([[Xt.DATA_MASK_000,new ei(Xt.DATA_MASK_000,(T,r)=>(T+r&1)===0)],[Xt.DATA_MASK_001,new ei(Xt.DATA_MASK_001,(T,r)=>(T&1)===0)],[Xt.DATA_MASK_010,new ei(Xt.DATA_MASK_010,(T,r)=>r%3===0)],[Xt.DATA_MASK_011,new ei(Xt.DATA_MASK_011,(T,r)=>(T+r)%3===0)],[Xt.DATA_MASK_100,new ei(Xt.DATA_MASK_100,(T,r)=>(Math.floor(T/2)+Math.floor(r/3)&1)===0)],[Xt.DATA_MASK_101,new ei(Xt.DATA_MASK_101,(T,r)=>T*r%6===0)],[Xt.DATA_MASK_110,new ei(Xt.DATA_MASK_110,(T,r)=>T*r%6<3)],[Xt.DATA_MASK_111,new ei(Xt.DATA_MASK_111,(T,r)=>(T+r+T*r%3&1)===0)]]);class MA{constructor(r){const o=r.getHeight();if(o<21||(o&3)!==1)throw new B;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let d=0;d<6;d++)r=this.copyBit(d,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let d=5;d>=0;d--)r=this.copyBit(8,d,r);const o=this.bitMatrix.getHeight();let l=0;const u=o-7;for(let d=o-1;d>=u;d--)l=this.copyBit(8,d,l);for(let d=o-8;d<o;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=hn.decodeFormatInformation(r,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),o=Math.floor((r-17)/4);if(o<=6)return be.getVersionForNumber(o);let l=0;const u=r-11;for(let m=5;m>=0;m--)for(let x=r-9;x>=u;x--)l=this.copyBit(x,m,l);let d=be.decodeVersionInformation(l);if(d!==null&&d.getDimensionForVersion()===r)return this.parsedVersion=d,d;l=0;for(let m=5;m>=0;m--)for(let x=r-9;x>=u;x--)l=this.copyBit(m,x,l);if(d=be.decodeVersionInformation(l),d!==null&&d.getDimensionForVersion()===r)return this.parsedVersion=d,d;throw new B}copyBit(r,o,l){return(this.isMirror?this.bitMatrix.get(o,r):this.bitMatrix.get(r,o))?l<<1|1:l<<1}readCodewords(){const r=this.readFormatInformation(),o=this.readVersion(),l=ei.values.get(r.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const d=o.buildFunctionPattern();let m=!0;const x=new Uint8Array(o.getTotalCodewords());let b=0,v=0,S=0;for(let I=u-1;I>0;I-=2){I===6&&I--;for(let j=0;j<u;j++){const F=m?u-1-j:j;for(let G=0;G<2;G++)d.get(I-G,F)||(S++,v<<=1,this.bitMatrix.get(I-G,F)&&(v|=1),S===8&&(x[b++]=v,S=0,v=0))}m=!m}if(b!==o.getTotalCodewords())throw new B;return x}remask(){if(this.parsedFormatInfo===null)return;const r=ei.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,o)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let o=0,l=r.getWidth();o<l;o++)for(let u=o+1,d=r.getHeight();u<d;u++)r.get(o,u)!==r.get(u,o)&&(r.flip(u,o),r.flip(o,u))}}class Th{constructor(r,o){this.numDataCodewords=r,this.codewords=o}static getDataBlocks(r,o,l){if(r.length!==o.getTotalCodewords())throw new w;const u=o.getECBlocksForLevel(l);let d=0;const m=u.getECBlocks();for(const G of m)d+=G.getCount();const x=new Array(d);let b=0;for(const G of m)for(let q=0;q<G.getCount();q++){const Z=G.getDataCodewords(),ee=u.getECCodewordsPerBlock()+Z;x[b++]=new Th(Z,new Uint8Array(ee))}const v=x[0].codewords.length;let S=x.length-1;for(;S>=0&&x[S].codewords.length!==v;)S--;S++;const I=v-u.getECCodewordsPerBlock();let j=0;for(let G=0;G<I;G++)for(let q=0;q<b;q++)x[q].codewords[G]=r[j++];for(let G=S;G<b;G++)x[G].codewords[I]=r[j++];const F=x[0].codewords.length;for(let G=I;G<F;G++)for(let q=0;q<b;q++){const Z=q<S?G:G+1;x[q].codewords[Z]=r[j++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ti;(function(T){T[T.TERMINATOR=0]="TERMINATOR",T[T.NUMERIC=1]="NUMERIC",T[T.ALPHANUMERIC=2]="ALPHANUMERIC",T[T.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",T[T.BYTE=4]="BYTE",T[T.ECI=5]="ECI",T[T.KANJI=6]="KANJI",T[T.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",T[T.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",T[T.HANZI=9]="HANZI"})(ti||(ti={}));class we{constructor(r,o,l,u){this.value=r,this.stringValue=o,this.characterCountBitsForVersions=l,this.bits=u,we.FOR_BITS.set(u,this),we.FOR_VALUE.set(r,this)}static forBits(r){const o=we.FOR_BITS.get(r);if(o===void 0)throw new w;return o}getCharacterCountBits(r){const o=r.getVersionNumber();let l;return o<=9?l=0:o<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof we))return!1;const o=r;return this.value===o.value}toString(){return this.stringValue}}we.FOR_BITS=new Map,we.FOR_VALUE=new Map,we.TERMINATOR=new we(ti.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),we.NUMERIC=new we(ti.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),we.ALPHANUMERIC=new we(ti.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),we.STRUCTURED_APPEND=new we(ti.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),we.BYTE=new we(ti.BYTE,"BYTE",Int32Array.from([8,16,16]),4),we.ECI=new we(ti.ECI,"ECI",Int32Array.from([0,0,0]),7),we.KANJI=new we(ti.KANJI,"KANJI",Int32Array.from([8,10,12]),8),we.FNC1_FIRST_POSITION=new we(ti.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),we.FNC1_SECOND_POSITION=new we(ti.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),we.HANZI=new we(ti.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class wt{static decode(r,o,l,u){const d=new _h(r);let m=new te;const x=new Array;let b=-1,v=-1;try{let S=null,I=!1,j;do{if(d.available()<4)j=we.TERMINATOR;else{const F=d.readBits(4);j=we.forBits(F)}switch(j){case we.TERMINATOR:break;case we.FNC1_FIRST_POSITION:case we.FNC1_SECOND_POSITION:I=!0;break;case we.STRUCTURED_APPEND:if(d.available()<16)throw new B;b=d.readBits(8),v=d.readBits(8);break;case we.ECI:const F=wt.parseECIValue(d);if(S=P.getCharacterSetECIByValue(F),S===null)throw new B;break;case we.HANZI:const G=d.readBits(4),q=d.readBits(j.getCharacterCountBits(o));G===wt.GB2312_SUBSET&&wt.decodeHanziSegment(d,m,q);break;default:const Z=d.readBits(j.getCharacterCountBits(o));switch(j){case we.NUMERIC:wt.decodeNumericSegment(d,m,Z);break;case we.ALPHANUMERIC:wt.decodeAlphanumericSegment(d,m,Z,I);break;case we.BYTE:wt.decodeByteSegment(d,m,Z,S,x,u);break;case we.KANJI:wt.decodeKanjiSegment(d,m,Z);break;default:throw new B}break}}while(j!==we.TERMINATOR)}catch{throw new B}return new vs(r,m.toString(),x.length===0?null:x,l===null?null:l.toString(),b,v)}static decodeHanziSegment(r,o,l){if(l*13>r.available())throw new B;const u=new Uint8Array(2*l);let d=0;for(;l>0;){const m=r.readBits(13);let x=m/96<<8&4294967295|m%96;x<959?x+=41377:x+=42657,u[d]=x>>8&255,u[d+1]=x&255,d+=2,l--}try{o.append(H.decode(u,Q.GB2312))}catch(m){throw new B(m)}}static decodeKanjiSegment(r,o,l){if(l*13>r.available())throw new B;const u=new Uint8Array(2*l);let d=0;for(;l>0;){const m=r.readBits(13);let x=m/192<<8&4294967295|m%192;x<7936?x+=33088:x+=49472,u[d]=x>>8,u[d+1]=x,d+=2,l--}try{o.append(H.decode(u,Q.SHIFT_JIS))}catch(m){throw new B(m)}}static decodeByteSegment(r,o,l,u,d,m){if(8*l>r.available())throw new B;const x=new Uint8Array(l);for(let v=0;v<l;v++)x[v]=r.readBits(8);let b;u===null?b=Q.guessEncoding(x,m):b=u.getName();try{o.append(H.decode(x,b))}catch(v){throw new B(v)}d.push(x)}static toAlphaNumericChar(r){if(r>=wt.ALPHANUMERIC_CHARS.length)throw new B;return wt.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,o,l,u){const d=o.length();for(;l>1;){if(r.available()<11)throw new B;const m=r.readBits(11);o.append(wt.toAlphaNumericChar(Math.floor(m/45))),o.append(wt.toAlphaNumericChar(m%45)),l-=2}if(l===1){if(r.available()<6)throw new B;o.append(wt.toAlphaNumericChar(r.readBits(6)))}if(u)for(let m=d;m<o.length();m++)o.charAt(m)==="%"&&(m<o.length()-1&&o.charAt(m+1)==="%"?o.deleteCharAt(m+1):o.setCharAt(m,""))}static decodeNumericSegment(r,o,l){for(;l>=3;){if(r.available()<10)throw new B;const u=r.readBits(10);if(u>=1e3)throw new B;o.append(wt.toAlphaNumericChar(Math.floor(u/100))),o.append(wt.toAlphaNumericChar(Math.floor(u/10)%10)),o.append(wt.toAlphaNumericChar(u%10)),l-=3}if(l===2){if(r.available()<7)throw new B;const u=r.readBits(7);if(u>=100)throw new B;o.append(wt.toAlphaNumericChar(Math.floor(u/10))),o.append(wt.toAlphaNumericChar(u%10))}else if(l===1){if(r.available()<4)throw new B;const u=r.readBits(4);if(u>=10)throw new B;o.append(wt.toAlphaNumericChar(u))}}static parseECIValue(r){const o=r.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const l=r.readBits(8);return(o&63)<<8&4294967295|l}if((o&224)===192){const l=r.readBits(16);return(o&31)<<16&4294967295|l}throw new B}}wt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",wt.GB2312_SUBSET=1;class zg{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const o=r[0];r[0]=r[2],r[2]=o}}class DA{constructor(){this.rsDecoder=new Ho(He.QR_CODE_FIELD_256)}decodeBooleanArray(r,o){return this.decodeBitMatrix(fe.parseFromBooleanArray(r),o)}decodeBitMatrix(r,o){const l=new MA(r);let u=null;try{return this.decodeBitMatrixParser(l,o)}catch(d){u=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,o);return d.setOther(new zg(!0)),d}catch(d){throw u!==null?u:d}}decodeBitMatrixParser(r,o){const l=r.readVersion(),u=r.readFormatInformation().getErrorCorrectionLevel(),d=r.readCodewords(),m=Th.getDataBlocks(d,l,u);let x=0;for(const S of m)x+=S.getNumDataCodewords();const b=new Uint8Array(x);let v=0;for(const S of m){const I=S.getCodewords(),j=S.getNumDataCodewords();this.correctErrors(I,j);for(let F=0;F<j;F++)b[v++]=I[F]}return wt.decode(b,l,u,o)}correctErrors(r,o){const l=new Int32Array(r);try{this.rsDecoder.decode(l,r.length-o)}catch{throw new A}for(let u=0;u<o;u++)r[u]=l[u]}}class Ih extends xe{constructor(r,o,l){super(r,o),this.estimatedModuleSize=l}aboutEquals(r,o,l){if(Math.abs(o-this.getY())<=r&&Math.abs(l-this.getX())<=r){const u=Math.abs(r-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(r,o,l){const u=(this.getX()+o)/2,d=(this.getY()+r)/2,m=(this.estimatedModuleSize+l)/2;return new Ih(u,d,m)}}class qc{constructor(r,o,l,u,d,m,x){this.image=r,this.startX=o,this.startY=l,this.width=u,this.height=d,this.moduleSize=m,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,o=this.height,l=this.width,u=r+l,d=this.startY+o/2,m=new Int32Array(3),x=this.image;for(let b=0;b<o;b++){const v=d+(b&1?-Math.floor((b+1)/2):Math.floor((b+1)/2));m[0]=0,m[1]=0,m[2]=0;let S=r;for(;S<u&&!x.get(S,v);)S++;let I=0;for(;S<u;){if(x.get(S,v))if(I===1)m[1]++;else if(I===2){if(this.foundPatternCross(m)){const j=this.handlePossibleCenter(m,v,S);if(j!==null)return j}m[0]=m[2],m[1]=1,m[2]=0,I=1}else m[++I]++;else I===1&&I++,m[I]++;S++}if(this.foundPatternCross(m)){const j=this.handlePossibleCenter(m,v,u);if(j!==null)return j}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(r,o){return o-r[2]-r[1]/2}foundPatternCross(r){const o=this.moduleSize,l=o/2;for(let u=0;u<3;u++)if(Math.abs(o-r[u])>=l)return!1;return!0}crossCheckVertical(r,o,l,u){const d=this.image,m=d.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let b=r;for(;b>=0&&d.get(o,b)&&x[1]<=l;)x[1]++,b--;if(b<0||x[1]>l)return NaN;for(;b>=0&&!d.get(o,b)&&x[0]<=l;)x[0]++,b--;if(x[0]>l)return NaN;for(b=r+1;b<m&&d.get(o,b)&&x[1]<=l;)x[1]++,b++;if(b===m||x[1]>l)return NaN;for(;b<m&&!d.get(o,b)&&x[2]<=l;)x[2]++,b++;if(x[2]>l)return NaN;const v=x[0]+x[1]+x[2];return 5*Math.abs(v-u)>=2*u?NaN:this.foundPatternCross(x)?qc.centerFromEnd(x,b):NaN}handlePossibleCenter(r,o,l){const u=r[0]+r[1]+r[2],d=qc.centerFromEnd(r,l),m=this.crossCheckVertical(o,d,2*r[1],u);if(!isNaN(m)){const x=(r[0]+r[1]+r[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(x,m,d))return v.combineEstimate(m,d,x);const b=new Ih(d,m,x);this.possibleCenters.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return null}}class Mh extends xe{constructor(r,o,l,u){super(r,o),this.estimatedModuleSize=l,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,o,l){if(Math.abs(o-this.getY())<=r&&Math.abs(l-this.getX())<=r){const u=Math.abs(r-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(r,o,l){const u=this.count+1,d=(this.count*this.getX()+o)/u,m=(this.count*this.getY()+r)/u,x=(this.count*this.estimatedModuleSize+l)/u;return new Mh(d,m,x,u)}}class RA{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Wt{constructor(r,o){this.image=r,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const o=r!=null&&r.get(L.TRY_HARDER)!==void 0,l=r!=null&&r.get(L.PURE_BARCODE)!==void 0,u=this.image,d=u.getHeight(),m=u.getWidth();let x=Math.floor(3*d/(4*Wt.MAX_MODULES));(x<Wt.MIN_SKIP||o)&&(x=Wt.MIN_SKIP);let b=!1;const v=new Int32Array(5);for(let I=x-1;I<d&&!b;I+=x){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let j=0;for(let F=0;F<m;F++)if(u.get(F,I))(j&1)===1&&j++,v[j]++;else if(j&1)v[j]++;else if(j===4)if(Wt.foundPatternCross(v)){if(this.handlePossibleCenter(v,I,F,l)===!0)if(x=2,this.hasSkipped===!0)b=this.haveMultiplyConfirmedCenters();else{const q=this.findRowSkip();q>v[2]&&(I+=q-v[2]-x,F=m-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,j=3;continue}j=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,j=3;else v[++j]++;Wt.foundPatternCross(v)&&this.handlePossibleCenter(v,I,m,l)===!0&&(x=v[0],this.hasSkipped&&(b=this.haveMultiplyConfirmedCenters()))}const S=this.selectBestPatterns();return xe.orderBestPatterns(S),new RA(S)}static centerFromEnd(r,o){return o-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let o=0;for(let d=0;d<5;d++){const m=r[d];if(m===0)return!1;o+=m}if(o<7)return!1;const l=o/7,u=l/2;return Math.abs(l-r[0])<u&&Math.abs(l-r[1])<u&&Math.abs(3*l-r[2])<3*u&&Math.abs(l-r[3])<u&&Math.abs(l-r[4])<u}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,o,l,u){const d=this.getCrossCheckStateCount();let m=0;const x=this.image;for(;r>=m&&o>=m&&x.get(o-m,r-m);)d[2]++,m++;if(r<m||o<m)return!1;for(;r>=m&&o>=m&&!x.get(o-m,r-m)&&d[1]<=l;)d[1]++,m++;if(r<m||o<m||d[1]>l)return!1;for(;r>=m&&o>=m&&x.get(o-m,r-m)&&d[0]<=l;)d[0]++,m++;if(d[0]>l)return!1;const b=x.getHeight(),v=x.getWidth();for(m=1;r+m<b&&o+m<v&&x.get(o+m,r+m);)d[2]++,m++;if(r+m>=b||o+m>=v)return!1;for(;r+m<b&&o+m<v&&!x.get(o+m,r+m)&&d[3]<l;)d[3]++,m++;if(r+m>=b||o+m>=v||d[3]>=l)return!1;for(;r+m<b&&o+m<v&&x.get(o+m,r+m)&&d[4]<l;)d[4]++,m++;if(d[4]>=l)return!1;const S=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(S-u)<2*u&&Wt.foundPatternCross(d)}crossCheckVertical(r,o,l,u){const d=this.image,m=d.getHeight(),x=this.getCrossCheckStateCount();let b=r;for(;b>=0&&d.get(o,b);)x[2]++,b--;if(b<0)return NaN;for(;b>=0&&!d.get(o,b)&&x[1]<=l;)x[1]++,b--;if(b<0||x[1]>l)return NaN;for(;b>=0&&d.get(o,b)&&x[0]<=l;)x[0]++,b--;if(x[0]>l)return NaN;for(b=r+1;b<m&&d.get(o,b);)x[2]++,b++;if(b===m)return NaN;for(;b<m&&!d.get(o,b)&&x[3]<l;)x[3]++,b++;if(b===m||x[3]>=l)return NaN;for(;b<m&&d.get(o,b)&&x[4]<l;)x[4]++,b++;if(x[4]>=l)return NaN;const v=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(v-u)>=2*u?NaN:Wt.foundPatternCross(x)?Wt.centerFromEnd(x,b):NaN}crossCheckHorizontal(r,o,l,u){const d=this.image,m=d.getWidth(),x=this.getCrossCheckStateCount();let b=r;for(;b>=0&&d.get(b,o);)x[2]++,b--;if(b<0)return NaN;for(;b>=0&&!d.get(b,o)&&x[1]<=l;)x[1]++,b--;if(b<0||x[1]>l)return NaN;for(;b>=0&&d.get(b,o)&&x[0]<=l;)x[0]++,b--;if(x[0]>l)return NaN;for(b=r+1;b<m&&d.get(b,o);)x[2]++,b++;if(b===m)return NaN;for(;b<m&&!d.get(b,o)&&x[3]<l;)x[3]++,b++;if(b===m||x[3]>=l)return NaN;for(;b<m&&d.get(b,o)&&x[4]<l;)x[4]++,b++;if(x[4]>=l)return NaN;const v=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(v-u)>=u?NaN:Wt.foundPatternCross(x)?Wt.centerFromEnd(x,b):NaN}handlePossibleCenter(r,o,l,u){const d=r[0]+r[1]+r[2]+r[3]+r[4];let m=Wt.centerFromEnd(r,l),x=this.crossCheckVertical(o,Math.floor(m),r[2],d);if(!isNaN(x)&&(m=this.crossCheckHorizontal(Math.floor(m),Math.floor(x),r[2],d),!isNaN(m)&&(!u||this.crossCheckDiagonal(Math.floor(x),Math.floor(m),r[2],d)))){const b=d/7;let v=!1;const S=this.possibleCenters;for(let I=0,j=S.length;I<j;I++){const F=S[I];if(F.aboutEquals(b,x,m)){S[I]=F.combineEstimate(x,m,b),v=!0;break}}if(!v){const I=new Mh(m,x,b);S.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const l of this.possibleCenters)if(l.getCount()>=Wt.CENTER_QUORUM)if(o==null)o=l;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-l.getX())-Math.abs(o.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,o=0;const l=this.possibleCenters.length;for(const m of this.possibleCenters)m.getCount()>=Wt.CENTER_QUORUM&&(r++,o+=m.getEstimatedModuleSize());if(r<3)return!1;const u=o/l;let d=0;for(const m of this.possibleCenters)d+=Math.abs(m.getEstimatedModuleSize()-u);return d<=.05*o}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new X;const o=this.possibleCenters;let l;if(r>3){let u=0,d=0;for(const b of this.possibleCenters){const v=b.getEstimatedModuleSize();u+=v,d+=v*v}l=u/r;let m=Math.sqrt(d/r-l*l);o.sort((b,v)=>{const S=Math.abs(v.getEstimatedModuleSize()-l),I=Math.abs(b.getEstimatedModuleSize()-l);return S<I?-1:S>I?1:0});const x=Math.max(.2*l,m);for(let b=0;b<o.length&&o.length>3;b++){const v=o[b];Math.abs(v.getEstimatedModuleSize()-l)>x&&(o.splice(b,1),b--)}}if(o.length>3){let u=0;for(const d of o)u+=d.getEstimatedModuleSize();l=u/o.length,o.sort((d,m)=>{if(m.getCount()===d.getCount()){const x=Math.abs(m.getEstimatedModuleSize()-l),b=Math.abs(d.getEstimatedModuleSize()-l);return x<b?1:x>b?-1:0}else return m.getCount()-d.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Wt.CENTER_QUORUM=2,Wt.MIN_SKIP=3,Wt.MAX_MODULES=57;class Yo{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(L.NEED_RESULT_POINT_CALLBACK);const l=new Wt(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(l)}processFinderPatternInfo(r){const o=r.getTopLeft(),l=r.getTopRight(),u=r.getBottomLeft(),d=this.calculateModuleSize(o,l,u);if(d<1)throw new X("No pattern found in proccess finder.");const m=Yo.computeDimension(o,l,u,d),x=be.getProvisionalVersionForDimension(m),b=x.getDimensionForVersion()-7;let v=null;if(x.getAlignmentPatternCenters().length>0){const F=l.getX()-o.getX()+u.getX(),G=l.getY()-o.getY()+u.getY(),q=1-3/b,Z=Math.floor(o.getX()+q*(F-o.getX())),ee=Math.floor(o.getY()+q*(G-o.getY()));for(let ce=4;ce<=16;ce<<=1)try{v=this.findAlignmentInRegion(d,Z,ee,ce);break}catch(de){if(!(de instanceof X))throw de}}const S=Yo.createTransform(o,l,u,v,m),I=Yo.sampleGrid(this.image,S,m);let j;return v===null?j=[u,o,l]:j=[u,o,l,v],new Vc(I,j)}static createTransform(r,o,l,u,d){const m=d-3.5;let x,b,v,S;return u!==null?(x=u.getX(),b=u.getY(),v=m-3,S=v):(x=o.getX()-r.getX()+l.getX(),b=o.getY()-r.getY()+l.getY(),v=m,S=m),pi.quadrilateralToQuadrilateral(3.5,3.5,m,3.5,v,S,3.5,m,r.getX(),r.getY(),o.getX(),o.getY(),x,b,l.getX(),l.getY())}static sampleGrid(r,o,l){return Sr.getInstance().sampleGridWithTransform(r,l,l,o)}static computeDimension(r,o,l,u){const d=Ve.round(xe.distance(r,o)/u),m=Ve.round(xe.distance(r,l)/u);let x=Math.floor((d+m)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new X("Dimensions could be not found.")}return x}calculateModuleSize(r,o,l){return(this.calculateModuleSizeOneWay(r,o)+this.calculateModuleSizeOneWay(r,l))/2}calculateModuleSizeOneWay(r,o){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(o.getX()),Math.floor(o.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(r,o,l,u){let d=this.sizeOfBlackWhiteBlackRun(r,o,l,u),m=1,x=r-(l-r);x<0?(m=r/(r-x),x=0):x>=this.image.getWidth()&&(m=(this.image.getWidth()-1-r)/(x-r),x=this.image.getWidth()-1);let b=Math.floor(o-(u-o)*m);return m=1,b<0?(m=o/(o-b),b=0):b>=this.image.getHeight()&&(m=(this.image.getHeight()-1-o)/(b-o),b=this.image.getHeight()-1),x=Math.floor(r+(x-r)*m),d+=this.sizeOfBlackWhiteBlackRun(r,o,x,b),d-1}sizeOfBlackWhiteBlackRun(r,o,l,u){const d=Math.abs(u-o)>Math.abs(l-r);if(d){let F=r;r=o,o=F,F=l,l=u,u=F}const m=Math.abs(l-r),x=Math.abs(u-o);let b=-m/2;const v=r<l?1:-1,S=o<u?1:-1;let I=0;const j=l+v;for(let F=r,G=o;F!==j;F+=v){const q=d?G:F,Z=d?F:G;if(I===1===this.image.get(q,Z)){if(I===2)return Ve.distance(F,G,r,o);I++}if(b+=x,b>0){if(G===u)break;G+=S,b-=m}}return I===2?Ve.distance(l+v,u,r,o):NaN}findAlignmentInRegion(r,o,l,u){const d=Math.floor(u*r),m=Math.max(0,o-d),x=Math.min(this.image.getWidth()-1,o+d);if(x-m<r*3)throw new X("Alignment top exceeds estimated module size.");const b=Math.max(0,l-d),v=Math.min(this.image.getHeight()-1,l+d);if(v-b<r*3)throw new X("Alignment bottom exceeds estimated module size.");return new qc(this.image,m,b,x-m,v-b,r,this.resultPointCallback).find()}}class Tr{constructor(){this.decoder=new DA}getDecoder(){return this.decoder}decode(r,o){let l,u;if(o!=null&&o.get(L.PURE_BARCODE)!==void 0){const b=Tr.extractPureBits(r.getBlackMatrix());l=this.decoder.decodeBitMatrix(b,o),u=Tr.NO_POINTS}else{const b=new Yo(r.getBlackMatrix()).detect(o);l=this.decoder.decodeBitMatrix(b.getBits(),o),u=b.getPoints()}l.getOther()instanceof zg&&l.getOther().applyMirroredCorrection(u);const d=new Ae(l.getText(),l.getRawBytes(),void 0,u,ye.QR_CODE,void 0),m=l.getByteSegments();m!==null&&d.putMetadata(ut.BYTE_SEGMENTS,m);const x=l.getECLevel();return x!==null&&d.putMetadata(ut.ERROR_CORRECTION_LEVEL,x),l.hasStructuredAppend()&&(d.putMetadata(ut.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(ut.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(r){const o=r.getTopLeftOnBit(),l=r.getBottomRightOnBit();if(o===null||l===null)throw new X;const u=this.moduleSize(o,r);let d=o[1],m=l[1],x=o[0],b=l[0];if(x>=b||d>=m)throw new X;if(m-d!==b-x&&(b=x+(m-d),b>=r.getWidth()))throw new X;const v=Math.round((b-x+1)/u),S=Math.round((m-d+1)/u);if(v<=0||S<=0)throw new X;if(S!==v)throw new X;const I=Math.floor(u/2);d+=I,x+=I;const j=x+Math.floor((v-1)*u)-b;if(j>0){if(j>I)throw new X;x-=j}const F=d+Math.floor((S-1)*u)-m;if(F>0){if(F>I)throw new X;d-=F}const G=new fe(v,S);for(let q=0;q<S;q++){const Z=d+Math.floor(q*u);for(let ee=0;ee<v;ee++)r.get(x+Math.floor(ee*u),Z)&&G.set(ee,q)}return G}static moduleSize(r,o){const l=o.getHeight(),u=o.getWidth();let d=r[0],m=r[1],x=!0,b=0;for(;d<u&&m<l;){if(x!==o.get(d,m)){if(++b===5)break;x=!x}d++,m++}if(d===u||m===l)throw new X;return(d-r[0])/7}}Tr.NO_POINTS=new Array;class Se{PDF417Common(){}static getBitCountSum(r){return Ve.sum(r)}static toIntArray(r){if(r==null||!r.length)return Se.EMPTY_INT_ARRAY;const o=new Int32Array(r.length);let l=0;for(const u of r)o[l++]=u;return o}static getCodeword(r){const o=N.binarySearch(Se.SYMBOL_TABLE,r&262143);return o<0?-1:(Se.CODEWORD_TABLE[o]-1)%Se.NUMBER_OF_CODEWORDS}}Se.NUMBER_OF_CODEWORDS=929,Se.MAX_CODEWORDS_IN_BARCODE=Se.NUMBER_OF_CODEWORDS-1,Se.MIN_ROWS_IN_BARCODE=3,Se.MAX_ROWS_IN_BARCODE=90,Se.MODULES_IN_CODEWORD=17,Se.MODULES_IN_STOP_PATTERN=18,Se.BARS_IN_MODULE=8,Se.EMPTY_INT_ARRAY=new Int32Array([]),Se.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Se.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class jA{constructor(r,o){this.bits=r,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class De{static detectMultiple(r,o,l){let u=r.getBlackMatrix(),d=De.detect(l,u);return d.length||(u=u.clone(),u.rotate180(),d=De.detect(l,u)),new jA(u,d)}static detect(r,o){const l=new Array;let u=0,d=0,m=!1;for(;u<o.getHeight();){const x=De.findVertices(o,u,d);if(x[0]==null&&x[3]==null){if(!m)break;m=!1,d=0;for(const b of l)b[1]!=null&&(u=Math.trunc(Math.max(u,b[1].getY()))),b[3]!=null&&(u=Math.max(u,Math.trunc(b[3].getY())));u+=De.ROW_STEP;continue}if(m=!0,l.push(x),!r)break;x[2]!=null?(d=Math.trunc(x[2].getX()),u=Math.trunc(x[2].getY())):(d=Math.trunc(x[4].getX()),u=Math.trunc(x[4].getY()))}return l}static findVertices(r,o,l){const u=r.getHeight(),d=r.getWidth(),m=new Array(8);return De.copyToResult(m,De.findRowsWithPattern(r,u,d,o,l,De.START_PATTERN),De.INDEXES_START_PATTERN),m[4]!=null&&(l=Math.trunc(m[4].getX()),o=Math.trunc(m[4].getY())),De.copyToResult(m,De.findRowsWithPattern(r,u,d,o,l,De.STOP_PATTERN),De.INDEXES_STOP_PATTERN),m}static copyToResult(r,o,l){for(let u=0;u<l.length;u++)r[l[u]]=o[u]}static findRowsWithPattern(r,o,l,u,d,m){const x=new Array(4);let b=!1;const v=new Int32Array(m.length);for(;u<o;u+=De.ROW_STEP){let I=De.findGuardPattern(r,d,u,l,!1,m,v);if(I!=null){for(;u>0;){const j=De.findGuardPattern(r,d,--u,l,!1,m,v);if(j!=null)I=j;else{u++;break}}x[0]=new xe(I[0],u),x[1]=new xe(I[1],u),b=!0;break}}let S=u+1;if(b){let I=0,j=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;S<o;S++){const F=De.findGuardPattern(r,j[0],S,l,!1,m,v);if(F!=null&&Math.abs(j[0]-F[0])<De.MAX_PATTERN_DRIFT&&Math.abs(j[1]-F[1])<De.MAX_PATTERN_DRIFT)j=F,I=0;else{if(I>De.SKIPPED_ROW_COUNT_MAX)break;I++}}S-=I+1,x[2]=new xe(j[0],S),x[3]=new xe(j[1],S)}return S-u<De.BARCODE_MIN_HEIGHT&&N.fill(x,null),x}static findGuardPattern(r,o,l,u,d,m,x){N.fillWithin(x,0,x.length,0);let b=o,v=0;for(;r.get(b,l)&&b>0&&v++<De.MAX_PIXEL_DRIFT;)b--;let S=b,I=0,j=m.length;for(let F=d;S<u;S++)if(r.get(S,l)!==F)x[I]++;else{if(I===j-1){if(De.patternMatchVariance(x,m,De.MAX_INDIVIDUAL_VARIANCE)<De.MAX_AVG_VARIANCE)return new Int32Array([b,S]);b+=x[0]+x[1],M.arraycopy(x,2,x,0,I-1),x[I-1]=0,x[I]=0,I--}else I++;x[I]=1,F=!F}return I===j-1&&De.patternMatchVariance(x,m,De.MAX_INDIVIDUAL_VARIANCE)<De.MAX_AVG_VARIANCE?new Int32Array([b,S-1]):null}static patternMatchVariance(r,o,l){let u=r.length,d=0,m=0;for(let v=0;v<u;v++)d+=r[v],m+=o[v];if(d<m)return 1/0;let x=d/m;l*=x;let b=0;for(let v=0;v<u;v++){let S=r[v],I=o[v]*x,j=S>I?S-I:I-S;if(j>l)return 1/0;b+=j}return b/d}}De.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),De.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),De.MAX_AVG_VARIANCE=.42,De.MAX_INDIVIDUAL_VARIANCE=.8,De.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),De.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),De.MAX_PIXEL_DRIFT=3,De.MAX_PATTERN_DRIFT=5,De.SKIPPED_ROW_COUNT_MAX=25,De.ROW_STEP=5,De.BARCODE_MIN_HEIGHT=10;class nn{constructor(r,o){if(o.length===0)throw new w;this.field=r;let l=o.length;if(l>1&&o[0]===0){let u=1;for(;u<l&&o[u]===0;)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),M.arraycopy(o,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let u=0;for(let d of this.coefficients)u=this.field.add(u,d);return u}let o=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)o=this.field.add(this.field.multiply(r,o),this.coefficients[u]);return o}add(r){if(!this.field.equals(r.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let o=this.coefficients,l=r.coefficients;if(o.length>l.length){let m=o;o=l,l=m}let u=new Int32Array(l.length),d=l.length-o.length;M.arraycopy(l,0,u,0,d);for(let m=d;m<l.length;m++)u[m]=this.field.add(o[m-d],l[m]);return new nn(this.field,u)}subtract(r){if(!this.field.equals(r.field))throw new w("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof nn?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new nn(this.field,new Int32Array([0]));let o=this.coefficients,l=o.length,u=r.coefficients,d=u.length,m=new Int32Array(l+d-1);for(let x=0;x<l;x++){let b=o[x];for(let v=0;v<d;v++)m[x+v]=this.field.add(m[x+v],this.field.multiply(b,u[v]))}return new nn(this.field,m)}negative(){let r=this.coefficients.length,o=new Int32Array(r);for(let l=0;l<r;l++)o[l]=this.field.subtract(0,this.coefficients[l]);return new nn(this.field,o)}multiplyScalar(r){if(r===0)return new nn(this.field,new Int32Array([0]));if(r===1)return this;let o=this.coefficients.length,l=new Int32Array(o);for(let u=0;u<o;u++)l[u]=this.field.multiply(this.coefficients[u],r);return new nn(this.field,l)}multiplyByMonomial(r,o){if(r<0)throw new w;if(o===0)return new nn(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+r);for(let d=0;d<l;d++)u[d]=this.field.multiply(this.coefficients[d],o);return new nn(this.field,u)}toString(){let r=new te;for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);l!==0&&(l<0?(r.append(" - "),l=-l):r.length()>0&&r.append(" + "),(o===0||l!==1)&&r.append(l),o!==0&&(o===1?r.append("x"):(r.append("x^"),r.append(o))))}return r.toString()}}class OA{add(r,o){return(r+o)%this.modulus}subtract(r,o){return(this.modulus+r-o)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new w;return this.logTable[r]}inverse(r){if(r===0)throw new Uc;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,o){return r===0||o===0?0:this.expTable[(this.logTable[r]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class Dh extends OA{constructor(r,o){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let l=1;for(let u=0;u<r;u++)this.expTable[u]=l,l=l*o%r;for(let u=0;u<r-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new nn(this,new Int32Array([0])),this.one=new nn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,o){if(r<0)throw new w;if(o===0)return this.zero;let l=new Int32Array(r+1);return l[0]=o,new nn(this,l)}}Dh.PDF417_GF=new Dh(Se.NUMBER_OF_CODEWORDS,3);class Hg{constructor(){this.field=Dh.PDF417_GF}decode(r,o,l){let u=new nn(this.field,r),d=new Int32Array(o),m=!1;for(let G=o;G>0;G--){let q=u.evaluateAt(this.field.exp(G));d[o-G]=q,q!==0&&(m=!0)}if(!m)return 0;let x=this.field.getOne();if(l!=null)for(const G of l){let q=this.field.exp(r.length-1-G),Z=new nn(this.field,new Int32Array([this.field.subtract(0,q),1]));x=x.multiply(Z)}let b=new nn(this.field,d),v=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),b,o),S=v[0],I=v[1],j=this.findErrorLocations(S),F=this.findErrorMagnitudes(I,S,j);for(let G=0;G<j.length;G++){let q=r.length-1-this.field.log(j[G]);if(q<0)throw A.getChecksumInstance();r[q]=this.field.subtract(r[q],F[G])}return j.length}runEuclideanAlgorithm(r,o,l){if(r.getDegree()<o.getDegree()){let j=r;r=o,o=j}let u=r,d=o,m=this.field.getZero(),x=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let j=u,F=m;if(u=d,m=x,u.isZero())throw A.getChecksumInstance();d=j;let G=this.field.getZero(),q=u.getCoefficient(u.getDegree()),Z=this.field.inverse(q);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){let ee=d.getDegree()-u.getDegree(),ce=this.field.multiply(d.getCoefficient(d.getDegree()),Z);G=G.add(this.field.buildMonomial(ee,ce)),d=d.subtract(u.multiplyByMonomial(ee,ce))}x=G.multiply(m).subtract(F).negative()}let b=x.getCoefficient(0);if(b===0)throw A.getChecksumInstance();let v=this.field.inverse(b),S=x.multiply(v),I=d.multiply(v);return[S,I]}findErrorLocations(r){let o=r.getDegree(),l=new Int32Array(o),u=0;for(let d=1;d<this.field.getSize()&&u<o;d++)r.evaluateAt(d)===0&&(l[u]=this.field.inverse(d),u++);if(u!==o)throw A.getChecksumInstance();return l}findErrorMagnitudes(r,o,l){let u=o.getDegree(),d=new Int32Array(u);for(let v=1;v<=u;v++)d[u-v]=this.field.multiply(v,o.getCoefficient(v));let m=new nn(this.field,d),x=l.length,b=new Int32Array(x);for(let v=0;v<x;v++){let S=this.field.inverse(l[v]),I=this.field.subtract(0,r.evaluateAt(S)),j=this.field.inverse(m.evaluateAt(S));b[v]=this.field.multiply(I,j)}return b}}class Cs{constructor(r,o,l,u,d){r instanceof Cs?this.constructor_2(r):this.constructor_1(r,o,l,u,d)}constructor_1(r,o,l,u,d){const m=o==null||l==null,x=u==null||d==null;if(m&&x)throw new X;m?(o=new xe(0,u.getY()),l=new xe(0,d.getY())):x&&(u=new xe(r.getWidth()-1,o.getY()),d=new xe(r.getWidth()-1,l.getY())),this.image=r,this.topLeft=o,this.bottomLeft=l,this.topRight=u,this.bottomRight=d,this.minX=Math.trunc(Math.min(o.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),d.getX())),this.minY=Math.trunc(Math.min(o.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,o){return r==null?o:o==null?r:new Cs(r.image,r.topLeft,r.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(r,o,l){let u=this.topLeft,d=this.bottomLeft,m=this.topRight,x=this.bottomRight;if(r>0){let b=l?this.topLeft:this.topRight,v=Math.trunc(b.getY()-r);v<0&&(v=0);let S=new xe(b.getX(),v);l?u=S:m=S}if(o>0){let b=l?this.bottomLeft:this.bottomRight,v=Math.trunc(b.getY()+o);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let S=new xe(b.getX(),v);l?d=S:x=S}return new Cs(this.image,u,d,m,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class kA{constructor(r,o,l,u){this.columnCount=r,this.errorCorrectionLevel=u,this.rowCountUpperPart=o,this.rowCountLowerPart=l,this.rowCount=o+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class qo{constructor(){this.buffer=""}static form(r,o){let l=-1;function u(m,x,b,v,S,I){if(m==="%%")return"%";if(o[++l]===void 0)return;m=v?parseInt(v.substr(1)):void 0;let j=S?parseInt(S.substr(1)):void 0,F;switch(I){case"s":F=o[l];break;case"c":F=o[l][0];break;case"f":F=parseFloat(o[l]).toFixed(m);break;case"p":F=parseFloat(o[l]).toPrecision(m);break;case"e":F=parseFloat(o[l]).toExponential(m);break;case"x":F=parseInt(o[l]).toString(j||16);break;case"d":F=parseFloat(parseInt(o[l],j||10).toPrecision(m)).toFixed(0);break}F=typeof F=="object"?JSON.stringify(F):(+F).toString(j);let G=parseInt(b),q=b&&b[0]+""=="0"?"0":" ";for(;F.length<G;)F=x!==void 0?F+q:q+F;return F}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(d,u)}format(r,...o){this.buffer+=qo.form(r,o)}toString(){return this.buffer}}class Xo{constructor(r){this.boundingBox=new Cs(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let o=this.getCodeword(r);if(o!=null)return o;for(let l=1;l<Xo.MAX_NEARBY_DISTANCE;l++){let u=this.imageRowToCodewordIndex(r)-l;if(u>=0&&(o=this.codewords[u],o!=null)||(u=this.imageRowToCodewordIndex(r)+l,u<this.codewords.length&&(o=this.codewords[u],o!=null)))return o}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,o){this.codewords[this.imageRowToCodewordIndex(r)]=o}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new qo;let o=0;for(const l of this.codewords){if(l==null){r.format("%3d:    |   %n",o++);continue}r.format("%3d: %3d|%3d%n",o++,l.getRowNumber(),l.getValue())}return r.toString()}}Xo.MAX_NEARBY_DISTANCE=5;class Wo{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let o=this.values.get(r);o==null&&(o=0),o++,this.values.set(r,o)}getValue(){let r=-1,o=new Array;for(const[l,u]of this.values.entries()){const d={getKey:()=>l,getValue:()=>u};d.getValue()>r?(r=d.getValue(),o=[],o.push(d.getKey())):d.getValue()===r&&o.push(d.getKey())}return Se.toIntArray(o)}getConfidence(r){return this.values.get(r)}}class Gg extends Xo{constructor(r,o){super(r),this._isLeft=o}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,r);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(u.getY())),x=this.imageRowToCodewordIndex(Math.trunc(d.getY())),b=-1,v=1,S=0;for(let I=m;I<x;I++){if(o[I]==null)continue;let j=o[I],F=j.getRowNumber()-b;if(F===0)S++;else if(F===1)v=Math.max(v,S),S=1,b=j.getRowNumber();else if(F<0||j.getRowNumber()>=r.getRowCount()||F>I)o[I]=null;else{let G;v>2?G=(v-2)*F:G=F;let q=G>=I;for(let Z=1;Z<=G&&!q;Z++)q=o[I-Z]!=null;q?o[I]=null:(b=j.getRowNumber(),S=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let o=new Int32Array(r.getRowCount());for(let l of this.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=o.length)continue;o[u]++}return o}adjustIncompleteIndicatorColumnRowNumbers(r){let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),u=this._isLeft?o.getBottomLeft():o.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),m=this.imageRowToCodewordIndex(Math.trunc(u.getY())),x=this.getCodewords(),b=-1;for(let v=d;v<m;v++){if(x[v]==null)continue;let S=x[v];S.setRowNumberAsRowIndicatorColumn();let I=S.getRowNumber()-b;I===0||(I===1?b=S.getRowNumber():S.getRowNumber()>=r.getRowCount()?x[v]=null:b=S.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),o=new Wo,l=new Wo,u=new Wo,d=new Wo;for(let x of r){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let b=x.getValue()%30,v=x.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:l.setValue(b*3+1);break;case 1:d.setValue(b/3),u.setValue(b%3);break;case 2:o.setValue(b+1);break}}if(o.getValue().length===0||l.getValue().length===0||u.getValue().length===0||d.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<Se.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>Se.MAX_ROWS_IN_BARCODE)return null;let m=new kA(o.getValue()[0],l.getValue()[0],u.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(r,m),m}removeIncorrectCodewords(r,o){for(let l=0;l<r.length;l++){let u=r[l];if(r[l]==null)continue;let d=u.getValue()%30,m=u.getRowNumber();if(m>o.getRowCount()){r[l]=null;continue}switch(this._isLeft||(m+=2),m%3){case 0:d*3+1!==o.getRowCountUpperPart()&&(r[l]=null);break;case 1:(Math.trunc(d/3)!==o.getErrorCorrectionLevel()||d%3!==o.getRowCountLowerPart())&&(r[l]=null);break;case 2:d+1!==o.getColumnCount()&&(r[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Zo{constructor(r,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=Se.MAX_CODEWORDS_IN_BARCODE,o;do o=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let l=this.detectionResultColumns[o].getCodewords();for(let u=0;u<l.length;u++)l[u]!=null&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(o,u,l))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<r.length;l++)if(r[l]!=null&&o[l]!=null&&r[l].getRowNumber()===o[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let d=this.detectionResultColumns[u].getCodewords()[l];d!=null&&(d.setRowNumber(r[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let u=o[l].getRowNumber(),d=0;for(let m=this.barcodeColumnCount+1;m>0&&d<this.ADJUST_ROW_NUMBER_SKIP;m--){let x=this.detectionResultColumns[m].getCodewords()[l];x!=null&&(d=Zo.adjustRowNumberIfValid(u,d,x),x.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,o=this.detectionResultColumns[0].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let u=o[l].getRowNumber(),d=0;for(let m=1;m<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;m++){let x=this.detectionResultColumns[m].getCodewords()[l];x!=null&&(d=Zo.adjustRowNumberIfValid(u,d,x),x.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,o,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(r)?(l.setRowNumber(r),o=0):++o),o}adjustRowNumbers(r,o,l){if(!this.detectionResultColumns[r-1])return;let u=l[o],d=this.detectionResultColumns[r-1].getCodewords(),m=d;this.detectionResultColumns[r+1]!=null&&(m=this.detectionResultColumns[r+1].getCodewords());let x=new Array(14);x[2]=d[o],x[3]=m[o],o>0&&(x[0]=l[o-1],x[4]=d[o-1],x[5]=m[o-1]),o>1&&(x[8]=l[o-2],x[10]=d[o-2],x[11]=m[o-2]),o<l.length-1&&(x[1]=l[o+1],x[6]=d[o+1],x[7]=m[o+1]),o<l.length-2&&(x[9]=l[o+2],x[12]=d[o+2],x[13]=m[o+2]);for(let b of x)if(Zo.adjustRowNumber(u,b))return}static adjustRowNumber(r,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===r.getBucket()?(r.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,o){this.detectionResultColumns[r]=o}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new qo;for(let l=0;l<r.getCodewords().length;l++){o.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){o.format("    |   ");continue}let d=this.detectionResultColumns[u].getCodewords()[l];if(d==null){o.format("    |   ");continue}o.format(" %3d|%3d",d.getRowNumber(),d.getValue())}o.format("%n")}return o.toString()}}class Ko{constructor(r,o,l,u){this.rowNumber=Ko.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(o),this.bucket=Math.trunc(l),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==Ko.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}Ko.BARCODE_ROW_UNKNOWN=-1;class Tn{static initialize(){for(let r=0;r<Se.SYMBOL_TABLE.length;r++){let o=Se.SYMBOL_TABLE[r],l=o&1;for(let u=0;u<Se.BARS_IN_MODULE;u++){let d=0;for(;(o&1)===l;)d+=1,o>>=1;l=o&1,Tn.RATIOS_TABLE[r]||(Tn.RATIOS_TABLE[r]=new Array(Se.BARS_IN_MODULE)),Tn.RATIOS_TABLE[r][Se.BARS_IN_MODULE-u-1]=Math.fround(d/Se.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let o=Tn.getDecodedCodewordValue(Tn.sampleBitCounts(r));return o!==-1?o:Tn.getClosestDecodedValue(r)}static sampleBitCounts(r){let o=Ve.sum(r),l=new Int32Array(Se.BARS_IN_MODULE),u=0,d=0;for(let m=0;m<Se.MODULES_IN_CODEWORD;m++){let x=o/(2*Se.MODULES_IN_CODEWORD)+m*o/Se.MODULES_IN_CODEWORD;d+r[u]<=x&&(d+=r[u],u++),l[u]++}return l}static getDecodedCodewordValue(r){let o=Tn.getBitValue(r);return Se.getCodeword(o)===-1?-1:o}static getBitValue(r){let o=0;for(let l=0;l<r.length;l++)for(let u=0;u<r[l];u++)o=o<<1|(l%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(r){let o=Ve.sum(r),l=new Array(Se.BARS_IN_MODULE);if(o>1)for(let m=0;m<l.length;m++)l[m]=Math.fround(r[m]/o);let u=Fc.MAX_VALUE,d=-1;this.bSymbolTableReady||Tn.initialize();for(let m=0;m<Tn.RATIOS_TABLE.length;m++){let x=0,b=Tn.RATIOS_TABLE[m];for(let v=0;v<Se.BARS_IN_MODULE;v++){let S=Math.fround(b[v]-l[v]);if(x+=Math.fround(S*S),x>=u)break}x<u&&(u=x,d=Se.SYMBOL_TABLE[m])}return d}}Tn.bSymbolTableReady=!1,Tn.RATIOS_TABLE=new Array(Se.SYMBOL_TABLE.length).map(T=>new Array(Se.BARS_IN_MODULE));class Yg{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class qg{static parseLong(r,o=void 0){return parseInt(r,o)}}class Xg extends p{}Xg.kind="NullPointerException";class LA{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,o,l){if(r==null)throw new Xg;if(o<0||o>r.length||l<0||o+l>r.length||o+l<0)throw new D;if(l===0)return;for(let u=0;u<l;u++)this.write(r[o+u])}flush(){}close(){}}class BA extends p{}class PA extends LA{constructor(r=32){if(super(),this.count=0,r<0)throw new w("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let l=this.buf.length<<1;if(l-r<0&&(l=r),l<0){if(r<0)throw new BA;l=_.MAX_VALUE}this.buf=N.copyOfUint8Array(this.buf,l)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,o,l){if(o<0||o>r.length||l<0||o+l-r.length>0)throw new D;this.ensureCapacity(this.count+l),M.arraycopy(r,o,this.buf,this.count,l),this.count+=l}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return N.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var Je;(function(T){T[T.ALPHA=0]="ALPHA",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.PUNCT=3]="PUNCT",T[T.ALPHA_SHIFT=4]="ALPHA_SHIFT",T[T.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Je||(Je={}));function Wg(){if(typeof window<"u")return window.BigInt||null;if(typeof ln<"u")return ln.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Xc;function Ir(T){if(typeof Xc>"u"&&(Xc=Wg()),Xc===null)throw new Error("BigInt is not supported!");return Xc(T)}function UA(){let T=[];T[0]=Ir(1);let r=Ir(900);T[1]=r;for(let o=2;o<16;o++)T[o]=T[o-1]*r;return T}class ${static decode(r,o){let l=new te(""),u=P.ISO8859_1;l.enableDecoding(u);let d=1,m=r[d++],x=new Yg;for(;d<r[0];){switch(m){case $.TEXT_COMPACTION_MODE_LATCH:d=$.textCompaction(r,d,l);break;case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:d=$.byteCompaction(m,r,u,d,l);break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[d++]);break;case $.NUMERIC_COMPACTION_MODE_LATCH:d=$.numericCompaction(r,d,l);break;case $.ECI_CHARSET:P.getCharacterSetECIByValue(r[d++]);break;case $.ECI_GENERAL_PURPOSE:d+=2;break;case $.ECI_USER_DEFINED:d++;break;case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=$.decodeMacroBlock(r,d,x);break;case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:throw new B;default:d--,d=$.textCompaction(r,d,l);break}if(d<r.length)m=r[d++];else throw B.getFormatInstance()}if(l.length()===0)throw B.getFormatInstance();let b=new vs(null,l.toString(),null,o);return b.setOther(x),b}static decodeMacroBlock(r,o,l){if(o+$.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw B.getFormatInstance();let u=new Int32Array($.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<$.NUMBER_OF_SEQUENCE_CODEWORDS;x++,o++)u[x]=r[o];l.setSegmentIndex(_.parseInt($.decodeBase900toBase10(u,$.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new te;o=$.textCompaction(r,o,d),l.setFileId(d.toString());let m=-1;for(r[o]===$.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(m=o+1);o<r[0];)switch(r[o]){case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,r[o]){case $.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new te;o=$.textCompaction(r,o+1,x),l.setFileName(x.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let b=new te;o=$.textCompaction(r,o+1,b),l.setSender(b.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new te;o=$.textCompaction(r,o+1,v),l.setAddressee(v.toString());break;case $.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let S=new te;o=$.numericCompaction(r,o+1,S),l.setSegmentCount(_.parseInt(S.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let I=new te;o=$.numericCompaction(r,o+1,I),l.setTimestamp(qg.parseLong(I.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let j=new te;o=$.numericCompaction(r,o+1,j),l.setChecksum(_.parseInt(j.toString()));break;case $.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let F=new te;o=$.numericCompaction(r,o+1,F),l.setFileSize(qg.parseLong(F.toString()));break;default:throw B.getFormatInstance()}break;case $.MACRO_PDF417_TERMINATOR:o++,l.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(m!==-1){let x=o-m;l.isLastSegment()&&x--,l.setOptionalData(N.copyOfRange(r,m,m+x))}return o}static textCompaction(r,o,l){let u=new Int32Array((r[0]-o)*2),d=new Int32Array((r[0]-o)*2),m=0,x=!1;for(;o<r[0]&&!x;){let b=r[o++];if(b<$.TEXT_COMPACTION_MODE_LATCH)u[m]=b/30,u[m+1]=b%30,m+=2;else switch(b){case $.TEXT_COMPACTION_MODE_LATCH:u[m++]=$.TEXT_COMPACTION_MODE_LATCH;break;case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:o--,x=!0;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[m]=$.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,b=r[o++],d[m]=b,m++;break}}return $.decodeTextCompaction(u,d,m,l),o}static decodeTextCompaction(r,o,l,u){let d=Je.ALPHA,m=Je.ALPHA,x=0;for(;x<l;){let b=r[x],v="";switch(d){case Je.ALPHA:if(b<26)v=String.fromCharCode(65+b);else switch(b){case 26:v=" ";break;case $.LL:d=Je.LOWER;break;case $.ML:d=Je.MIXED;break;case $.PS:m=d,d=Je.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[x]);break;case $.TEXT_COMPACTION_MODE_LATCH:d=Je.ALPHA;break}break;case Je.LOWER:if(b<26)v=String.fromCharCode(97+b);else switch(b){case 26:v=" ";break;case $.AS:m=d,d=Je.ALPHA_SHIFT;break;case $.ML:d=Je.MIXED;break;case $.PS:m=d,d=Je.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[x]);break;case $.TEXT_COMPACTION_MODE_LATCH:d=Je.ALPHA;break}break;case Je.MIXED:if(b<$.PL)v=$.MIXED_CHARS[b];else switch(b){case $.PL:d=Je.PUNCT;break;case 26:v=" ";break;case $.LL:d=Je.LOWER;break;case $.AL:d=Je.ALPHA;break;case $.PS:m=d,d=Je.PUNCT_SHIFT;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[x]);break;case $.TEXT_COMPACTION_MODE_LATCH:d=Je.ALPHA;break}break;case Je.PUNCT:if(b<$.PAL)v=$.PUNCT_CHARS[b];else switch(b){case $.PAL:d=Je.ALPHA;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[x]);break;case $.TEXT_COMPACTION_MODE_LATCH:d=Je.ALPHA;break}break;case Je.ALPHA_SHIFT:if(d=m,b<26)v=String.fromCharCode(65+b);else switch(b){case 26:v=" ";break;case $.TEXT_COMPACTION_MODE_LATCH:d=Je.ALPHA;break}break;case Je.PUNCT_SHIFT:if(d=m,b<$.PAL)v=$.PUNCT_CHARS[b];else switch(b){case $.PAL:d=Je.ALPHA;break;case $.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[x]);break;case $.TEXT_COMPACTION_MODE_LATCH:d=Je.ALPHA;break}break}v!==""&&u.append(v),x++}}static byteCompaction(r,o,l,u,d){let m=new PA,x=0,b=0,v=!1;switch(r){case $.BYTE_COMPACTION_MODE_LATCH:let S=new Int32Array(6),I=o[u++];for(;u<o[0]&&!v;)switch(S[x++]=I,b=900*b+I,I=o[u++],I){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:u--,v=!0;break;default:if(x%5===0&&x>0){for(let j=0;j<6;++j)m.write(Number(Ir(b)>>Ir(8*(5-j))));b=0,x=0}break}u===o[0]&&I<$.TEXT_COMPACTION_MODE_LATCH&&(S[x++]=I);for(let j=0;j<x;j++)m.write(S[j]);break;case $.BYTE_COMPACTION_MODE_LATCH_6:for(;u<o[0]&&!v;){let j=o[u++];if(j<$.TEXT_COMPACTION_MODE_LATCH)x++,b=900*b+j;else switch(j){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.NUMERIC_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:u--,v=!0;break}if(x%5===0&&x>0){for(let F=0;F<6;++F)m.write(Number(Ir(b)>>Ir(8*(5-F))));b=0,x=0}}break}return d.append(H.decode(m.toByteArray(),l)),u}static numericCompaction(r,o,l){let u=0,d=!1,m=new Int32Array($.MAX_NUMERIC_CODEWORDS);for(;o<r[0]&&!d;){let x=r[o++];if(o===r[0]&&(d=!0),x<$.TEXT_COMPACTION_MODE_LATCH)m[u]=x,u++;else switch(x){case $.TEXT_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH:case $.BYTE_COMPACTION_MODE_LATCH_6:case $.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $.MACRO_PDF417_TERMINATOR:o--,d=!0;break}(u%$.MAX_NUMERIC_CODEWORDS===0||x===$.NUMERIC_COMPACTION_MODE_LATCH||d)&&u>0&&(l.append($.decodeBase900toBase10(m,u)),u=0)}return o}static decodeBase900toBase10(r,o){let l=Ir(0);for(let d=0;d<o;d++)l+=$.EXP900[o-d-1]*Ir(r[d]);let u=l.toString();if(u.charAt(0)!=="1")throw new B;return u.substring(1)}}$.TEXT_COMPACTION_MODE_LATCH=900,$.BYTE_COMPACTION_MODE_LATCH=901,$.NUMERIC_COMPACTION_MODE_LATCH=902,$.BYTE_COMPACTION_MODE_LATCH_6=924,$.ECI_USER_DEFINED=925,$.ECI_GENERAL_PURPOSE=926,$.ECI_CHARSET=927,$.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,$.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,$.MACRO_PDF417_TERMINATOR=922,$.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,$.MAX_NUMERIC_CODEWORDS=15,$.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,$.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,$.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,$.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,$.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,$.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,$.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,$.PL=25,$.LL=27,$.AS=27,$.ML=28,$.AL=28,$.PS=29,$.PAL=29,$.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,$.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",$.EXP900=Wg()?UA():[],$.NUMBER_OF_SEQUENCE_CODEWORDS=2;class je{constructor(){}static decode(r,o,l,u,d,m,x){let b=new Cs(r,o,l,u,d),v=null,S=null,I;for(let G=!0;;G=!1){if(o!=null&&(v=je.getRowIndicatorColumn(r,b,o,!0,m,x)),u!=null&&(S=je.getRowIndicatorColumn(r,b,u,!1,m,x)),I=je.merge(v,S),I==null)throw X.getNotFoundInstance();let q=I.getBoundingBox();if(G&&q!=null&&(q.getMinY()<b.getMinY()||q.getMaxY()>b.getMaxY()))b=q;else break}I.setBoundingBox(b);let j=I.getBarcodeColumnCount()+1;I.setDetectionResultColumn(0,v),I.setDetectionResultColumn(j,S);let F=v!=null;for(let G=1;G<=j;G++){let q=F?G:j-G;if(I.getDetectionResultColumn(q)!==void 0)continue;let Z;q===0||q===j?Z=new Gg(b,q===0):Z=new Xo(b),I.setDetectionResultColumn(q,Z);let ee=-1,ce=ee;for(let de=b.getMinY();de<=b.getMaxY();de++){if(ee=je.getStartColumn(I,q,de,F),ee<0||ee>b.getMaxX()){if(ce===-1)continue;ee=ce}let oe=je.detectCodeword(r,b.getMinX(),b.getMaxX(),F,ee,de,m,x);oe!=null&&(Z.setCodeword(de,oe),ce=ee,m=Math.min(m,oe.getWidth()),x=Math.max(x,oe.getWidth()))}}return je.createDecoderResult(I)}static merge(r,o){if(r==null&&o==null)return null;let l=je.getBarcodeMetadata(r,o);if(l==null)return null;let u=Cs.merge(je.adjustBoundingBox(r),je.adjustBoundingBox(o));return new Zo(l,u)}static adjustBoundingBox(r){if(r==null)return null;let o=r.getRowHeights();if(o==null)return null;let l=je.getMax(o),u=0;for(let x of o)if(u+=l-x,x>0)break;let d=r.getCodewords();for(let x=0;u>0&&d[x]==null;x++)u--;let m=0;for(let x=o.length-1;x>=0&&(m+=l-o[x],!(o[x]>0));x--);for(let x=d.length-1;m>0&&d[x]==null;x--)m--;return r.getBoundingBox().addMissingRows(u,m,r.isLeft())}static getMax(r){let o=-1;for(let l of r)o=Math.max(o,l);return o}static getBarcodeMetadata(r,o){let l;if(r==null||(l=r.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let u;return o==null||(u=o.getBarcodeMetadata())==null?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(r,o,l,u,d,m){let x=new Gg(o,u);for(let b=0;b<2;b++){let v=b===0?1:-1,S=Math.trunc(Math.trunc(l.getX()));for(let I=Math.trunc(Math.trunc(l.getY()));I<=o.getMaxY()&&I>=o.getMinY();I+=v){let j=je.detectCodeword(r,0,r.getWidth(),u,S,I,d,m);j!=null&&(x.setCodeword(I,j),u?S=j.getStartX():S=j.getEndX())}}return x}static adjustCodewordCount(r,o){let l=o[0][1],u=l.getValue(),d=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-je.getNumberOfECCodeWords(r.getBarcodeECLevel());if(u.length===0){if(d<1||d>Se.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();l.setValue(d)}else u[0]!==d&&l.setValue(d)}static createDecoderResult(r){let o=je.createBarcodeMatrix(r);je.adjustCodewordCount(r,o);let l=new Array,u=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),d=[],m=new Array;for(let b=0;b<r.getBarcodeRowCount();b++)for(let v=0;v<r.getBarcodeColumnCount();v++){let S=o[b][v+1].getValue(),I=b*r.getBarcodeColumnCount()+v;S.length===0?l.push(I):S.length===1?u[I]=S[0]:(m.push(I),d.push(S))}let x=new Array(d.length);for(let b=0;b<x.length;b++)x[b]=d[b];return je.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),u,Se.toIntArray(l),Se.toIntArray(m),x)}static createDecoderResultFromAmbiguousValues(r,o,l,u,d){let m=new Int32Array(u.length),x=100;for(;x-- >0;){for(let b=0;b<m.length;b++)o[u[b]]=d[b][m[b]];try{return je.decodeCodewords(o,r,l)}catch(b){if(!(b instanceof A))throw b}if(m.length===0)throw A.getChecksumInstance();for(let b=0;b<m.length;b++)if(m[b]<d[b].length-1){m[b]++;break}else if(m[b]=0,b===m.length-1)throw A.getChecksumInstance()}throw A.getChecksumInstance()}static createBarcodeMatrix(r){let o=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let u=0;u<o.length;u++)for(let d=0;d<o[u].length;d++)o[u][d]=new Wo;let l=0;for(let u of r.getDetectionResultColumns()){if(u!=null){for(let d of u.getCodewords())if(d!=null){let m=d.getRowNumber();if(m>=0){if(m>=o.length)continue;o[m][l].setValue(d.getValue())}}}l++}return o}static isValidBarcodeColumn(r,o){return o>=0&&o<=r.getBarcodeColumnCount()+1}static getStartColumn(r,o,l,u){let d=u?1:-1,m=null;if(je.isValidBarcodeColumn(r,o-d)&&(m=r.getDetectionResultColumn(o-d).getCodeword(l)),m!=null)return u?m.getEndX():m.getStartX();if(m=r.getDetectionResultColumn(o).getCodewordNearby(l),m!=null)return u?m.getStartX():m.getEndX();if(je.isValidBarcodeColumn(r,o-d)&&(m=r.getDetectionResultColumn(o-d).getCodewordNearby(l)),m!=null)return u?m.getEndX():m.getStartX();let x=0;for(;je.isValidBarcodeColumn(r,o-d);){o-=d;for(let b of r.getDetectionResultColumn(o).getCodewords())if(b!=null)return(u?b.getEndX():b.getStartX())+d*x*(b.getEndX()-b.getStartX());x++}return u?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,o,l,u,d,m,x,b){d=je.adjustCodewordStartColumn(r,o,l,u,d,m);let v=je.getModuleBitCount(r,o,l,u,d,m);if(v==null)return null;let S,I=Ve.sum(v);if(u)S=d+I;else{for(let G=0;G<v.length/2;G++){let q=v[G];v[G]=v[v.length-1-G],v[v.length-1-G]=q}S=d,d=S-I}if(!je.checkCodewordSkew(I,x,b))return null;let j=Tn.getDecodedValue(v),F=Se.getCodeword(j);return F===-1?null:new Ko(d,S,je.getCodewordBucketNumber(j),F)}static getModuleBitCount(r,o,l,u,d,m){let x=d,b=new Int32Array(8),v=0,S=u?1:-1,I=u;for(;(u?x<l:x>=o)&&v<b.length;)r.get(x,m)===I?(b[v]++,x+=S):(v++,I=!I);return v===b.length||x===(u?l:o)&&v===b.length-1?b:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,o,l,u,d,m){let x=d,b=u?-1:1;for(let v=0;v<2;v++){for(;(u?x>=o:x<l)&&u===r.get(x,m);){if(Math.abs(d-x)>je.CODEWORD_SKEW_SIZE)return d;x+=b}b=-b,u=!u}return x}static checkCodewordSkew(r,o,l){return o-je.CODEWORD_SKEW_SIZE<=r&&r<=l+je.CODEWORD_SKEW_SIZE}static decodeCodewords(r,o,l){if(r.length===0)throw B.getFormatInstance();let u=1<<o+1,d=je.correctErrors(r,l,u);je.verifyCodewordCount(r,u);let m=$.decode(r,""+o);return m.setErrorsCorrected(d),m.setErasures(l.length),m}static correctErrors(r,o,l){if(o!=null&&o.length>l/2+je.MAX_ERRORS||l<0||l>je.MAX_EC_CODEWORDS)throw A.getChecksumInstance();return je.errorCorrection.decode(r,l,o)}static verifyCodewordCount(r,o){if(r.length<4)throw B.getFormatInstance();let l=r[0];if(l>r.length)throw B.getFormatInstance();if(l===0)if(o<r.length)r[0]=r.length-o;else throw B.getFormatInstance()}static getBitCountForCodeword(r){let o=new Int32Array(8),l=0,u=o.length-1;for(;!((r&1)!==l&&(l=r&1,u--,u<0));)o[u]++,r>>=1;return o}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return je.getCodewordBucketNumber(je.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let o=new qo;for(let l=0;l<r.length;l++){o.format("Row %2d: ",l);for(let u=0;u<r[l].length;u++){let d=r[l][u];d.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}o.format("%n")}return o.toString()}}je.CODEWORD_SKEW_SIZE=2,je.MAX_ERRORS=3,je.MAX_EC_CODEWORDS=512,je.errorCorrection=new Hg;class rn{decode(r,o=null){let l=rn.decode(r,o,!1);if(l==null||l.length===0||l[0]==null)throw X.getNotFoundInstance();return l[0]}decodeMultiple(r,o=null){try{return rn.decode(r,o,!0)}catch(l){throw l instanceof B||l instanceof A?X.getNotFoundInstance():l}}static decode(r,o,l){const u=new Array,d=De.detectMultiple(r,o,l);for(const m of d.getPoints()){const x=je.decode(d.getBits(),m[4],m[5],m[6],m[7],rn.getMinCodewordWidth(m),rn.getMaxCodewordWidth(m)),b=new Ae(x.getText(),x.getRawBytes(),void 0,m,ye.PDF_417);b.putMetadata(ut.ERROR_CORRECTION_LEVEL,x.getECLevel());const v=x.getOther();v!=null&&b.putMetadata(ut.PDF417_EXTRA_METADATA,v),u.push(b)}return u.map(m=>m)}static getMaxWidth(r,o){return r==null||o==null?0:Math.trunc(Math.abs(r.getX()-o.getX()))}static getMinWidth(r,o){return r==null||o==null?_.MAX_VALUE:Math.trunc(Math.abs(r.getX()-o.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(rn.getMaxWidth(r[0],r[4]),rn.getMaxWidth(r[6],r[2])*Se.MODULES_IN_CODEWORD/Se.MODULES_IN_STOP_PATTERN),Math.max(rn.getMaxWidth(r[1],r[5]),rn.getMaxWidth(r[7],r[3])*Se.MODULES_IN_CODEWORD/Se.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(rn.getMinWidth(r[0],r[4]),rn.getMinWidth(r[6],r[2])*Se.MODULES_IN_CODEWORD/Se.MODULES_IN_STOP_PATTERN),Math.min(rn.getMinWidth(r[1],r[5]),rn.getMinWidth(r[7],r[3])*Se.MODULES_IN_CODEWORD/Se.MODULES_IN_STOP_PATTERN)))}reset(){}}class Wc extends p{}Wc.kind="ReaderException";class Zg{constructor(r,o){this.verbose=r===!0,o&&this.setHints(o)}decode(r,o){return o&&this.setHints(o),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const o=!i(r)&&r.get(L.TRY_HARDER)===!0,l=i(r)?null:r.get(L.POSSIBLE_FORMATS),u=new Array;if(!i(l)){const d=l.some(m=>m===ye.UPC_A||m===ye.UPC_E||m===ye.EAN_13||m===ye.EAN_8||m===ye.CODABAR||m===ye.CODE_39||m===ye.CODE_93||m===ye.CODE_128||m===ye.ITF||m===ye.RSS_14||m===ye.RSS_EXPANDED);d&&!o&&u.push(new fa(r,this.verbose)),l.includes(ye.QR_CODE)&&u.push(new Tr),l.includes(ye.DATA_MATRIX)&&u.push(new _r),l.includes(ye.AZTEC)&&u.push(new zc),l.includes(ye.PDF_417)&&u.push(new rn),d&&o&&u.push(new fa(r,this.verbose))}u.length===0&&(o||u.push(new fa(r,this.verbose)),u.push(new Tr),u.push(new _r),u.push(new zc),u.push(new rn),o&&u.push(new fa(r,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new Wc("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(r,this.hints)}catch(l){if(l instanceof Wc)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class FA extends _e{constructor(r=null,o=500){const l=new Zg;l.setHints(r),super(l,o)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class VA extends _e{constructor(r=500){super(new rn,r)}}class zA extends _e{constructor(r=500){super(new Tr,r)}}var Rh;(function(T){T[T.ERROR_CORRECTION=0]="ERROR_CORRECTION",T[T.CHARACTER_SET=1]="CHARACTER_SET",T[T.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",T[T.MIN_SIZE=3]="MIN_SIZE",T[T.MAX_SIZE=4]="MAX_SIZE",T[T.MARGIN=5]="MARGIN",T[T.PDF417_COMPACT=6]="PDF417_COMPACT",T[T.PDF417_COMPACTION=7]="PDF417_COMPACTION",T[T.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",T[T.AZTEC_LAYERS=9]="AZTEC_LAYERS",T[T.QR_VERSION=10]="QR_VERSION"})(Rh||(Rh={}));var zt=Rh;class jh{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new Cn(r,Int32Array.from([1])))}buildGenerator(r){const o=this.cachedGenerators;if(r>=o.length){let l=o[o.length-1];const u=this.field;for(let d=o.length;d<=r;d++){const m=l.multiply(new Cn(u,Int32Array.from([1,u.exp(d-1+u.getGeneratorBase())])));o.push(m),l=m}}return o[r]}encode(r,o){if(o===0)throw new w("No error correction bytes");const l=r.length-o;if(l<=0)throw new w("No data bytes provided");const u=this.buildGenerator(o),d=new Int32Array(l);M.arraycopy(r,0,d,0,l);let m=new Cn(this.field,d);m=m.multiplyByMonomial(o,1);const b=m.divide(u)[1].getCoefficients(),v=o-b.length;for(let S=0;S<v;S++)r[l+S]=0;M.arraycopy(b,0,r,l+v,b.length)}}class Ct{constructor(){}static applyMaskPenaltyRule1(r){return Ct.applyMaskPenaltyRule1Internal(r,!0)+Ct.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let o=0;const l=r.getArray(),u=r.getWidth(),d=r.getHeight();for(let m=0;m<d-1;m++){const x=l[m];for(let b=0;b<u-1;b++){const v=x[b];v===x[b+1]&&v===l[m+1][b]&&v===l[m+1][b+1]&&o++}}return Ct.N2*o}static applyMaskPenaltyRule3(r){let o=0;const l=r.getArray(),u=r.getWidth(),d=r.getHeight();for(let m=0;m<d;m++)for(let x=0;x<u;x++){const b=l[m];x+6<u&&b[x]===1&&b[x+1]===0&&b[x+2]===1&&b[x+3]===1&&b[x+4]===1&&b[x+5]===0&&b[x+6]===1&&(Ct.isWhiteHorizontal(b,x-4,x)||Ct.isWhiteHorizontal(b,x+7,x+11))&&o++,m+6<d&&l[m][x]===1&&l[m+1][x]===0&&l[m+2][x]===1&&l[m+3][x]===1&&l[m+4][x]===1&&l[m+5][x]===0&&l[m+6][x]===1&&(Ct.isWhiteVertical(l,x,m-4,m)||Ct.isWhiteVertical(l,x,m+7,m+11))&&o++}return o*Ct.N3}static isWhiteHorizontal(r,o,l){o=Math.max(o,0),l=Math.min(l,r.length);for(let u=o;u<l;u++)if(r[u]===1)return!1;return!0}static isWhiteVertical(r,o,l,u){l=Math.max(l,0),u=Math.min(u,r.length);for(let d=l;d<u;d++)if(r[d][o]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let o=0;const l=r.getArray(),u=r.getWidth(),d=r.getHeight();for(let b=0;b<d;b++){const v=l[b];for(let S=0;S<u;S++)v[S]===1&&o++}const m=r.getHeight()*r.getWidth();return Math.floor(Math.abs(o*2-m)*10/m)*Ct.N4}static getDataMaskBit(r,o,l){let u,d;switch(r){case 0:u=l+o&1;break;case 1:u=l&1;break;case 2:u=o%3;break;case 3:u=(l+o)%3;break;case 4:u=Math.floor(l/2)+Math.floor(o/3)&1;break;case 5:d=l*o,u=(d&1)+d%3;break;case 6:d=l*o,u=(d&1)+d%3&1;break;case 7:d=l*o,u=d%3+(l+o&1)&1;break;default:throw new w("Invalid mask pattern: "+r)}return u===0}static applyMaskPenaltyRule1Internal(r,o){let l=0;const u=o?r.getHeight():r.getWidth(),d=o?r.getWidth():r.getHeight(),m=r.getArray();for(let x=0;x<u;x++){let b=0,v=-1;for(let S=0;S<d;S++){const I=o?m[x][S]:m[S][x];I===v?b++:(b>=5&&(l+=Ct.N1+(b-5)),b=1,v=I)}b>=5&&(l+=Ct.N1+(b-5))}return l}}Ct.N1=3,Ct.N2=3,Ct.N3=40,Ct.N4=10;class Zc{constructor(r,o){this.width=r,this.height=o;const l=new Array(o);for(let u=0;u!==o;u++)l[u]=new Uint8Array(r);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(r,o){return this.bytes[o][r]}getArray(){return this.bytes}setNumber(r,o,l){this.bytes[o][r]=l}setBoolean(r,o,l){this.bytes[o][r]=l?1:0}clear(r){for(const o of this.bytes)N.fill(o,r)}equals(r){if(!(r instanceof Zc))return!1;const o=r;if(this.width!==o.width||this.height!==o.height)return!1;for(let l=0,u=this.height;l<u;++l){const d=this.bytes[l],m=o.bytes[l];for(let x=0,b=this.width;x<b;++x)if(d[x]!==m[x])return!1}return!0}toString(){const r=new te;for(let o=0,l=this.height;o<l;++o){const u=this.bytes[o];for(let d=0,m=this.width;d<m;++d)switch(u[d]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class Ns{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new te;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<Ns.NUM_MASK_PATTERNS}}Ns.NUM_MASK_PATTERNS=8;class it extends p{}it.kind="WriterException";class Ee{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,o,l,u,d){Ee.clearMatrix(d),Ee.embedBasicPatterns(l,d),Ee.embedTypeInfo(o,u,d),Ee.maybeEmbedVersionInfo(l,d),Ee.embedDataBits(r,u,d)}static embedBasicPatterns(r,o){Ee.embedPositionDetectionPatternsAndSeparators(o),Ee.embedDarkDotAtLeftBottomCorner(o),Ee.maybeEmbedPositionAdjustmentPatterns(r,o),Ee.embedTimingPatterns(o)}static embedTypeInfo(r,o,l){const u=new k;Ee.makeTypeInfoBits(r,o,u);for(let d=0,m=u.getSize();d<m;++d){const x=u.get(u.getSize()-1-d),b=Ee.TYPE_INFO_COORDINATES[d],v=b[0],S=b[1];if(l.setBoolean(v,S,x),d<8){const I=l.getWidth()-d-1;l.setBoolean(I,8,x)}else{const j=l.getHeight()-7+(d-8);l.setBoolean(8,j,x)}}}static maybeEmbedVersionInfo(r,o){if(r.getVersionNumber()<7)return;const l=new k;Ee.makeVersionInfoBits(r,l);let u=6*3-1;for(let d=0;d<6;++d)for(let m=0;m<3;++m){const x=l.get(u);u--,o.setBoolean(d,o.getHeight()-11+m,x),o.setBoolean(o.getHeight()-11+m,d,x)}}static embedDataBits(r,o,l){let u=0,d=-1,m=l.getWidth()-1,x=l.getHeight()-1;for(;m>0;){for(m===6&&(m-=1);x>=0&&x<l.getHeight();){for(let b=0;b<2;++b){const v=m-b;if(!Ee.isEmpty(l.get(v,x)))continue;let S;u<r.getSize()?(S=r.get(u),++u):S=!1,o!==255&&Ct.getDataMaskBit(o,v,x)&&(S=!S),l.setBoolean(v,x,S)}x+=d}d=-d,x+=d,m-=2}if(u!==r.getSize())throw new it("Not all bits consumed: "+u+"/"+r.getSize())}static findMSBSet(r){return 32-_.numberOfLeadingZeros(r)}static calculateBCHCode(r,o){if(o===0)throw new w("0 polynomial");const l=Ee.findMSBSet(o);for(r<<=l-1;Ee.findMSBSet(r)>=l;)r^=o<<Ee.findMSBSet(r)-l;return r}static makeTypeInfoBits(r,o,l){if(!Ns.isValidMaskPattern(o))throw new it("Invalid mask pattern");const u=r.getBits()<<3|o;l.appendBits(u,5);const d=Ee.calculateBCHCode(u,Ee.TYPE_INFO_POLY);l.appendBits(d,10);const m=new k;if(m.appendBits(Ee.TYPE_INFO_MASK_PATTERN,15),l.xor(m),l.getSize()!==15)throw new it("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(r,o){o.appendBits(r.getVersionNumber(),6);const l=Ee.calculateBCHCode(r.getVersionNumber(),Ee.VERSION_INFO_POLY);if(o.appendBits(l,12),o.getSize()!==18)throw new it("should not happen but we got: "+o.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let o=8;o<r.getWidth()-8;++o){const l=(o+1)%2;Ee.isEmpty(r.get(o,6))&&r.setNumber(o,6,l),Ee.isEmpty(r.get(6,o))&&r.setNumber(6,o,l)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new it;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,o,l){for(let u=0;u<8;++u){if(!Ee.isEmpty(l.get(r+u,o)))throw new it;l.setNumber(r+u,o,0)}}static embedVerticalSeparationPattern(r,o,l){for(let u=0;u<7;++u){if(!Ee.isEmpty(l.get(r,o+u)))throw new it;l.setNumber(r,o+u,0)}}static embedPositionAdjustmentPattern(r,o,l){for(let u=0;u<5;++u){const d=Ee.POSITION_ADJUSTMENT_PATTERN[u];for(let m=0;m<5;++m)l.setNumber(r+m,o+u,d[m])}}static embedPositionDetectionPattern(r,o,l){for(let u=0;u<7;++u){const d=Ee.POSITION_DETECTION_PATTERN[u];for(let m=0;m<7;++m)l.setNumber(r+m,o+u,d[m])}}static embedPositionDetectionPatternsAndSeparators(r){const o=Ee.POSITION_DETECTION_PATTERN[0].length;Ee.embedPositionDetectionPattern(0,0,r),Ee.embedPositionDetectionPattern(r.getWidth()-o,0,r),Ee.embedPositionDetectionPattern(0,r.getWidth()-o,r);const l=8;Ee.embedHorizontalSeparationPattern(0,l-1,r),Ee.embedHorizontalSeparationPattern(r.getWidth()-l,l-1,r),Ee.embedHorizontalSeparationPattern(0,r.getWidth()-l,r);const u=7;Ee.embedVerticalSeparationPattern(u,0,r),Ee.embedVerticalSeparationPattern(r.getHeight()-u-1,0,r),Ee.embedVerticalSeparationPattern(u,r.getHeight()-u,r)}static maybeEmbedPositionAdjustmentPatterns(r,o){if(r.getVersionNumber()<2)return;const l=r.getVersionNumber()-1,u=Ee.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,m=u.length;d!==m;d++){const x=u[d];if(x>=0)for(let b=0;b!==m;b++){const v=u[b];v>=0&&Ee.isEmpty(o.get(v,x))&&Ee.embedPositionAdjustmentPattern(v-2,x-2,o)}}}}Ee.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ee.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ee.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ee.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ee.VERSION_INFO_POLY=7973,Ee.TYPE_INFO_POLY=1335,Ee.TYPE_INFO_MASK_PATTERN=21522;class HA{constructor(r,o){this.dataBytes=r,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class dt{constructor(){}static calculateMaskPenalty(r){return Ct.applyMaskPenaltyRule1(r)+Ct.applyMaskPenaltyRule2(r)+Ct.applyMaskPenaltyRule3(r)+Ct.applyMaskPenaltyRule4(r)}static encode(r,o,l=null){let u=dt.DEFAULT_BYTE_MODE_ENCODING;const d=l!==null&&l.get(zt.CHARACTER_SET)!==void 0;d&&(u=l.get(zt.CHARACTER_SET).toString());const m=this.chooseMode(r,u),x=new k;if(m===we.BYTE&&(d||dt.DEFAULT_BYTE_MODE_ENCODING!==u)){const de=P.getCharacterSetECIByName(u);de!==void 0&&this.appendECI(de,x)}this.appendModeInfo(m,x);const b=new k;this.appendBytes(r,m,b,u);let v;if(l!==null&&l.get(zt.QR_VERSION)!==void 0){const de=Number.parseInt(l.get(zt.QR_VERSION).toString(),10);v=be.getVersionForNumber(de);const oe=this.calculateBitsNeeded(m,x,b,v);if(!this.willFit(oe,v,o))throw new it("Data too big for requested version")}else v=this.recommendVersion(o,m,x,b);const S=new k;S.appendBitArray(x);const I=m===we.BYTE?b.getSizeInBytes():r.length;this.appendLengthInfo(I,v,m,S),S.appendBitArray(b);const j=v.getECBlocksForLevel(o),F=v.getTotalCodewords()-j.getTotalECCodewords();this.terminateBits(F,S);const G=this.interleaveWithECBytes(S,v.getTotalCodewords(),F,j.getNumBlocks()),q=new Ns;q.setECLevel(o),q.setMode(m),q.setVersion(v);const Z=v.getDimensionForVersion(),ee=new Zc(Z,Z),ce=this.chooseMaskPattern(G,o,v,ee);return q.setMaskPattern(ce),Ee.buildMatrix(G,o,v,ce,ee),q.setMatrix(ee),q}static recommendVersion(r,o,l,u){const d=this.calculateBitsNeeded(o,l,u,be.getVersionForNumber(1)),m=this.chooseVersion(d,r),x=this.calculateBitsNeeded(o,l,u,m);return this.chooseVersion(x,r)}static calculateBitsNeeded(r,o,l,u){return o.getSize()+r.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(r){return r<dt.ALPHANUMERIC_TABLE.length?dt.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,o=null){if(P.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(r))return we.KANJI;let l=!1,u=!1;for(let d=0,m=r.length;d<m;++d){const x=r.charAt(d);if(dt.isDigit(x))l=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)u=!0;else return we.BYTE}return u?we.ALPHANUMERIC:l?we.NUMERIC:we.BYTE}static isOnlyDoubleByteKanji(r){let o;try{o=H.encode(r,P.SJIS)}catch{return!1}const l=o.length;if(l%2!==0)return!1;for(let u=0;u<l;u+=2){const d=o[u]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(r,o,l,u){let d=Number.MAX_SAFE_INTEGER,m=-1;for(let x=0;x<Ns.NUM_MASK_PATTERNS;x++){Ee.buildMatrix(r,o,l,x,u);let b=this.calculateMaskPenalty(u);b<d&&(d=b,m=x)}return m}static chooseVersion(r,o){for(let l=1;l<=40;l++){const u=be.getVersionForNumber(l);if(dt.willFit(r,u,o))return u}throw new it("Data too big")}static willFit(r,o,l){const u=o.getTotalCodewords(),m=o.getECBlocksForLevel(l).getTotalECCodewords(),x=u-m,b=(r+7)/8;return x>=b}static terminateBits(r,o){const l=r*8;if(o.getSize()>l)throw new it("data bits cannot fit in the QR Code"+o.getSize()+" > "+l);for(let m=0;m<4&&o.getSize()<l;++m)o.appendBit(!1);const u=o.getSize()&7;if(u>0)for(let m=u;m<8;m++)o.appendBit(!1);const d=r-o.getSizeInBytes();for(let m=0;m<d;++m)o.appendBits(m&1?17:236,8);if(o.getSize()!==l)throw new it("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,o,l,u,d,m){if(u>=l)throw new it("Block ID too large");const x=r%l,b=l-x,v=Math.floor(r/l),S=v+1,I=Math.floor(o/l),j=I+1,F=v-I,G=S-j;if(F!==G)throw new it("EC bytes mismatch");if(l!==b+x)throw new it("RS blocks mismatch");if(r!==(I+F)*b+(j+G)*x)throw new it("Total bytes mismatch");u<b?(d[0]=I,m[0]=F):(d[0]=j,m[0]=G)}static interleaveWithECBytes(r,o,l,u){if(r.getSizeInBytes()!==l)throw new it("Number of bits and data bytes does not match");let d=0,m=0,x=0;const b=new Array;for(let S=0;S<u;++S){const I=new Int32Array(1),j=new Int32Array(1);dt.getNumDataBytesAndNumECBytesForBlockID(o,l,u,S,I,j);const F=I[0],G=new Uint8Array(F);r.toBytes(8*d,G,0,F);const q=dt.generateECBytes(G,j[0]);b.push(new HA(G,q)),m=Math.max(m,F),x=Math.max(x,q.length),d+=I[0]}if(l!==d)throw new it("Data bytes does not match offset");const v=new k;for(let S=0;S<m;++S)for(const I of b){const j=I.getDataBytes();S<j.length&&v.appendBits(j[S],8)}for(let S=0;S<x;++S)for(const I of b){const j=I.getErrorCorrectionBytes();S<j.length&&v.appendBits(j[S],8)}if(o!==v.getSizeInBytes())throw new it("Interleaving error: "+o+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(r,o){const l=r.length,u=new Int32Array(l+o);for(let m=0;m<l;m++)u[m]=r[m]&255;new jh(He.QR_CODE_FIELD_256).encode(u,o);const d=new Uint8Array(o);for(let m=0;m<o;m++)d[m]=u[l+m];return d}static appendModeInfo(r,o){o.appendBits(r.getBits(),4)}static appendLengthInfo(r,o,l,u){const d=l.getCharacterCountBits(o);if(r>=1<<d)throw new it(r+" is bigger than "+((1<<d)-1));u.appendBits(r,d)}static appendBytes(r,o,l,u){switch(o){case we.NUMERIC:dt.appendNumericBytes(r,l);break;case we.ALPHANUMERIC:dt.appendAlphanumericBytes(r,l);break;case we.BYTE:dt.append8BitBytes(r,l,u);break;case we.KANJI:dt.appendKanjiBytes(r,l);break;default:throw new it("Invalid mode: "+o)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const o=dt.getDigit(r);return o>=0&&o<=9}static appendNumericBytes(r,o){const l=r.length;let u=0;for(;u<l;){const d=dt.getDigit(r.charAt(u));if(u+2<l){const m=dt.getDigit(r.charAt(u+1)),x=dt.getDigit(r.charAt(u+2));o.appendBits(d*100+m*10+x,10),u+=3}else if(u+1<l){const m=dt.getDigit(r.charAt(u+1));o.appendBits(d*10+m,7),u+=2}else o.appendBits(d,4),u++}}static appendAlphanumericBytes(r,o){const l=r.length;let u=0;for(;u<l;){const d=dt.getAlphanumericCode(r.charCodeAt(u));if(d===-1)throw new it;if(u+1<l){const m=dt.getAlphanumericCode(r.charCodeAt(u+1));if(m===-1)throw new it;o.appendBits(d*45+m,11),u+=2}else o.appendBits(d,6),u++}}static append8BitBytes(r,o,l){let u;try{u=H.encode(r,l)}catch(d){throw new it(d)}for(let d=0,m=u.length;d!==m;d++){const x=u[d];o.appendBits(x,8)}}static appendKanjiBytes(r,o){let l;try{l=H.encode(r,P.SJIS)}catch(d){throw new it(d)}const u=l.length;for(let d=0;d<u;d+=2){const m=l[d]&255,x=l[d+1]&255,b=m<<8&4294967295|x;let v=-1;if(b>=33088&&b<=40956?v=b-33088:b>=57408&&b<=60351&&(v=b-49472),v===-1)throw new it("Invalid byte sequence");const S=(v>>8)*192+(v&255);o.appendBits(S,13)}}static appendECI(r,o){o.appendBits(we.ECI.getBits(),4),o.appendBits(r.getValue(),8)}}dt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),dt.DEFAULT_BYTE_MODE_ENCODING=P.UTF8.getName();class _s{write(r,o,l,u=null){if(r.length===0)throw new w("Found empty contents");if(o<0||l<0)throw new w("Requested dimensions are too small: "+o+"x"+l);let d=ot.L,m=_s.QUIET_ZONE_SIZE;u!==null&&(u.get(zt.ERROR_CORRECTION)!==void 0&&(d=ot.fromString(u.get(zt.ERROR_CORRECTION).toString())),u.get(zt.MARGIN)!==void 0&&(m=Number.parseInt(u.get(zt.MARGIN).toString(),10)));const x=dt.encode(r,d,u);return this.renderResult(x,o,l,m)}writeToDom(r,o,l,u,d=null){typeof r=="string"&&(r=document.querySelector(r));const m=this.write(o,l,u,d);r&&r.appendChild(m)}renderResult(r,o,l,u){const d=r.getMatrix();if(d===null)throw new Mi;const m=d.getWidth(),x=d.getHeight(),b=m+u*2,v=x+u*2,S=Math.max(o,b),I=Math.max(l,v),j=Math.min(Math.floor(S/b),Math.floor(I/v)),F=Math.floor((S-m*j)/2),G=Math.floor((I-x*j)/2),q=this.createSVGElement(S,I);for(let Z=0,ee=G;Z<x;Z++,ee+=j)for(let ce=0,de=F;ce<m;ce++,de+=j)if(d.get(ce,Z)===1){const oe=this.createSvgRectElement(de,ee,j,j);q.appendChild(oe)}return q}createSVGElement(r,o){const l=document.createElementNS(_s.SVG_NS,"svg");return l.setAttributeNS(null,"height",r.toString()),l.setAttributeNS(null,"width",o.toString()),l}createSvgRectElement(r,o,l,u){const d=document.createElementNS(_s.SVG_NS,"rect");return d.setAttributeNS(null,"x",r.toString()),d.setAttributeNS(null,"y",o.toString()),d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",u.toString()),d.setAttributeNS(null,"fill","#000000"),d}}_s.QUIET_ZONE_SIZE=4,_s.SVG_NS="http://www.w3.org/2000/svg";class ga{encode(r,o,l,u,d){if(r.length===0)throw new w("Found empty contents");if(o!==ye.QR_CODE)throw new w("Can only encode QR_CODE, but got "+o);if(l<0||u<0)throw new w(`Requested dimensions are too small: ${l}x${u}`);let m=ot.L,x=ga.QUIET_ZONE_SIZE;d!==null&&(d.get(zt.ERROR_CORRECTION)!==void 0&&(m=ot.fromString(d.get(zt.ERROR_CORRECTION).toString())),d.get(zt.MARGIN)!==void 0&&(x=Number.parseInt(d.get(zt.MARGIN).toString(),10)));const b=dt.encode(r,m,d);return ga.renderResult(b,l,u,x)}static renderResult(r,o,l,u){const d=r.getMatrix();if(d===null)throw new Mi;const m=d.getWidth(),x=d.getHeight(),b=m+u*2,v=x+u*2,S=Math.max(o,b),I=Math.max(l,v),j=Math.min(Math.floor(S/b),Math.floor(I/v)),F=Math.floor((S-m*j)/2),G=Math.floor((I-x*j)/2),q=new fe(S,I);for(let Z=0,ee=G;Z<x;Z++,ee+=j)for(let ce=0,de=F;ce<m;ce++,de+=j)d.get(ce,Z)===1&&q.setRegion(de,ee,j,j);return q}}ga.QUIET_ZONE_SIZE=4;class GA{encode(r,o,l,u,d){let m;switch(o){case ye.QR_CODE:m=new ga;break;default:throw new w("No encoder available for format "+o)}return m.encode(r,o,l,u,d)}}class Oi extends W{constructor(r,o,l,u,d,m,x,b){if(super(m,x),this.yuvData=r,this.dataWidth=o,this.dataHeight=l,this.left=u,this.top=d,u+m>o||d+x>l)throw new w("Crop rectangle does not fit within image data.");b&&this.reverseHorizontal(m,x)}getRow(r,o){if(r<0||r>=this.getHeight())throw new w("Requested row is outside the image: "+r);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const u=(r+this.top)*this.dataWidth+this.left;return M.arraycopy(this.yuvData,u,o,0,l),o}getMatrix(){const r=this.getWidth(),o=this.getHeight();if(r===this.dataWidth&&o===this.dataHeight)return this.yuvData;const l=r*o,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return M.arraycopy(this.yuvData,d,u,0,l),u;for(let m=0;m<o;m++){const x=m*r;M.arraycopy(this.yuvData,d,u,x,r),d+=this.dataWidth}return u}isCropSupported(){return!0}crop(r,o,l,u){return new Oi(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+o,l,u,!1)}renderThumbnail(){const r=this.getWidth()/Oi.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/Oi.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(r*o),u=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let m=0;m<o;m++){const x=m*r;for(let b=0;b<r;b++){const v=u[d+b*Oi.THUMBNAIL_SCALE_FACTOR]&255;l[x+b]=4278190080|v*65793}d+=this.dataWidth*Oi.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/Oi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Oi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,o){const l=this.yuvData;for(let u=0,d=this.top*this.dataWidth+this.left;u<o;u++,d+=this.dataWidth){const m=d+r/2;for(let x=d,b=d+r-1;x<m;x++,b--){const v=l[x];l[x]=l[b],l[b]=v}}}invert(){return new ae(this)}}Oi.THUMBNAIL_SCALE_FACTOR=2;class Oh extends W{constructor(r,o,l,u,d,m,x){if(super(o,l),this.dataWidth=u,this.dataHeight=d,this.left=m,this.top=x,r.BYTES_PER_ELEMENT===4){const b=o*l,v=new Uint8ClampedArray(b);for(let S=0;S<b;S++){const I=r[S],j=I>>16&255,F=I>>7&510,G=I&255;v[S]=(j+F+G)/4&255}this.luminances=v}else this.luminances=r;if(u===void 0&&(this.dataWidth=o),d===void 0&&(this.dataHeight=l),m===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+l>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(r,o){if(r<0||r>=this.getHeight())throw new w("Requested row is outside the image: "+r);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const u=(r+this.top)*this.dataWidth+this.left;return M.arraycopy(this.luminances,u,o,0,l),o}getMatrix(){const r=this.getWidth(),o=this.getHeight();if(r===this.dataWidth&&o===this.dataHeight)return this.luminances;const l=r*o,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return M.arraycopy(this.luminances,d,u,0,l),u;for(let m=0;m<o;m++){const x=m*r;M.arraycopy(this.luminances,d,u,x,r),d+=this.dataWidth}return u}isCropSupported(){return!0}crop(r,o,l,u){return new Oh(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+r,this.top+o)}invert(){return new ae(this)}}class Kg extends P{static forName(r){return this.getCharacterSetECIByName(r)}}class kh{}kh.ISO_8859_1=P.ISO8859_1;class Qg{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class $g{static singletonList(r){return[r]}static min(r,o){return r.sort(o)[0]}}class YA{constructor(r){this.previous=r}getPrevious(){return this.previous}}class pa extends YA{constructor(r,o,l){super(r),this.value=o,this.bitCount=l}appendTo(r,o){r.appendBits(this.value,this.bitCount)}add(r,o){return new pa(this,r,o)}addBinaryShift(r,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new pa(this,r,o)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+_.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class Lh extends pa{constructor(r,o,l){super(r,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=l}appendTo(r,o){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):l===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(o[this.binaryShiftStart+l],8)}addBinaryShift(r,o){return new Lh(this,r,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function qA(T,r,o){return new Lh(T,r,o)}function Qo(T,r,o){return new pa(T,r,o)}const XA=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Mr=0,Kc=1,ni=2,Jg=3,ki=4,WA=new pa(null,0,0),Bh=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function ZA(T){for(let r of T)N.fill(r,-1);return T[Mr][ki]=0,T[Kc][ki]=0,T[Kc][Mr]=28,T[Jg][ki]=0,T[ni][ki]=0,T[ni][Mr]=15,T}const ep=ZA(N.createInt32Array(6,6));class Li{constructor(r,o,l,u){this.token=r,this.mode=o,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,o){let l=this.bitCount,u=this.token;if(r!==this.mode){let m=Bh[this.mode][r];u=Qo(u,m&65535,m>>16),l+=m>>16}let d=r===ni?4:5;return u=Qo(u,o,d),new Li(u,r,0,l+d)}shiftAndAppend(r,o){let l=this.token,u=this.mode===ni?4:5;return l=Qo(l,ep[this.mode][r],u),l=Qo(l,o,5),new Li(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(r){let o=this.token,l=this.mode,u=this.bitCount;if(this.mode===ki||this.mode===ni){let x=Bh[l][Mr];o=Qo(o,x&65535,x>>16),u+=x>>16,l=Mr}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,m=new Li(o,l,this.binaryShiftByteCount+1,u+d);return m.binaryShiftByteCount===2078&&(m=m.endBinaryShift(r+1)),m}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=qA(o,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new Li(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let o=this.bitCount+(Bh[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?o+=Li.calculateBinaryShiftCost(r)-Li.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(o+=10),o<=r.bitCount}toBitArray(r){let o=[];for(let u=this.endBinaryShift(r.length).token;u!==null;u=u.getPrevious())o.unshift(u);let l=new k;for(const u of o)u.appendTo(l,r);return l}toString(){return Q.format("%s bits=%d bytes=%d",XA[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}Li.INITIAL_STATE=new Li(WA,Mr,0,0);function KA(T){const r=Q.getCharCode(" "),o=Q.getCharCode("."),l=Q.getCharCode(",");T[Mr][r]=1;const u=Q.getCharCode("Z"),d=Q.getCharCode("A");for(let j=d;j<=u;j++)T[Mr][j]=j-d+2;T[Kc][r]=1;const m=Q.getCharCode("z"),x=Q.getCharCode("a");for(let j=x;j<=m;j++)T[Kc][j]=j-x+2;T[ni][r]=1;const b=Q.getCharCode("9"),v=Q.getCharCode("0");for(let j=v;j<=b;j++)T[ni][j]=j-v+2;T[ni][l]=12,T[ni][o]=13;const S=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let j=0;j<S.length;j++)T[Jg][Q.getCharCode(S[j])]=j;const I=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let j=0;j<I.length;j++)Q.getCharCode(I[j])>0&&(T[ki][Q.getCharCode(I[j])]=j);return T}const Ph=KA(N.createInt32Array(5,256));class $o{constructor(r){this.text=r}encode(){const r=Q.getCharCode(" "),o=Q.getCharCode(`
`);let l=$g.singletonList(Li.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let m,x=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case Q.getCharCode("\r"):m=x===o?2:0;break;case Q.getCharCode("."):m=x===r?3:0;break;case Q.getCharCode(","):m=x===r?4:0;break;case Q.getCharCode(":"):m=x===r?5:0;break;default:m=0}m>0?(l=$o.updateStateListForPair(l,d,m),d++):l=this.updateStateListForChar(l,d)}return $g.min(l,(d,m)=>d.getBitCount()-m.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,o){const l=[];for(let u of r)this.updateStateForChar(u,o,l);return $o.simplifyStates(l)}updateStateForChar(r,o,l){let u=this.text[o]&255,d=Ph[r.getMode()][u]>0,m=null;for(let x=0;x<=ki;x++){let b=Ph[x][u];if(b>0){if(m==null&&(m=r.endBinaryShift(o)),!d||x===r.getMode()||x===ni){const v=m.latchAndAppend(x,b);l.push(v)}if(!d&&ep[r.getMode()][x]>=0){const v=m.shiftAndAppend(x,b);l.push(v)}}}if(r.getBinaryShiftByteCount()>0||Ph[r.getMode()][u]===0){let x=r.addBinaryShiftChar(o);l.push(x)}}static updateStateListForPair(r,o,l){const u=[];for(let d of r)this.updateStateForPair(d,o,l,u);return this.simplifyStates(u)}static updateStateForPair(r,o,l,u){let d=r.endBinaryShift(o);if(u.push(d.latchAndAppend(ki,l)),r.getMode()!==ki&&u.push(d.shiftAndAppend(ki,l)),l===3||l===4){let m=d.latchAndAppend(ni,16-l).latchAndAppend(ni,1);u.push(m)}if(r.getBinaryShiftByteCount()>0){let m=r.addBinaryShiftChar(o).addBinaryShiftChar(o+1);u.push(m)}}static simplifyStates(r){let o=[];for(const l of r){let u=!0;for(const d of o){if(d.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(d)&&(o=o.filter(m=>m!==d))}u&&o.push(l)}return o}}class ze{constructor(){}static encodeBytes(r){return ze.encode(r,ze.DEFAULT_EC_PERCENT,ze.DEFAULT_AZTEC_LAYERS)}static encode(r,o,l){let u=new $o(r).encode(),d=_.truncDivision(u.getSize()*o,100)+11,m=u.getSize()+d,x,b,v,S,I;if(l!==ze.DEFAULT_AZTEC_LAYERS){if(x=l<0,b=Math.abs(l),b>(x?ze.MAX_NB_BITS_COMPACT:ze.MAX_NB_BITS))throw new w(Q.format("Illegal value %s for layers",l));v=ze.totalBitsInLayer(b,x),S=ze.WORD_SIZE[b];let oe=v-v%S;if(I=ze.stuffBits(u,S),I.getSize()+d>oe)throw new w("Data to large for user specified layer");if(x&&I.getSize()>S*64)throw new w("Data to large for user specified layer")}else{S=0,I=null;for(let oe=0;;oe++){if(oe>ze.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(x=oe<=3,b=x?oe+1:oe,v=ze.totalBitsInLayer(b,x),m>v)continue;(I==null||S!==ze.WORD_SIZE[b])&&(S=ze.WORD_SIZE[b],I=ze.stuffBits(u,S));let Pe=v-v%S;if(!(x&&I.getSize()>S*64)&&I.getSize()+d<=Pe)break}}let j=ze.generateCheckWords(I,v,S),F=I.getSize()/S,G=ze.generateModeMessage(x,b,F),q=(x?11:14)+b*4,Z=new Int32Array(q),ee;if(x){ee=q;for(let oe=0;oe<Z.length;oe++)Z[oe]=oe}else{ee=q+1+2*_.truncDivision(_.truncDivision(q,2)-1,15);let oe=_.truncDivision(q,2),Pe=_.truncDivision(ee,2);for(let Ie=0;Ie<oe;Ie++){let In=Ie+_.truncDivision(Ie,15);Z[oe-Ie-1]=Pe-In-1,Z[oe+Ie]=Pe+In+1}}let ce=new fe(ee);for(let oe=0,Pe=0;oe<b;oe++){let Ie=(b-oe)*4+(x?9:12);for(let In=0;In<Ie;In++){let yi=In*2;for(let Mn=0;Mn<2;Mn++)j.get(Pe+yi+Mn)&&ce.set(Z[oe*2+Mn],Z[oe*2+In]),j.get(Pe+Ie*2+yi+Mn)&&ce.set(Z[oe*2+In],Z[q-1-oe*2-Mn]),j.get(Pe+Ie*4+yi+Mn)&&ce.set(Z[q-1-oe*2-Mn],Z[q-1-oe*2-In]),j.get(Pe+Ie*6+yi+Mn)&&ce.set(Z[q-1-oe*2-In],Z[oe*2+Mn])}Pe+=Ie*8}if(ze.drawModeMessage(ce,x,ee,G),x)ze.drawBullsEye(ce,_.truncDivision(ee,2),5);else{ze.drawBullsEye(ce,_.truncDivision(ee,2),7);for(let oe=0,Pe=0;oe<_.truncDivision(q,2)-1;oe+=15,Pe+=16)for(let Ie=_.truncDivision(ee,2)&1;Ie<ee;Ie+=2)ce.set(_.truncDivision(ee,2)-Pe,Ie),ce.set(_.truncDivision(ee,2)+Pe,Ie),ce.set(Ie,_.truncDivision(ee,2)-Pe),ce.set(Ie,_.truncDivision(ee,2)+Pe)}let de=new Qg;return de.setCompact(x),de.setSize(ee),de.setLayers(b),de.setCodeWords(F),de.setMatrix(ce),de}static drawBullsEye(r,o,l){for(let u=0;u<l;u+=2)for(let d=o-u;d<=o+u;d++)r.set(d,o-u),r.set(d,o+u),r.set(o-u,d),r.set(o+u,d);r.set(o-l,o-l),r.set(o-l+1,o-l),r.set(o-l,o-l+1),r.set(o+l,o-l),r.set(o+l,o-l+1),r.set(o+l,o+l-1)}static generateModeMessage(r,o,l){let u=new k;return r?(u.appendBits(o-1,2),u.appendBits(l-1,6),u=ze.generateCheckWords(u,28,4)):(u.appendBits(o-1,5),u.appendBits(l-1,11),u=ze.generateCheckWords(u,40,4)),u}static drawModeMessage(r,o,l,u){let d=_.truncDivision(l,2);if(o)for(let m=0;m<7;m++){let x=d-3+m;u.get(m)&&r.set(x,d-5),u.get(m+7)&&r.set(d+5,x),u.get(20-m)&&r.set(x,d+5),u.get(27-m)&&r.set(d-5,x)}else for(let m=0;m<10;m++){let x=d-5+m+_.truncDivision(m,5);u.get(m)&&r.set(x,d-7),u.get(m+10)&&r.set(d+7,x),u.get(29-m)&&r.set(x,d+7),u.get(39-m)&&r.set(d-7,x)}}static generateCheckWords(r,o,l){let u=r.getSize()/l,d=new jh(ze.getGF(l)),m=_.truncDivision(o,l),x=ze.bitsToWords(r,l,m);d.encode(x,m-u);let b=o%l,v=new k;v.appendBits(0,b);for(const S of Array.from(x))v.appendBits(S,l);return v}static bitsToWords(r,o,l){let u=new Int32Array(l),d,m;for(d=0,m=r.getSize()/o;d<m;d++){let x=0;for(let b=0;b<o;b++)x|=r.get(d*o+b)?1<<o-b-1:0;u[d]=x}return u}static getGF(r){switch(r){case 4:return He.AZTEC_PARAM;case 6:return He.AZTEC_DATA_6;case 8:return He.AZTEC_DATA_8;case 10:return He.AZTEC_DATA_10;case 12:return He.AZTEC_DATA_12;default:throw new w("Unsupported word size "+r)}}static stuffBits(r,o){let l=new k,u=r.getSize(),d=(1<<o)-2;for(let m=0;m<u;m+=o){let x=0;for(let b=0;b<o;b++)(m+b>=u||r.get(m+b))&&(x|=1<<o-1-b);(x&d)===d?(l.appendBits(x&d,o),m--):x&d?l.appendBits(x,o):(l.appendBits(x|1,o),m--)}return l}static totalBitsInLayer(r,o){return((o?88:112)+16*r)*r}}ze.DEFAULT_EC_PERCENT=33,ze.DEFAULT_AZTEC_LAYERS=0,ze.MAX_NB_BITS=32,ze.MAX_NB_BITS_COMPACT=4,ze.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Qc{encode(r,o,l,u){return this.encodeWithHints(r,o,l,u,null)}encodeWithHints(r,o,l,u,d){let m=kh.ISO_8859_1,x=ze.DEFAULT_EC_PERCENT,b=ze.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(zt.CHARACTER_SET)&&(m=Kg.forName(d.get(zt.CHARACTER_SET).toString())),d.has(zt.ERROR_CORRECTION)&&(x=_.parseInt(d.get(zt.ERROR_CORRECTION).toString())),d.has(zt.AZTEC_LAYERS)&&(b=_.parseInt(d.get(zt.AZTEC_LAYERS).toString()))),Qc.encodeLayers(r,o,l,u,m,x,b)}static encodeLayers(r,o,l,u,d,m,x){if(o!==ye.AZTEC)throw new w("Can only encode AZTEC, but got "+o);let b=ze.encode(Q.getBytes(r,d),m,x);return Qc.renderResult(b,l,u)}static renderResult(r,o,l){let u=r.getMatrix();if(u==null)throw new Mi;let d=u.getWidth(),m=u.getHeight(),x=Math.max(o,d),b=Math.max(l,m),v=Math.min(x/d,b/m),S=(x-d*v)/2,I=(b-m*v)/2,j=new fe(x,b);for(let F=0,G=I;F<m;F++,G+=v)for(let q=0,Z=S;q<d;q++,Z+=v)u.get(q,F)&&j.setRegion(Z,G,v,v);return j}}n.AbstractExpandedDecoder=Ah,n.ArgumentException=y,n.ArithmeticException=Uc,n.AztecCode=Qg,n.AztecCodeReader=zc,n.AztecCodeWriter=Qc,n.AztecDecoder=at,n.AztecDetector=Bg,n.AztecDetectorResult=kg,n.AztecEncoder=ze,n.AztecHighLevelEncoder=$o,n.AztecPoint=xn,n.BarcodeFormat=ye,n.Binarizer=R,n.BinaryBitmap=E,n.BitArray=k,n.BitMatrix=fe,n.BitSource=_h,n.BrowserAztecCodeReader=EA,n.BrowserBarcodeReader=_A,n.BrowserCodeReader=_e,n.BrowserDatamatrixCodeReader=IA,n.BrowserMultiFormatReader=FA,n.BrowserPDF417Reader=VA,n.BrowserQRCodeReader=zA,n.BrowserQRCodeSvgWriter=_s,n.CharacterSetECI=P,n.ChecksumException=A,n.Code128Reader=he,n.Code39Reader=Ft,n.DataMatrixDecodedBitStreamParser=Nr,n.DataMatrixReader=_r,n.DecodeHintType=L,n.DecoderResult=vs,n.DefaultGridSampler=Lg,n.DetectorResult=Vc,n.EAN13Reader=Es,n.EncodeHintType=zt,n.Exception=p,n.FormatException=B,n.GenericGF=He,n.GenericGFPoly=Cn,n.GlobalHistogramBinarizer=ne,n.GridSampler=bh,n.GridSamplerInstance=Sr,n.HTMLCanvasElementLuminanceSource=J,n.HybridBinarizer=re,n.ITFReader=nt,n.IllegalArgumentException=w,n.IllegalStateException=Mi,n.InvertedLuminanceSource=ae,n.LuminanceSource=W,n.MathUtils=Ve,n.MultiFormatOneDReader=fa,n.MultiFormatReader=Zg,n.MultiFormatWriter=GA,n.NotFoundException=X,n.OneDReader=kt,n.PDF417DecodedBitStreamParser=$,n.PDF417DecoderErrorCorrection=Hg,n.PDF417Reader=rn,n.PDF417ResultMetadata=Yg,n.PerspectiveTransform=pi,n.PlanarYUVLuminanceSource=Oi,n.QRCodeByteMatrix=Zc,n.QRCodeDataMask=ei,n.QRCodeDecodedBitStreamParser=wt,n.QRCodeDecoderErrorCorrectionLevel=ot,n.QRCodeDecoderFormatInformation=hn,n.QRCodeEncoder=dt,n.QRCodeEncoderQRCode=Ns,n.QRCodeMaskUtil=Ct,n.QRCodeMatrixUtil=Ee,n.QRCodeMode=we,n.QRCodeReader=Tr,n.QRCodeVersion=be,n.QRCodeWriter=ga,n.RGBLuminanceSource=Oh,n.RSS14Reader=St,n.RSSExpandedReader=se,n.ReaderException=Wc,n.ReedSolomonDecoder=Ho,n.ReedSolomonEncoder=jh,n.ReedSolomonException=ca,n.Result=Ae,n.ResultMetadataType=ut,n.ResultPoint=xe,n.StringUtils=Q,n.UnsupportedOperationException=Y,n.VideoInputDevice=me,n.WhiteRectangleDetector=Qi,n.WriterException=it,n.ZXingArrays=N,n.ZXingCharset=Kg,n.ZXingInteger=_,n.ZXingStandardCharsets=kh,n.ZXingStringBuilder=te,n.ZXingStringEncoding=H,n.ZXingSystem=M,n.createAbstractExpandedDecoder=Vg,Object.defineProperty(n,"__esModule",{value:!0})})})(m1,m1.exports);var ht=m1.exports;const MI=k1(ht),DI=JA({__proto__:null,default:MI},[ht]);var ly=function(){function e(t,n,i){if(this.formatMap=new Map([[pe.QR_CODE,ht.BarcodeFormat.QR_CODE],[pe.AZTEC,ht.BarcodeFormat.AZTEC],[pe.CODABAR,ht.BarcodeFormat.CODABAR],[pe.CODE_39,ht.BarcodeFormat.CODE_39],[pe.CODE_93,ht.BarcodeFormat.CODE_93],[pe.CODE_128,ht.BarcodeFormat.CODE_128],[pe.DATA_MATRIX,ht.BarcodeFormat.DATA_MATRIX],[pe.MAXICODE,ht.BarcodeFormat.MAXICODE],[pe.ITF,ht.BarcodeFormat.ITF],[pe.EAN_13,ht.BarcodeFormat.EAN_13],[pe.EAN_8,ht.BarcodeFormat.EAN_8],[pe.PDF_417,ht.BarcodeFormat.PDF_417],[pe.RSS_14,ht.BarcodeFormat.RSS_14],[pe.RSS_EXPANDED,ht.BarcodeFormat.RSS_EXPANDED],[pe.UPC_A,ht.BarcodeFormat.UPC_A],[pe.UPC_E,ht.BarcodeFormat.UPC_E],[pe.UPC_EAN_EXTENSION,ht.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!DI)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=i;var s=this.createZXingFormats(t),a=new Map;a.set(ht.DecodeHintType.POSSIBLE_FORMATS,s),a.set(ht.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(i,s){try{i(n.decode(t))}catch(a){s(a)}})},e.prototype.decode=function(t){var n=new ht.MultiFormatReader(this.verbose,this.hints),i=new ht.HTMLCanvasElementLuminanceSource(t),s=new ht.BinaryBitmap(new ht.HybridBinarizer(i)),a=n.decode(s);return{text:a.text,format:P3.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,s){t.set(n,i)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],i=0,s=t;i<s.length;i++){var a=s[i];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),RI=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function f(y){try{p(i.next(y))}catch(w){c(w)}}function g(y){try{p(i.throw(y))}catch(w){c(w)}}function p(y){y.done?a(y.value):s(y.value).then(f,g)}p((i=i.apply(e,t||[])).next())})},jI=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(y){return g([p,y])}}function g(p){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(i=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],s=0}finally{i=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},cy=function(){function e(t,n,i){if(this.formatMap=new Map([[pe.QR_CODE,"qr_code"],[pe.AZTEC,"aztec"],[pe.CODABAR,"codabar"],[pe.CODE_39,"code_39"],[pe.CODE_93,"code_93"],[pe.CODE_128,"code_128"],[pe.DATA_MATRIX,"data_matrix"],[pe.ITF,"itf"],[pe.EAN_13,"ean_13"],[pe.EAN_8,"ean_8"],[pe.PDF_417,"pdf417"],[pe.UPC_A,"upc_a"],[pe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=i;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return RI(this,void 0,void 0,function(){var n,i;return jI(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(n),[2,{text:i.rawValue,format:P3.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,i=0,s=0,a=t;s<a.length;s++){var c=a[s],f=c.boundingBox.width*c.boundingBox.height;f>i&&(i=f,n=c)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],i=0,s=t;i<s.length;i++){var a=s[i];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,s){t.set(n,i)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),uy=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function f(y){try{p(i.next(y))}catch(w){c(w)}}function g(y){try{p(i.throw(y))}catch(w){c(w)}}function p(y){y.done?a(y.value):s(y.value).then(f,g)}p((i=i.apply(e,t||[])).next())})},dy=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(y){return g([p,y])}}function g(p){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(i=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],s=0}finally{i=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},OI=function(){function e(t,n,i,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,n&&cy.isSupported()?(this.primaryDecoder=new cy(t,i,s),this.secondaryDecoder=new ly(t,i,s)):this.primaryDecoder=new ly(t,i,s)}return e.prototype.decodeAsync=function(t){return uy(this,void 0,void 0,function(){var n;return dy(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return uy(this,void 0,void 0,function(){var n,i;return dy(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(i=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw i;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,i=this.executionResults;n<i.length;n++){var s=i[n];t+=s}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),$m=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Td=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function f(y){try{p(i.next(y))}catch(w){c(w)}}function g(y){try{p(i.throw(y))}catch(w){c(w)}}function p(y){y.done?a(y.value):s(y.value).then(f,g)}p((i=i.apply(e,t||[])).next())})},Id=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(y){return g([p,y])}}function g(p){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(i=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],s=0}finally{i=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},z3=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),kI=function(e){$m(t,e);function t(n,i){return e.call(this,n,i)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var i={};i[this.name]=n;var s={advanced:[i]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),i=n[this.name];return{min:i.min,max:i.max,step:i.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(z3),LI=function(e){$m(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(kI),BI=function(e){$m(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(z3),PI=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new LI(this.track)},e.prototype.torchFeature=function(){return new BI(this.track)},e}(),UI=function(){function e(t,n,i){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var i=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(i,s),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,i,s){return Td(this,void 0,void 0,function(){var a,c;return Id(this,function(f){switch(f.label){case 0:return a=new e(t,n,s),i.aspectRatio?(c={aspectRatio:i.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:f.sent(),f.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,i=function(){setTimeout(t,200),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Td(this,void 0,void 0,function(){return Id(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,i){var s=t.mediaStream.getVideoTracks(),a=s.length,c=0;t.mediaStream.getVideoTracks().forEach(function(f){t.mediaStream.removeTrack(f),f.stop(),++c,c>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new PI(this.getFirstTrackOrFail())},e}(),FI=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,i){return Td(this,void 0,void 0,function(){return Id(this,function(s){return[2,UI.create(t,this.mediaStream,n,i)]})})},e.create=function(t){return Td(this,void 0,void 0,function(){var n,i;return Id(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return i=s.sent(),[2,new e(i)]}})})},e}(),hy=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function f(y){try{p(i.next(y))}catch(w){c(w)}}function g(y){try{p(i.throw(y))}catch(w){c(w)}}function p(y){y.done?a(y.value):s(y.value).then(f,g)}p((i=i.apply(e,t||[])).next())})},fy=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(y){return g([p,y])}}function g(p){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(i=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],s=0}finally{i=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},VI=function(){function e(){}return e.failIfNotSupported=function(){return hy(this,void 0,void 0,function(){return fy(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return hy(this,void 0,void 0,function(){return fy(this,function(n){return[2,FI.create(t)]})})},e}(),zI=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function f(y){try{p(i.next(y))}catch(w){c(w)}}function g(y){try{p(i.throw(y))}catch(w){c(w)}}function p(y){y.done?a(y.value):s(y.value).then(f,g)}p((i=i.apply(e,t||[])).next())})},HI=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(y){return g([p,y])}}function g(p){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(i=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],s=0}finally{i=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},GI=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=qa.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=qa.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return zI(this,void 0,void 0,function(){var t,n,i,s,a,c,f;return HI(this,function(g){switch(g.label){case 0:return t=function(p){for(var y=p.getVideoTracks(),w=0,E=y;w<E.length;w++){var A=E[w];A.enabled=!1,A.stop(),p.removeTrack(A)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=g.sent(),s=[],a=0,c=i;a<c.length;a++)f=c[a],f.kind==="videoinput"&&s.push({id:f.deviceId,label:f.label});return t(n),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var i=function(a){for(var c=[],f=0,g=a;f<g.length;f++){var p=g[f];p.kind==="video"&&c.push({id:p.id,label:p.label})}t(c)},s=MediaStreamTrack;s.getSources(i)})},e}(),Nt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Nt||(Nt={}));var YI=function(){function e(){this.state=Nt.NOT_STARTED,this.onGoingTransactionNewState=Nt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Nt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Nt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Nt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Nt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Nt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Nt.UNKNOWN:throw"Transition from unknown is not allowed";case Nt.NOT_STARTED:this.failIfNewStateIs(t,[Nt.PAUSED]);break;case Nt.SCANNING:break;case Nt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var i=0,s=n;i<s.length;i++){var a=s[i];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),qI=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Nt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Nt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Nt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Nt.PAUSED},e}(),XI=function(){function e(){}return e.create=function(){return new qI(new YI)},e}(),WI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),zn=function(e){WI(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Ai),ZI=function(){function e(t,n){this.logger=n,this.fps=zn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=zn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?V3.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Pi(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),my=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var i;typeof n=="boolean"?this.verbose=n===!0:n&&(i=n,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new F3(this.verbose),this.qrcode=new OI(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=XI.create()}return e.prototype.start=function(t,n,i,s){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;s?c=s:c=this.verbose?this.logger.log:function(){};var f=ZI.create(n,this.logger);this.clearElement();var g=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=g,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:zn.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var w=this,E=this.stateManagerProxy.startTransition(Nt.SCANNING);return new Promise(function(A,R){var M=p?f.videoConstraints:w.createVideoConstraints(t);if(!M){E.cancel(),R("videoConstraints should be defined");return}var D={};(!p||f.aspectRatio)&&(D.aspectRatio=f.aspectRatio);var C={onRenderSurfaceReady:function(N,_){w.setupUi(N,_,f),w.isScanning=!0,w.foreverScan(f,i,c)}};VI.failIfNotSupported().then(function(N){N.create(M).then(function(_){return _.render(a.element,D,C).then(function(k){w.renderedCamera=k,E.execute(),A(null)}).catch(function(k){E.cancel(),R(k)})}).catch(function(_){E.cancel(),R(qa.errorGettingUserMedia(_))})}).catch(function(N){E.cancel(),R(qa.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Nt.PAUSED),this.showPausedState(),(Pi(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Nt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Nt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(t.element){var a=document.getElementById(zn.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),i(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(i){return i.decodedText})},e.prototype.scanFileV2=function(t,n){var i=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Pi(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,a){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var f=c.width,g=c.height,p=document.getElementById(i.elementId),y=p.clientWidth?p.clientWidth:zn.DEFAULT_WIDTH,w=Math.max(p.clientHeight?p.clientHeight:g,zn.FILE_SCAN_MIN_HEIGHT),E=i.computeCanvasDrawConfig(f,g,y,w);if(n){var A=i.createCanvasElement(y,w,"qr-canvas-visible");A.style.display="inline-block",p.appendChild(A);var R=A.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=y,R.canvas.height=w,R.drawImage(c,0,0,f,g,E.x,E.y,E.width,E.height)}var M=zn.FILE_SCAN_HIDDEN_CANVAS_PADDING,D=Math.max(c.width,E.width),C=Math.max(c.height,E.height),N=D+2*M,_=C+2*M,k=i.createCanvasElement(N,_);p.appendChild(k);var V=k.getContext("2d");if(!V)throw"Unable to get 2d context from canvas";V.canvas.width=N,V.canvas.height=_,V.drawImage(c,0,0,f,g,M,M,D,C);try{i.qrcode.decodeRobustlyAsync(k).then(function(L){s(ay.createFromQrcodeResult(L))}).catch(a)}catch(L){a("QR code parse error, error = ".concat(L))}},c.onerror=a,c.onabort=a,c.onstalled=a,c.onsuspend=a,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return GI.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!V3.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[pe.QR_CODE,pe.AZTEC,pe.CODABAR,pe.CODE_39,pe.CODE_93,pe.CODE_128,pe.DATA_MATRIX,pe.MAXICODE,pe.ITF,pe.EAN_13,pe.EAN_8,pe.PDF_417,pe.RSS_14,pe.RSS_EXPANDED,pe.UPC_A,pe.UPC_E,pe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],s=0,a=t.formatsToSupport;s<a.length;s++){var c=a[s];TI(c)?i.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Pi(t))return!0;if(!Pi(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Pi(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return Pi(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,i){var s=this,a=i.qrbox;this.validateQrboxConfig(a);var c=this.toQrdimensions(t,n,a),f=function(p){if(p<zn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(zn.MIN_QR_BOX_SIZE,"px.")},g=function(p){return p>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};f(c.width),f(c.height),c.width=g(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(t,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return i},e.prototype.setupUi=function(t,n,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,i);var s=Pi(i.qrbox)?{width:t,height:n}:i.qrbox;this.validateQrboxConfig(s);var a=this.toQrdimensions(t,n,s);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=i.isShadedBoxEnabled()&&a.height<=n,f={x:0,y:0,width:t,height:n},g=c?this.getShadedRegionBounds(t,n,a):f,p=this.createCanvasElement(g.width,g.height),y={willReadFrequently:!0},w=p.getContext("2d",y);w.canvas.width=g.width,w.canvas.height=g.height,this.element.append(p),c&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=w,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=qa.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,ay.createFromQrcodeResult(s)),i.possiblyUpdateShaders(!0),!0}).catch(function(s){i.possiblyUpdateShaders(!1);var a=qa.codeParseError(s);return n(a,U3.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,i){var s=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),c=a.videoWidth/a.clientWidth,f=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*c,p=this.qrRegion.height*f,y=this.qrRegion.x*c,w=this.qrRegion.y*f;this.context.drawImage(a,y,w,g,p,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,n,i)},s.getTimeoutFps(t.fps))};this.scanContext(n,i).then(function(A){!A&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,i).finally(function(){E()})):E()}).catch(function(A){s.logger.logError("Error happend while scanning context",A),E()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",i="deviceId",s={user:!0,environment:!0},a="exact",c=function(R){if(R in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(R,"'")},f=Object.keys(t);if(f.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(f.length," keys");var g=Object.keys(t)[0];if(g!==n&&g!==i)throw"Only '".concat(n,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(g===n){var p=t.facingMode;if(typeof p=="string"){if(c(p))return{facingMode:p}}else if(typeof p=="object")if(a in p){if(c(p["".concat(a)]))return{facingMode:{exact:p["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var y=typeof p;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var w=t.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(a in w)return{deviceId:{exact:w["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var E=typeof w;throw"Invalid type of 'deviceId' = ".concat(E)}}}var A=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(A)},e.prototype.computeCanvasDrawConfig=function(t,n,i,s){if(t<=i&&n<=s){var a=(i-t)/2,c=(s-n)/2;return{x:a,y:c,width:t,height:n}}else{var f=t,g=n;return t>i&&(n=i/t*n,t=i),n>s&&(t=s/n*t,n=s),this.logger.log("Image downsampled from "+"".concat(f,"X").concat(g)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,i,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?zn.BORDER_SHADER_MATCH_COLOR:zn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,i){var s=t,a=n,c=document.createElement("canvas");return c.style.width="".concat(s,"px"),c.style.height="".concat(a,"px"),c.style.display="none",c.id=Pi(i)?"qr-canvas":i,c},e.prototype.getShadedRegionBounds=function(t,n,i){if(i.width>t||i.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-i.width)/2,y:(n-i.height)/2,width:i.width,height:i.height}},e.prototype.possiblyInsertShadingElement=function(t,n,i,s){if(!(n-s.width<1||i-s.height<1)){var a=document.createElement("div");a.style.position="absolute";var c=(n-s.width)/2,f=(i-s.height)/2;if(a.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(zn.SHADED_REGION_ELEMENT_ID),n-s.width<11||i-s.height<11)this.hasBorderShaders=!1;else{var g=5,p=40;this.insertShaderBorders(a,p,g,-g,null,0,!0),this.insertShaderBorders(a,p,g,-g,null,0,!1),this.insertShaderBorders(a,p,g,null,-g,0,!0),this.insertShaderBorders(a,p,g,null,-g,0,!1),this.insertShaderBorders(a,g,p+g,-g,null,-g,!0),this.insertShaderBorders(a,g,p+g,null,-g,-g,!0),this.insertShaderBorders(a,g,p+g,-g,null,-g,!1),this.insertShaderBorders(a,g,p+g,null,-g,-g,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,i,s,a,c,f){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=zn.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(n,"px"),g.style.height="".concat(i,"px"),s!==null&&(g.style.top="".concat(s,"px")),a!==null&&(g.style.bottom="".concat(a,"px")),f?g.style.left="".concat(c,"px"):g.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),t.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Jm="data:image/svg+xml;base64,",KI=Jm+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",QI=Jm+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",gy=Jm+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",$I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",py=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),JI=function(){function e(){this.data=py.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=py.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),eM=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=oy.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var i=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(i),this.infoDiv.appendChild(s);var a=document.createElement("a");a.innerText=oy.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),tM=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=gy,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(i){return n.onHoverIn()},this.infoIcon.onmouseout=function(i){return n.onHoverOut()},this.infoIcon.onclick=function(i){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=$I,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=gy,this.infoIcon.style.opacity="0.6")},e}(),nM=function(){function e(){var t=this;this.infoDiv=new eM,this.infoIcon=new tM(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),iM=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function f(y){try{p(i.next(y))}catch(w){c(w)}}function g(y){try{p(i.throw(y))}catch(w){c(w)}}function p(y){y.done?a(y.value):s(y.value).then(f,g)}p((i=i.apply(e,t||[])).next())})},rM=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(y){return g([p,y])}}function g(p){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(i=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],s=0}finally{i=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},xy=function(){function e(){}return e.hasPermissions=function(){return iM(this,void 0,void 0,function(){var t,n,i,s;return rM(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=a.sent(),n=0,i=t;n<i.length;n++)if(s=i[n],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},e}(),Or=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var i=n[t];if(e.isCameraScanType(i))return!0}return!1},e.isCameraScanType=function(t){return t===hs.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===hs.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Ai.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Ai.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var i=0,s=t;i<s.length;i++){var a=s[i];if(!Ai.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return t},e}(),qn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),ur=function(){function e(){}return e.createElement=function(t,n){var i=document.createElement(t);return i.id=n,i.classList.add(qn.ALL_ELEMENT_CLASS),t==="button"&&i.setAttribute("type","button"),i},e}(),H3=function(e,t,n,i){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function f(y){try{p(i.next(y))}catch(w){c(w)}}function g(y){try{p(i.throw(y))}catch(w){c(w)}}function p(y){y.done?a(y.value):s(y.value).then(f,g)}p((i=i.apply(e,t||[])).next())})},G3=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(y){return g([p,y])}}function g(p){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(i=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],s=0}finally{i=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},yy=function(){function e(t,n,i){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=i}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return H3(this,void 0,void 0,function(){var t,n;return G3(this,function(i){switch(i.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return i.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=i.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Qe.torchOffButton():Qe.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var i=t?Qe.torchOnFailedMessage():Qe.torchOffFailedMessage();n&&(i+="; Error = "+n),this.onTorchActionFailureCallback(i)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),sM=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=ur.createElement("button",qn.TORCH_BUTTON_ID),this.torchController=new yy(t,this,n)}return e.prototype.render=function(t,n){var i=this;this.torchButton.innerText=Qe.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var s=this;this.torchButton.addEventListener("click",function(a){return H3(i,void 0,void 0,function(){return G3(this,function(c){switch(c.label){case 0:return[4,s.torchController.flipState()];case 1:return c.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(qn.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(qn.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(qn.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(qn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new yy(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Qe.torchOnButton(),this.torchController.reset()},e.create=function(t,n,i,s){var a=new e(n,s);return a.render(t,i),a},e}(),aM=function(){function e(t,n,i){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=ur.createElement("button",qn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(f){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=ur.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(f){if(!(f==null||f.target==null)){var g=f.target;if(!(g.files&&g.files.length===0)){var p=g.files,y=p[0],w=y.name;a.setImageNameToButton(w),i(y)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(f){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(f){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(f){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(f){f.stopPropagation(),f.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var g=f.dataTransfer;if(g){var p=g.files;if(!p||p.length===0)return;for(var y=!1,w=0;w<p.length;++w){var E=p.item(w);if(E){var A=/image.*/;if(E.type.match(A)){y=!0;var R=E.name;a.setImageNameToButton(R),i(E),c.innerText=Qe.dragAndDropMessage();break}}}y||(c.innerText=Qe.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Qe.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var i=t.substring(0,8),s=t.length,a=t.substring(s-8,s);t="".concat(i,"....").concat(a)}var c=Qe.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=c},e.prototype.setInitialValueToButton=function(){var t=Qe.fileSelectionChooseImage()+" - "+Qe.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,i){var s=new e(t,n,i);return s},e}(),oM=function(){function e(t){this.selectElement=ur.createElement("select",qn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var i=this.cameras.length;if(i===0)throw new Error("No cameras found");if(i===1)n.style.display="none";else{var s=Qe.selectCamera();n.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var a=1,c=0,f=this.cameras;c<f.length;c++){var g=f[c],p=g.id,y=g.label==null?p:g.label;(!y||y==="")&&(y=[Qe.anonymousCameraPrefix(),a++].join(" "));var w=document.createElement("option");w.value=p,w.innerText=y,this.options.push(w),this.selectElement.appendChild(w)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,i=this.options;n<i.length;n++){var s=i[n];if(s.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var i=new e(n);return i.render(t),i},e}(),lM=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=ur.createElement("input",qn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var i=Qe.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(i),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Qe.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,i,s){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=i.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var i=new e;return i.render(t,n),i},e}(),Hn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Hn||(Hn={}));function cM(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function uM(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var dM=function(){function e(t,n,i){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=i===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Or(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new F3(this.verbose),this.persistedDataManager=new JI,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var i=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,c){if(t)t(a,c);else{if(i.lastMatchFound===a)return;i.lastMatchFound=a,i.setHeaderMessage(Qe.lastMatch(a),Hn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,c){n&&n(a,c)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new my(this.getScanRegionId(),uM(this.config,this.verbose))},e.prototype.pause=function(t){(Pi(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var i=document.getElementById(t.elementId);i&&(i.innerHTML="",t.resetBasicLayout(i))};return this.html5Qrcode?new Promise(function(i,s){if(!t.html5Qrcode){i();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(a){if(!t.html5Qrcode){i();return}t.html5Qrcode.clear(),n(),i()}).catch(function(a){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",a),s(a)}):(t.html5Qrcode.clear(),n(),i())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Ai.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Ai.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Ai.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Ai.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Ai.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ai.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ai.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),i=this.getScanRegionId();n.id=i,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Or.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),a=this.getDashboardId();s.id=a,s.style.width="100%",t.appendChild(s),this.setupInitialDashboard(s)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var i=new nM;i.renderInto(n);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",n.appendChild(s)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,i){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(Qe.cameraPermissionRequesting());var a=function(){i||s.createPermissionButton(t,n)};my.getCameras().then(function(c){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),c&&c.length>0?(t.removeChild(n),s.renderCameraSelection(c)):(s.setHeaderMessage(Qe.noCameraFound(),Hn.STATUS_WARNING),a())}).catch(function(c){s.persistedDataManager.setHasPermission(!1),i?i.disabled=!1:a(),s.setHeaderMessage(c,Hn.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var i=this,s=ur.createElement("button",this.getCameraPermissionButtonId());s.innerText=Qe.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,i.createCameraListUi(t,n,s)}),n.appendChild(s)},e.prototype.createPermissionsUi=function(t,n){var i=this;if(Or.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){xy.hasPermissions().then(function(s){s?i.createCameraListUi(t,n):(i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(t,n))}).catch(function(s){i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var i=document.createElement("div");i.id=this.getDashboardSectionCameraScanRegionId(),i.style.display=Or.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(i);var s=document.createElement("div");s.style.textAlign="center",i.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(i,s),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Or.isFileScanType(this.currentScanType),i=this,s=function(a){if(!i.html5Qrcode)throw"html5Qrcode not defined";Or.isFileScanType(i.currentScanType)&&(i.setHeaderMessage(Qe.loadingImage()),i.html5Qrcode.scanFileV2(a,!0).then(function(c){i.resetHeaderMessage(),i.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){i.setHeaderMessage(c,Hn.STATUS_WARNING),i.qrCodeErrorCallback(c,U3.createFrom(c))}))};this.fileSelectionUi=aM.create(t,n,s)},e.prototype.renderCameraSelection=function(t){var n=this,i=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var a=lM.create(s,!1),c=function(M){var D=M.zoomFeature();if(D.isSupported()){a.setOnCameraZoomValueChangeCallback(function(N){D.apply(N)});var C=1;n.config.defaultZoomValueIfSupported&&(C=n.config.defaultZoomValueIfSupported),C=II(C,D.min(),D.max()),a.setValues(D.min(),D.max(),C,D.step()),a.show()}},f=oM.create(s,t),g=document.createElement("span"),p=ur.createElement("button",qn.CAMERA_START_BUTTON_ID);p.innerText=Qe.scanButtonStartScanningText(),g.appendChild(p);var y=ur.createElement("button",qn.CAMERA_STOP_BUTTON_ID);y.innerText=Qe.scanButtonStopScanningText(),y.style.display="none",y.disabled=!0,g.appendChild(y);var w,E=function(M){if(!M.torchFeature().isSupported()){w&&w.hide();return}w?w.updateTorchCapability(M.torchFeature()):w=sM.create(g,M.torchFeature(),{display:"none",marginLeft:"5px"},function(D){i.setHeaderMessage(D,Hn.STATUS_WARNING)}),w.show()};s.appendChild(g);var A=function(M){M||(p.style.display="none"),p.innerText=Qe.scanButtonStartScanningText(),p.style.opacity="1",p.disabled=!1,M&&(p.style.display="inline-block")};if(p.addEventListener("click",function(M){p.innerText=Qe.scanButtonScanningStarting(),f.disable(),p.disabled=!0,p.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!1),i.resetHeaderMessage();var D=f.getValue();i.persistedDataManager.setLastUsedCameraId(D),i.html5Qrcode.start(D,cM(i.config),i.qrCodeSuccessCallback,i.qrCodeErrorCallback).then(function(C){y.disabled=!1,y.style.display="inline-block",A(!1);var N=i.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&E(N),n.config.showZoomSliderIfSupported===!0&&c(N)}).catch(function(C){i.showHideScanTypeSwapLink(!0),f.enable(),A(!0),i.setHeaderMessage(C,Hn.STATUS_WARNING)})}),f.hasSingleItem()&&p.click(),y.addEventListener("click",function(M){if(!i.html5Qrcode)throw"html5Qrcode not defined";y.disabled=!0,i.html5Qrcode.stop().then(function(D){n.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!0),f.enable(),p.disabled=!1,y.style.display="none",p.style.display="inline-block",w&&(w.reset(),w.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),i.insertCameraScanImageToScanRegion()}).catch(function(D){y.disabled=!1,i.setHeaderMessage(D,Hn.STATUS_WARNING)})}),i.persistedDataManager.getLastUsedCameraId()){var R=i.persistedDataManager.getLastUsedCameraId();f.hasValue(R)?(f.setValue(R),p.click()):i.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Qe.textIfCameraScanSelected(),i=Qe.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var c=ur.createElement("span",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.style.cursor="pointer",c.innerText=Or.isCameraScanType(this.currentScanType)?n:i,c.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Or.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),c.innerText=i,t.currentScanType=hs.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),c.innerText=n,t.currentScanType=hs.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),a.appendChild(c),s.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){xy.hasPermissions().then(function(i){if(i){var s=document.getElementById(n.getCameraPermissionButtonId());if(!s)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(i){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=Hn.STATUS_DEFAULT);var i=this.getHeaderMessageDiv();switch(i.innerText=t,i.style.display="block",n){case Hn.STATUS_SUCCESS:i.style.background="rgba(106, 175, 80, 0.26)",i.style.color="#477735";break;case Hn.STATUS_WARNING:i.style.background="rgba(203, 36, 49, 0.14)",i.style.color="#cb2431";break;case Hn.STATUS_DEFAULT:default:i.style.background="rgba(0, 0, 0, 0)",i.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(i){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=KI,this.cameraScanImage.alt=Qe.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(i){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=QI,this.fileScanImage.alt=Qe.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return qn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return qn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function hM({userCompany:e}){const[t,n]=O.useState([]),[i,s]=O.useState(""),[a,c]=O.useState(!1),[f,g]=O.useState(""),[p,y]=O.useState([]),[w,E]=O.useState({total:0,checkedIn:0}),A=O.useRef(null),[R,M]=O.useState("");O.useEffect(()=>{D()},[]),O.useEffect(()=>{i&&(N(),_(),C())},[i]),O.useEffect(()=>()=>{A.current&&A.current.clear()},[]);const D=async()=>{try{let P=ue.from("events").select(`
          id,
          name,
          company_id,
          registration_qr,
          company:companies(name)
        `);e&&(P=P.eq("company_id",e.company_id));const{data:Y,error:H}=await P.order("created_at",{ascending:!1});if(H)throw H;const Q=(Y==null?void 0:Y.map(te=>({...te,company:Array.isArray(te.company)?te.company[0]:te.company})))||[];n(Q),e&&Q&&Q.length>0&&s(Q[0].id)}catch(P){le.error("Error fetching events: "+P.message)}},C=async()=>{try{const P=`${window.location.origin}/admin/checkin?event=${i}`,Y=await Ni.toDataURL(P,{width:200,margin:2,errorCorrectionLevel:"M"});M(Y)}catch(P){console.error("Error generating QR code:",P)}},N=async()=>{try{const{data:P,error:Y}=await ue.from("attendees").select("id, checked_in").eq("event_id",i);if(Y)throw Y;E({total:P.length,checkedIn:P.filter(H=>H.checked_in).length})}catch(P){console.error("Error fetching stats:",P)}},_=async()=>{try{const{data:P,error:Y}=await ue.from("attendees").select(`
          id,
          name,
          identification_number,
          staff_id,
          check_in_time,
          event:events(name)
        `).eq("event_id",i).eq("checked_in",!0).order("check_in_time",{ascending:!1}).limit(10);if(Y)throw Y;y(P)}catch(P){console.error("Error fetching recent check-ins:",P)}},k=()=>{if(!i){le.error("Please select an event first");return}c(!0);const P=new dM("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1,disableFlip:!1},!1);P.render(Y=>{L(Y),P.clear(),c(!1)},Y=>{console.log("QR scan error:",Y)}),A.current=P},V=()=>{A.current&&(A.current.clear(),A.current=null),c(!1)},L=async P=>{try{const Y=await B(P);Y.success?(le.success(Y.message),N(),_()):le.error(Y.message)}catch(Y){le.error("Error processing check-in: "+Y.message)}},B=async P=>{try{if(P.includes("|")){const Y=P.split("|");if(Y.length!==3)return{success:!1,message:"Invalid QR code format"};const H=Y[0],{data:Q,error:te}=await ue.from("attendees").select(`
            id,
            name,
            identification_number,
            staff_id,
            checked_in,
            event_id,
            event:events(name)
          `).eq("id",H).single();if(te||!Q)return{success:!1,message:"Attendee not found"};if(Q.event_id!==i)return{success:!1,message:"This ticket is not valid for the selected event"};if(Q.checked_in)return{success:!1,message:`${Q.name} is already checked in`};const{error:fe}=await ue.from("attendees").update({checked_in:!0,check_in_time:new Date().toISOString()}).eq("id",Q.id);if(fe)throw fe;return{success:!0,attendee:Q,message:`${Q.name} checked in successfully!`}}else{const{data:Y,error:H}=await ue.from("attendees").select(`
            id,
            name,
            identification_number,
            staff_id,
            checked_in,
            event_id,
            event:events(name)
          `).eq("event_id",i).or(`identification_number.eq.${P},staff_id.eq.${P}`);if(H)throw H;if(!Y||Y.length===0)return{success:!1,message:"No attendee found with this ID"};const Q=Y[0];if(Q.checked_in)return{success:!1,message:`${Q.name} is already checked in`};const{error:te}=await ue.from("attendees").update({checked_in:!0,check_in_time:new Date().toISOString()}).eq("id",Q.id);if(te)throw te;return{success:!0,attendee:Q,message:`${Q.name} checked in successfully!`}}}catch(Y){return{success:!1,message:"Error processing check-in: "+Y.message}}},z=async P=>{if(P.preventDefault(),!f.trim())return;const Y=await B(f);Y.success?(le.success(Y.message),g(""),N(),_()):le.error(Y.message)};return h.jsxs("div",{children:[h.jsx("div",{className:"flex justify-between items-center mb-8",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Check-In System"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Scan QR codes to check in attendees"})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Event"}),e&&t.length===1?h.jsx("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:t[0].name}):h.jsxs("select",{value:i,onChange:P=>s(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[!e&&h.jsx("option",{value:"",children:"Choose an event to start check-in"}),t.map(P=>h.jsx("option",{value:P.id,children:e?P.name:`${P.name} (${P.company.name})`},P.id))]})]}),i&&h.jsx("div",{className:"flex items-end",children:h.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 w-full",children:[h.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Check-in Progress"}),h.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[w.checkedIn," / ",w.total]}),h.jsxs("div",{className:"text-sm text-blue-600",children:[w.total>0?Math.round(w.checkedIn/w.total*100):0,"% complete"]})]})})]})}),i&&h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[h.jsx(s1,{className:"h-6 w-6 mr-2"}),"Camera Scanner"]}),h.jsxs("div",{className:"space-y-4",children:[a?h.jsxs("div",{children:[h.jsx("div",{id:"qr-reader",className:"w-full"}),h.jsx("button",{onClick:V,className:"w-full mt-4 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"Stop Scanner"})]}):h.jsxs("div",{children:[h.jsxs("button",{onClick:k,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[h.jsx(s1,{className:"h-5 w-5 mr-2"}),"Start Camera Scanner"]}),h.jsx("p",{className:"text-sm text-gray-600 mt-2 text-center",children:"Click to activate camera and scan QR codes"})]}),h.jsxs("div",{className:"border-t pt-4",children:[h.jsx("h3",{className:"font-medium mb-2",children:"Manual ID Entry"}),h.jsxs("form",{onSubmit:z,className:"space-y-3",children:[h.jsx("input",{type:"text",value:f,onChange:P=>g(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter ID number or Staff ID"}),h.jsxs("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",children:[h.jsx(o1,{className:"h-4 w-4 mr-2"}),"Check In"]})]})]})]})]}),R&&h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[h.jsx(us,{className:"h-6 w-6 mr-2"}),"Event QR Code"]}),h.jsxs("div",{className:"text-center",children:[h.jsx("img",{src:R,alt:"Event QR Code",className:"w-48 h-48 mx-auto border border-gray-200 rounded-lg mb-3"}),h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Event Check-in QR Code"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Share this QR code for quick access to check-in"})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 lg:col-span-2",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[h.jsx(Ot,{className:"h-6 w-6 mr-2"}),"Recent Check-ins"]}),h.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[p.map(P=>h.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-lg",children:[h.jsx(Ws,{className:"h-5 w-5 text-green-600 mr-3"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium text-gray-900",children:P.name}),h.jsxs("div",{className:"text-sm text-gray-600",children:["ID: ",P.identification_number]}),P.staff_id&&h.jsxs("div",{className:"text-sm text-gray-600",children:["Staff: ",P.staff_id]}),h.jsx("div",{className:"text-xs text-gray-500",children:new Date(P.check_in_time).toLocaleTimeString()})]})]},P.id)),p.length===0&&h.jsxs("div",{className:"text-center py-8 text-gray-500",children:[h.jsx(Ot,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),h.jsx("p",{children:"No check-ins yet"})]})]})]})]}),!i&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx(us,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select an Event"}),h.jsx("p",{className:"text-gray-600",children:"Choose an event from the dropdown above to start checking in attendees"})]})]})}const eg=O.createContext({});function tg(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}const ng=typeof window<"u",Y3=ng?O.useLayoutEffect:O.useEffect,gh=O.createContext(null);function ig(e,t){e.indexOf(t)===-1&&e.push(t)}function rg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const wr=(e,t,n)=>n>t?t:n<e?e:n;let sg=()=>{};const vr={},q3=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function X3(e){return typeof e=="object"&&e!==null}const W3=e=>/^0[^.\s]+$/u.test(e);function ag(e){let t;return()=>(t===void 0&&(t=e()),t)}const hi=e=>e,fM=(e,t)=>n=>t(e(n)),kc=(...e)=>e.reduce(fM),rc=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class og{constructor(){this.subscriptions=[]}add(t){return ig(this.subscriptions,t),()=>rg(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let a=0;a<s;a++){const c=this.subscriptions[a];c&&c(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yi=e=>e*1e3,qi=e=>e/1e3;function Z3(e,t){return t?e*(1e3/t):0}const K3=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,mM=1e-7,gM=12;function pM(e,t,n,i,s){let a,c,f=0;do c=t+(n-t)/2,a=K3(c,i,s)-e,a>0?n=c:t=c;while(Math.abs(a)>mM&&++f<gM);return c}function Lc(e,t,n,i){if(e===t&&n===i)return hi;const s=a=>pM(a,0,1,e,n);return a=>a===0||a===1?a:K3(s(a),t,i)}const Q3=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,$3=e=>t=>1-e(1-t),J3=Lc(.33,1.53,.69,.99),lg=$3(J3),eE=Q3(lg),tE=e=>(e*=2)<1?.5*lg(e):.5*(2-Math.pow(2,-10*(e-1))),cg=e=>1-Math.sin(Math.acos(e)),nE=$3(cg),iE=Q3(cg),xM=Lc(.42,0,1,1),yM=Lc(0,0,.58,1),rE=Lc(.42,0,.58,1),bM=e=>Array.isArray(e)&&typeof e[0]!="number",sE=e=>Array.isArray(e)&&typeof e[0]=="number",wM={linear:hi,easeIn:xM,easeInOut:rE,easeOut:yM,circIn:cg,circInOut:iE,circOut:nE,backIn:lg,backInOut:eE,backOut:J3,anticipate:tE},vM=e=>typeof e=="string",by=e=>{if(sE(e)){sg(e.length===4);const[t,n,i,s]=e;return Lc(t,n,i,s)}else if(vM(e))return wM[e];return e},wu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function EM(e,t){let n=new Set,i=new Set,s=!1,a=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function g(y){c.has(y)&&(p.schedule(y),e()),y(f)}const p={schedule:(y,w=!1,E=!1)=>{const R=E&&s?n:i;return w&&c.add(y),R.has(y)||R.add(y),y},cancel:y=>{i.delete(y),c.delete(y)},process:y=>{if(f=y,s){a=!0;return}s=!0,[n,i]=[i,n],n.forEach(g),n.clear(),s=!1,a&&(a=!1,p.process(y))}};return p}const AM=40;function aE(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,c=wu.reduce((_,k)=>(_[k]=EM(a),_),{}),{setup:f,read:g,resolveKeyframes:p,preUpdate:y,update:w,preRender:E,render:A,postRender:R}=c,M=()=>{const _=vr.useManualTiming?s.timestamp:performance.now();n=!1,vr.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(_-s.timestamp,AM),1)),s.timestamp=_,s.isProcessing=!0,f.process(s),g.process(s),p.process(s),y.process(s),w.process(s),E.process(s),A.process(s),R.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(M))},D=()=>{n=!0,i=!0,s.isProcessing||e(M)};return{schedule:wu.reduce((_,k)=>{const V=c[k];return _[k]=(L,B=!1,z=!1)=>(n||D(),V.schedule(L,B,z)),_},{}),cancel:_=>{for(let k=0;k<wu.length;k++)c[wu[k]].cancel(_)},state:s,steps:c}}const{schedule:yt,cancel:fs,state:an,steps:Bf}=aE(typeof requestAnimationFrame<"u"?requestAnimationFrame:hi,!0);let Fu;function SM(){Fu=void 0}const Ln={now:()=>(Fu===void 0&&Ln.set(an.isProcessing||vr.useManualTiming?an.timestamp:performance.now()),Fu),set:e=>{Fu=e,queueMicrotask(SM)}},oE=e=>t=>typeof t=="string"&&t.startsWith(e),ug=oE("--"),CM=oE("var(--"),dg=e=>CM(e)?NM.test(e.split("/*")[0].trim()):!1,NM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Po={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},sc={...Po,transform:e=>wr(0,1,e)},vu={...Po,default:1},kl=e=>Math.round(e*1e5)/1e5,hg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _M(e){return e==null}const TM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fg=(e,t)=>n=>!!(typeof n=="string"&&TM.test(n)&&n.startsWith(e)||t&&!_M(n)&&Object.prototype.hasOwnProperty.call(n,t)),lE=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,a,c,f]=i.match(hg);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},IM=e=>wr(0,255,e),Pf={...Po,transform:e=>Math.round(IM(e))},Us={test:fg("rgb","red"),parse:lE("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Pf.transform(e)+", "+Pf.transform(t)+", "+Pf.transform(n)+", "+kl(sc.transform(i))+")"};function MM(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const g1={test:fg("#"),parse:MM,transform:Us.transform},Bc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Br=Bc("deg"),Xi=Bc("%"),Ce=Bc("px"),DM=Bc("vh"),RM=Bc("vw"),wy={...Xi,parse:e=>Xi.parse(e)/100,transform:e=>Xi.transform(e*100)},Xa={test:fg("hsl","hue"),parse:lE("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Xi.transform(kl(t))+", "+Xi.transform(kl(n))+", "+kl(sc.transform(i))+")"},Bt={test:e=>Us.test(e)||g1.test(e)||Xa.test(e),parse:e=>Us.test(e)?Us.parse(e):Xa.test(e)?Xa.parse(e):g1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Us.transform(e):Xa.transform(e),getAnimatableNone:e=>{const t=Bt.parse(e);return t.alpha=0,Bt.transform(t)}},jM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OM(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(hg))==null?void 0:t.length)||0)+(((n=e.match(jM))==null?void 0:n.length)||0)>0}const cE="number",uE="color",kM="var",LM="var(",vy="${}",BM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ac(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let a=0;const f=t.replace(BM,g=>(Bt.test(g)?(i.color.push(a),s.push(uE),n.push(Bt.parse(g))):g.startsWith(LM)?(i.var.push(a),s.push(kM),n.push(g)):(i.number.push(a),s.push(cE),n.push(parseFloat(g))),++a,vy)).split(vy);return{values:n,split:f,indexes:i,types:s}}function dE(e){return ac(e).values}function hE(e){const{split:t,types:n}=ac(e),i=t.length;return s=>{let a="";for(let c=0;c<i;c++)if(a+=t[c],s[c]!==void 0){const f=n[c];f===cE?a+=kl(s[c]):f===uE?a+=Bt.transform(s[c]):a+=s[c]}return a}}const PM=e=>typeof e=="number"?0:Bt.test(e)?Bt.getAnimatableNone(e):e;function UM(e){const t=dE(e);return hE(e)(t.map(PM))}const ms={test:OM,parse:dE,createTransformer:hE,getAnimatableNone:UM};function Uf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function FM({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,a=0,c=0;if(!t)s=a=c=n;else{const f=n<.5?n*(1+t):n+t-n*t,g=2*n-f;s=Uf(g,f,e+1/3),a=Uf(g,f,e),c=Uf(g,f,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(c*255),alpha:i}}function Md(e,t){return n=>n>0?t:e}const Et=(e,t,n)=>e+(t-e)*n,Ff=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},VM=[g1,Us,Xa],zM=e=>VM.find(t=>t.test(e));function Ey(e){const t=zM(e);if(!t)return!1;let n=t.parse(e);return t===Xa&&(n=FM(n)),n}const Ay=(e,t)=>{const n=Ey(e),i=Ey(t);if(!n||!i)return Md(e,t);const s={...n};return a=>(s.red=Ff(n.red,i.red,a),s.green=Ff(n.green,i.green,a),s.blue=Ff(n.blue,i.blue,a),s.alpha=Et(n.alpha,i.alpha,a),Us.transform(s))},p1=new Set(["none","hidden"]);function HM(e,t){return p1.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function GM(e,t){return n=>Et(e,t,n)}function mg(e){return typeof e=="number"?GM:typeof e=="string"?dg(e)?Md:Bt.test(e)?Ay:XM:Array.isArray(e)?fE:typeof e=="object"?Bt.test(e)?Ay:YM:Md}function fE(e,t){const n=[...e],i=n.length,s=e.map((a,c)=>mg(a)(a,t[c]));return a=>{for(let c=0;c<i;c++)n[c]=s[c](a);return n}}function YM(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=mg(e[s])(e[s],t[s]));return s=>{for(const a in i)n[a]=i[a](s);return n}}function qM(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],c=e.indexes[a][i[a]],f=e.values[c]??0;n[s]=f,i[a]++}return n}const XM=(e,t)=>{const n=ms.createTransformer(t),i=ac(e),s=ac(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?p1.has(e)&&!s.values.length||p1.has(t)&&!i.values.length?HM(e,t):kc(fE(qM(i,s),s.values),n):Md(e,t)};function mE(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Et(e,t,n):mg(e)(e,t)}const WM=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>yt.update(t,n),stop:()=>fs(t),now:()=>an.isProcessing?an.timestamp:Ln.now()}},gE=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)i+=Math.round(e(a/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Dd=2e4;function gg(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Dd;)t+=n,i=e.next(t);return t>=Dd?1/0:t}function ZM(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(gg(i),Dd);return{type:"keyframes",ease:a=>i.next(s*a).value/t,duration:qi(s)}}const KM=5;function pE(e,t,n){const i=Math.max(t-KM,0);return Z3(n-e(i),t-i)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vf=.001;function QM({duration:e=_t.duration,bounce:t=_t.bounce,velocity:n=_t.velocity,mass:i=_t.mass}){let s,a,c=1-t;c=wr(_t.minDamping,_t.maxDamping,c),e=wr(_t.minDuration,_t.maxDuration,qi(e)),c<1?(s=p=>{const y=p*c,w=y*e,E=y-n,A=x1(p,c),R=Math.exp(-w);return Vf-E/A*R},a=p=>{const w=p*c*e,E=w*n+n,A=Math.pow(c,2)*Math.pow(p,2)*e,R=Math.exp(-w),M=x1(Math.pow(p,2),c);return(-s(p)+Vf>0?-1:1)*((E-A)*R)/M}):(s=p=>{const y=Math.exp(-p*e),w=(p-n)*e+1;return-Vf+y*w},a=p=>{const y=Math.exp(-p*e),w=(n-p)*(e*e);return y*w});const f=5/e,g=JM(s,a,f);if(e=Yi(e),isNaN(g))return{stiffness:_t.stiffness,damping:_t.damping,duration:e};{const p=Math.pow(g,2)*i;return{stiffness:p,damping:c*2*Math.sqrt(i*p),duration:e}}}const $M=12;function JM(e,t,n){let i=n;for(let s=1;s<$M;s++)i=i-e(i)/t(i);return i}function x1(e,t){return e*Math.sqrt(1-t*t)}const eD=["duration","bounce"],tD=["stiffness","damping","mass"];function Sy(e,t){return t.some(n=>e[n]!==void 0)}function nD(e){let t={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...e};if(!Sy(e,tD)&&Sy(e,eD))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,a=2*wr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:_t.mass,stiffness:s,damping:a}}else{const n=QM(e);t={...t,...n,mass:_t.mass},t.isResolvedFromDuration=!0}return t}function Rd(e=_t.visualDuration,t=_t.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const a=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:a},{stiffness:g,damping:p,mass:y,duration:w,velocity:E,isResolvedFromDuration:A}=nD({...n,velocity:-qi(n.velocity||0)}),R=E||0,M=p/(2*Math.sqrt(g*y)),D=c-a,C=qi(Math.sqrt(g/y)),N=Math.abs(D)<5;i||(i=N?_t.restSpeed.granular:_t.restSpeed.default),s||(s=N?_t.restDelta.granular:_t.restDelta.default);let _;if(M<1){const V=x1(C,M);_=L=>{const B=Math.exp(-M*C*L);return c-B*((R+M*C*D)/V*Math.sin(V*L)+D*Math.cos(V*L))}}else if(M===1)_=V=>c-Math.exp(-C*V)*(D+(R+C*D)*V);else{const V=C*Math.sqrt(M*M-1);_=L=>{const B=Math.exp(-M*C*L),z=Math.min(V*L,300);return c-B*((R+M*C*D)*Math.sinh(z)+V*D*Math.cosh(z))/V}}const k={calculatedDuration:A&&w||null,next:V=>{const L=_(V);if(A)f.done=V>=w;else{let B=V===0?R:0;M<1&&(B=V===0?Yi(R):pE(_,V,L));const z=Math.abs(B)<=i,P=Math.abs(c-L)<=s;f.done=z&&P}return f.value=f.done?c:L,f},toString:()=>{const V=Math.min(gg(k),Dd),L=gE(B=>k.next(V*B).value,V,30);return V+"ms "+L},toTransition:()=>{}};return k}Rd.applyToOptions=e=>{const t=ZM(e,100,Rd);return e.ease=t.ease,e.duration=Yi(t.duration),e.type="keyframes",e};function y1({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:c,min:f,max:g,restDelta:p=.5,restSpeed:y}){const w=e[0],E={done:!1,value:w},A=z=>f!==void 0&&z<f||g!==void 0&&z>g,R=z=>f===void 0?g:g===void 0||Math.abs(f-z)<Math.abs(g-z)?f:g;let M=n*t;const D=w+M,C=c===void 0?D:c(D);C!==D&&(M=C-w);const N=z=>-M*Math.exp(-z/i),_=z=>C+N(z),k=z=>{const P=N(z),Y=_(z);E.done=Math.abs(P)<=p,E.value=E.done?C:Y};let V,L;const B=z=>{A(E.value)&&(V=z,L=Rd({keyframes:[E.value,R(E.value)],velocity:pE(_,z,E.value),damping:s,stiffness:a,restDelta:p,restSpeed:y}))};return B(0),{calculatedDuration:null,next:z=>{let P=!1;return!L&&V===void 0&&(P=!0,k(z),B(z)),V!==void 0&&z>=V?L.next(z-V):(!P&&k(z),E)}}}function iD(e,t,n){const i=[],s=n||vr.mix||mE,a=e.length-1;for(let c=0;c<a;c++){let f=s(e[c],e[c+1]);if(t){const g=Array.isArray(t)?t[c]||hi:t;f=kc(g,f)}i.push(f)}return i}function rD(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const a=e.length;if(sg(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=iD(t,i,s),g=f.length,p=y=>{if(c&&y<e[0])return t[0];let w=0;if(g>1)for(;w<e.length-2&&!(y<e[w+1]);w++);const E=rc(e[w],e[w+1],y);return f[w](E)};return n?y=>p(wr(e[0],e[a-1],y)):p}function sD(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=rc(0,t,i);e.push(Et(n,1,s))}}function aD(e){const t=[0];return sD(t,e.length-1),t}function oD(e,t){return e.map(n=>n*t)}function lD(e,t){return e.map(()=>t||rE).splice(0,e.length-1)}function Ll({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=bM(i)?i.map(by):by(i),a={done:!1,value:t[0]},c=oD(n&&n.length===t.length?n:aD(t),e),f=rD(c,t,{ease:Array.isArray(s)?s:lD(t,s)});return{calculatedDuration:e,next:g=>(a.value=f(g),a.done=g>=e,a)}}const cD=e=>e!==null;function pg(e,{repeat:t,repeatType:n="loop"},i,s=1){const a=e.filter(cD),f=s<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!f||i===void 0?a[f]:i}const uD={decay:y1,inertia:y1,tween:Ll,keyframes:Ll,spring:Rd};function xE(e){typeof e.type=="string"&&(e.type=uD[e.type])}class xg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const dD=e=>e/100;class yg extends xg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Ln.now()&&this.tick(Ln.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;xE(t);const{type:n=Ll,repeat:i=0,repeatDelay:s=0,repeatType:a,velocity:c=0}=t;let{keyframes:f}=t;const g=n||Ll;g!==Ll&&typeof f[0]!="number"&&(this.mixKeyframes=kc(dD,mE(f[0],f[1])),f=[0,100]);const p=g({...t,keyframes:f});a==="mirror"&&(this.mirroredGenerator=g({...t,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=gg(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:a,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:g}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:w,repeatType:E,repeatDelay:A,type:R,onUpdate:M,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const C=this.currentTime-p*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?C<0:C>s;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let _=this.currentTime,k=i;if(w){const z=Math.min(this.currentTime,s)/f;let P=Math.floor(z),Y=z%1;!Y&&z>=1&&(Y=1),Y===1&&P--,P=Math.min(P,w+1),!!(P%2)&&(E==="reverse"?(Y=1-Y,A&&(Y-=A/f)):E==="mirror"&&(k=c)),_=wr(0,1,Y)*f}const V=N?{done:!1,value:y[0]}:k.next(_);a&&(V.value=a(V.value));let{done:L}=V;!N&&g!==null&&(L=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return B&&R!==y1&&(V.value=pg(y,this.options,D,this.speed)),M&&M(V.value),B&&this.finish(),V}then(t,n){return this.finished.then(t,n)}get duration(){return qi(this.calculatedDuration)}get time(){return qi(this.currentTime)}set time(t){var n;t=Yi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ln.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=qi(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:t=WM,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(a=(s=this.options).onPlay)==null||a.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ln.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function hD(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Fs=e=>e*180/Math.PI,b1=e=>{const t=Fs(Math.atan2(e[1],e[0]));return w1(t)},fD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:b1,rotateZ:b1,skewX:e=>Fs(Math.atan(e[1])),skewY:e=>Fs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},w1=e=>(e=e%360,e<0&&(e+=360),e),Cy=b1,Ny=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),_y=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),mD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ny,scaleY:_y,scale:e=>(Ny(e)+_y(e))/2,rotateX:e=>w1(Fs(Math.atan2(e[6],e[5]))),rotateY:e=>w1(Fs(Math.atan2(-e[2],e[0]))),rotateZ:Cy,rotate:Cy,skewX:e=>Fs(Math.atan(e[4])),skewY:e=>Fs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function v1(e){return e.includes("scale")?1:0}function E1(e,t){if(!e||e==="none")return v1(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=mD,s=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=fD,s=f}if(!s)return v1(t);const a=i[t],c=s[1].split(",").map(pD);return typeof a=="function"?a(c):c[a]}const gD=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return E1(n,t)};function pD(e){return parseFloat(e.trim())}const Uo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fo=new Set(Uo),Ty=e=>e===Po||e===Ce,xD=new Set(["x","y","z"]),yD=Uo.filter(e=>!xD.has(e));function bD(e){const t=[];return yD.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Zs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>E1(t,"x"),y:(e,{transform:t})=>E1(t,"y")};Zs.translateX=Zs.x;Zs.translateY=Zs.y;const Ks=new Set;let A1=!1,S1=!1,C1=!1;function yE(){if(S1){const e=Array.from(Ks).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=bD(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([a,c])=>{var f;(f=i.getValue(a))==null||f.set(c)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}S1=!1,A1=!1,Ks.forEach(e=>e.complete(C1)),Ks.clear()}function bE(){Ks.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(S1=!0)})}function wD(){C1=!0,bE(),yE(),C1=!1}class bg{constructor(t,n,i,s,a,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=a,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ks.add(this),A1||(A1=!0,yt.read(bE),yt.resolveKeyframes(yE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const a=s==null?void 0:s.get(),c=t[t.length-1];if(a!==void 0)t[0]=a;else if(i&&n){const f=i.readValue(n,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),s&&a===void 0&&s.set(t[0])}hD(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ks.delete(this)}cancel(){this.state==="scheduled"&&(Ks.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const vD=e=>e.startsWith("--");function ED(e,t,n){vD(t)?e.style.setProperty(t,n):e.style[t]=n}const AD=ag(()=>window.ScrollTimeline!==void 0),SD={};function CD(e,t){const n=ag(e);return()=>SD[t]??n()}const wE=CD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gl=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,Iy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gl([0,.65,.55,1]),circOut:gl([.55,0,1,.45]),backIn:gl([.31,.01,.66,-.59]),backOut:gl([.33,1.53,.69,.99])};function vE(e,t){if(e)return typeof e=="function"?wE()?gE(e,t):"ease-out":sE(e)?gl(e):Array.isArray(e)?e.map(n=>vE(n,t)||Iy.easeOut):Iy[e]}function ND(e,t,n,{delay:i=0,duration:s=300,repeat:a=0,repeatType:c="loop",ease:f="easeOut",times:g}={},p=void 0){const y={[t]:n};g&&(y.offset=g);const w=vE(f,s);Array.isArray(w)&&(y.easing=w);const E={delay:i,duration:s,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:a+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),e.animate(y,E)}function EE(e){return typeof e=="function"&&"applyToOptions"in e}function _D({type:e,...t}){return EE(e)&&wE()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class TD extends xg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:a,allowFlatten:c=!1,finalKeyframe:f,onComplete:g}=t;this.isPseudoElement=!!a,this.allowFlatten=c,this.options=t,sg(typeof t.type!="string");const p=_D(t);this.animation=ND(n,i,s,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const y=pg(s,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):ED(n,i,y),this.animation.cancel()}g==null||g(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,i;const t=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return qi(Number(t))}get time(){return qi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Yi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&AD()?(this.animation.timeline=t,hi):n(this)}}const AE={anticipate:tE,backInOut:eE,circInOut:iE};function ID(e){return e in AE}function MD(e){typeof e.ease=="string"&&ID(e.ease)&&(e.ease=AE[e.ease])}const My=10;class DD extends TD{constructor(t){MD(t),xE(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:a,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new yg({...c,autoplay:!1}),g=Yi(this.finishedTime??this.time);n.setWithVelocity(f.sample(g-My).value,f.sample(g).value,My),f.stop()}}const Dy=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ms.test(e)||e==="0")&&!e.startsWith("url("));function RD(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function jD(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],c=Dy(s,t),f=Dy(a,t);return!c||!f?!1:RD(e)||(n==="spring"||EE(n))&&i}const OD=new Set(["opacity","clipPath","filter","transform"]),kD=ag(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function LD(e){var y;const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:a,type:c}=e;if(!(((y=t==null?void 0:t.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:p}=t.owner.getProps();return kD()&&n&&OD.has(n)&&(n!=="transform"||!p)&&!g&&!i&&s!=="mirror"&&a!==0&&c!=="inertia"}const BD=40;class PD extends xg{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:c="loop",keyframes:f,name:g,motionValue:p,element:y,...w}){var R;super(),this.stop=()=>{var M,D;this._animation&&(this._animation.stop(),(M=this.stopTimeline)==null||M.call(this)),(D=this.keyframeResolver)==null||D.cancel()},this.createdAt=Ln.now();const E={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:a,repeatType:c,name:g,motionValue:p,element:y,...w},A=(y==null?void 0:y.KeyframeResolver)||bg;this.keyframeResolver=new A(f,(M,D,C)=>this.onKeyframesResolved(M,D,E,!C),g,p,y),(R=this.keyframeResolver)==null||R.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:a,type:c,velocity:f,delay:g,isHandoff:p,onUpdate:y}=i;this.resolvedAt=Ln.now(),jD(t,a,c,f)||((vr.instantAnimations||!g)&&(y==null||y(pg(t,i,n))),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const E={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>BD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},A=!p&&LD(E)?new DD({...E,element:E.motionValue.owner.current}):new yg(E);A.finished.then(()=>this.notifyFinished()).catch(hi),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),wD()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const UD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FD(e){const t=UD.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function SE(e,t,n=1){const[i,s]=FD(e);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const c=a.trim();return q3(c)?parseFloat(c):c}return dg(s)?SE(s,t,n+1):s}function wg(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const CE=new Set(["width","height","top","left","right","bottom",...Uo]),VD={test:e=>e==="auto",parse:e=>e},NE=e=>t=>t.test(e),_E=[Po,Ce,Xi,Br,RM,DM,VD],Ry=e=>_E.find(NE(e));function zD(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||W3(e):!0}const HD=new Set(["brightness","contrast","saturate","opacity"]);function GD(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(hg)||[];if(!i)return e;const s=n.replace(i,"");let a=HD.has(t)?1:0;return i!==n&&(a*=100),t+"("+a+s+")"}const YD=/\b([a-z-]*)\(.*?\)/gu,N1={...ms,getAnimatableNone:e=>{const t=e.match(YD);return t?t.map(GD).join(" "):e}},jy={...Po,transform:Math.round},qD={rotate:Br,rotateX:Br,rotateY:Br,rotateZ:Br,scale:vu,scaleX:vu,scaleY:vu,scaleZ:vu,skew:Br,skewX:Br,skewY:Br,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:sc,originX:wy,originY:wy,originZ:Ce},vg={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...qD,zIndex:jy,fillOpacity:sc,strokeOpacity:sc,numOctaves:jy},XD={...vg,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:N1,WebkitFilter:N1},TE=e=>XD[e];function IE(e,t){let n=TE(e);return n!==N1&&(n=ms),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const WD=new Set(["auto","none","0"]);function ZD(e,t,n){let i=0,s;for(;i<e.length&&!s;){const a=e[i];typeof a=="string"&&!WD.has(a)&&ac(a).values.length&&(s=e[i]),i++}if(s&&n)for(const a of t)e[a]=IE(n,s)}class KD extends bg{constructor(t,n,i,s,a){super(t,n,i,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<t.length;g++){let p=t[g];if(typeof p=="string"&&(p=p.trim(),dg(p))){const y=SE(p,n.current);y!==void 0&&(t[g]=y),g===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!CE.has(i)||t.length!==2)return;const[s,a]=t,c=Ry(s),f=Ry(a);if(c!==f)if(Ty(c)&&Ty(f))for(let g=0;g<t.length;g++){const p=t[g];typeof p=="string"&&(t[g]=parseFloat(p))}else Zs[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||zD(t[s]))&&i.push(s);i.length&&ZD(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zs[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var f;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,c=i[a];i[a]=Zs[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([g,p])=>{t.getValue(g).set(p)}),this.resolveNoneKeyframes()}}function QD(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=(n==null?void 0:n[e])??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const ME=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function DE(e){return X3(e)&&"offsetHeight"in e}const Oy=30,$D=e=>!isNaN(parseFloat(e));class JD{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{var c,f;const a=Ln.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const g of this.dependents)g.dirty();s&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ln.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$D(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new og);const i=this.events[t].add(n);return t==="change"?()=>{i(),yt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ln.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Oy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Oy);return Z3(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Co(e,t){return new JD(e,t)}const{schedule:Eg}=aE(queueMicrotask,!1),wi={x:!1,y:!1};function RE(){return wi.x||wi.y}function eR(e){return e==="x"||e==="y"?wi[e]?null:(wi[e]=!0,()=>{wi[e]=!1}):wi.x||wi.y?null:(wi.x=wi.y=!0,()=>{wi.x=wi.y=!1})}function jE(e,t){const n=QD(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function ky(e){return!(e.pointerType==="touch"||RE())}function tR(e,t,n={}){const[i,s,a]=jE(e,n),c=f=>{if(!ky(f))return;const{target:g}=f,p=t(g,f);if(typeof p!="function"||!g)return;const y=w=>{ky(w)&&(p(w),g.removeEventListener("pointerleave",y))};g.addEventListener("pointerleave",y,s)};return i.forEach(f=>{f.addEventListener("pointerenter",c,s)}),a}const OE=(e,t)=>t?e===t?!0:OE(e,t.parentElement):!1,Ag=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,nR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iR(e){return nR.has(e.tagName)||e.tabIndex!==-1}const Vu=new WeakSet;function Ly(e){return t=>{t.key==="Enter"&&e(t)}}function zf(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const rR=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=Ly(()=>{if(Vu.has(n))return;zf(n,"down");const s=Ly(()=>{zf(n,"up")}),a=()=>zf(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function By(e){return Ag(e)&&!RE()}function sR(e,t,n={}){const[i,s,a]=jE(e,n),c=f=>{const g=f.currentTarget;if(!By(f))return;Vu.add(g);const p=t(g,f),y=(A,R)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",E),Vu.has(g)&&Vu.delete(g),By(A)&&typeof p=="function"&&p(A,{success:R})},w=A=>{y(A,g===window||g===document||n.useGlobalTarget||OE(g,A.target))},E=A=>{y(A,!1)};window.addEventListener("pointerup",w,s),window.addEventListener("pointercancel",E,s)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,s),DE(f)&&(f.addEventListener("focus",p=>rR(p,s)),!iR(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),a}function kE(e){return X3(e)&&"ownerSVGElement"in e}function aR(e){return kE(e)&&e.tagName==="svg"}const pn=e=>!!(e&&e.getVelocity),oR=[..._E,Bt,ms],lR=e=>oR.find(NE(e)),Sg=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class cR extends O.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=DE(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function uR({children:e,isPresent:t,anchorX:n,root:i}){const s=O.useId(),a=O.useRef(null),c=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=O.useContext(Sg);return O.useInsertionEffect(()=>{const{width:g,height:p,top:y,left:w,right:E}=c.current;if(t||!a.current||!g||!p)return;const A=n==="left"?`left: ${w}`:`right: ${E}`;a.current.dataset.motionPopId=s;const R=document.createElement("style");f&&(R.nonce=f);const M=i??document.head;return M.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${p}px !important;
            ${A}px !important;
            top: ${y}px !important;
          }
        `),()=>{M.removeChild(R),M.contains(R)&&M.removeChild(R)}},[t]),h.jsx(cR,{isPresent:t,childRef:a,sizeRef:c,children:O.cloneElement(e,{ref:a})})}const dR=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:a,mode:c,anchorX:f,root:g})=>{const p=tg(hR),y=O.useId();let w=!0,E=O.useMemo(()=>(w=!1,{id:y,initial:t,isPresent:n,custom:s,onExitComplete:A=>{p.set(A,!0);for(const R of p.values())if(!R)return;i&&i()},register:A=>(p.set(A,!1),()=>p.delete(A))}),[n,p,i]);return a&&w&&(E={...E}),O.useMemo(()=>{p.forEach((A,R)=>p.set(R,!1))},[n]),O.useEffect(()=>{!n&&!p.size&&i&&i()},[n]),c==="popLayout"&&(e=h.jsx(uR,{isPresent:n,anchorX:f,root:g,children:e})),h.jsx(gh.Provider,{value:E,children:e})};function hR(){return new Map}function LE(e=!0){const t=O.useContext(gh);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,a=O.useId();O.useEffect(()=>{if(e)return s(a)},[e]);const c=O.useCallback(()=>e&&i&&i(a),[a,i,e]);return!n&&i?[!1,c]:[!0]}const Eu=e=>e.key||"";function Py(e){const t=[];return O.Children.forEach(e,n=>{O.isValidElement(n)&&t.push(n)}),t}const Cg=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:a="sync",propagate:c=!1,anchorX:f="left",root:g})=>{const[p,y]=LE(c),w=O.useMemo(()=>Py(e),[e]),E=c&&!p?[]:w.map(Eu),A=O.useRef(!0),R=O.useRef(w),M=tg(()=>new Map),[D,C]=O.useState(w),[N,_]=O.useState(w);Y3(()=>{A.current=!1,R.current=w;for(let L=0;L<N.length;L++){const B=Eu(N[L]);E.includes(B)?M.delete(B):M.get(B)!==!0&&M.set(B,!1)}},[N,E.length,E.join("-")]);const k=[];if(w!==D){let L=[...w];for(let B=0;B<N.length;B++){const z=N[B],P=Eu(z);E.includes(P)||(L.splice(B,0,z),k.push(z))}return a==="wait"&&k.length&&(L=k),_(Py(L)),C(w),null}const{forceRender:V}=O.useContext(eg);return h.jsx(h.Fragment,{children:N.map(L=>{const B=Eu(L),z=c&&!p?!1:w===N||E.includes(B),P=()=>{if(M.has(B))M.set(B,!0);else return;let Y=!0;M.forEach(H=>{H||(Y=!1)}),Y&&(V==null||V(),_(R.current),c&&(y==null||y()),i&&i())};return h.jsx(dR,{isPresent:z,initial:!A.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,root:g,onExitComplete:z?void 0:P,anchorX:f,children:L},B)})})},BE=O.createContext({strict:!1}),Uy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},No={};for(const e in Uy)No[e]={isEnabled:t=>Uy[e].some(n=>!!t[n])};function fR(e){for(const t in e)No[t]={...No[t],...e[t]}}const mR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||mR.has(e)}let PE=e=>!jd(e);function gR(e){typeof e=="function"&&(PE=t=>t.startsWith("on")?!jd(t):e(t))}try{gR(require("@emotion/is-prop-valid").default)}catch{}function pR(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(PE(s)||n===!0&&jd(s)||!t&&!jd(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const ph=O.createContext({});function xh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function oc(e){return typeof e=="string"||Array.isArray(e)}const Ng=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_g=["initial",...Ng];function yh(e){return xh(e.animate)||_g.some(t=>oc(e[t]))}function UE(e){return!!(yh(e)||e.variants)}function xR(e,t){if(yh(e)){const{initial:n,animate:i}=e;return{initial:n===!1||oc(n)?n:void 0,animate:oc(i)?i:void 0}}return e.inherit!==!1?t:{}}function yR(e){const{initial:t,animate:n}=xR(e,O.useContext(ph));return O.useMemo(()=>({initial:t,animate:n}),[Fy(t),Fy(n)])}function Fy(e){return Array.isArray(e)?e.join(" "):e}const lc={};function bR(e){for(const t in e)lc[t]=e[t],ug(t)&&(lc[t].isCSSVariable=!0)}function FE(e,{layout:t,layoutId:n}){return Fo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!lc[e]||e==="opacity")}const wR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vR=Uo.length;function ER(e,t,n){let i="",s=!0;for(let a=0;a<vR;a++){const c=Uo[a],f=e[c];if(f===void 0)continue;let g=!0;if(typeof f=="number"?g=f===(c.startsWith("scale")?1:0):g=parseFloat(f)===0,!g||n){const p=ME(f,vg[c]);if(!g){s=!1;const y=wR[c]||c;i+=`${y}(${p}) `}n&&(t[c]=p)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function Tg(e,t,n){const{style:i,vars:s,transformOrigin:a}=e;let c=!1,f=!1;for(const g in t){const p=t[g];if(Fo.has(g)){c=!0;continue}else if(ug(g)){s[g]=p;continue}else{const y=ME(p,vg[g]);g.startsWith("origin")?(f=!0,a[g]=y):i[g]=y}}if(t.transform||(c||n?i.transform=ER(t,e.transform,n):i.transform&&(i.transform="none")),f){const{originX:g="50%",originY:p="50%",originZ:y=0}=a;i.transformOrigin=`${g} ${p} ${y}`}}const Ig=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VE(e,t,n){for(const i in t)!pn(t[i])&&!FE(i,n)&&(e[i]=t[i])}function AR({transformTemplate:e},t){return O.useMemo(()=>{const n=Ig();return Tg(n,t,e),Object.assign({},n.vars,n.style)},[t])}function SR(e,t){const n=e.style||{},i={};return VE(i,n,e),Object.assign(i,AR(e,t)),i}function CR(e,t){const n={},i=SR(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const NR={offset:"stroke-dashoffset",array:"stroke-dasharray"},_R={offset:"strokeDashoffset",array:"strokeDasharray"};function TR(e,t,n=1,i=0,s=!0){e.pathLength=1;const a=s?NR:_R;e[a.offset]=Ce.transform(-i);const c=Ce.transform(t),f=Ce.transform(n);e[a.array]=`${c} ${f}`}function zE(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:a=1,pathOffset:c=0,...f},g,p,y){if(Tg(e,f,p),g){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:w,style:E}=e;w.transform&&(E.transform=w.transform,delete w.transform),(E.transform||w.transformOrigin)&&(E.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),E.transform&&(E.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete w.transformBox),t!==void 0&&(w.x=t),n!==void 0&&(w.y=n),i!==void 0&&(w.scale=i),s!==void 0&&TR(w,s,a,c,!1)}const HE=()=>({...Ig(),attrs:{}}),GE=e=>typeof e=="string"&&e.toLowerCase()==="svg";function IR(e,t,n,i){const s=O.useMemo(()=>{const a=HE();return zE(a,t,GE(i),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};VE(a,e.style,e),s.style={...a,...s.style}}return s}const MR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mg(e){return typeof e!="string"||e.includes("-")?!1:!!(MR.indexOf(e)>-1||/[A-Z]/u.test(e))}function DR(e,t,n,{latestValues:i},s,a=!1){const f=(Mg(e)?IR:CR)(t,i,s,e),g=pR(t,typeof e=="string",a),p=e!==O.Fragment?{...g,...f,ref:n}:{},{children:y}=t,w=O.useMemo(()=>pn(y)?y.get():y,[y]);return O.createElement(e,{...p,children:w})}function Vy(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function Dg(e,t,n,i){if(typeof t=="function"){const[s,a]=Vy(i);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=Vy(i);t=t(n!==void 0?n:e.custom,s,a)}return t}function zu(e){return pn(e)?e.get():e}function RR({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:jR(n,i,s,e),renderState:t()}}function jR(e,t,n,i){const s={},a=i(e,{});for(const E in a)s[E]=zu(a[E]);let{initial:c,animate:f}=e;const g=yh(e),p=UE(e);t&&p&&!g&&e.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const w=y?f:c;if(w&&typeof w!="boolean"&&!xh(w)){const E=Array.isArray(w)?w:[w];for(let A=0;A<E.length;A++){const R=Dg(e,E[A]);if(R){const{transitionEnd:M,transition:D,...C}=R;for(const N in C){let _=C[N];if(Array.isArray(_)){const k=y?_.length-1:0;_=_[k]}_!==null&&(s[N]=_)}for(const N in M)s[N]=M[N]}}}return s}const YE=e=>(t,n)=>{const i=O.useContext(ph),s=O.useContext(gh),a=()=>RR(e,t,i,s);return n?a():tg(a)};function Rg(e,t,n){var a;const{style:i}=e,s={};for(const c in i)(pn(i[c])||t.style&&pn(t.style[c])||FE(c,e)||((a=n==null?void 0:n.getValue(c))==null?void 0:a.liveStyle)!==void 0)&&(s[c]=i[c]);return s}const OR=YE({scrapeMotionValuesFromProps:Rg,createRenderState:Ig});function qE(e,t,n){const i=Rg(e,t,n);for(const s in e)if(pn(e[s])||pn(t[s])){const a=Uo.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[a]=e[s]}return i}const kR=YE({scrapeMotionValuesFromProps:qE,createRenderState:HE}),LR=Symbol.for("motionComponentSymbol");function Wa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function BR(e,t,n){return O.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):Wa(n)&&(n.current=i))},[t])}const jg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),PR="framerAppearId",XE="data-"+jg(PR),WE=O.createContext({});function UR(e,t,n,i,s){var M,D;const{visualElement:a}=O.useContext(ph),c=O.useContext(BE),f=O.useContext(gh),g=O.useContext(Sg).reducedMotion,p=O.useRef(null);i=i||c.renderer,!p.current&&i&&(p.current=i(e,{visualState:t,parent:a,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:g}));const y=p.current,w=O.useContext(WE);y&&!y.projection&&s&&(y.type==="html"||y.type==="svg")&&FR(p.current,n,s,w);const E=O.useRef(!1);O.useInsertionEffect(()=>{y&&E.current&&y.update(n,f)});const A=n[XE],R=O.useRef(!!A&&!((M=window.MotionHandoffIsComplete)!=null&&M.call(window,A))&&((D=window.MotionHasOptimisedAnimation)==null?void 0:D.call(window,A)));return Y3(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),R.current&&y.animationState&&y.animationState.animateChanges())}),O.useEffect(()=>{y&&(!R.current&&y.animationState&&y.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,A)}),R.current=!1))}),y}function FR(e,t,n,i){const{layoutId:s,layout:a,drag:c,dragConstraints:f,layoutScroll:g,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ZE(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!c||f&&Wa(f),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:g,layoutRoot:p})}function ZE(e){if(e)return e.options.allowProjection!==!1?e.projection:ZE(e.parent)}function Hf(e,{forwardMotionProps:t=!1}={},n,i){n&&fR(n);const s=Mg(e)?kR:OR;function a(f,g){let p;const y={...O.useContext(Sg),...f,layoutId:VR(f)},{isStatic:w}=y,E=yR(f),A=s(f,w);if(!w&&ng){zR();const R=HR(y);p=R.MeasureLayout,E.visualElement=UR(e,A,y,i,R.ProjectionNode)}return h.jsxs(ph.Provider,{value:E,children:[p&&E.visualElement?h.jsx(p,{visualElement:E.visualElement,...y}):null,DR(e,f,BR(A,E.visualElement,g),A,w,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=O.forwardRef(a);return c[LR]=e,c}function VR({layoutId:e}){const t=O.useContext(eg).id;return t&&e!==void 0?t+"-"+e:e}function zR(e,t){O.useContext(BE).strict}function HR(e){const{drag:t,layout:n}=No;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function GR(e,t){if(typeof Proxy>"u")return Hf;const n=new Map,i=(a,c)=>Hf(a,c,e,t),s=(a,c)=>i(a,c);return new Proxy(s,{get:(a,c)=>c==="create"?i:(n.has(c)||n.set(c,Hf(c,void 0,e,t)),n.get(c))})}function KE({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function YR({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function qR(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Gf(e){return e===void 0||e===1}function _1({scale:e,scaleX:t,scaleY:n}){return!Gf(e)||!Gf(t)||!Gf(n)}function Ls(e){return _1(e)||QE(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function QE(e){return zy(e.x)||zy(e.y)}function zy(e){return e&&e!=="0%"}function Od(e,t,n){const i=e-n,s=t*i;return n+s}function Hy(e,t,n,i,s){return s!==void 0&&(e=Od(e,s,i)),Od(e,n,i)+t}function T1(e,t=0,n=1,i,s){e.min=Hy(e.min,t,n,i,s),e.max=Hy(e.max,t,n,i,s)}function $E(e,{x:t,y:n}){T1(e.x,t.translate,t.scale,t.originPoint),T1(e.y,n.translate,n.scale,n.originPoint)}const Gy=.999999999999,Yy=1.0000000000001;function XR(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,c;for(let f=0;f<s;f++){a=n[f],c=a.projectionDelta;const{visualElement:g}=a.options;g&&g.props.style&&g.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ka(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,$E(e,c)),i&&Ls(a.latestValues)&&Ka(e,a.latestValues))}t.x<Yy&&t.x>Gy&&(t.x=1),t.y<Yy&&t.y>Gy&&(t.y=1)}function Za(e,t){e.min=e.min+t,e.max=e.max+t}function qy(e,t,n,i,s=.5){const a=Et(e.min,e.max,s);T1(e,t,n,a,i)}function Ka(e,t){qy(e.x,t.x,t.scaleX,t.scale,t.originX),qy(e.y,t.y,t.scaleY,t.scale,t.originY)}function JE(e,t){return KE(qR(e.getBoundingClientRect(),t))}function WR(e,t,n){const i=JE(e,n),{scroll:s}=t;return s&&(Za(i.x,s.offset.x),Za(i.y,s.offset.y)),i}const Xy=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qa=()=>({x:Xy(),y:Xy()}),Wy=()=>({min:0,max:0}),Rt=()=>({x:Wy(),y:Wy()}),I1={current:null},eA={current:!1};function ZR(){if(eA.current=!0,!!ng)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>I1.current=e.matches;e.addEventListener("change",t),t()}else I1.current=!1}const KR=new WeakMap;function QR(e,t,n){for(const i in t){const s=t[i],a=n[i];if(pn(s))e.addValue(i,s);else if(pn(a))e.addValue(i,Co(s,{owner:e}));else if(a!==s)if(e.hasValue(i)){const c=e.getValue(i);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=e.getStaticValue(i);e.addValue(i,Co(c!==void 0?c:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Zy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $R{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:a,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Ln.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,yt.render(this.render,!1,!0))};const{latestValues:g,renderState:p}=c;this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=f,this.blockInitialAnimation=!!a,this.isControllingVariants=yh(n),this.isVariantNode=UE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in w){const A=w[E];g[E]!==void 0&&pn(A)&&A.set(g[E],!1)}}mount(t){this.current=t,KR.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),eA.current||ZR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:I1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),fs(this.notifyUpdate),fs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Fo.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&yt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in No){const n=No[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Zy.length;i++){const s=Zy[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,c=t[a];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=QR(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Co(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(q3(i)||W3(i))?i=parseFloat(i):!lR(i)&&ms.test(n)&&(i=IE(t,n)),this.setBaseTarget(t,pn(i)?i.get():i)),pn(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=Dg(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);c&&(i=c[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!pn(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new og),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Eg.render(this.render)}}class tA extends $R{constructor(){super(...arguments),this.KeyframeResolver=KD}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;pn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function nA(e,{style:t,vars:n},i,s){const a=e.style;let c;for(c in t)a[c]=t[c];s==null||s.applyProjectionStyles(a,i);for(c in n)a.setProperty(c,n[c])}function JR(e){return window.getComputedStyle(e)}class ej extends tA{constructor(){super(...arguments),this.type="html",this.renderInstance=nA}readValueFromInstance(t,n){var i;if(Fo.has(n))return(i=this.projection)!=null&&i.isProjecting?v1(n):gD(t,n);{const s=JR(t),a=(ug(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return JE(t,n)}build(t,n,i){Tg(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return Rg(t,n,i)}}const iA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tj(e,t,n,i){nA(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(iA.has(s)?s:jg(s),t.attrs[s])}class nj extends tA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Fo.has(n)){const i=TE(n);return i&&i.default||0}return n=iA.has(n)?n:jg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return qE(t,n,i)}build(t,n,i){zE(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){tj(t,n,i,s)}mount(t){this.isSVGTag=GE(t.tagName),super.mount(t)}}const ij=(e,t)=>Mg(e)?new nj(t):new ej(t,{allowProjection:e!==O.Fragment});function cc(e,t,n){const i=e.getProps();return Dg(i,t,n!==void 0?n:i.custom,e)}const M1=e=>Array.isArray(e);function rj(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Co(n))}function sj(e){return M1(e)?e[e.length-1]||0:e}function aj(e,t){const n=cc(e,t);let{transitionEnd:i={},transition:s={},...a}=n||{};a={...a,...i};for(const c in a){const f=sj(a[c]);rj(e,c,f)}}function oj(e){return!!(pn(e)&&e.add)}function D1(e,t){const n=e.getValue("willChange");if(oj(n))return n.add(t);if(!n&&vr.WillChange){const i=new vr.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function rA(e){return e.props[XE]}const lj=e=>e!==null;function cj(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(lj),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[a]}const uj={type:"spring",stiffness:500,damping:25,restSpeed:10},dj=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),hj={type:"keyframes",duration:.8},fj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mj=(e,{keyframes:t})=>t.length>2?hj:Fo.has(e)?e.startsWith("scale")?dj(t[1]):uj:fj;function gj({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:a,repeatType:c,repeatDelay:f,from:g,elapsed:p,...y}){return!!Object.keys(y).length}const Og=(e,t,n,i={},s,a)=>c=>{const f=wg(i,e)||{},g=f.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Yi(g);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:E=>{t.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:a?void 0:s};gj(f)||Object.assign(y,mj(e,y)),y.duration&&(y.duration=Yi(y.duration)),y.repeatDelay&&(y.repeatDelay=Yi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let w=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(w=!0)),(vr.instantAnimations||vr.skipAnimations)&&(w=!0,y.duration=0,y.delay=0),y.allowFlatten=!f.type&&!f.ease,w&&!a&&t.get()!==void 0){const E=cj(y.keyframes,f);if(E!==void 0){yt.update(()=>{y.onUpdate(E),y.onComplete()});return}}return f.isSync?new yg(y):new PD(y)};function pj({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function sA(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:c,...f}=t;i&&(a=i);const g=[],p=s&&e.animationState&&e.animationState.getState()[s];for(const y in f){const w=e.getValue(y,e.latestValues[y]??null),E=f[y];if(E===void 0||p&&pj(p,y))continue;const A={delay:n,...wg(a||{},y)},R=w.get();if(R!==void 0&&!w.isAnimating&&!Array.isArray(E)&&E===R&&!A.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const C=rA(e);if(C){const N=window.MotionHandoffAnimation(C,y,yt);N!==null&&(A.startTime=N,M=!0)}}D1(e,y),w.start(Og(y,w,E,e.shouldReduceMotion&&CE.has(y)?{type:!1}:A,e,M));const D=w.animation;D&&g.push(D)}return c&&Promise.all(g).then(()=>{yt.update(()=>{c&&aj(e,c)})}),g}function R1(e,t,n={}){var g;const i=cc(e,t,n.type==="exit"?(g=e.presenceContext)==null?void 0:g.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(sA(e,i,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:w,staggerDirection:E}=s;return xj(e,t,p,y,w,E,n)}:()=>Promise.resolve(),{when:f}=s;if(f){const[p,y]=f==="beforeChildren"?[a,c]:[c,a];return p().then(()=>y())}else return Promise.all([a(),c(n.delay)])}function xj(e,t,n=0,i=0,s=0,a=1,c){const f=[],g=e.variantChildren.size,p=(g-1)*s,y=typeof i=="function",w=y?E=>i(E,g):a===1?(E=0)=>E*s:(E=0)=>p-E*s;return Array.from(e.variantChildren).sort(yj).forEach((E,A)=>{E.notify("AnimationStart",t),f.push(R1(E,t,{...c,delay:n+(y?0:i)+w(A)}).then(()=>E.notify("AnimationComplete",t)))}),Promise.all(f)}function yj(e,t){return e.sortNodePosition(t)}function bj(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(a=>R1(e,a,n));i=Promise.all(s)}else if(typeof t=="string")i=R1(e,t,n);else{const s=typeof t=="function"?cc(e,t,n.custom):t;i=Promise.all(sA(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function aA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const wj=_g.length;function oA(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?oA(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<wj;n++){const i=_g[n],s=e.props[i];(oc(s)||s===!1)&&(t[i]=s)}return t}const vj=[...Ng].reverse(),Ej=Ng.length;function Aj(e){return t=>Promise.all(t.map(({animation:n,options:i})=>bj(e,n,i)))}function Sj(e){let t=Aj(e),n=Ky(),i=!0;const s=g=>(p,y)=>{var E;const w=cc(e,y,g==="exit"?(E=e.presenceContext)==null?void 0:E.custom:void 0);if(w){const{transition:A,transitionEnd:R,...M}=w;p={...p,...M,...R}}return p};function a(g){t=g(e)}function c(g){const{props:p}=e,y=oA(e.parent)||{},w=[],E=new Set;let A={},R=1/0;for(let D=0;D<Ej;D++){const C=vj[D],N=n[C],_=p[C]!==void 0?p[C]:y[C],k=oc(_),V=C===g?N.isActive:null;V===!1&&(R=D);let L=_===y[C]&&_!==p[C]&&k;if(L&&i&&e.manuallyAnimateOnMount&&(L=!1),N.protectedKeys={...A},!N.isActive&&V===null||!_&&!N.prevProp||xh(_)||typeof _=="boolean")continue;const B=Cj(N.prevProp,_);let z=B||C===g&&N.isActive&&!L&&k||D>R&&k,P=!1;const Y=Array.isArray(_)?_:[_];let H=Y.reduce(s(C),{});V===!1&&(H={});const{prevResolvedValues:Q={}}=N,te={...Q,...H},fe=re=>{z=!0,E.has(re)&&(P=!0,E.delete(re)),N.needsAnimating[re]=!0;const W=e.getValue(re);W&&(W.liveStyle=!1)};for(const re in te){const W=H[re],ae=Q[re];if(A.hasOwnProperty(re))continue;let J=!1;M1(W)&&M1(ae)?J=!aA(W,ae):J=W!==ae,J?W!=null?fe(re):E.add(re):W!==void 0&&E.has(re)?fe(re):N.protectedKeys[re]=!0}N.prevProp=_,N.prevResolvedValues=H,N.isActive&&(A={...A,...H}),i&&e.blockInitialAnimation&&(z=!1),z&&(!(L&&B)||P)&&w.push(...Y.map(re=>({animation:re,options:{type:C}})))}if(E.size){const D={};if(typeof p.initial!="boolean"){const C=cc(e,Array.isArray(p.initial)?p.initial[0]:p.initial);C&&C.transition&&(D.transition=C.transition)}E.forEach(C=>{const N=e.getBaseTarget(C),_=e.getValue(C);_&&(_.liveStyle=!0),D[C]=N??null}),w.push({animation:D})}let M=!!w.length;return i&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(M=!1),i=!1,M?t(w):Promise.resolve()}function f(g,p){var w;if(n[g].isActive===p)return Promise.resolve();(w=e.variantChildren)==null||w.forEach(E=>{var A;return(A=E.animationState)==null?void 0:A.setActive(g,p)}),n[g].isActive=p;const y=c(g);for(const E in n)n[E].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Ky(),i=!0}}}function Cj(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!aA(t,e):!1}function Ds(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ky(){return{animate:Ds(!0),whileInView:Ds(),whileHover:Ds(),whileTap:Ds(),whileDrag:Ds(),whileFocus:Ds(),exit:Ds()}}class ws{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Nj extends ws{constructor(t){super(t),t.animationState||(t.animationState=Sj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();xh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let _j=0;class Tj extends ws{constructor(){super(...arguments),this.id=_j++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Ij={animation:{Feature:Nj},exit:{Feature:Tj}};function uc(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function Pc(e){return{point:{x:e.pageX,y:e.pageY}}}const Mj=e=>t=>Ag(t)&&e(t,Pc(t));function Bl(e,t,n,i){return uc(e,t,Mj(n),i)}const lA=1e-4,Dj=1-lA,Rj=1+lA,cA=.01,jj=0-cA,Oj=0+cA;function An(e){return e.max-e.min}function kj(e,t,n){return Math.abs(e-t)<=n}function Qy(e,t,n,i=.5){e.origin=i,e.originPoint=Et(t.min,t.max,e.origin),e.scale=An(n)/An(t),e.translate=Et(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Dj&&e.scale<=Rj||isNaN(e.scale))&&(e.scale=1),(e.translate>=jj&&e.translate<=Oj||isNaN(e.translate))&&(e.translate=0)}function Pl(e,t,n,i){Qy(e.x,t.x,n.x,i?i.originX:void 0),Qy(e.y,t.y,n.y,i?i.originY:void 0)}function $y(e,t,n){e.min=n.min+t.min,e.max=e.min+An(t)}function Lj(e,t,n){$y(e.x,t.x,n.x),$y(e.y,t.y,n.y)}function Jy(e,t,n){e.min=t.min-n.min,e.max=e.min+An(t)}function Ul(e,t,n){Jy(e.x,t.x,n.x),Jy(e.y,t.y,n.y)}function ri(e){return[e("x"),e("y")]}const uA=({current:e})=>e?e.ownerDocument.defaultView:null,e2=(e,t)=>Math.abs(e-t);function Bj(e,t){const n=e2(e.x,t.x),i=e2(e.y,t.y);return Math.sqrt(n**2+i**2)}class dA{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=qf(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,R=Bj(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!R)return;const{point:M}=E,{timestamp:D}=an;this.history.push({...M,timestamp:D});const{onStart:C,onMove:N}=this.handlers;A||(C&&C(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,E)},this.handlePointerMove=(E,A)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Yf(A,this.transformPagePoint),yt.update(this.updatePoint,!0)},this.handlePointerUp=(E,A)=>{this.end();const{onEnd:R,onSessionEnd:M,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=qf(E.type==="pointercancel"?this.lastMoveEventInfo:Yf(A,this.transformPagePoint),this.history);this.startEvent&&R&&R(E,C),M&&M(E,C)},!Ag(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=s||window;const f=Pc(t),g=Yf(f,this.transformPagePoint),{point:p}=g,{timestamp:y}=an;this.history=[{...p,timestamp:y}];const{onSessionStart:w}=n;w&&w(t,qf(g,this.history)),this.removeListeners=kc(Bl(this.contextWindow,"pointermove",this.handlePointerMove),Bl(this.contextWindow,"pointerup",this.handlePointerUp),Bl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),fs(this.updatePoint)}}function Yf(e,t){return t?{point:t(e.point)}:e}function t2(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qf({point:e},t){return{point:e,delta:t2(e,hA(t)),offset:t2(e,Pj(t)),velocity:Uj(t,.1)}}function Pj(e){return e[0]}function hA(e){return e[e.length-1]}function Uj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=hA(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>Yi(t)));)n--;if(!i)return{x:0,y:0};const a=qi(s.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const c={x:(s.x-i.x)/a,y:(s.y-i.y)/a};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Fj(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Et(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Et(n,e,i.max):Math.min(e,n)),e}function n2(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Vj(e,{top:t,left:n,bottom:i,right:s}){return{x:n2(e.x,n,s),y:n2(e.y,t,i)}}function i2(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function zj(e,t){return{x:i2(e.x,t.x),y:i2(e.y,t.y)}}function Hj(e,t){let n=.5;const i=An(e),s=An(t);return s>i?n=rc(t.min,t.max-i,e.min):i>s&&(n=rc(e.min,e.max-s,t.min)),wr(0,1,n)}function Gj(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const j1=.35;function Yj(e=j1){return e===!1?e=0:e===!0&&(e=j1),{x:r2(e,"left","right"),y:r2(e,"top","bottom")}}function r2(e,t,n){return{min:s2(e,t),max:s2(e,n)}}function s2(e,t){return typeof e=="number"?e:e[t]||0}const qj=new WeakMap;class Xj{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=w=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pc(w).point)},c=(w,E)=>{const{drag:A,dragPropagation:R,onDragStart:M}=this.getProps();if(A&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=eR(A),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ri(C=>{let N=this.getAxisMotionValue(C).get()||0;if(Xi.test(N)){const{projection:_}=this.visualElement;if(_&&_.layout){const k=_.layout.layoutBox[C];k&&(N=An(k)*(parseFloat(N)/100))}}this.originPoint[C]=N}),M&&yt.postRender(()=>M(w,E)),D1(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},f=(w,E)=>{this.latestPointerEvent=w,this.latestPanInfo=E;const{dragPropagation:A,dragDirectionLock:R,onDirectionLock:M,onDrag:D}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:C}=E;if(R&&this.currentDirection===null){this.currentDirection=Wj(C),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",E.point,C),this.updateAxis("y",E.point,C),this.visualElement.render(),D&&D(w,E)},g=(w,E)=>{this.latestPointerEvent=w,this.latestPanInfo=E,this.stop(w,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ri(w=>{var E;return this.getAnimationState(w)==="paused"&&((E=this.getAxisMotionValue(w).animation)==null?void 0:E.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new dA(t,{onSessionStart:a,onStart:c,onMove:f,onSessionEnd:g,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:uA(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!i)return;const{velocity:c}=s;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&yt.postRender(()=>f(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!Au(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let c=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(c=Fj(c,this.constraints[t],this.elastic[t])),a.set(c)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;t&&Wa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=Vj(i.layoutBox,t):this.constraints=!1,this.elastic=Yj(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ri(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=Gj(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Wa(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=WR(i,s.root,this.visualElement.getTransformPagePoint());let c=zj(s.layout.layoutBox,a);if(n){const f=n(YR(c));this.hasMutatedConstraints=!!f,f&&(c=KE(f))}return c}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:a,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),g=this.constraints||{},p=ri(y=>{if(!Au(y,n,this.currentDirection))return;let w=g&&g[y]||{};c&&(w={min:0,max:0});const E=s?200:1e6,A=s?40:1e7,R={type:"inertia",velocity:i?t[y]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(y,R)});return Promise.all(p).then(f)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return D1(this.visualElement,t),i.start(Og(t,i,0,n,this.visualElement,!1))}stopAnimation(){ri(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ri(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){ri(n=>{const{drag:i}=this.getProps();if(!Au(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:c,max:f}=s.layout.layoutBox[n];a.set(t[n]-Et(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Wa(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ri(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const g=f.get();s[c]=Hj({min:g,max:g},this.constraints[c])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ri(c=>{if(!Au(c,t,null))return;const f=this.getAxisMotionValue(c),{min:g,max:p}=this.constraints[c];f.set(Et(g,p,s[c]))})}addListeners(){if(!this.visualElement.current)return;qj.set(this.visualElement,this);const t=this.visualElement.current,n=Bl(t,"pointerdown",g=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(g)}),i=()=>{const{dragConstraints:g}=this.getProps();Wa(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),yt.read(i);const c=uc(window,"resize",()=>this.scalePositionWithinConstraints()),f=s.addEventListener("didUpdate",({delta:g,hasLayoutChanged:p})=>{this.isDragging&&p&&(ri(y=>{const w=this.getAxisMotionValue(y);w&&(this.originPoint[y]+=g[y].translate,w.set(w.get()+g[y].translate))}),this.visualElement.render())});return()=>{c(),n(),a(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:c=j1,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:a,dragElastic:c,dragMomentum:f}}}function Au(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Wj(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Zj extends ws{constructor(t){super(t),this.removeGroupControls=hi,this.removeListeners=hi,this.controls=new Xj(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hi}unmount(){this.removeGroupControls(),this.removeListeners()}}const a2=e=>(t,n)=>{e&&yt.postRender(()=>e(t,n))};class Kj extends ws{constructor(){super(...arguments),this.removePointerDownListener=hi}onPointerDown(t){this.session=new dA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:a2(t),onStart:a2(n),onMove:i,onEnd:(a,c)=>{delete this.session,s&&yt.postRender(()=>s(a,c))}}}mount(){this.removePointerDownListener=Bl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function o2(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const cl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ce.test(e))e=parseFloat(e);else return e;const n=o2(e,t.target.x),i=o2(e,t.target.y);return`${n}% ${i}%`}},Qj={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=ms.parse(e);if(s.length>5)return i;const a=ms.createTransformer(e),c=typeof s[0]!="number"?1:0,f=n.x.scale*t.x,g=n.y.scale*t.y;s[0+c]/=f,s[1+c]/=g;const p=Et(f,g,.5);return typeof s[2+c]=="number"&&(s[2+c]/=p),typeof s[3+c]=="number"&&(s[3+c]/=p),a(s)}};let l2=!1;class $j extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:a}=t;bR(Jj),a&&(n.group&&n.group.add(a),i&&i.register&&s&&i.register(a),l2&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Hu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:a}=this.props,{projection:c}=i;return c&&(c.isPresent=a,l2=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==a?c.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?c.promote():c.relegate()||yt.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Eg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function fA(e){const[t,n]=LE(),i=O.useContext(eg);return h.jsx($j,{...e,layoutGroup:i,switchLayoutGroup:O.useContext(WE),isPresent:t,safeToRemove:n})}const Jj={borderRadius:{...cl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cl,borderTopRightRadius:cl,borderBottomLeftRadius:cl,borderBottomRightRadius:cl,boxShadow:Qj};function eO(e,t,n){const i=pn(e)?e:Co(e);return i.start(Og("",i,t,n)),i.animation}const tO=(e,t)=>e.depth-t.depth;class nO{constructor(){this.children=[],this.isDirty=!1}add(t){ig(this.children,t),this.isDirty=!0}remove(t){rg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(tO),this.isDirty=!1,this.children.forEach(t)}}function iO(e,t){const n=Ln.now(),i=({timestamp:s})=>{const a=s-n;a>=t&&(fs(i),e(a-t))};return yt.setup(i,!0),()=>fs(i)}const mA=["TopLeft","TopRight","BottomLeft","BottomRight"],rO=mA.length,c2=e=>typeof e=="string"?parseFloat(e):e,u2=e=>typeof e=="number"||Ce.test(e);function sO(e,t,n,i,s,a){s?(e.opacity=Et(0,n.opacity??1,aO(i)),e.opacityExit=Et(t.opacity??1,0,oO(i))):a&&(e.opacity=Et(t.opacity??1,n.opacity??1,i));for(let c=0;c<rO;c++){const f=`border${mA[c]}Radius`;let g=d2(t,f),p=d2(n,f);if(g===void 0&&p===void 0)continue;g||(g=0),p||(p=0),g===0||p===0||u2(g)===u2(p)?(e[f]=Math.max(Et(c2(g),c2(p),i),0),(Xi.test(p)||Xi.test(g))&&(e[f]+="%")):e[f]=p}(t.rotate||n.rotate)&&(e.rotate=Et(t.rotate||0,n.rotate||0,i))}function d2(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const aO=gA(0,.5,nE),oO=gA(.5,.95,hi);function gA(e,t,n){return i=>i<e?0:i>t?1:n(rc(e,t,i))}function h2(e,t){e.min=t.min,e.max=t.max}function ii(e,t){h2(e.x,t.x),h2(e.y,t.y)}function f2(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function m2(e,t,n,i,s){return e-=t,e=Od(e,1/n,i),s!==void 0&&(e=Od(e,1/s,i)),e}function lO(e,t=0,n=1,i=.5,s,a=e,c=e){if(Xi.test(t)&&(t=parseFloat(t),t=Et(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=Et(a.min,a.max,i);e===a&&(f-=t),e.min=m2(e.min,t,n,f,s),e.max=m2(e.max,t,n,f,s)}function g2(e,t,[n,i,s],a,c){lO(e,t[n],t[i],t[s],t.scale,a,c)}const cO=["x","scaleX","originX"],uO=["y","scaleY","originY"];function p2(e,t,n,i){g2(e.x,t,cO,n?n.x:void 0,i?i.x:void 0),g2(e.y,t,uO,n?n.y:void 0,i?i.y:void 0)}function x2(e){return e.translate===0&&e.scale===1}function pA(e){return x2(e.x)&&x2(e.y)}function y2(e,t){return e.min===t.min&&e.max===t.max}function dO(e,t){return y2(e.x,t.x)&&y2(e.y,t.y)}function b2(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function xA(e,t){return b2(e.x,t.x)&&b2(e.y,t.y)}function w2(e){return An(e.x)/An(e.y)}function v2(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class hO{constructor(){this.members=[]}add(t){ig(this.members,t),t.scheduleRender()}remove(t){if(rg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fO(e,t,n){let i="";const s=e.x.translate/t.x,a=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((s||a||c)&&(i=`translate3d(${s}px, ${a}px, ${c}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:w,rotateY:E,skewX:A,skewY:R}=n;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),w&&(i+=`rotateX(${w}deg) `),E&&(i+=`rotateY(${E}deg) `),A&&(i+=`skewX(${A}deg) `),R&&(i+=`skewY(${R}deg) `)}const f=e.x.scale*t.x,g=e.y.scale*t.y;return(f!==1||g!==1)&&(i+=`scale(${f}, ${g})`),i||"none"}const Xf=["","X","Y","Z"],mO=1e3;let gO=0;function Wf(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function yA(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=rA(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",yt,!(s||a))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&yA(i)}function bA({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(c={},f=t==null?void 0:t()){this.id=gO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yO),this.nodes.forEach(EO),this.nodes.forEach(AO),this.nodes.forEach(bO)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new nO)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new og),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const g=this.eventHandlers.get(c);g&&g.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=kE(c)&&!aR(c),this.instance=c;const{layoutId:f,layout:g,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||f)&&(this.isLayoutDirty=!0),e){let y,w=0;const E=()=>this.root.updateBlockedByResize=!1;yt.read(()=>{w=window.innerWidth}),e(c,()=>{const A=window.innerWidth;A!==w&&(w=A,this.root.updateBlockedByResize=!0,y&&y(),y=iO(E,250),Hu.hasAnimatedSinceResize&&(Hu.hasAnimatedSinceResize=!1,this.nodes.forEach(S2)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||g)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||p.getDefaultTransition()||TO,{onLayoutAnimationStart:M,onLayoutAnimationComplete:D}=p.getProps(),C=!this.targetLayout||!xA(this.targetLayout,A),N=!w&&E;if(this.options.layoutRoot||this.resumeFrom||N||w&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...wg(R,"layout"),onPlay:M,onComplete:D};(p.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(y,N)}else w||S2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const w=this.path[y];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:f,layout:g}=this.options;if(f===void 0&&!g)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(E2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(A2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vO),this.nodes.forEach(pO),this.nodes.forEach(xO)):this.nodes.forEach(A2),this.clearAllSnapshots();const f=Ln.now();an.delta=wr(0,1e3/60,f-an.timestamp),an.timestamp=f,an.isProcessing=!0,Bf.update.process(an),Bf.preRender.process(an),Bf.render.process(an),an.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Eg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wO),this.sharedNodes.forEach(CO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!An(this.snapshot.measuredBox.x)&&!An(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const g=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:g,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!pA(this.projectionDelta),g=this.getTransformTemplate(),p=g?g(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||Ls(this.latestValues)||y)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let g=this.removeElementScroll(f);return c&&(g=this.removeTransform(g)),IO(g),{animationId:this.root.animationId,measuredBox:f,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Rt();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(MO))){const{scroll:y}=this.root;y&&(Za(f.x,y.offset.x),Za(f.y,y.offset.y))}return f}removeElementScroll(c){var g;const f=Rt();if(ii(f,c),(g=this.scroll)!=null&&g.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:w,options:E}=y;y!==this.root&&w&&E.layoutScroll&&(w.wasRoot&&ii(f,c),Za(f.x,w.offset.x),Za(f.y,w.offset.y))}return f}applyTransform(c,f=!1){const g=Rt();ii(g,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Ka(g,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ls(y.latestValues)&&Ka(g,y.latestValues)}return Ls(this.latestValues)&&Ka(g,this.latestValues),g}removeTransform(c){const f=Rt();ii(f,c);for(let g=0;g<this.path.length;g++){const p=this.path[g];if(!p.instance||!Ls(p.latestValues))continue;_1(p.latestValues)&&p.updateSnapshot();const y=Rt(),w=p.measurePageBox();ii(y,w),p2(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ls(this.latestValues)&&p2(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==an.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==f;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:w}=this.options;if(!(!this.layout||!(y||w))){if(this.resolvedRelativeTargetAt=an.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Ul(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Lj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ii(this.target,this.layout.layoutBox),$E(this.target,this.targetDelta)):ii(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Ul(this.relativeTargetOrigin,this.target,A.target),ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_1(this.parent.latestValues)||QE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var R;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let g=!0;if((this.isProjectionDirty||(R=this.parent)!=null&&R.isProjectionDirty)&&(g=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===an.timestamp&&(g=!1),g)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;ii(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,E=this.treeScale.y;XR(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Rt());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(f2(this.prevProjectionDelta.x,this.projectionDelta.x),f2(this.prevProjectionDelta.y,this.projectionDelta.y)),Pl(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==E||!v2(this.projectionDelta.x,this.prevProjectionDelta.x)||!v2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qa(),this.projectionDelta=Qa(),this.projectionDeltaWithTransform=Qa()}setAnimationOrigin(c,f=!1){const g=this.snapshot,p=g?g.latestValues:{},y={...this.latestValues},w=Qa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=Rt(),A=g?g.source:void 0,R=this.layout?this.layout.source:void 0,M=A!==R,D=this.getStack(),C=!D||D.members.length<=1,N=!!(M&&!C&&this.options.crossfade===!0&&!this.path.some(_O));this.animationProgress=0;let _;this.mixTargetDelta=k=>{const V=k/1e3;C2(w.x,c.x,V),C2(w.y,c.y,V),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ul(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NO(this.relativeTarget,this.relativeTargetOrigin,E,V),_&&dO(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Rt()),ii(_,this.relativeTarget)),M&&(this.animationValues=y,sO(y,p,this.latestValues,V,N,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,g,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(g=this.resumingFrom)==null?void 0:g.currentAnimation)==null||p.stop(),this.pendingAnimation&&(fs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yt.update(()=>{Hu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Co(0)),this.currentAnimation=eO(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:g,layout:p,latestValues:y}=c;if(!(!f||!g||!p)){if(this!==c&&this.layout&&p&&wA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){g=this.target||Rt();const w=An(this.layout.layoutBox.x);g.x.min=c.target.x.min,g.x.max=g.x.min+w;const E=An(this.layout.layoutBox.y);g.y.min=c.target.y.min,g.y.max=g.y.min+E}ii(f,g),Ka(f,y),Pl(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new hO),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:g}={}){const p=this.getStack();p&&p.promote(this,g),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:g}=c;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(f=!0),!f)return;const p={};g.z&&Wf("z",c,p,this.animationValues);for(let y=0;y<Xf.length;y++)Wf(`rotate${Xf[y]}`,c,p,this.animationValues),Wf(`skew${Xf[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=zu(f==null?void 0:f.pointerEvents)||"",c.transform=g?g(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=zu(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Ls(this.latestValues)&&(c.transform=g?g({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let w=fO(this.projectionDeltaWithTransform,this.treeScale,y);g&&(w=g(y,w)),c.transform=w;const{x:E,y:A}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${A.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const R in lc){if(y[R]===void 0)continue;const{correct:M,applyTo:D,isCSSVariable:C}=lc[R],N=w==="none"?y[R]:M(y[R],p);if(D){const _=D.length;for(let k=0;k<_;k++)c[D[k]]=N}else C?this.options.visualElement.renderState.vars[R]=N:c[R]=N}this.options.layoutId&&(c.pointerEvents=p===this?zu(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(E2),this.root.sharedNodes.clear()}}}function pO(e){e.updateLayout()}function xO(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=e.layout,{animationType:a}=e.options,c=t.source!==e.layout.source;a==="size"?ri(w=>{const E=c?t.measuredBox[w]:t.layoutBox[w],A=An(E);E.min=i[w].min,E.max=E.min+A}):wA(a,t.layoutBox,i)&&ri(w=>{const E=c?t.measuredBox[w]:t.layoutBox[w],A=An(i[w]);E.max=E.min+A,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[w].max=e.relativeTarget[w].min+A)});const f=Qa();Pl(f,i,t.layoutBox);const g=Qa();c?Pl(g,e.applyTransform(s,!0),t.measuredBox):Pl(g,i,t.layoutBox);const p=!pA(f);let y=!1;if(!e.resumeFrom){const w=e.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:E,layout:A}=w;if(E&&A){const R=Rt();Ul(R,t.layoutBox,E.layoutBox);const M=Rt();Ul(M,i,A.layoutBox),xA(R,M)||(y=!0),w.options.layoutRoot&&(e.relativeTarget=M,e.relativeTargetOrigin=R,e.relativeParent=w)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:g,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function yO(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function bO(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function wO(e){e.clearSnapshot()}function E2(e){e.clearMeasurements()}function A2(e){e.isLayoutDirty=!1}function vO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function S2(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function EO(e){e.resolveTargetDelta()}function AO(e){e.calcProjection()}function SO(e){e.resetSkewAndRotation()}function CO(e){e.removeLeadSnapshot()}function C2(e,t,n){e.translate=Et(t.translate,0,n),e.scale=Et(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function N2(e,t,n,i){e.min=Et(t.min,n.min,i),e.max=Et(t.max,n.max,i)}function NO(e,t,n,i){N2(e.x,t.x,n.x,i),N2(e.y,t.y,n.y,i)}function _O(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const TO={duration:.45,ease:[.4,0,.1,1]},_2=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),T2=_2("applewebkit/")&&!_2("chrome/")?Math.round:hi;function I2(e){e.min=T2(e.min),e.max=T2(e.max)}function IO(e){I2(e.x),I2(e.y)}function wA(e,t,n){return e==="position"||e==="preserve-aspect"&&!kj(w2(t),w2(n),.2)}function MO(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const DO=bA({attachResizeListener:(e,t)=>uc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zf={current:void 0},vA=bA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zf.current){const e=new DO({});e.mount(window),e.setOptions({layoutScroll:!0}),Zf.current=e}return Zf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),RO={pan:{Feature:Kj},drag:{Feature:Zj,ProjectionNode:vA,MeasureLayout:fA}};function M2(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=i[s];a&&yt.postRender(()=>a(t,Pc(t)))}class jO extends ws{mount(){const{current:t}=this.node;t&&(this.unmount=tR(t,(n,i)=>(M2(this.node,i,"Start"),s=>M2(this.node,s,"End"))))}unmount(){}}class OO extends ws{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kc(uc(this.node.current,"focus",()=>this.onFocus()),uc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function D2(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=i[s];a&&yt.postRender(()=>a(t,Pc(t)))}class kO extends ws{mount(){const{current:t}=this.node;t&&(this.unmount=sR(t,(n,i)=>(D2(this.node,i,"Start"),(s,{success:a})=>D2(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const O1=new WeakMap,Kf=new WeakMap,LO=e=>{const t=O1.get(e.target);t&&t(e)},BO=e=>{e.forEach(LO)};function PO({root:e,...t}){const n=e||document;Kf.has(n)||Kf.set(n,{});const i=Kf.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(BO,{root:e,...t})),i[s]}function UO(e,t,n){const i=PO(t);return O1.set(e,n),i.observe(e),()=>{O1.delete(e),i.unobserve(e)}}const FO={some:0,all:1};class VO extends ws{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:a}=t,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:FO[s]},f=g=>{const{isIntersecting:p}=g;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:w}=this.node.getProps(),E=p?y:w;E&&E(g)};return UO(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(zO(t,n))&&this.startObserver()}unmount(){}}function zO({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const HO={inView:{Feature:VO},tap:{Feature:kO},focus:{Feature:OO},hover:{Feature:jO}},GO={layout:{ProjectionNode:vA,MeasureLayout:fA}},YO={...Ij,...HO,...RO,...GO},Ht=GR(YO,ij);function qO({userCompany:e}){const[t,n]=O.useState([]),[i,s]=O.useState(""),[a,c]=O.useState(null),[f,g]=O.useState(!1),[p,y]=O.useState({showCompany:!0,showTime:!0,autoHide:!0,hideDelay:5e3,backgroundColor:"#1e40af",textColor:"#ffffff"});O.useEffect(()=>{w()},[e]),O.useEffect(()=>{if(i){const R=ue.channel("check-ins").on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendees",filter:`event_id=eq.${i}`},M=>{M.new.checked_in&&!M.old.checked_in&&c({id:M.new.id,name:M.new.name,company:M.new.company,check_in_time:M.new.check_in_time})}).subscribe();return()=>{R.unsubscribe()}}},[i]),O.useEffect(()=>{if(a&&p.autoHide){const R=setTimeout(()=>{c(null)},p.hideDelay);return()=>clearTimeout(R)}},[a,p.autoHide,p.hideDelay]);const w=async()=>{try{const{data:R,error:M}=await ue.from("events").select("id, name, company:companies(name)").order("created_at",{ascending:!1});if(M)throw M;if(R){const D=R.map(C=>({...C,company:Array.isArray(C.company)?C.company[0]:C.company}));n(D)}}catch(R){console.error("Error fetching events:",R)}},E=()=>{f?document.exitFullscreen():document.documentElement.requestFullscreen(),g(!f)},A=()=>h.jsx("div",{className:"h-full flex items-center justify-center relative",style:{backgroundColor:p.backgroundColor,color:p.textColor},children:h.jsx(Cg,{children:a?h.jsx(Ht.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",duration:.8},className:"text-center",children:h.jsxs(Ht.div,{initial:{y:20},animate:{y:0},className:"mb-8",children:[h.jsx("h1",{className:"text-6xl md:text-8xl font-bold mb-4",children:"Welcome!"}),h.jsx("div",{className:"text-4xl md:text-6xl font-semibold mb-2",children:a.name}),p.showCompany&&a.company&&h.jsx("div",{className:"text-2xl md:text-4xl opacity-80",children:a.company}),p.showTime&&h.jsx("div",{className:"text-xl md:text-2xl opacity-60 mt-4",children:new Date(a.check_in_time).toLocaleTimeString()})]})}):h.jsxs(Ht.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[h.jsx(Ot,{className:"h-32 w-32 mx-auto mb-8 opacity-50"}),h.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:"Welcome to the Event"}),h.jsx("p",{className:"text-xl md:text-2xl opacity-80",children:"Waiting for check-ins..."})]})})});return f?h.jsxs("div",{className:"fixed inset-0 z-50",children:[h.jsx(A,{}),h.jsx("button",{onClick:E,className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white p-2 rounded-lg hover:bg-opacity-70 transition-colors",children:"Exit Fullscreen"})]}):h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome Monitor"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Display latest check-ins on external monitor"})]}),h.jsxs("button",{onClick:E,disabled:!i,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(n5,{className:"h-5 w-5 mr-2"}),"Fullscreen"]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[h.jsx(w3,{className:"h-6 w-6 mr-2"}),"Settings"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event"}),h.jsxs("select",{value:i,onChange:R=>s(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Select an event"}),t.map(R=>h.jsxs("option",{value:R.id,children:[R.name," (",R.company.name,")"]},R.id))]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:p.showCompany,onChange:R=>y({...p,showCompany:R.target.checked}),className:"mr-2"}),h.jsx("span",{className:"text-sm",children:"Show Company"})]}),h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:p.showTime,onChange:R=>y({...p,showTime:R.target.checked}),className:"mr-2"}),h.jsx("span",{className:"text-sm",children:"Show Check-in Time"})]}),h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:p.autoHide,onChange:R=>y({...p,autoHide:R.target.checked}),className:"mr-2"}),h.jsx("span",{className:"text-sm",children:"Auto Hide"})]})]}),p.autoHide&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hide Delay (seconds)"}),h.jsx("input",{type:"number",value:p.hideDelay/1e3,onChange:R=>y({...p,hideDelay:parseInt(R.target.value)*1e3}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",max:"30"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Color"}),h.jsx("input",{type:"color",value:p.backgroundColor,onChange:R=>y({...p,backgroundColor:R.target.value}),className:"w-full h-10 border border-gray-300 rounded-md"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text Color"}),h.jsx("input",{type:"color",value:p.textColor,onChange:R=>y({...p,textColor:R.target.value}),className:"w-full h-10 border border-gray-300 rounded-md"})]})]})]}),h.jsx("div",{className:"lg:col-span-2",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[h.jsx(wo,{className:"h-6 w-6 mr-2"}),"Preview"]}),h.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden",children:i?h.jsx(A,{}):h.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:h.jsxs("div",{className:"text-center",children:[h.jsx(wo,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),h.jsx("p",{children:"Select an event to see preview"})]})})}),h.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[h.jsx("p",{children:" This preview shows how the welcome screen will appear"}),h.jsx("p",{children:' Click "Fullscreen" to display on external monitor'}),h.jsx("p",{children:" New check-ins will automatically appear in real-time"})]})]})})]})]})}function XO({userCompany:e}){const[t,n]=O.useState([]),[i,s]=O.useState(""),[a,c]=O.useState([]),[f,g]=O.useState(!1),[p,y]=O.useState(null),[w,E]=O.useState([]),[A,R]=O.useState(""),[M,D]=O.useState(!1);O.useEffect(()=>{C()},[]),O.useEffect(()=>{i&&N()},[i]);const C=async()=>{try{let z=ue.from("events").select(`
          id,
          name,
          company_id,
          company:companies(name)
        `);e&&(z=z.eq("company_id",e.company_id));const{data:P,error:Y}=await z.order("created_at",{ascending:!1});if(Y)throw Y;const H=(P==null?void 0:P.map(Q=>({...Q,company:Array.isArray(Q.company)?Q.company[0]:Q.company})))||[];n(H),e&&H&&H.length>0&&s(H[0].id)}catch(z){le.error("Error fetching events: "+z.message)}},N=async()=>{try{const{data:z,error:P}=await ue.from("attendees").select("id, name, company").eq("event_id",i).eq("checked_in",!0);if(P)throw P;c(z)}catch(z){le.error("Error fetching attendees: "+z.message)}},_=()=>{if(a.length===0){le.error("No checked-in attendees available for draw");return}const z=a.filter(Q=>!w.find(te=>te.id===Q.id));if(z.length===0){le.error("All attendees have already won!");return}g(!0),y(null);let P=0;const Y=30,H=setInterval(()=>{const Q=z[Math.floor(Math.random()*z.length)];if(R(Q.name),P++,P>=Y){clearInterval(H);const te=z[Math.floor(Math.random()*z.length)];y(te),R(te.name),g(!1),le.success(` ${te.name} wins!`)}},100)},k=()=>{p&&(E([...w,p]),y(null),R(""))},V=()=>{y(null),R(""),g(!1),E([])},L=()=>{M?document.exitFullscreen():document.documentElement.requestFullscreen(),D(!M)},B=()=>h.jsxs("div",{className:"h-full bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-700 flex items-center justify-center relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0",children:[...Array(20)].map((z,P)=>h.jsx(Ht.div,{className:"absolute w-2 h-2 bg-white rounded-full opacity-30",animate:{x:[0,Math.random()*100-50],y:[0,Math.random()*100-50],scale:[0,1,0]},transition:{duration:3,repeat:1/0,delay:Math.random()*2},style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`}},P))}),h.jsx("div",{className:"text-center text-white z-10",children:h.jsxs(Cg,{mode:"wait",children:[!f&&!p&&h.jsxs(Ht.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"space-y-8",children:[h.jsx(Ya,{className:"h-32 w-32 mx-auto mb-8"}),h.jsx("h1",{className:"text-6xl md:text-8xl font-bold mb-4",children:"Lucky Draw"}),h.jsx("p",{className:"text-2xl md:text-3xl opacity-80",children:"Ready to pick a winner?"})]}),f&&h.jsxs(Ht.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8",children:[h.jsx(Ht.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:h.jsx(Sd,{className:"h-24 w-24 mx-auto mb-8"})}),h.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-8",children:"Drawing..."}),h.jsx(Ht.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-3xl md:text-5xl font-semibold bg-white bg-opacity-20 rounded-lg p-6",children:A},A)]}),p&&h.jsxs(Ht.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{opacity:0},className:"space-y-8",children:[h.jsx(Ht.div,{animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:h.jsx(a1,{className:"h-32 w-32 mx-auto mb-8 text-yellow-300"})}),h.jsx(Ht.h1,{className:"text-4xl md:text-6xl font-bold mb-4",animate:{scale:[1,1.05,1]},transition:{duration:1,repeat:1/0},children:" WINNER! "}),h.jsx(Ht.div,{initial:{y:20},animate:{y:0},className:"text-4xl md:text-6xl font-bold bg-white bg-opacity-20 rounded-lg p-8",children:p.name}),p.company&&h.jsx(Ht.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-2xl md:text-3xl opacity-80",children:p.company})]})]})})]});return M?h.jsxs("div",{className:"fixed inset-0 z-50",children:[h.jsx(B,{}),h.jsxs("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-4",children:[!f&&!p&&h.jsx("button",{onClick:_,className:"bg-white text-purple-600 px-8 py-4 rounded-lg font-bold text-xl hover:bg-gray-100 transition-colors",children:"Start Draw"}),p&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:k,className:"bg-green-600 text-white px-8 py-4 rounded-lg font-bold text-xl hover:bg-green-700 transition-colors",children:"Confirm Winner"}),h.jsx("button",{onClick:_,className:"bg-blue-600 text-white px-8 py-4 rounded-lg font-bold text-xl hover:bg-blue-700 transition-colors",children:"Draw Again"})]}),h.jsx("button",{onClick:L,className:"bg-gray-600 text-white px-6 py-4 rounded-lg hover:bg-gray-700 transition-colors",children:"Exit"})]})]}):h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lucky Draw"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Random winner selection from checked-in attendees"})]}),h.jsxs("button",{onClick:L,disabled:!i,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(Ya,{className:"h-5 w-5 mr-2"}),"Fullscreen Draw"]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[h.jsx(Ya,{className:"h-6 w-6 mr-2"}),"Draw Controls"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e&&t.length<=1?"Event":"Select Event"}),e&&t.length===1?h.jsx("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:t[0].name}):h.jsxs("select",{value:i,onChange:z=>s(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[!e&&h.jsx("option",{value:"",children:"Select an event"}),t.map(z=>h.jsx("option",{value:z.id,children:e?z.name:`${z.name} (${z.company.name})`},z.id))]})]}),i&&h.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center text-purple-700 mb-2",children:[h.jsx(Ot,{className:"h-5 w-5 mr-2"}),h.jsx("span",{className:"font-medium",children:"Eligible Participants"})]}),h.jsx("div",{className:"text-2xl font-bold text-purple-900",children:a.filter(z=>!w.find(P=>P.id===z.id)).length}),h.jsxs("div",{className:"text-sm text-purple-600",children:[a.length," total checked-in  ",w.length," already won"]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("button",{onClick:_,disabled:!i||f||a.length===0,className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(y3,{className:"h-5 w-5 mr-2"}),f?"Drawing...":"Start Lucky Draw"]}),p&&h.jsx("button",{onClick:k,className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Confirm Winner"}),h.jsxs("button",{onClick:V,className:"w-full bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center",children:[h.jsx(h5,{className:"h-4 w-4 mr-2"}),"Reset All"]})]})]})]}),h.jsxs("div",{className:"lg:col-span-2",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Preview"}),h.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden",children:i?h.jsx(B,{}):h.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Ya,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),h.jsx("p",{children:"Select an event to see preview"})]})})})]}),w.length>0&&h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-6",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[h.jsx(a1,{className:"h-6 w-6 mr-2 text-yellow-500"}),"Previous Winners"]}),h.jsx("div",{className:"space-y-2",children:w.map((z,P)=>h.jsxs("div",{className:"flex items-center p-3 bg-yellow-50 rounded-lg",children:[h.jsx("div",{className:"w-8 h-8 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3",children:P+1}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium text-gray-900",children:z.name}),z.company&&h.jsx("div",{className:"text-sm text-gray-600",children:z.company})]})]},z.id))})]})]})]})]})}function WO({userCompany:e}){const[t,n]=O.useState([]),[i,s]=O.useState(""),[a,c]=O.useState([]),[f,g]=O.useState(0),[p,y]=O.useState(!1),[w,E]=O.useState(""),[A,R]=O.useState(!1);O.useEffect(()=>{M()},[]),O.useEffect(()=>{i&&(D(),C())},[i]),O.useEffect(()=>{let L;return p&&a.length>0&&(L=setInterval(()=>{g(B=>(B+1)%a.length)},3e3)),()=>clearInterval(L)},[p,a.length]);const M=async()=>{try{let L=ue.from("events").select(`
          id,
          name,
          company_id,
          company:companies(name)
        `);e&&(L=L.eq("company_id",e.company_id));const{data:B,error:z}=await L.order("created_at",{ascending:!1});if(z)throw z;const P=B.map(Y=>({...Y,company:Array.isArray(Y.company)?Y.company[0]:Y.company}));n(P),e&&P&&P.length>0&&s(P[0].id)}catch(L){le.error("Error fetching events: "+L.message)}},D=async()=>{try{R(!0);const{data:L,error:B}=await ue.from("gallery_photos").select("*").eq("event_id",i).order("created_at",{ascending:!1});if(B)throw B;c(L)}catch(L){le.error("Error fetching photos: "+L.message)}finally{R(!1)}},C=async()=>{try{const L=`${window.location.origin}/public/gallery/${i}`,B=await Ni.toDataURL(L);E(B)}catch(L){console.error("Error generating QR code:",L)}},N=async L=>{if(confirm("Are you sure you want to delete this photo?"))try{const{error:B}=await ue.from("gallery_photos").delete().eq("id",L);if(B)throw B;le.success("Photo deleted successfully"),D()}catch(B){le.error("Error deleting photo: "+B.message)}},_=()=>{const L=[...a].sort(()=>Math.random()-.5);c(L),g(0)},k=(L,B)=>{const z=document.createElement("a");z.href=L,z.download=`gallery-photo-${B+1}.jpg`,z.click()},V=()=>{var L,B,z;return h.jsx("div",{className:"h-full bg-black flex items-center justify-center relative",children:a.length>0?h.jsxs("div",{className:"relative w-full h-full",children:[h.jsx("img",{src:(L=a[f])==null?void 0:L.photo_url,alt:"Gallery",className:"w-full h-full object-contain"}),h.jsxs("div",{className:"absolute bottom-8 left-8 text-white bg-black bg-opacity-50 rounded-lg p-4",children:[h.jsx("div",{className:"text-lg font-semibold",children:((B=a[f])==null?void 0:B.attendee_name)||"Anonymous"}),h.jsx("div",{className:"text-sm opacity-80",children:new Date((z=a[f])==null?void 0:z.created_at).toLocaleString()})]}),h.jsxs("div",{className:"absolute bottom-8 right-8 text-white bg-black bg-opacity-50 rounded-lg px-4 py-2",children:[f+1," / ",a.length]})]}):h.jsxs("div",{className:"text-white text-center",children:[h.jsx(as,{className:"h-24 w-24 mx-auto mb-4 opacity-50"}),h.jsx("h2",{className:"text-2xl font-bold mb-2",children:"No Photos Yet"}),h.jsx("p",{className:"opacity-80",children:"Waiting for attendees to upload photos..."})]})})};return h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Event Gallery"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Manage photo uploads and slideshow display"})]}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsxs("button",{onClick:_,disabled:a.length===0,className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors flex items-center disabled:opacity-50",children:[h.jsx(v3,{className:"h-5 w-5 mr-2"}),"Shuffle"]}),h.jsx("button",{onClick:()=>y(!p),disabled:a.length===0,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:p?"Stop Slideshow":"Start Slideshow"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[h.jsx(us,{className:"h-6 w-6 mr-2"}),"Gallery Setup"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e&&t.length<=1?"Event":"Select Event"}),e&&t.length===1?h.jsx("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:t[0].name}):h.jsxs("select",{value:i,onChange:L=>s(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[!e&&h.jsx("option",{value:"",children:"Select an event"}),t.map(L=>h.jsx("option",{value:L.id,children:e?L.name:`${L.name} (${L.company.name})`},L.id))]})]}),i&&w&&h.jsxs("div",{className:"text-center",children:[h.jsx("h3",{className:"font-medium mb-2",children:"Upload QR Code"}),h.jsx("img",{src:w,alt:"Gallery QR Code",className:"w-48 h-48 mx-auto border rounded-lg"}),h.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Attendees scan this to upload photos"}),h.jsx("button",{onClick:()=>navigator.clipboard.writeText(`${window.location.origin}/public/gallery/${i}`),className:"mt-2 text-blue-600 hover:text-blue-700 text-sm",children:"Copy Upload Link"})]}),i&&h.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[h.jsx("div",{className:"text-blue-700 font-medium mb-1",children:"Gallery Stats"}),h.jsx("div",{className:"text-2xl font-bold text-blue-900",children:a.length}),h.jsx("div",{className:"text-sm text-blue-600",children:"Photos uploaded"})]})]})]}),h.jsxs("div",{className:"lg:col-span-2",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[h.jsx(as,{className:"h-6 w-6 mr-2"}),"Gallery Display"]}),h.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden mb-4",children:i?h.jsx(V,{}):h.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:h.jsxs("div",{className:"text-center",children:[h.jsx(as,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),h.jsx("p",{children:"Select an event to see gallery"})]})})}),a.length>0&&h.jsxs("div",{className:"flex justify-center space-x-2",children:[h.jsx("button",{onClick:()=>g(Math.max(0,f-1)),className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 transition-colors",children:"Previous"}),h.jsxs("span",{className:"px-3 py-1 bg-gray-100 rounded",children:[f+1," / ",a.length]}),h.jsx("button",{onClick:()=>g(Math.min(a.length-1,f+1)),className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 transition-colors",children:"Next"})]})]}),a.length>0&&h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-6",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Photos"}),A?h.jsx("div",{className:"flex items-center justify-center h-32",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:a.map((L,B)=>h.jsxs("div",{className:"relative group",children:[h.jsx("img",{src:L.photo_url,alt:"Gallery",className:"w-full h-24 object-cover rounded-lg cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>g(B)}),h.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all rounded-lg flex items-center justify-center",children:h.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex space-x-2",children:[h.jsx("button",{onClick:()=>k(L.photo_url,B),className:"text-white hover:text-blue-300 transition-colors",children:h.jsx(x3,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>N(L.id),className:"text-white hover:text-red-300 transition-colors",children:h.jsx(ds,{className:"h-4 w-4"})})]})}),L.attendee_name&&h.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 text-white text-xs p-1 rounded-b-lg truncate",children:L.attendee_name})]},L.id))})]})]})]})]})}function ZO({userCompany:e}){const[t,n]=O.useState([]),[i,s]=O.useState(""),[a,c]=O.useState([]),[f,g]=O.useState([]),[p,y]=O.useState(!1),[w,E]=O.useState(null),[A,R]=O.useState(null),[M,D]=O.useState({table_number:1,table_type:"Regular",capacity:8,quantity:1}),C=["VVIP","VIP","Regular","Staff"],N={VVIP:"bg-purple-500",VIP:"bg-yellow-500",Regular:"bg-blue-500",Staff:"bg-gray-500"};O.useEffect(()=>{_()},[]),O.useEffect(()=>{i&&(k(),V())},[i]);const _=async()=>{try{let W=ue.from("events").select(`
          id,
          name,
          company_id,
          company:companies(name)
        `);e&&(W=W.eq("company_id",e.company_id));const{data:ae,error:J}=await W.order("created_at",{ascending:!1});if(J)throw J;const me=(ae==null?void 0:ae.map(ve=>({...ve,company:Array.isArray(ve.company)?ve.company[0]:ve.company})))||[];n(me),e&&me&&me.length>0&&s(me[0].id)}catch(W){le.error("Error fetching events: "+W.message)}},k=async()=>{try{const{data:W,error:ae}=await ue.from("tables").select("*").eq("event_id",i).order("table_number");if(ae)throw ae;c(W)}catch(W){le.error("Error fetching tables: "+W.message)}},V=async()=>{try{const{data:W,error:ae}=await ue.from("attendees").select("id, name, company, table_assignment").eq("event_id",i);if(ae)throw ae;g(W)}catch(W){le.error("Error fetching attendees: "+W.message)}},L=async W=>{W.preventDefault();try{if(w){const{error:ae}=await ue.from("tables").update({table_number:M.table_number,table_type:M.table_type,capacity:M.capacity}).eq("id",w.id);if(ae)throw ae;le.success("Table updated successfully")}else{const ae=[],J=M.table_number;for(let ve=0;ve<M.quantity;ve++)ae.push({event_id:i,table_number:J+ve,table_type:M.table_type,capacity:M.capacity});const{error:me}=await ue.from("tables").insert(ae);if(me)throw me;le.success(`${M.quantity} table(s) created successfully`)}P(),k()}catch(ae){le.error("Error saving table: "+ae.message)}},B=async W=>{var ae;if(confirm("Are you sure you want to delete this table? Attendees will be unassigned."))try{await ue.from("attendees").update({table_assignment:null}).eq("table_assignment",(ae=a.find(me=>me.id===W))==null?void 0:ae.table_number.toString());const{error:J}=await ue.from("tables").delete().eq("id",W);if(J)throw J;le.success("Table deleted successfully"),k(),V()}catch(J){le.error("Error deleting table: "+J.message)}},z=async(W,ae)=>{try{const{error:J}=await ue.from("attendees").update({table_assignment:(ae==null?void 0:ae.toString())||null}).eq("id",W);if(J)throw J;V()}catch(J){le.error("Error assigning attendee: "+J.message)}},P=()=>{D({table_number:Math.max(...a.map(W=>W.table_number),0)+1,table_type:"Regular",capacity:8,quantity:1}),E(null),y(!1)},Y=W=>{E(W),D({table_number:W.table_number,table_type:W.table_type,capacity:W.capacity,quantity:1}),y(!0)},H=W=>f.filter(ae=>ae.table_assignment===W.toString()),Q=f.filter(W=>!W.table_assignment),te=async()=>{if(confirm("This will randomly assign all unassigned attendees to available regular tables. Continue?"))try{const W=a.filter(Ae=>Ae.table_type==="Regular"),ae=[];if(W.forEach(Ae=>{const Ze=H(Ae.table_number),ye=Ae.capacity-Ze.length;ye>0&&ae.push({tableNumber:Ae.table_number,availableSeats:ye})}),ae.length===0){le.error("No available seats in regular tables");return}const J=[...Q].sort(()=>Math.random()-.5),me=[];let ve=0,_e=0;for(const Ae of J){if(ve>=ae.length)break;const Ze=ae[ve];me.push({attendeeId:Ae.id,tableNumber:Ze.tableNumber}),_e++,_e>=Ze.availableSeats&&(ve++,_e=0)}for(const Ae of me)await ue.from("attendees").update({table_assignment:Ae.tableNumber.toString()}).eq("id",Ae.attendeeId);le.success(`${me.length} attendees randomly assigned to regular tables`),V()}catch(W){le.error("Error randomizing seating: "+W.message)}},fe=(W,ae)=>{R(ae),W.dataTransfer.effectAllowed="move"},X=W=>{W.preventDefault(),W.dataTransfer.dropEffect="move"},ne=async(W,ae)=>{if(W.preventDefault(),!A)return;const J=a.find(ve=>ve.table_number===ae);if(!J)return;if(H(ae).length>=J.capacity){le.error("Table is full");return}await z(A.id,ae),R(null)},re=async W=>{W.preventDefault(),A&&(await z(A.id,null),R(null))};return h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Seating Arrangement"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Manage tables and assign attendees"})]}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsxs("button",{onClick:te,disabled:!i||Q.length===0,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center disabled:opacity-50",children:[h.jsx(v3,{className:"h-5 w-5 mr-2"}),"Randomize Seating"]}),h.jsxs("button",{onClick:()=>y(!0),disabled:!i,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:[h.jsx(nc,{className:"h-5 w-5 mr-2"}),"Add Table"]})]})]}),h.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e&&t.length<=1?"Event":"Select Event"}),e&&t.length===1?h.jsx("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:t[0].name}):h.jsxs("select",{value:i,onChange:W=>s(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[!e&&h.jsx("option",{value:"",children:"Choose an event"}),t.map(W=>h.jsx("option",{value:W.id,children:e?W.name:`${W.name} (${W.company.name})`},W.id))]})]}),i&&h.jsx("div",{className:"flex items-end",children:h.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 w-full",children:[h.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Seating Summary"}),h.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[a.reduce((W,ae)=>W+ae.capacity,0)," seats"]}),h.jsxs("div",{className:"text-sm text-blue-600",children:[a.length," tables  ",f.filter(W=>W.table_assignment).length," assigned"]})]})})]})}),i&&h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-md p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[h.jsx(ta,{className:"h-6 w-6 mr-2"}),"Table Layout"]}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-6",children:a.map(W=>{const ae=H(W.table_number);return h.jsxs("div",{className:`relative p-4 rounded-lg text-white ${N[W.table_type]} hover:opacity-80 transition-opacity`,onDragOver:X,onDrop:J=>ne(J,W.table_number),children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"font-bold text-lg",children:["Table ",W.table_number]}),h.jsx("div",{className:"text-sm opacity-90",children:W.table_type})]}),h.jsxs("div",{className:"flex space-x-1",children:[h.jsx("button",{onClick:()=>Y(W),className:"text-white hover:text-gray-200 transition-colors",children:h.jsx(uh,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>B(W.id),className:"text-white hover:text-red-200 transition-colors",children:h.jsx(ds,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"text-sm",children:[ae.length," / ",W.capacity," seats"]}),h.jsxs("div",{className:"mt-2 space-y-1",children:[ae.slice(0,3).map(J=>h.jsx("div",{className:"text-xs bg-white bg-opacity-20 rounded px-2 py-1 truncate cursor-move",draggable:!0,onDragStart:me=>fe(me,J),children:J.name},J.id)),ae.length>3&&h.jsxs("div",{className:"text-xs opacity-75",children:["+",ae.length-3," more"]})]})]},W.id)})}),a.length===0&&h.jsxs("div",{className:"text-center py-12 text-gray-500",children:[h.jsx(ta,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),h.jsx("p",{children:"No tables created yet"}),h.jsx("p",{className:"text-sm",children:"Add tables to start arranging seating"})]}),h.jsxs("div",{className:"border-t pt-4",children:[h.jsx("h3",{className:"font-medium mb-2",children:"Table Types"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(W=>h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:`w-4 h-4 rounded ${N[W]} mr-2`}),h.jsx("span",{className:"text-sm",children:W})]},W))})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[h.jsx(Ot,{className:"h-6 w-6 mr-2"}),"Unassigned Attendees"]}),h.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto border-2 border-dashed border-gray-300 rounded-lg p-4 min-h-32",onDragOver:X,onDrop:re,children:[Q.map(W=>h.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg cursor-move hover:bg-gray-50 transition-colors",draggable:!0,onDragStart:ae=>fe(ae,W),children:[h.jsx("div",{className:"font-medium text-gray-900",children:W.name}),W.company&&h.jsx("div",{className:"text-sm text-gray-600",children:W.company}),h.jsxs("select",{value:"",onChange:ae=>z(W.id,ae.target.value?parseInt(ae.target.value):null),className:"mt-2 w-full text-sm px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",onClick:ae=>ae.stopPropagation(),children:[h.jsx("option",{value:"",children:"Assign to table..."}),a.map(ae=>{const J=H(ae.table_number),me=J.length<ae.capacity;return h.jsxs("option",{value:ae.table_number,disabled:!me,children:["Table ",ae.table_number," (",ae.table_type,") - ",J.length,"/",ae.capacity,!me&&" (Full)"]},ae.id)})]})]},W.id)),Q.length===0&&h.jsxs("div",{className:"text-center py-8 text-gray-500",children:[h.jsx(Ot,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),h.jsx("p",{children:"All attendees assigned"}),h.jsx("p",{className:"text-xs mt-1",children:"Drag attendees here to unassign"})]})]}),f.filter(W=>W.table_assignment).length>0&&h.jsxs("div",{className:"mt-6 pt-4 border-t",children:[h.jsx("h3",{className:"font-medium mb-2",children:"Assigned Attendees"}),h.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:f.filter(W=>W.table_assignment).map(W=>h.jsxs("div",{className:"flex justify-between items-center text-sm",children:[h.jsx("span",{children:W.name}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsxs("span",{className:"text-gray-600",children:["Table ",W.table_assignment]}),h.jsx("button",{onClick:()=>z(W.id,null),className:"text-red-600 hover:text-red-700",children:h.jsx(ds,{className:"h-3 w-3"})})]})]},W.id))})]})]})]}),p&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[h.jsx("h2",{className:"text-xl font-bold mb-4",children:w?"Edit Table":"Add New Table"}),h.jsxs("form",{onSubmit:L,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Table Number"}),h.jsx("input",{type:"number",value:M.table_number,onChange:W=>D({...M,table_number:parseInt(W.target.value)||1}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",required:!0}),!w&&h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Starting table number (will increment for multiple tables)"})]}),!w&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),h.jsx("input",{type:"number",value:M.quantity,onChange:W=>D({...M,quantity:parseInt(W.target.value)||1}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",max:"20",required:!0}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Number of tables to create with these settings"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Table Type"}),h.jsx("select",{value:M.table_type,onChange:W=>D({...M,table_type:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:C.map(W=>h.jsx("option",{value:W,children:W},W))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Capacity"}),h.jsx("input",{type:"number",value:M.capacity,onChange:W=>D({...M,capacity:parseInt(W.target.value)||8}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",max:"20",required:!0})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[h.jsx("button",{type:"button",onClick:P,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[h.jsx(m5,{className:"h-4 w-4 mr-2"}),w?"Update Table":`Create ${M.quantity} Table${M.quantity>1?"s":""}`]})]})]})]})})]})}function KO(){const[e,t]=O.useState([]),[n,i]=O.useState([]),[s,a]=O.useState(new Date().getFullYear()),[c,f]=O.useState(!0);O.useEffect(()=>{g(),p()},[s]);const g=async()=>{try{f(!0);const{data:M,error:D}=await ue.from("events").select(`
          id,
          created_at,
          company_id
        `).gte("created_at",`${s}-01-01`).lt("created_at",`${s+1}-01-01`);if(D)throw D;const C=(M==null?void 0:M.map(B=>B.id))||[],{data:N,error:_}=await ue.from("attendees").select("id, event_id, checked_in, created_at").in("event_id",C);if(_)throw _;const{data:k,error:V}=await ue.from("companies").select("id, created_at").gte("created_at",`${s}-01-01`).lt("created_at",`${s+1}-01-01`);if(V)throw V;const L=[];for(let B=0;B<12;B++){const z=new Date(s,B,1),P=new Date(s,B+1,0),Y=(M==null?void 0:M.filter(te=>{const fe=new Date(te.created_at);return fe>=z&&fe<=P}))||[],H=(N==null?void 0:N.filter(te=>{const fe=new Date(te.created_at);return fe>=z&&fe<=P}))||[],Q=(k==null?void 0:k.filter(te=>{const fe=new Date(te.created_at);return fe>=z&&fe<=P}))||[];L.push({month:z.toLocaleDateString("en-US",{month:"short"}),events:Y.length,attendees:H.length,checkedIn:H.filter(te=>te.checked_in).length,companies:Q.length})}t(L)}catch(M){le.error("Error fetching monthly progress: "+M.message)}finally{f(!1)}},p=async()=>{try{const{data:M,error:D}=await ue.from("companies").select(`
          id,
          name,
          events!inner(
            id,
            attendees(id, checked_in)
          )
        `);if(D)throw D;const C=(M==null?void 0:M.map(N=>{const _=N.events||[],k=_.flatMap(V=>V.attendees||[]);return{id:N.id,name:N.name,events:_.length,attendees:k.length,checkedIn:k.filter(V=>V.checked_in).length}}))||[];i(C.sort((N,_)=>_.attendees-N.attendees))}catch(M){console.error("Error fetching company progress:",M)}},y=e.reduce((M,D)=>M+D.events,0),w=e.reduce((M,D)=>M+D.attendees,0),E=e.reduce((M,D)=>M+D.checkedIn,0),A=e.reduce((M,D)=>M+D.companies,0),R=Math.max(...e.map(M=>Math.max(M.events,M.attendees/10,M.checkedIn/10)));return h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Monthly Progress"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Track monthly performance and growth"})]}),h.jsx("div",{children:h.jsx("select",{value:s,onChange:M=>a(parseInt(M.target.value)),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:5},(M,D)=>new Date().getFullYear()-D).map(M=>h.jsx("option",{value:M,children:M},M))})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[h.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Kt,{className:"h-8 w-8 text-blue-600 mr-3"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-gray-900",children:y}),h.jsx("div",{className:"text-sm text-gray-600",children:"Total Events"})]})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Ot,{className:"h-8 w-8 text-green-600 mr-3"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-gray-900",children:w}),h.jsx("div",{className:"text-sm text-gray-600",children:"Total Attendees"})]})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Ra,{className:"h-8 w-8 text-purple-600 mr-3"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-gray-900",children:E}),h.jsx("div",{className:"text-sm text-gray-600",children:"Checked In"})]})]})}),h.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Si,{className:"h-8 w-8 text-orange-600 mr-3"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-gray-900",children:A}),h.jsx("div",{className:"text-sm text-gray-600",children:"New Companies"})]})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[h.jsx(bo,{className:"h-6 w-6 mr-2"}),"Monthly Trends (",s,")"]}),c?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):h.jsx("div",{className:"space-y-4",children:e.map((M,D)=>h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"font-medium",children:M.month}),h.jsxs("span",{className:"text-gray-600",children:[M.events," events  ",M.attendees," attendees"]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-16 text-xs text-gray-600",children:"Events"}),h.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${R>0?M.events/R*100:0}%`}})}),h.jsx("div",{className:"w-8 text-xs text-right",children:M.events})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-16 text-xs text-gray-600",children:"Attendees"}),h.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${R>0?M.attendees/10/R*100:0}%`}})}),h.jsx("div",{className:"w-8 text-xs text-right",children:M.attendees})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-16 text-xs text-gray-600",children:"Check-ins"}),h.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${R>0?M.checkedIn/10/R*100:0}%`}})}),h.jsx("div",{className:"w-8 text-xs text-right",children:M.checkedIn})]})]})]},D))})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[h.jsx(Si,{className:"h-6 w-6 mr-2"}),"Company Performance"]}),h.jsxs("div",{className:"space-y-4",children:[n.slice(0,10).map((M,D)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3",children:D+1}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium text-gray-900",children:M.name}),h.jsxs("div",{className:"text-sm text-gray-600",children:[M.events," events  ",M.attendees," attendees"]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-lg font-bold text-gray-900",children:M.checkedIn}),h.jsx("div",{className:"text-xs text-gray-600",children:"checked in"})]})]},M.id)),n.length===0&&h.jsxs("div",{className:"text-center py-8 text-gray-500",children:[h.jsx(Si,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),h.jsx("p",{children:"No company data available"})]})]})]})]})]})}function QO({userCompany:e}){const[t,n]=O.useState([]),[i,s]=O.useState(""),[a,c]=O.useState([]),[f,g]=O.useState(""),[p,y]=O.useState([]),[w,E]=O.useState(!1),[A,R]=O.useState(!1),[M,D]=O.useState(null),[C,N]=O.useState(""),[_,k]=O.useState({title:"",description:""}),[V,L]=O.useState({title:"",photo_url:""});O.useEffect(()=>{B()},[]),O.useEffect(()=>{i&&z()},[i]),O.useEffect(()=>{f&&(P(),Y())},[f]);const B=async()=>{try{let J=ue.from("events").select(`
          id,
          name,
          company_id,
          company:companies(name)
        `);e&&(J=J.eq("company_id",e.company_id));const{data:me,error:ve}=await J.order("created_at",{ascending:!1});if(ve)throw ve;const _e=(me==null?void 0:me.map(Ae=>({...Ae,company:Array.isArray(Ae.company)?Ae.company[0]:Ae.company})))||[];n(_e),e&&_e&&_e.length>0&&s(_e[0].id)}catch(J){le.error("Error fetching events: "+J.message)}},z=async()=>{try{const{data:J,error:me}=await ue.from("voting_sessions").select("*").eq("event_id",i).order("created_at",{ascending:!1});if(me)throw me;c(J)}catch(J){le.error("Error fetching voting sessions: "+J.message)}},P=async()=>{try{const{data:J,error:me}=await ue.from("voting_photos").select("*").eq("voting_session_id",f).order("created_at",{ascending:!1});if(me)throw me;const ve=await Promise.all(J.map(async _e=>{const{data:Ae}=await ue.from("votes").select("id").eq("voting_photo_id",_e.id);return{..._e,vote_count:(Ae==null?void 0:Ae.length)||0}}));y(ve)}catch(J){le.error("Error fetching photos: "+J.message)}},Y=async()=>{try{const J=`${window.location.origin}/public/voting/${f}`,me=await Ni.toDataURL(J);N(me)}catch(J){console.error("Error generating QR code:",J)}},H=async J=>{J.preventDefault();try{if(M){const{error:me}=await ue.from("voting_sessions").update({title:_.title,description:_.description||null}).eq("id",M.id);if(me)throw me;le.success("Voting session updated successfully")}else{const{error:me}=await ue.from("voting_sessions").insert([{event_id:i,title:_.title,description:_.description||null}]);if(me)throw me;le.success("Voting session created successfully")}ne(),z()}catch(me){le.error("Error saving voting session: "+me.message)}},Q=async J=>{J.preventDefault();try{const{error:me}=await ue.from("voting_photos").insert([{voting_session_id:f,title:V.title,photo_url:V.photo_url}]);if(me)throw me;le.success("Photo added successfully"),re(),P()}catch(me){le.error("Error adding photo: "+me.message)}},te=async(J,me)=>{try{me&&await ue.from("voting_sessions").update({is_active:!1}).eq("event_id",i);const{error:ve}=await ue.from("voting_sessions").update({is_active:me}).eq("id",J);if(ve)throw ve;le.success(`Voting session ${me?"activated":"deactivated"}`),z()}catch(ve){le.error("Error updating session status: "+ve.message)}},fe=async J=>{if(confirm("Are you sure you want to delete this voting session? This will also delete all photos and votes."))try{const{error:me}=await ue.from("voting_sessions").delete().eq("id",J);if(me)throw me;le.success("Voting session deleted successfully"),z(),f===J&&(g(""),y([]))}catch(me){le.error("Error deleting session: "+me.message)}},X=async J=>{if(confirm("Are you sure you want to delete this photo? This will also delete all votes for it."))try{const{error:me}=await ue.from("voting_photos").delete().eq("id",J);if(me)throw me;le.success("Photo deleted successfully"),P()}catch(me){le.error("Error deleting photo: "+me.message)}},ne=()=>{k({title:"",description:""}),D(null),E(!1)},re=()=>{L({title:"",photo_url:""}),R(!1)},W=J=>{D(J),k({title:J.title,description:J.description||""}),E(!0)},ae=async J=>{var ve;const me=(ve=J.target.files)==null?void 0:ve[0];if(me){if(me.size>10*1024*1024){le.error("File size must be less than 10MB");return}if(!me.type.startsWith("image/")){le.error("Please select an image file");return}try{const _e=new FileReader;_e.onload=Ae=>{var ye;const Ze=(ye=Ae.target)==null?void 0:ye.result;L({...V,photo_url:Ze})},_e.readAsDataURL(me)}catch(_e){le.error("Error uploading file: "+_e.message)}}};return h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Voting Administration"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Manage voting sessions and photos"})]}),h.jsxs("button",{onClick:()=>E(!0),disabled:!i,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:[h.jsx(nc,{className:"h-5 w-5 mr-2"}),"New Voting Session"]})]}),h.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e&&t.length<=1?"Event":"Select Event"}),e&&t.length===1?h.jsx("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:t[0].name}):h.jsxs("select",{value:i,onChange:J=>s(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[!e&&h.jsx("option",{value:"",children:"Select an event"}),t.map(J=>h.jsx("option",{value:J.id,children:e?J.name:`${J.name} (${J.company.name})`},J.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Voting Session"}),h.jsxs("select",{value:f,onChange:J=>g(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"",children:"Select a voting session"}),a.map(J=>h.jsxs("option",{value:J.id,children:[J.title," ",J.is_active&&"(Active)"]},J.id))]})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[h.jsx(Gi,{className:"h-6 w-6 mr-2"}),"Voting Sessions"]}),h.jsxs("div",{className:"space-y-3",children:[a.map(J=>h.jsxs("div",{className:`p-4 border rounded-lg ${J.is_active?"border-green-500 bg-green-50":"border-gray-200"}`,children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-gray-900",children:J.title}),J.description&&h.jsx("p",{className:"text-sm text-gray-600",children:J.description})]}),h.jsxs("div",{className:"flex space-x-1",children:[h.jsx("button",{onClick:()=>te(J.id,!J.is_active),className:`p-1 rounded ${J.is_active?"text-red-600 hover:text-red-700":"text-green-600 hover:text-green-700"}`,children:J.is_active?h.jsx(s5,{className:"h-4 w-4"}):h.jsx(y3,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>W(J),className:"text-gray-400 hover:text-blue-600 transition-colors",children:h.jsx(uh,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>fe(J.id),className:"text-gray-400 hover:text-red-600 transition-colors",children:h.jsx(ds,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"text-xs text-gray-500",children:["Created ",new Date(J.created_at).toLocaleDateString()]})]},J.id)),a.length===0&&i&&h.jsxs("div",{className:"text-center py-8 text-gray-500",children:[h.jsx(Gi,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),h.jsx("p",{children:"No voting sessions yet"})]})]})]}),h.jsx("div",{className:"lg:col-span-2",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[h.jsx(as,{className:"h-6 w-6 mr-2"}),"Voting Photos"]}),h.jsxs("button",{onClick:()=>R(!0),disabled:!f,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center disabled:opacity-50",children:[h.jsx(nc,{className:"h-5 w-5 mr-2"}),"Add Photo"]})]}),f&&C&&h.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Voting QR Code"}),h.jsx("p",{className:"text-sm text-blue-700",children:"Share this QR code for attendees to vote"})]}),h.jsx("img",{src:C,alt:"Voting QR Code",className:"w-24 h-24 border rounded-lg"})]})}),p.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(J=>h.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[h.jsx("img",{src:J.photo_url,alt:J.title,className:"w-full h-48 object-cover"}),h.jsxs("div",{className:"p-4",children:[h.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:J.title}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("span",{className:"text-sm text-gray-600",children:[J.vote_count," votes"]}),h.jsx("button",{onClick:()=>X(J.id),className:"text-red-600 hover:text-red-700",children:h.jsx(ds,{className:"h-4 w-4"})})]})]})]},J.id))}):f?h.jsxs("div",{className:"text-center py-12 text-gray-500",children:[h.jsx(as,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),h.jsx("p",{children:"No photos added yet"}),h.jsx("p",{className:"text-sm",children:"Add photos for attendees to vote on"})]}):h.jsxs("div",{className:"text-center py-12 text-gray-500",children:[h.jsx(Gi,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),h.jsx("p",{children:"Select a voting session to manage photos"})]})]})})]}),w&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[h.jsx("h2",{className:"text-xl font-bold mb-4",children:M?"Edit Voting Session":"Create Voting Session"}),h.jsxs("form",{onSubmit:H,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),h.jsx("input",{type:"text",value:_.title,onChange:J=>k({..._,title:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter voting session title",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),h.jsx("textarea",{value:_.description,onChange:J=>k({..._,description:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Enter description (optional)"})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[h.jsx("button",{type:"button",onClick:ne,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:M?"Update Session":"Create Session"})]})]})]})}),A&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[h.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add Voting Photo"}),h.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photo Title *"}),h.jsx("input",{type:"text",value:V.title,onChange:J=>L({...V,title:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter photo title",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Photo *"}),h.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:V.photo_url?h.jsxs("div",{className:"space-y-2",children:[h.jsx("img",{src:V.photo_url,alt:"Preview",className:"max-w-full h-32 object-contain mx-auto rounded"}),h.jsx("button",{type:"button",onClick:()=>L({...V,photo_url:""}),className:"text-blue-600 hover:text-blue-700 text-sm",children:"Choose Different Photo"})]}):h.jsxs("div",{children:[h.jsx(Cd,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Click to upload photo"}),h.jsx("input",{type:"file",accept:"image/*",onChange:ae,className:"hidden",id:"photo-upload"}),h.jsx("label",{htmlFor:"photo-upload",className:"inline-block bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:"Select Photo"})]})})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[h.jsx("button",{type:"button",onClick:re,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:!V.photo_url,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:"Add Photo"})]})]})]})})]})}function $O({userCompany:e}){const[t,n]=O.useState([]),[i,s]=O.useState(""),[a,c]=O.useState([]),[f,g]=O.useState(0),[p,y]=O.useState(!1),[w,E]=O.useState(0);O.useEffect(()=>{A()},[]),O.useEffect(()=>{if(i){R();const C=ue.channel("votes").on("postgres_changes",{event:"*",schema:"public",table:"votes"},()=>{R()}).subscribe();return()=>{C.unsubscribe()}}},[i]),O.useEffect(()=>{if(a.length>0){const C=setInterval(()=>{E(N=>(N+1)%a.length)},5e3);return()=>clearInterval(C)}},[a.length]);const A=async()=>{try{let C=ue.from("voting_sessions").select(`
          id,
          title,
          description,
          event:events(
            id,
            name,
            company_id,
            company:companies(name)
          )
        `).eq("is_active",!0);if(e){const{data:V}=await ue.from("events").select("id").eq("company_id",e.company_id),L=(V==null?void 0:V.map(B=>B.id))||[];L.length>0&&(C=C.in("event_id",L))}const{data:N,error:_}=await C.order("created_at",{ascending:!1});if(_)throw _;const k=(N==null?void 0:N.map(V=>{var L,B,z,P;return{...V,event:{id:(L=V.event[0])==null?void 0:L.id,name:(B=V.event[0])==null?void 0:B.name,company:Array.isArray((z=V.event[0])==null?void 0:z.company)?V.event[0].company[0]:(P=V.event[0])==null?void 0:P.company}}}))||[];n(k)}catch(C){console.error("Error fetching voting sessions:",C)}},R=async()=>{try{const{data:C,error:N}=await ue.from("voting_photos").select("*").eq("voting_session_id",i).order("created_at",{ascending:!1});if(N)throw N;const _=await Promise.all(C.map(async L=>{const{data:B}=await ue.from("votes").select("id").eq("voting_photo_id",L.id);return{...L,vote_count:(B==null?void 0:B.length)||0}})),k=_.reduce((L,B)=>L+B.vote_count,0);g(k);const V=_.map(L=>({...L,vote_percentage:k>0?L.vote_count/k*100:0}));V.sort((L,B)=>B.vote_count-L.vote_count),c(V)}catch(C){console.error("Error fetching photos with votes:",C)}},M=()=>{p?document.exitFullscreen():document.documentElement.requestFullscreen(),y(!p)},D=()=>{var C,N,_,k,V,L;return h.jsxs("div",{className:"h-full bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 text-white relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0",children:[...Array(15)].map((B,z)=>h.jsx(Ht.div,{className:"absolute w-2 h-2 bg-white rounded-full opacity-20",animate:{x:[0,Math.random()*100-50],y:[0,Math.random()*100-50],scale:[0,1,0]},transition:{duration:4,repeat:1/0,delay:Math.random()*3},style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`}},z))}),h.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[h.jsx("div",{className:"text-center py-8",children:h.jsxs(Ht.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-2",children:[h.jsx("h1",{className:"text-4xl md:text-6xl font-bold",children:"Live Voting Results"}),i&&h.jsx("div",{className:"text-xl md:text-2xl opacity-80",children:(C=t.find(B=>B.id===i))==null?void 0:C.title}),h.jsxs("div",{className:"text-lg md:text-xl opacity-60",children:["Total Votes: ",f]})]})}),h.jsx("div",{className:"flex-1 px-8 pb-8",children:a.length>0?h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 h-full",children:[h.jsx("div",{className:"flex flex-col",children:h.jsx(Cg,{mode:"wait",children:h.jsxs(Ht.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.5},className:"flex-1 bg-white bg-opacity-10 rounded-lg p-6 flex flex-col",children:[h.jsx("div",{className:"flex-1 flex items-center justify-center",children:h.jsx("img",{src:(N=a[w])==null?void 0:N.photo_url,alt:(_=a[w])==null?void 0:_.title,className:"max-w-full max-h-full object-contain rounded-lg"})}),h.jsxs("div",{className:"mt-4 text-center",children:[h.jsx("h3",{className:"text-2xl font-bold mb-2",children:(k=a[w])==null?void 0:k.title}),h.jsxs("div",{className:"text-4xl font-bold text-yellow-300",children:[(V=a[w])==null?void 0:V.vote_count," votes"]}),h.jsxs("div",{className:"text-xl opacity-80",children:[(L=a[w])==null?void 0:L.vote_percentage.toFixed(1),"%"]})]})]},w)})}),h.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-6",children:[h.jsxs("h2",{className:"text-3xl font-bold mb-6 text-center flex items-center justify-center",children:[h.jsx(a1,{className:"h-8 w-8 mr-3 text-yellow-300"}),"Leaderboard"]}),h.jsx("div",{className:"space-y-4",children:a.slice(0,5).map((B,z)=>h.jsxs(Ht.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:z*.1},className:"flex items-center space-x-4 bg-white bg-opacity-10 rounded-lg p-4",children:[h.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg ${z===0?"bg-yellow-500":z===1?"bg-gray-400":z===2?"bg-orange-600":"bg-blue-500"}`,children:z+1}),h.jsx("img",{src:B.photo_url,alt:B.title,className:"w-16 h-16 object-cover rounded-lg"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-semibold text-lg",children:B.title}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("span",{className:"text-2xl font-bold",children:B.vote_count}),h.jsx("div",{className:"flex-1 bg-white bg-opacity-20 rounded-full h-3",children:h.jsx(Ht.div,{className:"bg-yellow-400 h-3 rounded-full",initial:{width:0},animate:{width:`${B.vote_percentage}%`},transition:{duration:1,delay:z*.1}})}),h.jsxs("span",{className:"text-lg font-semibold",children:[B.vote_percentage.toFixed(1),"%"]})]})]})]},B.id))})]})]}):h.jsx("div",{className:"h-full flex items-center justify-center",children:h.jsxs(Ht.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[h.jsx(Gi,{className:"h-32 w-32 mx-auto mb-8 opacity-50"}),h.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Waiting for Votes"}),h.jsx("p",{className:"text-xl opacity-80",children:"No votes cast yet"})]})})})]})]})};return p?h.jsxs("div",{className:"fixed inset-0 z-50",children:[h.jsx(D,{}),h.jsx("button",{onClick:M,className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white p-2 rounded-lg hover:bg-opacity-70 transition-colors",children:"Exit Fullscreen"})]}):h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Voting Monitor"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Display live voting results"})]}),h.jsxs("button",{onClick:M,disabled:!i,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(wo,{className:"h-5 w-5 mr-2"}),"Fullscreen Monitor"]})]}),h.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Active Voting Session"}),h.jsxs("select",{value:i,onChange:C=>s(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[h.jsx("option",{value:"",children:"Select an active voting session"}),t.map(C=>h.jsxs("option",{value:C.id,children:[C.title," - ",C.event.name]},C.id))]})]}),i&&h.jsx("div",{className:"flex items-end",children:h.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 w-full",children:[h.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Live Stats"}),h.jsx("div",{className:"text-2xl font-bold text-purple-900",children:f}),h.jsx("div",{className:"text-sm text-purple-600",children:"Total Votes Cast"})]})})]})}),h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[h.jsx(bo,{className:"h-6 w-6 mr-2"}),"Monitor Preview"]}),h.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden",children:i?h.jsx(D,{}):h.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Gi,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),h.jsx("p",{children:"Select an active voting session to see preview"})]})})}),h.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[h.jsx("p",{children:" This preview shows how the voting monitor will appear"}),h.jsx("p",{children:' Click "Fullscreen Monitor" to display on external screen'}),h.jsx("p",{children:" Results update automatically in real-time"}),h.jsx("p",{children:" Photos rotate every 5 seconds in fullscreen mode"})]})]})]})}function JO(){const{eventId:e}=eh(),t=Tc(),[n,i]=O.useState(null),[s,a]=O.useState(!0),[c,f]=O.useState(!1),[g,p]=O.useState({name:"",email:"",phone:"",identification_number:"",staff_id:""});O.useEffect(()=>{e&&y()},[e]);const y=async()=>{try{const{data:E,error:A}=await ue.from("events").select("*").eq("id",e).single();if(A)throw A;i(E)}catch{le.error("Event not found"),t("/")}finally{a(!1)}},w=async E=>{if(E.preventDefault(),!(!n||!g.name.trim()||!g.identification_number.trim())){f(!0);try{const A=crypto.randomUUID(),R=`${A}|${n.id}|${g.name}`,M=await Ni.toDataURL(R,{width:200,margin:1,errorCorrectionLevel:"L"}),{error:D}=await ue.from("attendees").insert([{id:A,event_id:n.id,name:g.name,email:g.email||null,phone:g.phone||null,identification_number:g.identification_number,staff_id:g.staff_id||null,qr_code:M}]);if(D)throw D;le.success("Registration successful!"),t(`/public/ticket/${A}`)}catch(A){le.error("Registration failed: "+A.message)}finally{f(!1)}}};return s?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n?h.jsx("div",{className:"min-h-screen bg-gray-50 py-4 md:py-12 px-4 sm:px-6 lg:px-8",children:h.jsx("div",{className:"max-w-2xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[h.jsxs("div",{className:"bg-blue-600 text-white px-4 md:px-6 py-6 md:py-8",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-4",children:n.name}),n.description&&h.jsx("p",{className:"text-blue-100 mb-4",children:n.description}),h.jsxs("div",{className:"space-y-2",children:[n.date&&h.jsxs("div",{className:"flex items-center text-blue-100",children:[h.jsx(Kt,{className:"h-5 w-5 mr-2"}),h.jsx("span",{className:"text-sm md:text-base",children:new Date(n.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),n.location&&h.jsxs("div",{className:"flex items-center text-blue-100",children:[h.jsx(ta,{className:"h-5 w-5 mr-2"}),h.jsx("span",{className:"text-sm md:text-base",children:n.location})]})]})]}),h.jsxs("div",{className:"px-4 md:px-6 py-6 md:py-8",children:[h.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-6",children:"Register for Event"}),h.jsxs("form",{onSubmit:w,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),h.jsx("input",{type:"text",id:"name",required:!0,value:g.name,onChange:E=>p({...g,name:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"identification_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Identification Number *"}),h.jsx("input",{type:"text",id:"identification_number",required:!0,value:g.identification_number,onChange:E=>p({...g,identification_number:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your identification number"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"staff_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Staff ID"}),h.jsx("input",{type:"text",id:"staff_id",value:g.staff_id,onChange:E=>p({...g,staff_id:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your staff ID (optional)"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),h.jsx("input",{type:"email",id:"email",value:g.email,onChange:E=>p({...g,email:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),h.jsx("input",{type:"tel",id:"phone",value:g.phone,onChange:E=>p({...g,phone:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your phone number"})]}),h.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 font-medium text-sm md:text-base",children:c?"Registering...":"Register Now"})]})]})]})})}):h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Event Not Found"}),h.jsx("p",{className:"text-gray-600",children:"The event you're looking for doesn't exist."})]})})}function e7(){const{attendeeId:e}=eh(),[t,n]=O.useState(null),[i,s]=O.useState(!0);O.useEffect(()=>{e&&a()},[e]);const a=async()=>{try{const{data:c,error:f}=await ue.from("attendees").select(`
          *,
          event:events (
            name,
            description,
            date,
            location
          )
        `).eq("id",e).single();if(f)throw f;n(c)}catch{le.error("Ticket not found")}finally{s(!1)}};return i?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?h.jsx("div",{className:"min-h-screen bg-gray-50 py-4 md:py-12 px-4 sm:px-6 lg:px-8",children:h.jsx("div",{className:"max-w-md mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[h.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-4 md:px-6 py-6 md:py-8 text-center",children:[h.jsx(us,{className:"h-12 w-12 mx-auto mb-4"}),h.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Event Ticket"}),t.checked_in&&h.jsxs("div",{className:"mt-4 flex items-center justify-center text-green-200",children:[h.jsx(Ws,{className:"h-5 w-5 mr-2"}),h.jsx("span",{children:"Checked In"})]})]}),h.jsxs("div",{className:"px-4 md:px-6 py-6 border-b border-gray-200",children:[h.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 mb-3",children:t.event.name}),t.event.description&&h.jsx("p",{className:"text-gray-600 mb-4",children:t.event.description}),h.jsxs("div",{className:"space-y-2",children:[t.event.date&&h.jsxs("div",{className:"flex items-center text-gray-600",children:[h.jsx(Kt,{className:"h-4 w-4 mr-2"}),h.jsx("span",{className:"text-sm",children:new Date(t.event.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.event.location&&h.jsxs("div",{className:"flex items-center text-gray-600",children:[h.jsx(ta,{className:"h-4 w-4 mr-2"}),h.jsx("span",{className:"text-sm",children:t.event.location})]})]})]}),h.jsxs("div",{className:"px-4 md:px-6 py-6 border-b border-gray-200",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Attendee Information"}),h.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[h.jsxs("div",{children:[h.jsx("strong",{children:"Name:"})," ",t.name]}),h.jsxs("div",{children:[h.jsx("strong",{children:"ID Number:"})," ",t.identification_number]}),t.staff_id&&h.jsxs("div",{children:[h.jsx("strong",{children:"Staff ID:"})," ",t.staff_id]}),t.email&&h.jsxs("div",{children:[h.jsx("strong",{children:"Email:"})," ",t.email]}),t.phone&&h.jsxs("div",{children:[h.jsx("strong",{children:"Phone:"})," ",t.phone]})]})]}),h.jsxs("div",{className:"px-4 md:px-6 py-6 md:py-8 text-center",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Check-in QR Code"}),t.qr_code&&h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:t.qr_code,alt:"QR Code for check-in",className:"w-40 h-40 md:w-48 md:h-48 border border-gray-200 rounded-lg"})}),h.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Present this QR code at the event for check-in"})]}),t.checked_in&&t.check_in_time&&h.jsx("div",{className:"bg-green-50 px-4 md:px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-center text-green-800",children:[h.jsx(Ws,{className:"h-5 w-5 mr-2"}),h.jsxs("span",{className:"text-sm font-medium",children:["Checked in at ",new Date(t.check_in_time).toLocaleString()]})]})})]})})}):h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ticket Not Found"}),h.jsx("p",{className:"text-gray-600",children:"The ticket you're looking for doesn't exist."})]})})}function t7(){const{eventId:e}=eh(),[t,n]=O.useState(null),[i,s]=O.useState(!1),[a,c]=O.useState(!1),[f,g]=O.useState(""),[p,y]=O.useState(null),[w,E]=O.useState(null);O.useEffect(()=>{e&&A()},[e]);const A=async()=>{try{const{data:C,error:N}=await ue.from("events").select(`
          id,
          name,
          description,
          company:companies(name)
        `).eq("id",e).single();if(N)throw N;const _={...C,company:Array.isArray(C.company)?C.company[0]??{name:""}:C.company};n(_)}catch{le.error("Event not found")}},R=C=>{var _;const N=(_=C.target.files)==null?void 0:_[0];if(N){if(N.size>10*1024*1024){le.error("File size must be less than 10MB");return}if(!N.type.startsWith("image/")){le.error("Please select an image file");return}y(N);const k=URL.createObjectURL(N);E(k)}},M=async()=>{if(!(!p||!t)){s(!0);try{const C=new FileReader;C.onload=async N=>{var V;const _=(V=N.target)==null?void 0:V.result,{error:k}=await ue.from("gallery_photos").insert([{event_id:t.id,attendee_name:f.trim()||null,photo_url:_}]);if(k)throw k;le.success("Photo uploaded successfully!"),c(!0),y(null),E(null),g("")},C.readAsDataURL(p)}catch(C){le.error("Error uploading photo: "+C.message)}finally{s(!1)}}},D=()=>{c(!1),y(null),E(null),g("")};return t?a?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:h.jsx("div",{className:"max-w-md w-full text-center",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[h.jsx(Ws,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Photo Uploaded!"}),h.jsxs("p",{className:"text-gray-600 mb-6",children:["Thank you for sharing your moment from ",t.name]}),h.jsx("button",{onClick:D,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Upload Another Photo"})]})})}):h.jsx("div",{className:"min-h-screen bg-gray-50 py-4 md:py-12 px-4",children:h.jsx("div",{className:"max-w-2xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[h.jsxs("div",{className:"bg-blue-600 text-white px-4 md:px-6 py-6 md:py-8 text-center",children:[h.jsx(s1,{className:"h-12 w-12 mx-auto mb-4"}),h.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Share Your Photo"}),h.jsx("p",{className:"text-blue-100",children:t.name}),h.jsx("p",{className:"text-blue-200 text-sm",children:t.company.name})]}),h.jsxs("div",{className:"px-4 md:px-6 py-6 md:py-8",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name (Optional)"}),h.jsx("input",{type:"text",value:f,onChange:C=>g(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your name"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Photo"}),h.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 md:p-6 text-center hover:border-blue-400 transition-colors",children:w?h.jsxs("div",{className:"space-y-4",children:[h.jsx("img",{src:w,alt:"Preview",className:"max-w-full h-48 md:h-64 object-contain mx-auto rounded-lg"}),h.jsx("button",{onClick:()=>{y(null),E(null)},className:"text-blue-600 hover:text-blue-700 text-sm",children:"Choose Different Photo"})]}):h.jsxs("div",{children:[h.jsx(as,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600 mb-2",children:"Click to select a photo"}),h.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG up to 10MB"}),h.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"hidden",id:"photo-upload"}),h.jsx("label",{htmlFor:"photo-upload",className:"mt-4 inline-block bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:"Select Photo"})]})})]}),p&&h.jsxs("button",{onClick:M,disabled:i,className:"w-full bg-green-600 text-white py-2 md:py-3 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center disabled:opacity-50 text-sm md:text-base",children:[h.jsx(Cd,{className:"h-5 w-5 mr-2"}),i?"Uploading...":"Upload Photo"]})]}),h.jsxs("div",{className:"mt-8 text-center text-sm text-gray-600",children:[h.jsx("p",{children:" Your photo will be added to the event gallery"}),h.jsx("p",{children:" Photos may be displayed during the event"}),h.jsx("p",{children:" By uploading, you consent to public display"})]})]})]})})}):h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}function n7(){const{sessionId:e}=eh(),[t,n]=O.useState(null),[i,s]=O.useState([]),[a,c]=O.useState(null),[f,g]=O.useState(0),[p,y]=O.useState(!1),[w,E]=O.useState(!0),[A,R]=O.useState(!1),[M,D]=O.useState(!1),[C,N]=O.useState(""),[_,k]=O.useState(!0);O.useEffect(()=>{e&&V()},[e]),O.useEffect(()=>{if(e&&a){L(),B();const Y=ue.channel("votes").on("postgres_changes",{event:"*",schema:"public",table:"votes"},()=>{L()}).subscribe();return()=>{Y.unsubscribe()}}},[e,a]);const V=async()=>{var Y,H,Q,te;try{const{data:fe,error:X}=await ue.from("voting_sessions").select(`
        id,
        title,
        description,
        event:events(
          id,
          name,
          company:companies(name)
        )
      `).eq("id",e).eq("is_active",!0).single();if(X||!fe)throw X;const ne={id:fe.id,title:fe.title,description:fe.description,event:{id:(Y=fe.event[0])==null?void 0:Y.id,name:(H=fe.event[0])==null?void 0:H.name,company:Array.isArray((Q=fe.event[0])==null?void 0:Q.company)?fe.event[0].company[0]:(te=fe.event[0])==null?void 0:te.company}};n(ne)}catch{le.error("Voting session not found or not active")}finally{E(!1)}},L=async()=>{if(a)try{const{data:Y,error:H}=await ue.from("voting_photos").select("*").eq("voting_session_id",e).order("created_at",{ascending:!1});if(H)throw H;const Q=await Promise.all(Y.map(async X=>{const{data:ne}=await ue.from("votes").select("id, attendee_id").eq("voting_photo_id",X.id),re=(ne==null?void 0:ne.some(W=>W.attendee_id===a.id))||!1;return{...X,vote_count:(ne==null?void 0:ne.length)||0,user_voted:re}})),te=Q.reduce((X,ne)=>X+ne.vote_count,0);g(te);const fe=Q.map(X=>({...X,vote_percentage:te>0?X.vote_count/te*100:0}));s(fe)}catch(Y){console.error("Error fetching photos:",Y)}},B=async()=>{if(!(!a||i.length===0))try{const{data:Y,error:H}=await ue.from("votes").select("id").eq("attendee_id",a.id).in("voting_photo_id",i.map(Q=>Q.id));if(H)throw H;y(((Y==null?void 0:Y.length)||0)>0)}catch(Y){console.error("Error checking vote status:",Y)}},z=async Y=>{if(Y.preventDefault(),!!C.trim())try{E(!0);const{data:H,error:Q}=await ue.from("attendees").select("id, name, identification_number, event_id").eq("identification_number",C.trim()).single();if(Q||!H){le.error("Attendee not found. Please check your identification number.");return}if(t&&H.event_id!==t.event.id){le.error("You are not registered for this event.");return}c(H),k(!1),le.success(`Welcome, ${H.name}!`)}catch(H){le.error("Error logging in: "+H.message)}finally{E(!1)}},P=async Y=>{if(!(!a||A))try{R(!0);const{data:H}=await ue.from("votes").select("id").eq("attendee_id",a.id).in("voting_photo_id",i.map(te=>te.id));if(H&&H.length>0){le.error("You have already voted in this session"),y(!0);return}const{error:Q}=await ue.from("votes").insert([{voting_photo_id:Y,attendee_id:a.id}]);if(Q)throw Q;le.success("Vote cast successfully!"),y(!0),D(!0),L()}catch(H){le.error("Error casting vote: "+H.message)}finally{R(!1)}};return w?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):t?_?h.jsx("div",{className:"min-h-screen bg-gray-50 py-4 md:py-12 px-4",children:h.jsx("div",{className:"max-w-md mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 md:p-8",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx(Gi,{className:"h-16 w-16 text-purple-600 mx-auto mb-4"}),h.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-2",children:"Join Voting"}),h.jsx("h2",{className:"text-lg md:text-xl text-purple-600 mb-2",children:t.title}),h.jsx("p",{className:"text-gray-600",children:t.event.name}),h.jsx("p",{className:"text-sm text-gray-500",children:t.event.company.name})]}),h.jsxs("form",{onSubmit:z,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Identification Number"}),h.jsx("input",{type:"text",value:C,onChange:Y=>N(Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter your identification number",required:!0})]}),h.jsx("button",{type:"submit",disabled:w,className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:w?"Verifying...":"Join Voting"})]}),t.description&&h.jsx("div",{className:"mt-6 p-4 bg-purple-50 rounded-lg",children:h.jsx("p",{className:"text-sm text-purple-700",children:t.description})})]})})}):h.jsx("div",{className:"min-h-screen bg-gray-50 py-4 md:py-8 px-4",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsx("div",{className:"bg-white rounded-lg shadow-lg p-4 md:p-6 mb-6",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:t.title}),h.jsx("p",{className:"text-base md:text-lg text-purple-600 mb-2",children:t.event.name}),h.jsx("p",{className:"text-gray-600",children:t.event.company.name}),t.description&&h.jsx("p",{className:"text-gray-600 mt-2",children:t.description}),h.jsxs("div",{className:"mt-4 flex flex-col md:flex-row items-center justify-center space-y-2 md:space-y-0 md:space-x-4 text-sm text-gray-500",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(Ot,{className:"h-4 w-4 mr-1"}),h.jsxs("span",{children:["Welcome, ",a==null?void 0:a.name]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(bo,{className:"h-4 w-4 mr-1"}),h.jsxs("span",{children:[f," total votes"]})]})]})]})}),p&&h.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Ws,{className:"h-5 w-5 text-green-600 mr-2"}),h.jsx("span",{className:"text-green-800 font-medium",children:"Thank you for voting!"})]})}),p&&h.jsx("div",{className:"text-center mb-6",children:h.jsx("button",{onClick:()=>D(!M),className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:M?"Hide Results":"Show Results"})}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:i.map(Y=>h.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[h.jsx("img",{src:Y.photo_url,alt:Y.title,className:"w-full h-48 md:h-64 object-cover"}),h.jsxs("div",{className:"p-4 md:p-6",children:[h.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-900 mb-4",children:Y.title}),p?M?h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Votes"}),h.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[Y.vote_count," (",Y.vote_percentage.toFixed(1),"%)"]})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 md:h-3",children:h.jsx("div",{className:`h-2 md:h-3 rounded-full transition-all duration-500 ${Y.user_voted?"bg-green-500":"bg-purple-500"}`,style:{width:`${Y.vote_percentage}%`}})}),Y.user_voted&&h.jsxs("div",{className:"flex items-center text-green-600 text-sm",children:[h.jsx(Ws,{className:"h-4 w-4 mr-1"}),h.jsx("span",{children:"You voted for this"})]})]}):h.jsxs("div",{className:"text-center py-2 md:py-3 text-gray-500",children:[h.jsx(Ws,{className:"h-8 w-8 mx-auto mb-2"}),h.jsx("p",{children:"Vote cast successfully!"})]}):h.jsxs("button",{onClick:()=>P(Y.id),disabled:A,className:"w-full bg-purple-600 text-white py-2 md:py-3 px-4 rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 flex items-center justify-center text-sm md:text-base",children:[h.jsx(Gi,{className:"h-5 w-5 mr-2"}),A?"Voting...":"Vote for This"]})]})]},Y.id))}),i.length===0&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Gi,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Photos Available"}),h.jsx("p",{className:"text-gray-600",children:"No photos have been added to this voting session yet."})]})]})}):h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Voting Session Not Found"}),h.jsx("p",{className:"text-gray-600",children:"The voting session may have ended or doesn't exist."})]})})}function i7(){const[e,t]=O.useState(null),[n,i]=O.useState(null),[s,a]=O.useState(!0),[c,f]=O.useState(!0);O.useEffect(()=>{if("https://yoxgdfyhxbqeofslxtdc.supabase.co".includes("your-project")||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlveGdkZnloeGJxZW9mc2x4dGRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI4NzczOTUsImV4cCI6MjA2ODQ1MzM5NX0.E8aI_9cPmbwBErsZQaA0LJw2eHj94lIdrFE6qoanC7o".includes("your-anon-key")){f(!1),a(!1);return}ue.auth.getSession().then(({data:{session:E}})=>{t((E==null?void 0:E.user)??null),a(!1)}).catch(()=>{f(!1),a(!1)});const{data:{subscription:w}}=ue.auth.onAuthStateChange((E,A)=>{t((A==null?void 0:A.user)??null),A!=null&&A.user?g(A.user.id):i(null)});return()=>w.unsubscribe()},[]);const g=async p=>{try{const{data:y,error:w}=await ue.from("company_users").select(`
          *,
          company:companies(*)
        `).eq("id",p).maybeSingle();if(w){console.error("Error fetching user company:",w);return}i(y)}catch(y){console.error("Error fetching user company:",y)}};return c?s?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):h.jsx(u_,{children:h.jsxs("div",{className:"App",children:[h.jsx(cT,{position:"top-right"}),h.jsxs(Mx,{children:[h.jsx(Lt,{path:"/public/register/:eventId",element:h.jsx(JO,{})}),h.jsx(Lt,{path:"/public/ticket/:attendeeId",element:h.jsx(e7,{})}),h.jsx(Lt,{path:"/public/gallery/:eventId",element:h.jsx(t7,{})}),h.jsx(Lt,{path:"/public/voting/:sessionId",element:h.jsx(n7,{})}),h.jsx(Lt,{path:"/auth",element:e?h.jsx(Ef,{to:"/admin"}):h.jsx(L5,{})}),h.jsx(Lt,{path:"/admin/*",element:e?h.jsx(k5,{userCompany:n,children:h.jsxs(Mx,{children:[h.jsx(Lt,{path:"/",element:h.jsx(B5,{userCompany:n})}),h.jsx(Lt,{path:"/companies",element:h.jsx(P5,{})}),h.jsx(Lt,{path:"/events",element:h.jsx(NI,{userCompany:n})}),h.jsx(Lt,{path:"/progress",element:h.jsx(KO,{})}),h.jsx(Lt,{path:"/attendees",element:h.jsx(_I,{userCompany:n})}),h.jsx(Lt,{path:"/checkin",element:h.jsx(hM,{userCompany:n})}),h.jsx(Lt,{path:"/welcome-monitor",element:h.jsx(qO,{userCompany:n})}),h.jsx(Lt,{path:"/lucky-draw",element:h.jsx(XO,{userCompany:n})}),h.jsx(Lt,{path:"/gallery",element:h.jsx(WO,{userCompany:n})}),h.jsx(Lt,{path:"/seating",element:h.jsx(ZO,{userCompany:n})}),h.jsx(Lt,{path:"/voting",element:h.jsx(QO,{userCompany:n})}),h.jsx(Lt,{path:"/voting-monitor",element:h.jsx($O,{userCompany:n})})]})}):h.jsx(Ef,{to:"/auth"})}),h.jsx(Lt,{path:"/",element:h.jsx(Ef,{to:e?"/admin":"/auth"})})]})]})}):h.jsx(O5,{})}$4.createRoot(document.getElementById("root")).render(h.jsx(yS.StrictMode,{children:h.jsx(i7,{})}));
