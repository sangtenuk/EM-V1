function XA(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var sn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function N1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function WA(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),n}var N2={exports:{}},Rd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA=Symbol.for("react.transitional.element"),KA=Symbol.for("react.fragment");function I2(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:ZA,type:e,key:i,ref:t!==void 0?t:null,props:n}}Rd.Fragment=KA;Rd.jsx=I2;Rd.jsxs=I2;N2.exports=Rd;var p=N2.exports,M2={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1=Symbol.for("react.transitional.element"),QA=Symbol.for("react.portal"),$A=Symbol.for("react.fragment"),JA=Symbol.for("react.strict_mode"),eS=Symbol.for("react.profiler"),tS=Symbol.for("react.consumer"),nS=Symbol.for("react.context"),iS=Symbol.for("react.forward_ref"),sS=Symbol.for("react.suspense"),rS=Symbol.for("react.memo"),D2=Symbol.for("react.lazy"),Km=Symbol.iterator;function aS(e){return e===null||typeof e!="object"?null:(e=Km&&e[Km]||e["@@iterator"],typeof e=="function"?e:null)}var R2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O2=Object.assign,j2={};function bo(e,t,n){this.props=e,this.context=t,this.refs=j2,this.updater=n||R2}bo.prototype.isReactComponent={};bo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function L2(){}L2.prototype=bo.prototype;function M1(e,t,n){this.props=e,this.context=t,this.refs=j2,this.updater=n||R2}var D1=M1.prototype=new L2;D1.constructor=M1;O2(D1,bo.prototype);D1.isPureReactComponent=!0;var Qm=Array.isArray,gt={H:null,A:null,T:null,S:null,V:null},k2=Object.prototype.hasOwnProperty;function R1(e,t,n,i,r,a){return n=a.ref,{$$typeof:I1,type:e,key:t,ref:n!==void 0?n:null,props:a}}function oS(e,t){return R1(e.type,t,void 0,void 0,void 0,e.props)}function O1(e){return typeof e=="object"&&e!==null&&e.$$typeof===I1}function lS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $m=/\/+/g;function kh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lS(""+e.key):t.toString(36)}function Jm(){}function cS(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Jm,Jm):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Ea(e,t,n,i,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(a){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case I1:case QA:c=!0;break;case D2:return c=e._init,Ea(c(e._payload),t,n,i,r)}}if(c)return r=r(e),c=i===""?"."+kh(e,0):i,Qm(r)?(n="",c!=null&&(n=c.replace($m,"$&/")+"/"),Ea(r,t,n,"",function(m){return m})):r!=null&&(O1(r)&&(r=oS(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace($m,"$&/")+"/")+c)),t.push(r)),1;c=0;var h=i===""?".":i+":";if(Qm(e))for(var g=0;g<e.length;g++)i=e[g],a=h+kh(i,g),c+=Ea(i,t,n,a,r);else if(g=aS(e),typeof g=="function")for(e=g.call(e),g=0;!(i=e.next()).done;)i=i.value,a=h+kh(i,g++),c+=Ea(i,t,n,a,r);else if(a==="object"){if(typeof e.then=="function")return Ea(cS(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function Wc(e,t,n){if(e==null)return e;var i=[],r=0;return Ea(e,i,"","",function(a){return t.call(n,a,r++)}),i}function uS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ep=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function dS(){}_e.Children={map:Wc,forEach:function(e,t,n){Wc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wc(e,function(){t++}),t},toArray:function(e){return Wc(e,function(t){return t})||[]},only:function(e){if(!O1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=bo;_e.Fragment=$A;_e.Profiler=eS;_e.PureComponent=M1;_e.StrictMode=JA;_e.Suspense=sS;_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=gt;_e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return gt.H.useMemoCache(e)}};_e.cache=function(e){return function(){return e.apply(null,arguments)}};_e.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=O2({},e.props),r=e.key,a=void 0;if(t!=null)for(c in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(r=""+t.key),t)!k2.call(t,c)||c==="key"||c==="__self"||c==="__source"||c==="ref"&&t.ref===void 0||(i[c]=t[c]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var h=Array(c),g=0;g<c;g++)h[g]=arguments[g+2];i.children=h}return R1(e.type,r,void 0,void 0,a,i)};_e.createContext=function(e){return e={$$typeof:nS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:tS,_context:e},e};_e.createElement=function(e,t,n){var i,r={},a=null;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)k2.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){for(var h=Array(c),g=0;g<c;g++)h[g]=arguments[g+2];r.children=h}if(e&&e.defaultProps)for(i in c=e.defaultProps,c)r[i]===void 0&&(r[i]=c[i]);return R1(e,a,void 0,void 0,null,r)};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:iS,render:e}};_e.isValidElement=O1;_e.lazy=function(e){return{$$typeof:D2,_payload:{_status:-1,_result:e},_init:uS}};_e.memo=function(e,t){return{$$typeof:rS,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=gt.T,n={};gt.T=n;try{var i=e(),r=gt.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(dS,ep)}catch(a){ep(a)}finally{gt.T=t}};_e.unstable_useCacheRefresh=function(){return gt.H.useCacheRefresh()};_e.use=function(e){return gt.H.use(e)};_e.useActionState=function(e,t,n){return gt.H.useActionState(e,t,n)};_e.useCallback=function(e,t){return gt.H.useCallback(e,t)};_e.useContext=function(e){return gt.H.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e,t){return gt.H.useDeferredValue(e,t)};_e.useEffect=function(e,t,n){var i=gt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};_e.useId=function(){return gt.H.useId()};_e.useImperativeHandle=function(e,t,n){return gt.H.useImperativeHandle(e,t,n)};_e.useInsertionEffect=function(e,t){return gt.H.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return gt.H.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return gt.H.useMemo(e,t)};_e.useOptimistic=function(e,t){return gt.H.useOptimistic(e,t)};_e.useReducer=function(e,t,n){return gt.H.useReducer(e,t,n)};_e.useRef=function(e){return gt.H.useRef(e)};_e.useState=function(e){return gt.H.useState(e)};_e.useSyncExternalStore=function(e,t,n){return gt.H.useSyncExternalStore(e,t,n)};_e.useTransition=function(){return gt.H.useTransition()};_e.version="19.1.0";M2.exports=_e;var j=M2.exports;const hS=N1(j);var B2={exports:{}},Od={},P2={exports:{}},U2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(J,se){var me=J.length;J.push(se);e:for(;0<me;){var Oe=me-1>>>1,te=J[Oe];if(0<r(te,se))J[Oe]=se,J[me]=te,me=Oe;else break e}}function n(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var se=J[0],me=J.pop();if(me!==se){J[0]=me;e:for(var Oe=0,te=J.length,be=te>>>1;Oe<be;){var Pe=2*(Oe+1)-1,dt=J[Pe],ke=Pe+1,Ci=J[ke];if(0>r(dt,me))ke<te&&0>r(Ci,dt)?(J[Oe]=Ci,J[ke]=me,Oe=ke):(J[Oe]=dt,J[Pe]=me,Oe=Pe);else if(ke<te&&0>r(Ci,me))J[Oe]=Ci,J[ke]=me,Oe=ke;else break e}}return se}function r(J,se){var me=J.sortIndex-se.sortIndex;return me!==0?me:J.id-se.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var g=[],m=[],b=1,w=null,E=3,A=!1,O=!1,M=!1,P=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function L(J){for(var se=n(m);se!==null;){if(se.callback===null)i(m);else if(se.startTime<=J)i(m),se.sortIndex=se.expirationTime,t(g,se);else break;se=n(m)}}function z(J){if(M=!1,L(J),!O)if(n(g)!==null)O=!0,D||(D=!0,$());else{var se=n(m);se!==null&&Z(z,se.startTime-J)}}var D=!1,k=-1,V=5,U=-1;function q(){return P?!0:!(e.unstable_now()-U<V)}function Y(){if(P=!1,D){var J=e.unstable_now();U=J;var se=!0;try{e:{O=!1,M&&(M=!1,_(k),k=-1),A=!0;var me=E;try{t:{for(L(J),w=n(g);w!==null&&!(w.expirationTime>J&&q());){var Oe=w.callback;if(typeof Oe=="function"){w.callback=null,E=w.priorityLevel;var te=Oe(w.expirationTime<=J);if(J=e.unstable_now(),typeof te=="function"){w.callback=te,L(J),se=!0;break t}w===n(g)&&i(g),L(J)}else i(g);w=n(g)}if(w!==null)se=!0;else{var be=n(m);be!==null&&Z(z,be.startTime-J),se=!1}}break e}finally{w=null,E=me,A=!1}se=void 0}}finally{se?$():D=!1}}}var $;if(typeof C=="function")$=function(){C(Y)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,de=ie.port2;ie.port1.onmessage=Y,$=function(){de.postMessage(null)}}else $=function(){T(Y,0)};function Z(J,se){k=T(function(){J(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(J){switch(E){case 1:case 2:case 3:var se=3;break;default:se=E}var me=E;E=se;try{return J()}finally{E=me}},e.unstable_requestPaint=function(){P=!0},e.unstable_runWithPriority=function(J,se){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var me=E;E=J;try{return se()}finally{E=me}},e.unstable_scheduleCallback=function(J,se,me){var Oe=e.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Oe+me:Oe):me=Oe,J){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=me+te,J={id:b++,callback:se,priorityLevel:J,startTime:me,expirationTime:te,sortIndex:-1},me>Oe?(J.sortIndex=me,t(m,J),n(g)===null&&J===n(m)&&(M?(_(k),k=-1):M=!0,Z(z,me-Oe))):(J.sortIndex=te,t(g,J),O||A||(O=!0,D||(D=!0,$()))),J},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(J){var se=E;return function(){var me=E;E=se;try{return J.apply(this,arguments)}finally{E=me}}}})(U2);P2.exports=U2;var fS=P2.exports,F2={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS=j;function V2(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _s(){}var xn={d:{f:_s,r:function(){throw Error(V2(522))},D:_s,C:_s,L:_s,m:_s,X:_s,S:_s,M:_s},p:0,findDOMNode:null},mS=Symbol.for("react.portal");function pS(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mS,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var ul=gS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function jd(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xn;bn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(V2(299));return pS(e,t,null,n)};bn.flushSync=function(e){var t=ul.T,n=xn.p;try{if(ul.T=null,xn.p=2,e)return e()}finally{ul.T=t,xn.p=n,xn.d.f()}};bn.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,xn.d.C(e,t))};bn.prefetchDNS=function(e){typeof e=="string"&&xn.d.D(e)};bn.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=jd(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?xn.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):n==="script"&&xn.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};bn.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=jd(t.as,t.crossOrigin);xn.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&xn.d.M(e)};bn.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=jd(n,t.crossOrigin);xn.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};bn.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=jd(t.as,t.crossOrigin);xn.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else xn.d.m(e)};bn.requestFormReset=function(e){xn.d.r(e)};bn.unstable_batchedUpdates=function(e,t){return e(t)};bn.useFormState=function(e,t,n){return ul.H.useFormState(e,t,n)};bn.useFormStatus=function(){return ul.H.useHostTransitionStatus()};bn.version="19.1.0";function z2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z2)}catch(e){console.error(e)}}z2(),F2.exports=bn;var xS=F2.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zt=fS,H2=j,yS=xS;function ee(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function G2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Y2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tp(e){if(rc(e)!==e)throw Error(ee(188))}function bS(e){var t=e.alternate;if(!t){if(t=rc(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return tp(r),e;if(a===i)return tp(r),t;a=a.sibling}throw Error(ee(188))}if(n.return!==i.return)n=r,i=a;else{for(var c=!1,h=r.child;h;){if(h===n){c=!0,n=r,i=a;break}if(h===i){c=!0,i=r,n=a;break}h=h.sibling}if(!c){for(h=a.child;h;){if(h===n){c=!0,n=a,i=r;break}if(h===i){c=!0,i=a,n=r;break}h=h.sibling}if(!c)throw Error(ee(189))}}if(n.alternate!==i)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?e:t}function q2(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=q2(e),t!==null)return t;e=e.sibling}return null}var ut=Object.assign,wS=Symbol.for("react.element"),Zc=Symbol.for("react.transitional.element"),il=Symbol.for("react.portal"),Na=Symbol.for("react.fragment"),X2=Symbol.for("react.strict_mode"),Xf=Symbol.for("react.profiler"),vS=Symbol.for("react.provider"),W2=Symbol.for("react.consumer"),ts=Symbol.for("react.context"),j1=Symbol.for("react.forward_ref"),Wf=Symbol.for("react.suspense"),Zf=Symbol.for("react.suspense_list"),L1=Symbol.for("react.memo"),js=Symbol.for("react.lazy"),Kf=Symbol.for("react.activity"),ES=Symbol.for("react.memo_cache_sentinel"),np=Symbol.iterator;function qo(e){return e===null||typeof e!="object"?null:(e=np&&e[np]||e["@@iterator"],typeof e=="function"?e:null)}var AS=Symbol.for("react.client.reference");function Qf(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===AS?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Na:return"Fragment";case Xf:return"Profiler";case X2:return"StrictMode";case Wf:return"Suspense";case Zf:return"SuspenseList";case Kf:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case il:return"Portal";case ts:return(e.displayName||"Context")+".Provider";case W2:return(e._context.displayName||"Context")+".Consumer";case j1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L1:return t=e.displayName||null,t!==null?t:Qf(e.type)||"Memo";case js:t=e._payload,e=e._init;try{return Qf(e(t))}catch{}}return null}var sl=Array.isArray,Ae=H2.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,qe=yS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,kr={pending:!1,data:null,method:null,action:null},$f=[],Ia=-1;function Hi(e){return{current:e}}function Kt(e){0>Ia||(e.current=$f[Ia],$f[Ia]=null,Ia--)}function mt(e,t){Ia++,$f[Ia]=e.current,e.current=t}var Bi=Hi(null),jl=Hi(null),Ws=Hi(null),Fu=Hi(null);function Vu(e,t){switch(mt(Ws,t),mt(jl,e),mt(Bi,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ox(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ox(t),e=dv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Kt(Bi),mt(Bi,e)}function eo(){Kt(Bi),Kt(jl),Kt(Ws)}function Jf(e){e.memoizedState!==null&&mt(Fu,e);var t=Bi.current,n=dv(t,e.type);t!==n&&(mt(jl,e),mt(Bi,n))}function zu(e){jl.current===e&&(Kt(Bi),Kt(jl)),Fu.current===e&&(Kt(Fu),Gl._currentValue=kr)}var e0=Object.prototype.hasOwnProperty,k1=zt.unstable_scheduleCallback,Bh=zt.unstable_cancelCallback,SS=zt.unstable_shouldYield,CS=zt.unstable_requestPaint,Pi=zt.unstable_now,TS=zt.unstable_getCurrentPriorityLevel,Z2=zt.unstable_ImmediatePriority,K2=zt.unstable_UserBlockingPriority,Hu=zt.unstable_NormalPriority,_S=zt.unstable_LowPriority,Q2=zt.unstable_IdlePriority,NS=zt.log,IS=zt.unstable_setDisableYieldValue,ac=null,Gn=null;function Hs(e){if(typeof NS=="function"&&IS(e),Gn&&typeof Gn.setStrictMode=="function")try{Gn.setStrictMode(ac,e)}catch{}}var Yn=Math.clz32?Math.clz32:RS,MS=Math.log,DS=Math.LN2;function RS(e){return e>>>=0,e===0?32:31-(MS(e)/DS|0)|0}var Kc=256,Qc=4194304;function _r(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ld(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,a=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var h=i&134217727;return h!==0?(i=h&~a,i!==0?r=_r(i):(c&=h,c!==0?r=_r(c):n||(n=h&~e,n!==0&&(r=_r(n))))):(h=i&~a,h!==0?r=_r(h):c!==0?r=_r(c):n||(n=i&~e,n!==0&&(r=_r(n)))),r===0?0:t!==0&&t!==r&&!(t&a)&&(a=r&-r,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:r}function oc(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function OS(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $2(){var e=Kc;return Kc<<=1,!(Kc&4194048)&&(Kc=256),e}function J2(){var e=Qc;return Qc<<=1,!(Qc&62914560)&&(Qc=4194304),e}function Ph(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lc(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jS(e,t,n,i,r,a){var c=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var h=e.entanglements,g=e.expirationTimes,m=e.hiddenUpdates;for(n=c&~n;0<n;){var b=31-Yn(n),w=1<<b;h[b]=0,g[b]=-1;var E=m[b];if(E!==null)for(m[b]=null,b=0;b<E.length;b++){var A=E[b];A!==null&&(A.lane&=-536870913)}n&=~w}i!==0&&eb(e,i,0),a!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=a&~(c&~t))}function eb(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Yn(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function tb(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Yn(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function B1(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function P1(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function nb(){var e=qe.p;return e!==0?e:(e=window.event,e===void 0?32:vv(e.type))}function LS(e,t){var n=qe.p;try{return qe.p=e,t()}finally{qe.p=n}}var dr=Math.random().toString(36).slice(2),un="__reactFiber$"+dr,On="__reactProps$"+dr,wo="__reactContainer$"+dr,t0="__reactEvents$"+dr,kS="__reactListeners$"+dr,BS="__reactHandles$"+dr,ip="__reactResources$"+dr,cc="__reactMarker$"+dr;function U1(e){delete e[un],delete e[On],delete e[t0],delete e[kS],delete e[BS]}function Ma(e){var t=e[un];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wo]||n[un]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ux(e);e!==null;){if(n=e[un])return n;e=ux(e)}return t}e=n,n=e.parentNode}return null}function vo(e){if(e=e[un]||e[wo]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function rl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(ee(33))}function qa(e){var t=e[ip];return t||(t=e[ip]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Wt(e){e[cc]=!0}var ib=new Set,sb={};function Jr(e,t){to(e,t),to(e+"Capture",t)}function to(e,t){for(sb[e]=t,e=0;e<t.length;e++)ib.add(t[e])}var PS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sp={},rp={};function US(e){return e0.call(rp,e)?!0:e0.call(sp,e)?!1:PS.test(e)?rp[e]=!0:(sp[e]=!0,!1)}function wu(e,t,n){if(US(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function $c(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Wi(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var Uh,ap;function Aa(e){if(Uh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Uh=t&&t[1]||"",ap=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Uh+e+ap}var Fh=!1;function Vh(e,t){if(!e||Fh)return"";Fh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var w=function(){throw Error()};if(Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(A){var E=A}Reflect.construct(e,[],w)}else{try{w.call()}catch(A){E=A}e.call(w.prototype)}}else{try{throw Error()}catch(A){E=A}(w=e())&&typeof w.catch=="function"&&w.catch(function(){})}}catch(A){if(A&&E&&typeof A.stack=="string")return[A.stack,E.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),c=a[0],h=a[1];if(c&&h){var g=c.split(`
`),m=h.split(`
`);for(r=i=0;i<g.length&&!g[i].includes("DetermineComponentFrameRoot");)i++;for(;r<m.length&&!m[r].includes("DetermineComponentFrameRoot");)r++;if(i===g.length||r===m.length)for(i=g.length-1,r=m.length-1;1<=i&&0<=r&&g[i]!==m[r];)r--;for(;1<=i&&0<=r;i--,r--)if(g[i]!==m[r]){if(i!==1||r!==1)do if(i--,r--,0>r||g[i]!==m[r]){var b=`
`+g[i].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=i&&0<=r);break}}}finally{Fh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Aa(n):""}function FS(e){switch(e.tag){case 26:case 27:case 5:return Aa(e.type);case 16:return Aa("Lazy");case 13:return Aa("Suspense");case 19:return Aa("SuspenseList");case 0:case 15:return Vh(e.type,!1);case 11:return Vh(e.type.render,!1);case 1:return Vh(e.type,!0);case 31:return Aa("Activity");default:return""}}function op(e){try{var t="";do t+=FS(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function ii(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VS(e){var t=rb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(c){i=""+c,a.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(c){i=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gu(e){e._valueTracker||(e._valueTracker=VS(e))}function ab(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=rb(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Yu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var zS=/[\n"\\]/g;function ai(e){return e.replace(zS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function n0(e,t,n,i,r,a,c,h){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ii(t)):e.value!==""+ii(t)&&(e.value=""+ii(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?i0(e,c,ii(t)):n!=null?i0(e,c,ii(n)):i!=null&&e.removeAttribute("value"),r==null&&a!=null&&(e.defaultChecked=!!a),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.name=""+ii(h):e.removeAttribute("name")}function ob(e,t,n,i,r,a,c,h){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;n=n!=null?""+ii(n):"",t=t!=null?""+ii(t):n,h||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=h?e.checked:!!i,e.defaultChecked=!!i,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c)}function i0(e,t,n){t==="number"&&Yu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Xa(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ii(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function lb(e,t,n){if(t!=null&&(t=""+ii(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+ii(n):""}function cb(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(ee(92));if(sl(i)){if(1<i.length)throw Error(ee(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=ii(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function no(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var HS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lp(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||HS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ub(e,t,n){if(t!=null&&typeof t!="object")throw Error(ee(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&lp(e,r,i)}else for(var a in t)t.hasOwnProperty(a)&&lp(e,a,t[a])}function F1(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var GS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),YS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vu(e){return YS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var s0=null;function V1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Da=null,Wa=null;function cp(e){var t=vo(e);if(t&&(e=t.stateNode)){var n=e[On]||null;e:switch(e=t.stateNode,t.type){case"input":if(n0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ai(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[On]||null;if(!r)throw Error(ee(90));n0(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&ab(i)}break e;case"textarea":lb(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Xa(e,!!n.multiple,t,!1)}}}var zh=!1;function db(e,t,n){if(zh)return e(t,n);zh=!0;try{var i=e(t);return i}finally{if(zh=!1,(Da!==null||Wa!==null)&&(Yd(),Da&&(t=Da,e=Wa,Wa=Da=null,cp(t),e)))for(t=0;t<e.length;t++)cp(e[t])}}function Ll(e,t){var n=e.stateNode;if(n===null)return null;var i=n[On]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ee(231,t,typeof n));return n}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r0=!1;if(us)try{var Xo={};Object.defineProperty(Xo,"passive",{get:function(){r0=!0}}),window.addEventListener("test",Xo,Xo),window.removeEventListener("test",Xo,Xo)}catch{r0=!1}var Gs=null,z1=null,Eu=null;function hb(){if(Eu)return Eu;var e,t=z1,n=t.length,i,r="value"in Gs?Gs.value:Gs.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var c=n-e;for(i=1;i<=c&&t[n-i]===r[a-i];i++);return Eu=r.slice(e,1<i?1-i:void 0)}function Au(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jc(){return!0}function up(){return!1}function jn(e){function t(n,i,r,a,c){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Jc:up,this.isPropagationStopped=up,this}return ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jc)},persist:function(){},isPersistent:Jc}),t}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kd=jn(ea),uc=ut({},ea,{view:0,detail:0}),qS=jn(uc),Hh,Gh,Wo,Bd=ut({},uc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:H1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wo&&(Wo&&e.type==="mousemove"?(Hh=e.screenX-Wo.screenX,Gh=e.screenY-Wo.screenY):Gh=Hh=0,Wo=e),Hh)},movementY:function(e){return"movementY"in e?e.movementY:Gh}}),dp=jn(Bd),XS=ut({},Bd,{dataTransfer:0}),WS=jn(XS),ZS=ut({},uc,{relatedTarget:0}),Yh=jn(ZS),KS=ut({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),QS=jn(KS),$S=ut({},ea,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),JS=jn($S),eC=ut({},ea,{data:0}),hp=jn(eC),tC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iC[e])?!!t[e]:!1}function H1(){return sC}var rC=ut({},uc,{key:function(e){if(e.key){var t=tC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Au(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:H1,charCode:function(e){return e.type==="keypress"?Au(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Au(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aC=jn(rC),oC=ut({},Bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fp=jn(oC),lC=ut({},uc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:H1}),cC=jn(lC),uC=ut({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),dC=jn(uC),hC=ut({},Bd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fC=jn(hC),gC=ut({},ea,{newState:0,oldState:0}),mC=jn(gC),pC=[9,13,27,32],G1=us&&"CompositionEvent"in window,dl=null;us&&"documentMode"in document&&(dl=document.documentMode);var xC=us&&"TextEvent"in window&&!dl,fb=us&&(!G1||dl&&8<dl&&11>=dl),gp=" ",mp=!1;function gb(e,t){switch(e){case"keyup":return pC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ra=!1;function yC(e,t){switch(e){case"compositionend":return mb(t);case"keypress":return t.which!==32?null:(mp=!0,gp);case"textInput":return e=t.data,e===gp&&mp?null:e;default:return null}}function bC(e,t){if(Ra)return e==="compositionend"||!G1&&gb(e,t)?(e=hb(),Eu=z1=Gs=null,Ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fb&&t.locale!=="ko"?null:t.data;default:return null}}var wC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wC[e.type]:t==="textarea"}function pb(e,t,n,i){Da?Wa?Wa.push(i):Wa=[i]:Da=i,t=cd(t,"onChange"),0<t.length&&(n=new kd("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var hl=null,kl=null;function vC(e){lv(e,0)}function Pd(e){var t=rl(e);if(ab(t))return e}function xp(e,t){if(e==="change")return t}var xb=!1;if(us){var qh;if(us){var Xh="oninput"in document;if(!Xh){var yp=document.createElement("div");yp.setAttribute("oninput","return;"),Xh=typeof yp.oninput=="function"}qh=Xh}else qh=!1;xb=qh&&(!document.documentMode||9<document.documentMode)}function bp(){hl&&(hl.detachEvent("onpropertychange",yb),kl=hl=null)}function yb(e){if(e.propertyName==="value"&&Pd(kl)){var t=[];pb(t,kl,e,V1(e)),db(vC,t)}}function EC(e,t,n){e==="focusin"?(bp(),hl=t,kl=n,hl.attachEvent("onpropertychange",yb)):e==="focusout"&&bp()}function AC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pd(kl)}function SC(e,t){if(e==="click")return Pd(t)}function CC(e,t){if(e==="input"||e==="change")return Pd(t)}function TC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wn=typeof Object.is=="function"?Object.is:TC;function Bl(e,t){if(Wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!e0.call(t,r)||!Wn(e[r],t[r]))return!1}return!0}function wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vp(e,t){var n=wp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wp(n)}}function bb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wb(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Yu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Yu(e.document)}return t}function Y1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var _C=us&&"documentMode"in document&&11>=document.documentMode,Oa=null,a0=null,fl=null,o0=!1;function Ep(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;o0||Oa==null||Oa!==Yu(i)||(i=Oa,"selectionStart"in i&&Y1(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),fl&&Bl(fl,i)||(fl=i,i=cd(a0,"onSelect"),0<i.length&&(t=new kd("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Oa)))}function Ar(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ja={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionrun:Ar("Transition","TransitionRun"),transitionstart:Ar("Transition","TransitionStart"),transitioncancel:Ar("Transition","TransitionCancel"),transitionend:Ar("Transition","TransitionEnd")},Wh={},vb={};us&&(vb=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function ta(e){if(Wh[e])return Wh[e];if(!ja[e])return e;var t=ja[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vb)return Wh[e]=t[n];return e}var Eb=ta("animationend"),Ab=ta("animationiteration"),Sb=ta("animationstart"),NC=ta("transitionrun"),IC=ta("transitionstart"),MC=ta("transitioncancel"),Cb=ta("transitionend"),Tb=new Map,l0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");l0.push("scrollEnd");function Ei(e,t){Tb.set(e,t),Jr(t,[e])}var Ap=new WeakMap;function oi(e,t){if(typeof e=="object"&&e!==null){var n=Ap.get(e);return n!==void 0?n:(t={value:e,source:t,stack:op(t)},Ap.set(e,t),t)}return{value:e,source:t,stack:op(t)}}var ni=[],La=0,q1=0;function Ud(){for(var e=La,t=q1=La=0;t<e;){var n=ni[t];ni[t++]=null;var i=ni[t];ni[t++]=null;var r=ni[t];ni[t++]=null;var a=ni[t];if(ni[t++]=null,i!==null&&r!==null){var c=i.pending;c===null?r.next=r:(r.next=c.next,c.next=r),i.pending=r}a!==0&&_b(n,r,a)}}function Fd(e,t,n,i){ni[La++]=e,ni[La++]=t,ni[La++]=n,ni[La++]=i,q1|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function X1(e,t,n,i){return Fd(e,t,n,i),qu(e)}function Eo(e,t){return Fd(e,null,null,t),qu(e)}function _b(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,a=e.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(r=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,r&&t!==null&&(r=31-Yn(n),e=a.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),a):null}function qu(e){if(50<Al)throw Al=0,I0=null,Error(ee(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ka={};function DC(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,t,n,i){return new DC(e,t,n,i)}function W1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function os(e,t){var n=e.alternate;return n===null?(n=zn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Nb(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Su(e,t,n,i,r,a){var c=0;if(i=e,typeof e=="function")W1(e)&&(c=1);else if(typeof e=="string")c=O4(e,n,Bi.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Kf:return e=zn(31,n,t,r),e.elementType=Kf,e.lanes=a,e;case Na:return Br(n.children,r,a,t);case X2:c=8,r|=24;break;case Xf:return e=zn(12,n,t,r|2),e.elementType=Xf,e.lanes=a,e;case Wf:return e=zn(13,n,t,r),e.elementType=Wf,e.lanes=a,e;case Zf:return e=zn(19,n,t,r),e.elementType=Zf,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vS:case ts:c=10;break e;case W2:c=9;break e;case j1:c=11;break e;case L1:c=14;break e;case js:c=16,i=null;break e}c=29,n=Error(ee(130,e===null?"null":typeof e,"")),i=null}return t=zn(c,n,t,r),t.elementType=e,t.type=i,t.lanes=a,t}function Br(e,t,n,i){return e=zn(7,e,i,t),e.lanes=n,e}function Zh(e,t,n){return e=zn(6,e,null,t),e.lanes=n,e}function Kh(e,t,n){return t=zn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ba=[],Pa=0,Xu=null,Wu=0,si=[],ri=0,Pr=null,ns=1,is="";function Nr(e,t){Ba[Pa++]=Wu,Ba[Pa++]=Xu,Xu=e,Wu=t}function Ib(e,t,n){si[ri++]=ns,si[ri++]=is,si[ri++]=Pr,Pr=e;var i=ns;e=is;var r=32-Yn(i)-1;i&=~(1<<r),n+=1;var a=32-Yn(t)+r;if(30<a){var c=r-r%5;a=(i&(1<<c)-1).toString(32),i>>=c,r-=c,ns=1<<32-Yn(t)+r|n<<r|i,is=a+e}else ns=1<<a|n<<r|i,is=e}function Z1(e){e.return!==null&&(Nr(e,1),Ib(e,1,0))}function K1(e){for(;e===Xu;)Xu=Ba[--Pa],Ba[Pa]=null,Wu=Ba[--Pa],Ba[Pa]=null;for(;e===Pr;)Pr=si[--ri],si[ri]=null,is=si[--ri],si[ri]=null,ns=si[--ri],si[ri]=null}var pn=null,Tt=null,Ye=!1,Ur=null,Li=!1,c0=Error(ee(519));function Xr(e){var t=Error(ee(418,""));throw Pl(oi(t,e)),c0}function Sp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[un]=e,t[On]=i,n){case"dialog":De("cancel",t),De("close",t);break;case"iframe":case"object":case"embed":De("load",t);break;case"video":case"audio":for(n=0;n<Vl.length;n++)De(Vl[n],t);break;case"source":De("error",t);break;case"img":case"image":case"link":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"input":De("invalid",t),ob(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Gu(t);break;case"select":De("invalid",t);break;case"textarea":De("invalid",t),cb(t,i.value,i.defaultValue,i.children),Gu(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||uv(t.textContent,n)?(i.popover!=null&&(De("beforetoggle",t),De("toggle",t)),i.onScroll!=null&&De("scroll",t),i.onScrollEnd!=null&&De("scrollend",t),i.onClick!=null&&(t.onclick=Wd),t=!0):t=!1,t||Xr(e)}function Cp(e){for(pn=e.return;pn;)switch(pn.tag){case 5:case 13:Li=!1;return;case 27:case 3:Li=!0;return;default:pn=pn.return}}function Zo(e){if(e!==pn)return!1;if(!Ye)return Cp(e),Ye=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||L0(e.type,e.memoizedProps)),n=!n),n&&Tt&&Xr(e),Cp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Tt=wi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Tt=null}}else t===27?(t=Tt,hr(e.type)?(e=P0,P0=null,Tt=e):Tt=t):Tt=pn?wi(e.stateNode.nextSibling):null;return!0}function dc(){Tt=pn=null,Ye=!1}function Tp(){var e=Ur;return e!==null&&(In===null?In=e:In.push.apply(In,e),Ur=null),e}function Pl(e){Ur===null?Ur=[e]:Ur.push(e)}var u0=Hi(null),na=null,ss=null;function Bs(e,t,n){mt(u0,t._currentValue),t._currentValue=n}function ls(e){e._currentValue=u0.current,Kt(u0)}function d0(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function h0(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){var c=r.child;a=a.firstContext;e:for(;a!==null;){var h=a;a=r;for(var g=0;g<t.length;g++)if(h.context===t[g]){a.lanes|=n,h=a.alternate,h!==null&&(h.lanes|=n),d0(a.return,n,e),i||(c=null);break e}a=h.next}}else if(r.tag===18){if(c=r.return,c===null)throw Error(ee(341));c.lanes|=n,a=c.alternate,a!==null&&(a.lanes|=n),d0(c,n,e),c=null}else c=r.child;if(c!==null)c.return=r;else for(c=r;c!==null;){if(c===e){c=null;break}if(r=c.sibling,r!==null){r.return=c.return,c=r;break}c=c.return}r=c}}function hc(e,t,n,i){e=null;for(var r=t,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var c=r.alternate;if(c===null)throw Error(ee(387));if(c=c.memoizedProps,c!==null){var h=r.type;Wn(r.pendingProps.value,c.value)||(e!==null?e.push(h):e=[h])}}else if(r===Fu.current){if(c=r.alternate,c===null)throw Error(ee(387));c.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Gl):e=[Gl])}r=r.return}e!==null&&h0(t,e,n,i),t.flags|=262144}function Zu(e){for(e=e.firstContext;e!==null;){if(!Wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Wr(e){na=e,ss=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dn(e){return Mb(na,e)}function eu(e,t){return na===null&&Wr(e),Mb(e,t)}function Mb(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ss===null){if(e===null)throw Error(ee(308));ss=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ss=ss.next=t;return n}var RC=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},OC=zt.unstable_scheduleCallback,jC=zt.unstable_NormalPriority,Ft={$$typeof:ts,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Q1(){return{controller:new RC,data:new Map,refCount:0}}function fc(e){e.refCount--,e.refCount===0&&OC(jC,function(){e.controller.abort()})}var gl=null,f0=0,io=0,Za=null;function LC(e,t){if(gl===null){var n=gl=[];f0=0,io=wg(),Za={status:"pending",value:void 0,then:function(i){n.push(i)}}}return f0++,t.then(_p,_p),t}function _p(){if(--f0===0&&gl!==null){Za!==null&&(Za.status="fulfilled");var e=gl;gl=null,io=0,Za=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function kC(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Np=Ae.S;Ae.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&LC(e,t),Np!==null&&Np(e,t)};var Fr=Hi(null);function $1(){var e=Fr.current;return e!==null?e:ot.pooledCache}function Cu(e,t){t===null?mt(Fr,Fr.current):mt(Fr,t.pool)}function Db(){var e=$1();return e===null?null:{parent:Ft._currentValue,pool:e}}var gc=Error(ee(460)),Rb=Error(ee(474)),Vd=Error(ee(542)),g0={then:function(){}};function Ip(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tu(){}function Ob(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(tu,tu),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dp(e),e;default:if(typeof t.status=="string")t.then(tu,tu);else{if(e=ot,e!==null&&100<e.shellSuspendCounter)throw Error(ee(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dp(e),e}throw ml=t,gc}}var ml=null;function Mp(){if(ml===null)throw Error(ee(459));var e=ml;return ml=null,e}function Dp(e){if(e===gc||e===Vd)throw Error(ee(483))}var Ls=!1;function J1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function m0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Zs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ks(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Ke&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=qu(e),_b(e,null,n),t}return Fd(e,i,t,n),qu(e)}function pl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,tb(e,n)}}function Qh(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var c={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?r=a=c:a=a.next=c,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var p0=!1;function xl(){if(p0){var e=Za;if(e!==null)throw e}}function yl(e,t,n,i){p0=!1;var r=e.updateQueue;Ls=!1;var a=r.firstBaseUpdate,c=r.lastBaseUpdate,h=r.shared.pending;if(h!==null){r.shared.pending=null;var g=h,m=g.next;g.next=null,c===null?a=m:c.next=m,c=g;var b=e.alternate;b!==null&&(b=b.updateQueue,h=b.lastBaseUpdate,h!==c&&(h===null?b.firstBaseUpdate=m:h.next=m,b.lastBaseUpdate=g))}if(a!==null){var w=r.baseState;c=0,b=m=g=null,h=a;do{var E=h.lane&-536870913,A=E!==h.lane;if(A?(Be&E)===E:(i&E)===E){E!==0&&E===io&&(p0=!0),b!==null&&(b=b.next={lane:0,tag:h.tag,payload:h.payload,callback:null,next:null});e:{var O=e,M=h;E=t;var P=n;switch(M.tag){case 1:if(O=M.payload,typeof O=="function"){w=O.call(P,w,E);break e}w=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=M.payload,E=typeof O=="function"?O.call(P,w,E):O,E==null)break e;w=ut({},w,E);break e;case 2:Ls=!0}}E=h.callback,E!==null&&(e.flags|=64,A&&(e.flags|=8192),A=r.callbacks,A===null?r.callbacks=[E]:A.push(E))}else A={lane:E,tag:h.tag,payload:h.payload,callback:h.callback,next:null},b===null?(m=b=A,g=w):b=b.next=A,c|=E;if(h=h.next,h===null){if(h=r.shared.pending,h===null)break;A=h,h=A.next,A.next=null,r.lastBaseUpdate=A,r.shared.pending=null}}while(!0);b===null&&(g=w),r.baseState=g,r.firstBaseUpdate=m,r.lastBaseUpdate=b,a===null&&(r.shared.lanes=0),ar|=c,e.lanes=c,e.memoizedState=w}}function jb(e,t){if(typeof e!="function")throw Error(ee(191,e));e.call(t)}function Lb(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)jb(n[e],t)}var so=Hi(null),Ku=Hi(0);function Rp(e,t){e=fs,mt(Ku,e),mt(so,t),fs=e|t.baseLanes}function x0(){mt(Ku,fs),mt(so,so.current)}function eg(){fs=Ku.current,Kt(so),Kt(Ku)}var sr=0,Ie=null,Je=null,jt=null,Qu=!1,Ka=!1,Zr=!1,$u=0,Ul=0,Qa=null,BC=0;function It(){throw Error(ee(321))}function tg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wn(e[n],t[n]))return!1;return!0}function ng(e,t,n,i,r,a){return sr=a,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ae.H=e===null||e.memoizedState===null?hw:fw,Zr=!1,a=n(i,r),Zr=!1,Ka&&(a=Bb(t,n,i,r)),kb(e),a}function kb(e){Ae.H=Ju;var t=Je!==null&&Je.next!==null;if(sr=0,jt=Je=Ie=null,Qu=!1,Ul=0,Qa=null,t)throw Error(ee(300));e===null||Zt||(e=e.dependencies,e!==null&&Zu(e)&&(Zt=!0))}function Bb(e,t,n,i){Ie=e;var r=0;do{if(Ka&&(Qa=null),Ul=0,Ka=!1,25<=r)throw Error(ee(301));if(r+=1,jt=Je=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Ae.H=GC,a=t(n,i)}while(Ka);return a}function PC(){var e=Ae.H,t=e.useState()[0];return t=typeof t.then=="function"?mc(t):t,e=e.useState()[0],(Je!==null?Je.memoizedState:null)!==e&&(Ie.flags|=1024),t}function ig(){var e=$u!==0;return $u=0,e}function sg(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function rg(e){if(Qu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Qu=!1}sr=0,jt=Je=Ie=null,Ka=!1,Ul=$u=0,Qa=null}function _n(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Ie.memoizedState=jt=e:jt=jt.next=e,jt}function Lt(){if(Je===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=jt===null?Ie.memoizedState:jt.next;if(t!==null)jt=t,Je=e;else{if(e===null)throw Ie.alternate===null?Error(ee(467)):Error(ee(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},jt===null?Ie.memoizedState=jt=e:jt=jt.next=e}return jt}function ag(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mc(e){var t=Ul;return Ul+=1,Qa===null&&(Qa=[]),e=Ob(Qa,e,t),t=Ie,(jt===null?t.memoizedState:jt.next)===null&&(t=t.alternate,Ae.H=t===null||t.memoizedState===null?hw:fw),e}function zd(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return mc(e);if(e.$$typeof===ts)return dn(e)}throw Error(ee(438,String(e)))}function og(e){var t=null,n=Ie.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=Ie.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=ag(),Ie.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=ES;return t.index++,n}function ds(e,t){return typeof t=="function"?t(e):t}function Tu(e){var t=Lt();return lg(t,Je,e)}function lg(e,t,n){var i=e.queue;if(i===null)throw Error(ee(311));i.lastRenderedReducer=n;var r=e.baseQueue,a=i.pending;if(a!==null){if(r!==null){var c=r.next;r.next=a.next,a.next=c}t.baseQueue=r=a,i.pending=null}if(a=e.baseState,r===null)e.memoizedState=a;else{t=r.next;var h=c=null,g=null,m=t,b=!1;do{var w=m.lane&-536870913;if(w!==m.lane?(Be&w)===w:(sr&w)===w){var E=m.revertLane;if(E===0)g!==null&&(g=g.next={lane:0,revertLane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),w===io&&(b=!0);else if((sr&E)===E){m=m.next,E===io&&(b=!0);continue}else w={lane:0,revertLane:m.revertLane,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null},g===null?(h=g=w,c=a):g=g.next=w,Ie.lanes|=E,ar|=E;w=m.action,Zr&&n(a,w),a=m.hasEagerState?m.eagerState:n(a,w)}else E={lane:w,revertLane:m.revertLane,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null},g===null?(h=g=E,c=a):g=g.next=E,Ie.lanes|=w,ar|=w;m=m.next}while(m!==null&&m!==t);if(g===null?c=a:g.next=h,!Wn(a,e.memoizedState)&&(Zt=!0,b&&(n=Za,n!==null)))throw n;e.memoizedState=a,e.baseState=c,e.baseQueue=g,i.lastRenderedState=a}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function $h(e){var t=Lt(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var c=r=r.next;do a=e(a,c.action),c=c.next;while(c!==r);Wn(a,t.memoizedState)||(Zt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Pb(e,t,n){var i=Ie,r=Lt(),a=Ye;if(a){if(n===void 0)throw Error(ee(407));n=n()}else n=t();var c=!Wn((Je||r).memoizedState,n);c&&(r.memoizedState=n,Zt=!0),r=r.queue;var h=Vb.bind(null,i,r,e);if(pc(2048,8,h,[e]),r.getSnapshot!==t||c||jt!==null&&jt.memoizedState.tag&1){if(i.flags|=2048,ro(9,Hd(),Fb.bind(null,i,r,n,t),null),ot===null)throw Error(ee(349));a||sr&124||Ub(i,t,n)}return n}function Ub(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ie.updateQueue,t===null?(t=ag(),Ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Fb(e,t,n,i){t.value=n,t.getSnapshot=i,zb(t)&&Hb(e)}function Vb(e,t,n){return n(function(){zb(t)&&Hb(e)})}function zb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wn(e,n)}catch{return!0}}function Hb(e){var t=Eo(e,2);t!==null&&Xn(t,e,2)}function y0(e){var t=_n();if(typeof e=="function"){var n=e;if(e=n(),Zr){Hs(!0);try{n()}finally{Hs(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:e},t}function Gb(e,t,n,i){return e.baseState=n,lg(e,Je,typeof i=="function"?i:ds)}function UC(e,t,n,i,r){if(Gd(e))throw Error(ee(485));if(e=t.action,e!==null){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){a.listeners.push(c)}};Ae.T!==null?n(!0):a.isTransition=!1,i(a),n=t.pending,n===null?(a.next=t.pending=a,Yb(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Yb(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=Ae.T,c={};Ae.T=c;try{var h=n(r,i),g=Ae.S;g!==null&&g(c,h),Op(e,t,h)}catch(m){b0(e,t,m)}finally{Ae.T=a}}else try{a=n(r,i),Op(e,t,a)}catch(m){b0(e,t,m)}}function Op(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){jp(e,t,i)},function(i){return b0(e,t,i)}):jp(e,t,n)}function jp(e,t,n){t.status="fulfilled",t.value=n,qb(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Yb(e,n)))}function b0(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,qb(t),t=t.next;while(t!==i)}e.action=null}function qb(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Xb(e,t){return t}function Lp(e,t){if(Ye){var n=ot.formState;if(n!==null){e:{var i=Ie;if(Ye){if(Tt){t:{for(var r=Tt,a=Li;r.nodeType!==8;){if(!a){r=null;break t}if(r=wi(r.nextSibling),r===null){r=null;break t}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){Tt=wi(r.nextSibling),i=r.data==="F!";break e}}Xr(i)}i=!1}i&&(t=n[0])}}return n=_n(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xb,lastRenderedState:t},n.queue=i,n=cw.bind(null,Ie,i),i.dispatch=n,i=y0(!1),a=hg.bind(null,Ie,!1,i.queue),i=_n(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=UC.bind(null,Ie,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function kp(e){var t=Lt();return Wb(t,Je,e)}function Wb(e,t,n){if(t=lg(e,t,Xb)[0],e=Tu(ds)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=mc(t)}catch(c){throw c===gc?Vd:c}else i=t;t=Lt();var r=t.queue,a=r.dispatch;return n!==t.memoizedState&&(Ie.flags|=2048,ro(9,Hd(),FC.bind(null,r,n),null)),[i,a,e]}function FC(e,t){e.action=t}function Bp(e){var t=Lt(),n=Je;if(n!==null)return Wb(t,n,e);Lt(),t=t.memoizedState,n=Lt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function ro(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=Ie.updateQueue,t===null&&(t=ag(),Ie.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Hd(){return{destroy:void 0,resource:void 0}}function Zb(){return Lt().memoizedState}function _u(e,t,n,i){var r=_n();i=i===void 0?null:i,Ie.flags|=e,r.memoizedState=ro(1|t,Hd(),n,i)}function pc(e,t,n,i){var r=Lt();i=i===void 0?null:i;var a=r.memoizedState.inst;Je!==null&&i!==null&&tg(i,Je.memoizedState.deps)?r.memoizedState=ro(t,a,n,i):(Ie.flags|=e,r.memoizedState=ro(1|t,a,n,i))}function Pp(e,t){_u(8390656,8,e,t)}function Kb(e,t){pc(2048,8,e,t)}function Qb(e,t){return pc(4,2,e,t)}function $b(e,t){return pc(4,4,e,t)}function Jb(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ew(e,t,n){n=n!=null?n.concat([e]):null,pc(4,4,Jb.bind(null,t,e),n)}function cg(){}function tw(e,t){var n=Lt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&tg(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function nw(e,t){var n=Lt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&tg(t,i[1]))return i[0];if(i=e(),Zr){Hs(!0);try{e()}finally{Hs(!1)}}return n.memoizedState=[i,t],i}function ug(e,t,n){return n===void 0||sr&1073741824?e.memoizedState=t:(e.memoizedState=n,e=qw(),Ie.lanes|=e,ar|=e,n)}function iw(e,t,n,i){return Wn(n,t)?n:so.current!==null?(e=ug(e,n,i),Wn(e,t)||(Zt=!0),e):sr&42?(e=qw(),Ie.lanes|=e,ar|=e,t):(Zt=!0,e.memoizedState=n)}function sw(e,t,n,i,r){var a=qe.p;qe.p=a!==0&&8>a?a:8;var c=Ae.T,h={};Ae.T=h,hg(e,!1,t,n);try{var g=r(),m=Ae.S;if(m!==null&&m(h,g),g!==null&&typeof g=="object"&&typeof g.then=="function"){var b=kC(g,i);bl(e,t,b,qn(e))}else bl(e,t,i,qn(e))}catch(w){bl(e,t,{then:function(){},status:"rejected",reason:w},qn())}finally{qe.p=a,Ae.T=c}}function VC(){}function w0(e,t,n,i){if(e.tag!==5)throw Error(ee(476));var r=rw(e).queue;sw(e,r,t,kr,n===null?VC:function(){return aw(e),n(i)})}function rw(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:kr,baseState:kr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:kr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function aw(e){var t=rw(e).next.queue;bl(e,t,{},qn())}function dg(){return dn(Gl)}function ow(){return Lt().memoizedState}function lw(){return Lt().memoizedState}function zC(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=qn();e=Zs(n);var i=Ks(t,e,n);i!==null&&(Xn(i,t,n),pl(i,t,n)),t={cache:Q1()},e.payload=t;return}t=t.return}}function HC(e,t,n){var i=qn();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Gd(e)?uw(t,n):(n=X1(e,t,n,i),n!==null&&(Xn(n,e,i),dw(n,t,i)))}function cw(e,t,n){var i=qn();bl(e,t,n,i)}function bl(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gd(e))uw(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var c=t.lastRenderedState,h=a(c,n);if(r.hasEagerState=!0,r.eagerState=h,Wn(h,c))return Fd(e,t,r,0),ot===null&&Ud(),!1}catch{}finally{}if(n=X1(e,t,r,i),n!==null)return Xn(n,e,i),dw(n,t,i),!0}return!1}function hg(e,t,n,i){if(i={lane:2,revertLane:wg(),action:i,hasEagerState:!1,eagerState:null,next:null},Gd(e)){if(t)throw Error(ee(479))}else t=X1(e,n,i,2),t!==null&&Xn(t,e,2)}function Gd(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function uw(e,t){Ka=Qu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dw(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,tb(e,n)}}var Ju={readContext:dn,use:zd,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It},hw={readContext:dn,use:zd,useCallback:function(e,t){return _n().memoizedState=[e,t===void 0?null:t],e},useContext:dn,useEffect:Pp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,_u(4194308,4,Jb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _u(4194308,4,e,t)},useInsertionEffect:function(e,t){_u(4,2,e,t)},useMemo:function(e,t){var n=_n();t=t===void 0?null:t;var i=e();if(Zr){Hs(!0);try{e()}finally{Hs(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=_n();if(n!==void 0){var r=n(t);if(Zr){Hs(!0);try{n(t)}finally{Hs(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=HC.bind(null,Ie,e),[i.memoizedState,e]},useRef:function(e){var t=_n();return e={current:e},t.memoizedState=e},useState:function(e){e=y0(e);var t=e.queue,n=cw.bind(null,Ie,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:cg,useDeferredValue:function(e,t){var n=_n();return ug(n,e,t)},useTransition:function(){var e=y0(!1);return e=sw.bind(null,Ie,e.queue,!0,!1),_n().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Ie,r=_n();if(Ye){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=t(),ot===null)throw Error(ee(349));Be&124||Ub(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Pp(Vb.bind(null,i,a,e),[e]),i.flags|=2048,ro(9,Hd(),Fb.bind(null,i,a,n,t),null),n},useId:function(){var e=_n(),t=ot.identifierPrefix;if(Ye){var n=is,i=ns;n=(i&~(1<<32-Yn(i)-1)).toString(32)+n,t="«"+t+"R"+n,n=$u++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=BC++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:dg,useFormState:Lp,useActionState:Lp,useOptimistic:function(e){var t=_n();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=hg.bind(null,Ie,!0,n),n.dispatch=t,[e,t]},useMemoCache:og,useCacheRefresh:function(){return _n().memoizedState=zC.bind(null,Ie)}},fw={readContext:dn,use:zd,useCallback:tw,useContext:dn,useEffect:Kb,useImperativeHandle:ew,useInsertionEffect:Qb,useLayoutEffect:$b,useMemo:nw,useReducer:Tu,useRef:Zb,useState:function(){return Tu(ds)},useDebugValue:cg,useDeferredValue:function(e,t){var n=Lt();return iw(n,Je.memoizedState,e,t)},useTransition:function(){var e=Tu(ds)[0],t=Lt().memoizedState;return[typeof e=="boolean"?e:mc(e),t]},useSyncExternalStore:Pb,useId:ow,useHostTransitionStatus:dg,useFormState:kp,useActionState:kp,useOptimistic:function(e,t){var n=Lt();return Gb(n,Je,e,t)},useMemoCache:og,useCacheRefresh:lw},GC={readContext:dn,use:zd,useCallback:tw,useContext:dn,useEffect:Kb,useImperativeHandle:ew,useInsertionEffect:Qb,useLayoutEffect:$b,useMemo:nw,useReducer:$h,useRef:Zb,useState:function(){return $h(ds)},useDebugValue:cg,useDeferredValue:function(e,t){var n=Lt();return Je===null?ug(n,e,t):iw(n,Je.memoizedState,e,t)},useTransition:function(){var e=$h(ds)[0],t=Lt().memoizedState;return[typeof e=="boolean"?e:mc(e),t]},useSyncExternalStore:Pb,useId:ow,useHostTransitionStatus:dg,useFormState:Bp,useActionState:Bp,useOptimistic:function(e,t){var n=Lt();return Je!==null?Gb(n,Je,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:og,useCacheRefresh:lw},$a=null,Fl=0;function nu(e){var t=Fl;return Fl+=1,$a===null&&($a=[]),Ob($a,e,t)}function Ko(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function iu(e,t){throw t.$$typeof===wS?Error(ee(525)):(e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Up(e){var t=e._init;return t(e._payload)}function gw(e){function t(T,_){if(e){var C=T.deletions;C===null?(T.deletions=[_],T.flags|=16):C.push(_)}}function n(T,_){if(!e)return null;for(;_!==null;)t(T,_),_=_.sibling;return null}function i(T){for(var _=new Map;T!==null;)T.key!==null?_.set(T.key,T):_.set(T.index,T),T=T.sibling;return _}function r(T,_){return T=os(T,_),T.index=0,T.sibling=null,T}function a(T,_,C){return T.index=C,e?(C=T.alternate,C!==null?(C=C.index,C<_?(T.flags|=67108866,_):C):(T.flags|=67108866,_)):(T.flags|=1048576,_)}function c(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function h(T,_,C,L){return _===null||_.tag!==6?(_=Zh(C,T.mode,L),_.return=T,_):(_=r(_,C),_.return=T,_)}function g(T,_,C,L){var z=C.type;return z===Na?b(T,_,C.props.children,L,C.key):_!==null&&(_.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===js&&Up(z)===_.type)?(_=r(_,C.props),Ko(_,C),_.return=T,_):(_=Su(C.type,C.key,C.props,null,T.mode,L),Ko(_,C),_.return=T,_)}function m(T,_,C,L){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=Kh(C,T.mode,L),_.return=T,_):(_=r(_,C.children||[]),_.return=T,_)}function b(T,_,C,L,z){return _===null||_.tag!==7?(_=Br(C,T.mode,L,z),_.return=T,_):(_=r(_,C),_.return=T,_)}function w(T,_,C){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Zh(""+_,T.mode,C),_.return=T,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Zc:return C=Su(_.type,_.key,_.props,null,T.mode,C),Ko(C,_),C.return=T,C;case il:return _=Kh(_,T.mode,C),_.return=T,_;case js:var L=_._init;return _=L(_._payload),w(T,_,C)}if(sl(_)||qo(_))return _=Br(_,T.mode,C,null),_.return=T,_;if(typeof _.then=="function")return w(T,nu(_),C);if(_.$$typeof===ts)return w(T,eu(T,_),C);iu(T,_)}return null}function E(T,_,C,L){var z=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return z!==null?null:h(T,_,""+C,L);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Zc:return C.key===z?g(T,_,C,L):null;case il:return C.key===z?m(T,_,C,L):null;case js:return z=C._init,C=z(C._payload),E(T,_,C,L)}if(sl(C)||qo(C))return z!==null?null:b(T,_,C,L,null);if(typeof C.then=="function")return E(T,_,nu(C),L);if(C.$$typeof===ts)return E(T,_,eu(T,C),L);iu(T,C)}return null}function A(T,_,C,L,z){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return T=T.get(C)||null,h(_,T,""+L,z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Zc:return T=T.get(L.key===null?C:L.key)||null,g(_,T,L,z);case il:return T=T.get(L.key===null?C:L.key)||null,m(_,T,L,z);case js:var D=L._init;return L=D(L._payload),A(T,_,C,L,z)}if(sl(L)||qo(L))return T=T.get(C)||null,b(_,T,L,z,null);if(typeof L.then=="function")return A(T,_,C,nu(L),z);if(L.$$typeof===ts)return A(T,_,C,eu(_,L),z);iu(_,L)}return null}function O(T,_,C,L){for(var z=null,D=null,k=_,V=_=0,U=null;k!==null&&V<C.length;V++){k.index>V?(U=k,k=null):U=k.sibling;var q=E(T,k,C[V],L);if(q===null){k===null&&(k=U);break}e&&k&&q.alternate===null&&t(T,k),_=a(q,_,V),D===null?z=q:D.sibling=q,D=q,k=U}if(V===C.length)return n(T,k),Ye&&Nr(T,V),z;if(k===null){for(;V<C.length;V++)k=w(T,C[V],L),k!==null&&(_=a(k,_,V),D===null?z=k:D.sibling=k,D=k);return Ye&&Nr(T,V),z}for(k=i(k);V<C.length;V++)U=A(k,T,V,C[V],L),U!==null&&(e&&U.alternate!==null&&k.delete(U.key===null?V:U.key),_=a(U,_,V),D===null?z=U:D.sibling=U,D=U);return e&&k.forEach(function(Y){return t(T,Y)}),Ye&&Nr(T,V),z}function M(T,_,C,L){if(C==null)throw Error(ee(151));for(var z=null,D=null,k=_,V=_=0,U=null,q=C.next();k!==null&&!q.done;V++,q=C.next()){k.index>V?(U=k,k=null):U=k.sibling;var Y=E(T,k,q.value,L);if(Y===null){k===null&&(k=U);break}e&&k&&Y.alternate===null&&t(T,k),_=a(Y,_,V),D===null?z=Y:D.sibling=Y,D=Y,k=U}if(q.done)return n(T,k),Ye&&Nr(T,V),z;if(k===null){for(;!q.done;V++,q=C.next())q=w(T,q.value,L),q!==null&&(_=a(q,_,V),D===null?z=q:D.sibling=q,D=q);return Ye&&Nr(T,V),z}for(k=i(k);!q.done;V++,q=C.next())q=A(k,T,V,q.value,L),q!==null&&(e&&q.alternate!==null&&k.delete(q.key===null?V:q.key),_=a(q,_,V),D===null?z=q:D.sibling=q,D=q);return e&&k.forEach(function($){return t(T,$)}),Ye&&Nr(T,V),z}function P(T,_,C,L){if(typeof C=="object"&&C!==null&&C.type===Na&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Zc:e:{for(var z=C.key;_!==null;){if(_.key===z){if(z=C.type,z===Na){if(_.tag===7){n(T,_.sibling),L=r(_,C.props.children),L.return=T,T=L;break e}}else if(_.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===js&&Up(z)===_.type){n(T,_.sibling),L=r(_,C.props),Ko(L,C),L.return=T,T=L;break e}n(T,_);break}else t(T,_);_=_.sibling}C.type===Na?(L=Br(C.props.children,T.mode,L,C.key),L.return=T,T=L):(L=Su(C.type,C.key,C.props,null,T.mode,L),Ko(L,C),L.return=T,T=L)}return c(T);case il:e:{for(z=C.key;_!==null;){if(_.key===z)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){n(T,_.sibling),L=r(_,C.children||[]),L.return=T,T=L;break e}else{n(T,_);break}else t(T,_);_=_.sibling}L=Kh(C,T.mode,L),L.return=T,T=L}return c(T);case js:return z=C._init,C=z(C._payload),P(T,_,C,L)}if(sl(C))return O(T,_,C,L);if(qo(C)){if(z=qo(C),typeof z!="function")throw Error(ee(150));return C=z.call(C),M(T,_,C,L)}if(typeof C.then=="function")return P(T,_,nu(C),L);if(C.$$typeof===ts)return P(T,_,eu(T,C),L);iu(T,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,_!==null&&_.tag===6?(n(T,_.sibling),L=r(_,C),L.return=T,T=L):(n(T,_),L=Zh(C,T.mode,L),L.return=T,T=L),c(T)):n(T,_)}return function(T,_,C,L){try{Fl=0;var z=P(T,_,C,L);return $a=null,z}catch(k){if(k===gc||k===Vd)throw k;var D=zn(29,k,null,T.mode);return D.lanes=L,D.return=T,D}finally{}}}var ao=gw(!0),mw=gw(!1),ui=Hi(null),Ui=null;function Ps(e){var t=e.alternate;mt(Vt,Vt.current&1),mt(ui,e),Ui===null&&(t===null||so.current!==null||t.memoizedState!==null)&&(Ui=e)}function pw(e){if(e.tag===22){if(mt(Vt,Vt.current),mt(ui,e),Ui===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ui=e)}}else Us()}function Us(){mt(Vt,Vt.current),mt(ui,ui.current)}function rs(e){Kt(ui),Ui===e&&(Ui=null),Kt(Vt)}var Vt=Hi(0);function ed(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||B0(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Jh(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ut({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var v0={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=qn(),r=Zs(i);r.payload=t,n!=null&&(r.callback=n),t=Ks(e,r,i),t!==null&&(Xn(t,e,i),pl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=qn(),r=Zs(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Ks(e,r,i),t!==null&&(Xn(t,e,i),pl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qn(),i=Zs(n);i.tag=2,t!=null&&(i.callback=t),t=Ks(e,i,n),t!==null&&(Xn(t,e,n),pl(t,e,n))}};function Fp(e,t,n,i,r,a,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,c):t.prototype&&t.prototype.isPureReactComponent?!Bl(n,i)||!Bl(r,a):!0}function Vp(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&v0.enqueueReplaceState(t,t.state,null)}function Kr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=ut({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var td=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function xw(e){td(e)}function yw(e){console.error(e)}function bw(e){td(e)}function nd(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function zp(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function E0(e,t,n){return n=Zs(n),n.tag=3,n.payload={element:null},n.callback=function(){nd(e,t)},n}function ww(e){return e=Zs(e),e.tag=3,e}function vw(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){zp(t,n,i)}}var c=n.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){zp(t,n,i),typeof r!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var h=i.stack;this.componentDidCatch(i.value,{componentStack:h!==null?h:""})})}function YC(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&hc(t,n,r,!0),n=ui.current,n!==null){switch(n.tag){case 13:return Ui===null?M0():n.alternate===null&&_t===0&&(_t=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===g0?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),df(e,i,r)),!1;case 22:return n.flags|=65536,i===g0?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),df(e,i,r)),!1}throw Error(ee(435,n.tag))}return df(e,i,r),M0(),!1}if(Ye)return t=ui.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==c0&&(e=Error(ee(422),{cause:i}),Pl(oi(e,n)))):(i!==c0&&(t=Error(ee(423),{cause:i}),Pl(oi(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=oi(i,n),r=E0(e.stateNode,i,r),Qh(e,r),_t!==4&&(_t=2)),!1;var a=Error(ee(520),{cause:i});if(a=oi(a,n),El===null?El=[a]:El.push(a),_t!==4&&(_t=2),t===null)return!0;i=oi(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=E0(n.stateNode,i,e),Qh(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Qs===null||!Qs.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,r=ww(r),vw(r,e,n,i),Qh(n,r),!1}n=n.return}while(n!==null);return!1}var Ew=Error(ee(461)),Zt=!1;function nn(e,t,n,i){t.child=e===null?mw(t,null,n,i):ao(t,e.child,n,i)}function Hp(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var c={};for(var h in i)h!=="ref"&&(c[h]=i[h])}else c=i;return Wr(t),i=ng(e,t,n,c,a,r),h=ig(),e!==null&&!Zt?(sg(e,t,r),hs(e,t,r)):(Ye&&h&&Z1(t),t.flags|=1,nn(e,t,i,r),t.child)}function Gp(e,t,n,i,r){if(e===null){var a=n.type;return typeof a=="function"&&!W1(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,Aw(e,t,a,i,r)):(e=Su(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!fg(e,r)){var c=a.memoizedProps;if(n=n.compare,n=n!==null?n:Bl,n(c,i)&&e.ref===t.ref)return hs(e,t,r)}return t.flags|=1,e=os(a,i),e.ref=t.ref,e.return=t,t.child=e}function Aw(e,t,n,i,r){if(e!==null){var a=e.memoizedProps;if(Bl(a,i)&&e.ref===t.ref)if(Zt=!1,t.pendingProps=i=a,fg(e,r))e.flags&131072&&(Zt=!0);else return t.lanes=e.lanes,hs(e,t,r)}return A0(e,t,n,i,r)}function Sw(e,t,n){var i=t.pendingProps,r=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=a!==null?a.baseLanes|n:n,e!==null){for(r=t.child=e.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;t.childLanes=a&~i}else t.childLanes=0,t.child=null;return Yp(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cu(t,a!==null?a.cachePool:null),a!==null?Rp(t,a):x0(),pw(t);else return t.lanes=t.childLanes=536870912,Yp(e,t,a!==null?a.baseLanes|n:n,n)}else a!==null?(Cu(t,a.cachePool),Rp(t,a),Us(),t.memoizedState=null):(e!==null&&Cu(t,null),x0(),Us());return nn(e,t,r,n),t.child}function Yp(e,t,n,i){var r=$1();return r=r===null?null:{parent:Ft._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Cu(t,null),x0(),pw(t),e!==null&&hc(e,t,i,!0),null}function Nu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(ee(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function A0(e,t,n,i,r){return Wr(t),n=ng(e,t,n,i,void 0,r),i=ig(),e!==null&&!Zt?(sg(e,t,r),hs(e,t,r)):(Ye&&i&&Z1(t),t.flags|=1,nn(e,t,n,r),t.child)}function qp(e,t,n,i,r,a){return Wr(t),t.updateQueue=null,n=Bb(t,i,n,r),kb(e),i=ig(),e!==null&&!Zt?(sg(e,t,a),hs(e,t,a)):(Ye&&i&&Z1(t),t.flags|=1,nn(e,t,n,a),t.child)}function Xp(e,t,n,i,r){if(Wr(t),t.stateNode===null){var a=ka,c=n.contextType;typeof c=="object"&&c!==null&&(a=dn(c)),a=new n(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=v0,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},J1(t),c=n.contextType,a.context=typeof c=="object"&&c!==null?dn(c):ka,a.state=t.memoizedState,c=n.getDerivedStateFromProps,typeof c=="function"&&(Jh(t,n,c,i),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(c=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),c!==a.state&&v0.enqueueReplaceState(a,a.state,null),yl(t,i,a,r),xl(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){a=t.stateNode;var h=t.memoizedProps,g=Kr(n,h);a.props=g;var m=a.context,b=n.contextType;c=ka,typeof b=="object"&&b!==null&&(c=dn(b));var w=n.getDerivedStateFromProps;b=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function",h=t.pendingProps!==h,b||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(h||m!==c)&&Vp(t,a,i,c),Ls=!1;var E=t.memoizedState;a.state=E,yl(t,i,a,r),xl(),m=t.memoizedState,h||E!==m||Ls?(typeof w=="function"&&(Jh(t,n,w,i),m=t.memoizedState),(g=Ls||Fp(t,n,g,i,E,m,c))?(b||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=m),a.props=i,a.state=m,a.context=c,i=g):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,m0(e,t),c=t.memoizedProps,b=Kr(n,c),a.props=b,w=t.pendingProps,E=a.context,m=n.contextType,g=ka,typeof m=="object"&&m!==null&&(g=dn(m)),h=n.getDerivedStateFromProps,(m=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==w||E!==g)&&Vp(t,a,i,g),Ls=!1,E=t.memoizedState,a.state=E,yl(t,i,a,r),xl();var A=t.memoizedState;c!==w||E!==A||Ls||e!==null&&e.dependencies!==null&&Zu(e.dependencies)?(typeof h=="function"&&(Jh(t,n,h,i),A=t.memoizedState),(b=Ls||Fp(t,n,b,i,E,A,g)||e!==null&&e.dependencies!==null&&Zu(e.dependencies))?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,A,g),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,A,g)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=A),a.props=i,a.state=A,a.context=g,i=b):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,Nu(e,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&i?(t.child=ao(t,e.child,null,r),t.child=ao(t,null,n,r)):nn(e,t,n,r),t.memoizedState=a.state,e=t.child):e=hs(e,t,r),e}function Wp(e,t,n,i){return dc(),t.flags|=256,nn(e,t,n,i),t.child}var ef={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tf(e){return{baseLanes:e,cachePool:Db()}}function nf(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=li),e}function Cw(e,t,n){var i=t.pendingProps,r=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=e!==null&&e.memoizedState===null?!1:(Vt.current&2)!==0),c&&(r=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ye){if(r?Ps(t):Us(),Ye){var h=Tt,g;if(g=h){e:{for(g=h,h=Li;g.nodeType!==8;){if(!h){h=null;break e}if(g=wi(g.nextSibling),g===null){h=null;break e}}h=g}h!==null?(t.memoizedState={dehydrated:h,treeContext:Pr!==null?{id:ns,overflow:is}:null,retryLane:536870912,hydrationErrors:null},g=zn(18,null,null,0),g.stateNode=h,g.return=t,t.child=g,pn=t,Tt=null,g=!0):g=!1}g||Xr(t)}if(h=t.memoizedState,h!==null&&(h=h.dehydrated,h!==null))return B0(h)?t.lanes=32:t.lanes=536870912,null;rs(t)}return h=i.children,i=i.fallback,r?(Us(),r=t.mode,h=id({mode:"hidden",children:h},r),i=Br(i,r,n,null),h.return=t,i.return=t,h.sibling=i,t.child=h,r=t.child,r.memoizedState=tf(n),r.childLanes=nf(e,c,n),t.memoizedState=ef,i):(Ps(t),S0(t,h))}if(g=e.memoizedState,g!==null&&(h=g.dehydrated,h!==null)){if(a)t.flags&256?(Ps(t),t.flags&=-257,t=sf(e,t,n)):t.memoizedState!==null?(Us(),t.child=e.child,t.flags|=128,t=null):(Us(),r=i.fallback,h=t.mode,i=id({mode:"visible",children:i.children},h),r=Br(r,h,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,ao(t,e.child,null,n),i=t.child,i.memoizedState=tf(n),i.childLanes=nf(e,c,n),t.memoizedState=ef,t=r);else if(Ps(t),B0(h)){if(c=h.nextSibling&&h.nextSibling.dataset,c)var m=c.dgst;c=m,i=Error(ee(419)),i.stack="",i.digest=c,Pl({value:i,source:null,stack:null}),t=sf(e,t,n)}else if(Zt||hc(e,t,n,!1),c=(n&e.childLanes)!==0,Zt||c){if(c=ot,c!==null&&(i=n&-n,i=i&42?1:B1(i),i=i&(c.suspendedLanes|n)?0:i,i!==0&&i!==g.retryLane))throw g.retryLane=i,Eo(e,i),Xn(c,e,i),Ew;h.data==="$?"||M0(),t=sf(e,t,n)}else h.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=g.treeContext,Tt=wi(h.nextSibling),pn=t,Ye=!0,Ur=null,Li=!1,e!==null&&(si[ri++]=ns,si[ri++]=is,si[ri++]=Pr,ns=e.id,is=e.overflow,Pr=t),t=S0(t,i.children),t.flags|=4096);return t}return r?(Us(),r=i.fallback,h=t.mode,g=e.child,m=g.sibling,i=os(g,{mode:"hidden",children:i.children}),i.subtreeFlags=g.subtreeFlags&65011712,m!==null?r=os(m,r):(r=Br(r,h,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,h=e.child.memoizedState,h===null?h=tf(n):(g=h.cachePool,g!==null?(m=Ft._currentValue,g=g.parent!==m?{parent:m,pool:m}:g):g=Db(),h={baseLanes:h.baseLanes|n,cachePool:g}),r.memoizedState=h,r.childLanes=nf(e,c,n),t.memoizedState=ef,i):(Ps(t),n=e.child,e=n.sibling,n=os(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=n,t.memoizedState=null,n)}function S0(e,t){return t=id({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function id(e,t){return e=zn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function sf(e,t,n){return ao(t,e.child,null,n),e=S0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zp(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),d0(e.return,t,n)}function rf(e,t,n,i,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function Tw(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(nn(e,t,i.children,n),i=Vt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zp(e,n,t);else if(e.tag===19)Zp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(mt(Vt,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&ed(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),rf(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ed(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}rf(t,!0,n,null,a);break;case"together":rf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ar|=t.lanes,!(n&t.childLanes))if(e!==null){if(hc(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,n=os(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=os(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fg(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Zu(e)))}function qC(e,t,n){switch(t.tag){case 3:Vu(t,t.stateNode.containerInfo),Bs(t,Ft,e.memoizedState.cache),dc();break;case 27:case 5:Jf(t);break;case 4:Vu(t,t.stateNode.containerInfo);break;case 10:Bs(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Ps(t),t.flags|=128,null):n&t.child.childLanes?Cw(e,t,n):(Ps(t),e=hs(e,t,n),e!==null?e.sibling:null);Ps(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(hc(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return Tw(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),mt(Vt,Vt.current),i)break;return null;case 22:case 23:return t.lanes=0,Sw(e,t,n);case 24:Bs(t,Ft,e.memoizedState.cache)}return hs(e,t,n)}function _w(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Zt=!0;else{if(!fg(e,n)&&!(t.flags&128))return Zt=!1,qC(e,t,n);Zt=!!(e.flags&131072)}else Zt=!1,Ye&&t.flags&1048576&&Ib(t,Wu,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")W1(i)?(e=Kr(i,e),t.tag=1,t=Xp(null,t,i,e,n)):(t.tag=0,t=A0(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===j1){t.tag=11,t=Hp(null,t,i,e,n);break e}else if(r===L1){t.tag=14,t=Gp(null,t,i,e,n);break e}}throw t=Qf(i)||i,Error(ee(306,t,""))}}return t;case 0:return A0(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=Kr(i,t.pendingProps),Xp(e,t,i,r,n);case 3:e:{if(Vu(t,t.stateNode.containerInfo),e===null)throw Error(ee(387));i=t.pendingProps;var a=t.memoizedState;r=a.element,m0(e,t),yl(t,i,null,n);var c=t.memoizedState;if(i=c.cache,Bs(t,Ft,i),i!==a.cache&&h0(t,[Ft],n,!0),xl(),i=c.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=Wp(e,t,i,n);break e}else if(i!==r){r=oi(Error(ee(424)),t),Pl(r),t=Wp(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Tt=wi(e.firstChild),pn=t,Ye=!0,Ur=null,Li=!0,n=mw(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(dc(),i===r){t=hs(e,t,n);break e}nn(e,t,i,n)}t=t.child}return t;case 26:return Nu(e,t),e===null?(n=hx(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ye||(n=t.type,e=t.pendingProps,i=ud(Ws.current).createElement(n),i[un]=t,i[On]=e,an(i,n,e),Wt(i),t.stateNode=i):t.memoizedState=hx(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Jf(t),e===null&&Ye&&(i=t.stateNode=fv(t.type,t.pendingProps,Ws.current),pn=t,Li=!0,r=Tt,hr(t.type)?(P0=r,Tt=wi(i.firstChild)):Tt=r),nn(e,t,t.pendingProps.children,n),Nu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ye&&((r=i=Tt)&&(i=w4(i,t.type,t.pendingProps,Li),i!==null?(t.stateNode=i,pn=t,Tt=wi(i.firstChild),Li=!1,r=!0):r=!1),r||Xr(t)),Jf(t),r=t.type,a=t.pendingProps,c=e!==null?e.memoizedProps:null,i=a.children,L0(r,a)?i=null:c!==null&&L0(r,c)&&(t.flags|=32),t.memoizedState!==null&&(r=ng(e,t,PC,null,null,n),Gl._currentValue=r),Nu(e,t),nn(e,t,i,n),t.child;case 6:return e===null&&Ye&&((e=n=Tt)&&(n=v4(n,t.pendingProps,Li),n!==null?(t.stateNode=n,pn=t,Tt=null,e=!0):e=!1),e||Xr(t)),null;case 13:return Cw(e,t,n);case 4:return Vu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ao(t,null,i,n):nn(e,t,i,n),t.child;case 11:return Hp(e,t,t.type,t.pendingProps,n);case 7:return nn(e,t,t.pendingProps,n),t.child;case 8:return nn(e,t,t.pendingProps.children,n),t.child;case 12:return nn(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Bs(t,t.type,i.value),nn(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Wr(t),r=dn(r),i=i(r),t.flags|=1,nn(e,t,i,n),t.child;case 14:return Gp(e,t,t.type,t.pendingProps,n);case 15:return Aw(e,t,t.type,t.pendingProps,n);case 19:return Tw(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=id(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=os(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Sw(e,t,n);case 24:return Wr(t),i=dn(Ft),e===null?(r=$1(),r===null&&(r=ot,a=Q1(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:i,cache:r},J1(t),Bs(t,Ft,r)):(e.lanes&n&&(m0(e,t),yl(t,null,null,n),xl()),r=e.memoizedState,a=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Bs(t,Ft,i)):(i=a.cache,Bs(t,Ft,i),i!==r.cache&&h0(t,[Ft],n,!0))),nn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(ee(156,t.tag))}function Zi(e){e.flags|=4}function Kp(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!pv(t)){if(t=ui.current,t!==null&&((Be&4194048)===Be?Ui!==null:(Be&62914560)!==Be&&!(Be&536870912)||t!==Ui))throw ml=g0,Rb;e.flags|=8192}}function su(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?J2():536870912,e.lanes|=t,oo|=t)}function Qo(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function XC(e,t,n){var i=t.pendingProps;switch(K1(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(t),null;case 1:return bt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ls(Ft),eo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Zo(t)?Zi(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tp())),bt(t),null;case 26:return n=t.memoizedState,e===null?(Zi(t),n!==null?(bt(t),Kp(t,n)):(bt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zi(t),bt(t),Kp(t,n)):(bt(t),t.flags&=-16777217):(e.memoizedProps!==i&&Zi(t),bt(t),t.flags&=-16777217),null;case 27:zu(t),n=Ws.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Zi(t);else{if(!i){if(t.stateNode===null)throw Error(ee(166));return bt(t),null}e=Bi.current,Zo(t)?Sp(t):(e=fv(r,i,n),t.stateNode=e,Zi(t))}return bt(t),null;case 5:if(zu(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Zi(t);else{if(!i){if(t.stateNode===null)throw Error(ee(166));return bt(t),null}if(e=Bi.current,Zo(t))Sp(t);else{switch(r=ud(Ws.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[un]=t,e[On]=i;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(an(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zi(t)}}return bt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Zi(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(ee(166));if(e=Ws.current,Zo(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=pn,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[un]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||uv(e.nodeValue,n)),e||Xr(t)}else e=ud(e).createTextNode(i),e[un]=t,t.stateNode=e}return bt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Zo(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(ee(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(ee(317));r[un]=t}else dc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;bt(t),r=!1}else r=Tp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(rs(t),t):(rs(t),null)}if(rs(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var a=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),su(t,t.updateQueue),bt(t),null;case 4:return eo(),e===null&&vg(t.stateNode.containerInfo),bt(t),null;case 10:return ls(t.type),bt(t),null;case 19:if(Kt(Vt),r=t.memoizedState,r===null)return bt(t),null;if(i=(t.flags&128)!==0,a=r.rendering,a===null)if(i)Qo(r,!1);else{if(_t!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ed(e),a!==null){for(t.flags|=128,Qo(r,!1),e=a.updateQueue,t.updateQueue=e,su(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Nb(n,e),n=n.sibling;return mt(Vt,Vt.current&1|2),t.child}e=e.sibling}r.tail!==null&&Pi()>rd&&(t.flags|=128,i=!0,Qo(r,!1),t.lanes=4194304)}else{if(!i)if(e=ed(a),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,su(t,e),Qo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Ye)return bt(t),null}else 2*Pi()-r.renderingStartTime>rd&&n!==536870912&&(t.flags|=128,i=!0,Qo(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Pi(),t.sibling=null,e=Vt.current,mt(Vt,i?e&1|2:e&1),t):(bt(t),null);case 22:case 23:return rs(t),eg(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(bt(t),t.subtreeFlags&6&&(t.flags|=8192)):bt(t),n=t.updateQueue,n!==null&&su(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Kt(Fr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ls(Ft),bt(t),null;case 25:return null;case 30:return null}throw Error(ee(156,t.tag))}function WC(e,t){switch(K1(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ls(Ft),eo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return zu(t),null;case 13:if(rs(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));dc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kt(Vt),null;case 4:return eo(),null;case 10:return ls(t.type),null;case 22:case 23:return rs(t),eg(),e!==null&&Kt(Fr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ls(Ft),null;case 25:return null;default:return null}}function Nw(e,t){switch(K1(t),t.tag){case 3:ls(Ft),eo();break;case 26:case 27:case 5:zu(t);break;case 4:eo();break;case 13:rs(t);break;case 19:Kt(Vt);break;case 10:ls(t.type);break;case 22:case 23:rs(t),eg(),e!==null&&Kt(Fr);break;case 24:ls(Ft)}}function xc(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create,c=n.inst;i=a(),c.destroy=i}n=n.next}while(n!==r)}}catch(h){it(t,t.return,h)}}function rr(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var a=r.next;i=a;do{if((i.tag&e)===e){var c=i.inst,h=c.destroy;if(h!==void 0){c.destroy=void 0,r=t;var g=n,m=h;try{m()}catch(b){it(r,g,b)}}}i=i.next}while(i!==a)}}catch(b){it(t,t.return,b)}}function Iw(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Lb(t,n)}catch(i){it(e,e.return,i)}}}function Mw(e,t,n){n.props=Kr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){it(e,t,i)}}function wl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){it(e,t,r)}}function ki(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){it(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){it(e,t,r)}else n.current=null}function Dw(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){it(e,e.return,r)}}function af(e,t,n){try{var i=e.stateNode;m4(i,e.type,n,t),i[On]=t}catch(r){it(e,e.return,r)}}function Rw(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&hr(e.type)||e.tag===4}function of(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&hr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function C0(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wd));else if(i!==4&&(i===27&&hr(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(C0(e,t,n),e=e.sibling;e!==null;)C0(e,t,n),e=e.sibling}function sd(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&hr(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(sd(e,t,n),e=e.sibling;e!==null;)sd(e,t,n),e=e.sibling}function Ow(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);an(t,i,n),t[un]=e,t[On]=n}catch(a){it(e,e.return,a)}}var es=!1,Dt=!1,lf=!1,Qp=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function ZC(e,t){if(e=e.containerInfo,O0=gd,e=wb(e),Y1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var c=0,h=-1,g=-1,m=0,b=0,w=e,E=null;t:for(;;){for(var A;w!==n||r!==0&&w.nodeType!==3||(h=c+r),w!==a||i!==0&&w.nodeType!==3||(g=c+i),w.nodeType===3&&(c+=w.nodeValue.length),(A=w.firstChild)!==null;)E=w,w=A;for(;;){if(w===e)break t;if(E===n&&++m===r&&(h=c),E===a&&++b===i&&(g=c),(A=w.nextSibling)!==null)break;w=E,E=w.parentNode}w=A}n=h===-1||g===-1?null:{start:h,end:g}}else n=null}n=n||{start:0,end:0}}else n=null;for(j0={focusedElem:e,selectionRange:n},gd=!1,Xt=t;Xt!==null;)if(t=Xt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Xt=e;else for(;Xt!==null;){switch(t=Xt,a=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var O=Kr(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(O,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){it(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)k0(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":k0(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(ee(163))}if(e=t.sibling,e!==null){e.return=t.return,Xt=e;break}Xt=t.return}}function jw(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Ns(e,n),i&4&&xc(5,n);break;case 1:if(Ns(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(c){it(n,n.return,c)}else{var r=Kr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){it(n,n.return,c)}}i&64&&Iw(n),i&512&&wl(n,n.return);break;case 3:if(Ns(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Lb(e,t)}catch(c){it(n,n.return,c)}}break;case 27:t===null&&i&4&&Ow(n);case 26:case 5:Ns(e,n),t===null&&i&4&&Dw(n),i&512&&wl(n,n.return);break;case 12:Ns(e,n);break;case 13:Ns(e,n),i&4&&Bw(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=s4.bind(null,n),E4(e,n))));break;case 22:if(i=n.memoizedState!==null||es,!i){t=t!==null&&t.memoizedState!==null||Dt,r=es;var a=Dt;es=i,(Dt=t)&&!a?Ds(e,n,(n.subtreeFlags&8772)!==0):Ns(e,n),es=r,Dt=a}break;case 30:break;default:Ns(e,n)}}function Lw(e){var t=e.alternate;t!==null&&(e.alternate=null,Lw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&U1(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ft=null,Nn=!1;function Ki(e,t,n){for(n=n.child;n!==null;)kw(e,t,n),n=n.sibling}function kw(e,t,n){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(ac,n)}catch{}switch(n.tag){case 26:Dt||ki(n,t),Ki(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Dt||ki(n,t);var i=ft,r=Nn;hr(n.type)&&(ft=n.stateNode,Nn=!1),Ki(e,t,n),Sl(n.stateNode),ft=i,Nn=r;break;case 5:Dt||ki(n,t);case 6:if(i=ft,r=Nn,ft=null,Ki(e,t,n),ft=i,Nn=r,ft!==null)if(Nn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(n.stateNode)}catch(a){it(n,t,a)}else try{ft.removeChild(n.stateNode)}catch(a){it(n,t,a)}break;case 18:ft!==null&&(Nn?(e=ft,cx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Xl(e)):cx(ft,n.stateNode));break;case 4:i=ft,r=Nn,ft=n.stateNode.containerInfo,Nn=!0,Ki(e,t,n),ft=i,Nn=r;break;case 0:case 11:case 14:case 15:Dt||rr(2,n,t),Dt||rr(4,n,t),Ki(e,t,n);break;case 1:Dt||(ki(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Mw(n,t,i)),Ki(e,t,n);break;case 21:Ki(e,t,n);break;case 22:Dt=(i=Dt)||n.memoizedState!==null,Ki(e,t,n),Dt=i;break;default:Ki(e,t,n)}}function Bw(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xl(e)}catch(n){it(t,t.return,n)}}function KC(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Qp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Qp),t;default:throw Error(ee(435,e.tag))}}function cf(e,t){var n=KC(e);t.forEach(function(i){var r=r4.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function kn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],a=e,c=t,h=c;e:for(;h!==null;){switch(h.tag){case 27:if(hr(h.type)){ft=h.stateNode,Nn=!1;break e}break;case 5:ft=h.stateNode,Nn=!1;break e;case 3:case 4:ft=h.stateNode.containerInfo,Nn=!0;break e}h=h.return}if(ft===null)throw Error(ee(160));kw(a,c,r),ft=null,Nn=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Pw(t,e),t=t.sibling}var xi=null;function Pw(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:kn(t,e),Bn(e),i&4&&(rr(3,e,e.return),xc(3,e),rr(5,e,e.return));break;case 1:kn(t,e),Bn(e),i&512&&(Dt||n===null||ki(n,n.return)),i&64&&es&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=xi;if(kn(t,e),Bn(e),i&512&&(Dt||n===null||ki(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":a=r.getElementsByTagName("title")[0],(!a||a[cc]||a[un]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),an(a,i,n),a[un]=e,Wt(a),i=a;break e;case"link":var c=gx("link","href",r).get(i+(n.href||""));if(c){for(var h=0;h<c.length;h++)if(a=c[h],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){c.splice(h,1);break t}}a=r.createElement(i),an(a,i,n),r.head.appendChild(a);break;case"meta":if(c=gx("meta","content",r).get(i+(n.content||""))){for(h=0;h<c.length;h++)if(a=c[h],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){c.splice(h,1);break t}}a=r.createElement(i),an(a,i,n),r.head.appendChild(a);break;default:throw Error(ee(468,i))}a[un]=e,Wt(a),i=a}e.stateNode=i}else mx(r,e.type,e.stateNode);else e.stateNode=fx(r,i,e.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?mx(r,e.type,e.stateNode):fx(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&af(e,e.memoizedProps,n.memoizedProps)}break;case 27:kn(t,e),Bn(e),i&512&&(Dt||n===null||ki(n,n.return)),n!==null&&i&4&&af(e,e.memoizedProps,n.memoizedProps);break;case 5:if(kn(t,e),Bn(e),i&512&&(Dt||n===null||ki(n,n.return)),e.flags&32){r=e.stateNode;try{no(r,"")}catch(A){it(e,e.return,A)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,af(e,r,n!==null?n.memoizedProps:r)),i&1024&&(lf=!0);break;case 6:if(kn(t,e),Bn(e),i&4){if(e.stateNode===null)throw Error(ee(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(A){it(e,e.return,A)}}break;case 3:if(Du=null,r=xi,xi=dd(t.containerInfo),kn(t,e),xi=r,Bn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Xl(t.containerInfo)}catch(A){it(e,e.return,A)}lf&&(lf=!1,Uw(e));break;case 4:i=xi,xi=dd(e.stateNode.containerInfo),kn(t,e),Bn(e),xi=i;break;case 12:kn(t,e),Bn(e);break;case 13:kn(t,e),Bn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(yg=Pi()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,cf(e,i)));break;case 22:r=e.memoizedState!==null;var g=n!==null&&n.memoizedState!==null,m=es,b=Dt;if(es=m||r,Dt=b||g,kn(t,e),Dt=b,es=m,Bn(e),i&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||g||es||Dt||Ir(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){g=n=t;try{if(a=g.stateNode,r)c=a.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{h=g.stateNode;var w=g.memoizedProps.style,E=w!=null&&w.hasOwnProperty("display")?w.display:null;h.style.display=E==null||typeof E=="boolean"?"":(""+E).trim()}}catch(A){it(g,g.return,A)}}}else if(t.tag===6){if(n===null){g=t;try{g.stateNode.nodeValue=r?"":g.memoizedProps}catch(A){it(g,g.return,A)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,cf(e,n))));break;case 19:kn(t,e),Bn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,cf(e,i)));break;case 30:break;case 21:break;default:kn(t,e),Bn(e)}}function Bn(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Rw(i)){n=i;break}i=i.return}if(n==null)throw Error(ee(160));switch(n.tag){case 27:var r=n.stateNode,a=of(e);sd(e,a,r);break;case 5:var c=n.stateNode;n.flags&32&&(no(c,""),n.flags&=-33);var h=of(e);sd(e,h,c);break;case 3:case 4:var g=n.stateNode.containerInfo,m=of(e);C0(e,m,g);break;default:throw Error(ee(161))}}catch(b){it(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Uw(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Uw(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ns(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)jw(e,t.alternate,t),t=t.sibling}function Ir(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:rr(4,t,t.return),Ir(t);break;case 1:ki(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Mw(t,t.return,n),Ir(t);break;case 27:Sl(t.stateNode);case 26:case 5:ki(t,t.return),Ir(t);break;case 22:t.memoizedState===null&&Ir(t);break;case 30:Ir(t);break;default:Ir(t)}e=e.sibling}}function Ds(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,a=t,c=a.flags;switch(a.tag){case 0:case 11:case 15:Ds(r,a,n),xc(4,a);break;case 1:if(Ds(r,a,n),i=a,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(m){it(i,i.return,m)}if(i=a,r=i.updateQueue,r!==null){var h=i.stateNode;try{var g=r.shared.hiddenCallbacks;if(g!==null)for(r.shared.hiddenCallbacks=null,r=0;r<g.length;r++)jb(g[r],h)}catch(m){it(i,i.return,m)}}n&&c&64&&Iw(a),wl(a,a.return);break;case 27:Ow(a);case 26:case 5:Ds(r,a,n),n&&i===null&&c&4&&Dw(a),wl(a,a.return);break;case 12:Ds(r,a,n);break;case 13:Ds(r,a,n),n&&c&4&&Bw(r,a);break;case 22:a.memoizedState===null&&Ds(r,a,n),wl(a,a.return);break;case 30:break;default:Ds(r,a,n)}t=t.sibling}}function gg(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&fc(n))}function mg(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fc(e))}function Oi(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fw(e,t,n,i),t=t.sibling}function Fw(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Oi(e,t,n,i),r&2048&&xc(9,t);break;case 1:Oi(e,t,n,i);break;case 3:Oi(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fc(e)));break;case 12:if(r&2048){Oi(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,c=a.id,h=a.onPostCommit;typeof h=="function"&&h(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(g){it(t,t.return,g)}}else Oi(e,t,n,i);break;case 13:Oi(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,c=t.alternate,t.memoizedState!==null?a._visibility&2?Oi(e,t,n,i):vl(e,t):a._visibility&2?Oi(e,t,n,i):(a._visibility|=2,Sa(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&gg(c,t);break;case 24:Oi(e,t,n,i),r&2048&&mg(t.alternate,t);break;default:Oi(e,t,n,i)}}function Sa(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=e,c=t,h=n,g=i,m=c.flags;switch(c.tag){case 0:case 11:case 15:Sa(a,c,h,g,r),xc(8,c);break;case 23:break;case 22:var b=c.stateNode;c.memoizedState!==null?b._visibility&2?Sa(a,c,h,g,r):vl(a,c):(b._visibility|=2,Sa(a,c,h,g,r)),r&&m&2048&&gg(c.alternate,c);break;case 24:Sa(a,c,h,g,r),r&&m&2048&&mg(c.alternate,c);break;default:Sa(a,c,h,g,r)}t=t.sibling}}function vl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:vl(n,i),r&2048&&gg(i.alternate,i);break;case 24:vl(n,i),r&2048&&mg(i.alternate,i);break;default:vl(n,i)}t=t.sibling}}var al=8192;function ma(e){if(e.subtreeFlags&al)for(e=e.child;e!==null;)Vw(e),e=e.sibling}function Vw(e){switch(e.tag){case 26:ma(e),e.flags&al&&e.memoizedState!==null&&L4(xi,e.memoizedState,e.memoizedProps);break;case 5:ma(e);break;case 3:case 4:var t=xi;xi=dd(e.stateNode.containerInfo),ma(e),xi=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=al,al=16777216,ma(e),al=t):ma(e));break;default:ma(e)}}function zw(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function $o(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Xt=i,Gw(i,e)}zw(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hw(e),e=e.sibling}function Hw(e){switch(e.tag){case 0:case 11:case 15:$o(e),e.flags&2048&&rr(9,e,e.return);break;case 3:$o(e);break;case 12:$o(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Iu(e)):$o(e);break;default:$o(e)}}function Iu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Xt=i,Gw(i,e)}zw(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:rr(8,t,t.return),Iu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Iu(t));break;default:Iu(t)}e=e.sibling}}function Gw(e,t){for(;Xt!==null;){var n=Xt;switch(n.tag){case 0:case 11:case 15:rr(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:fc(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Xt=i;else e:for(n=e;Xt!==null;){i=Xt;var r=i.sibling,a=i.return;if(Lw(i),i===n){Xt=null;break e}if(r!==null){r.return=a,Xt=r;break e}Xt=a}}}var QC={getCacheForType:function(e){var t=dn(Ft),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},$C=typeof WeakMap=="function"?WeakMap:Map,Ke=0,ot=null,Re=null,Be=0,We=0,Vn=null,Ys=!1,Ao=!1,pg=!1,fs=0,_t=0,ar=0,Vr=0,xg=0,li=0,oo=0,El=null,In=null,T0=!1,yg=0,rd=1/0,ad=null,Qs=null,rn=0,$s=null,lo=null,Ja=0,_0=0,N0=null,Yw=null,Al=0,I0=null;function qn(){if(Ke&2&&Be!==0)return Be&-Be;if(Ae.T!==null){var e=io;return e!==0?e:wg()}return nb()}function qw(){li===0&&(li=!(Be&536870912)||Ye?$2():536870912);var e=ui.current;return e!==null&&(e.flags|=32),li}function Xn(e,t,n){(e===ot&&(We===2||We===9)||e.cancelPendingCommit!==null)&&(co(e,0),qs(e,Be,li,!1)),lc(e,n),(!(Ke&2)||e!==ot)&&(e===ot&&(!(Ke&2)&&(Vr|=n),_t===4&&qs(e,Be,li,!1)),Gi(e))}function Xw(e,t,n){if(Ke&6)throw Error(ee(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||oc(e,t),r=i?t4(e,t):uf(e,t,!0),a=i;do{if(r===0){Ao&&!i&&qs(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!JC(n)){r=uf(e,t,!1),a=!1;continue}if(r===2){if(a=t,e.errorRecoveryDisabledLanes&a)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var h=e;r=El;var g=h.current.memoizedState.isDehydrated;if(g&&(co(h,c).flags|=256),c=uf(h,c,!1),c!==2){if(pg&&!g){h.errorRecoveryDisabledLanes|=a,Vr|=a,r=4;break e}a=In,In=r,a!==null&&(In===null?In=a:In.push.apply(In,a))}r=c}if(a=!1,r!==2)continue}}if(r===1){co(e,0),qs(e,t,0,!0);break}e:{switch(i=e,a=r,a){case 0:case 1:throw Error(ee(345));case 4:if((t&4194048)!==t)break;case 6:qs(i,t,li,!Ys);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(ee(329))}if((t&62914560)===t&&(r=yg+300-Pi(),10<r)){if(qs(i,t,li,!Ys),Ld(i,0,!0)!==0)break e;i.timeoutHandle=hv($p.bind(null,i,n,In,ad,T0,t,li,Vr,oo,Ys,a,2,-0,0),r);break e}$p(i,n,In,ad,T0,t,li,Vr,oo,Ys,a,0,-0,0)}}break}while(!0);Gi(e)}function $p(e,t,n,i,r,a,c,h,g,m,b,w,E,A){if(e.timeoutHandle=-1,w=t.subtreeFlags,(w&8192||(w&16785408)===16785408)&&(Hl={stylesheets:null,count:0,unsuspend:j4},Vw(t),w=k4(),w!==null)){e.cancelPendingCommit=w(ex.bind(null,e,t,a,n,i,r,c,h,g,b,1,E,A)),qs(e,a,c,!m);return}ex(e,t,a,n,i,r,c,h,g)}function JC(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!Wn(a(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qs(e,t,n,i){t&=~xg,t&=~Vr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-Yn(r),c=1<<a;i[a]=-1,r&=~c}n!==0&&eb(e,n,t)}function Yd(){return Ke&6?!0:(yc(0),!1)}function bg(){if(Re!==null){if(We===0)var e=Re.return;else e=Re,ss=na=null,rg(e),$a=null,Fl=0,e=Re;for(;e!==null;)Nw(e.alternate,e),e=e.return;Re=null}}function co(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,x4(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),bg(),ot=e,Re=n=os(e.current,null),Be=t,We=0,Vn=null,Ys=!1,Ao=oc(e,t),pg=!1,oo=li=xg=Vr=ar=_t=0,In=El=null,T0=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-Yn(i),a=1<<r;t|=e[r],i&=~a}return fs=t,Ud(),n}function Ww(e,t){Ie=null,Ae.H=Ju,t===gc||t===Vd?(t=Mp(),We=3):t===Rb?(t=Mp(),We=4):We=t===Ew?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Vn=t,Re===null&&(_t=1,nd(e,oi(t,e.current)))}function Zw(){var e=Ae.H;return Ae.H=Ju,e===null?Ju:e}function Kw(){var e=Ae.A;return Ae.A=QC,e}function M0(){_t=4,Ys||(Be&4194048)!==Be&&ui.current!==null||(Ao=!0),!(ar&134217727)&&!(Vr&134217727)||ot===null||qs(ot,Be,li,!1)}function uf(e,t,n){var i=Ke;Ke|=2;var r=Zw(),a=Kw();(ot!==e||Be!==t)&&(ad=null,co(e,t)),t=!1;var c=_t;e:do try{if(We!==0&&Re!==null){var h=Re,g=Vn;switch(We){case 8:bg(),c=6;break e;case 3:case 2:case 9:case 6:ui.current===null&&(t=!0);var m=We;if(We=0,Vn=null,Ua(e,h,g,m),n&&Ao){c=0;break e}break;default:m=We,We=0,Vn=null,Ua(e,h,g,m)}}e4(),c=_t;break}catch(b){Ww(e,b)}while(!0);return t&&e.shellSuspendCounter++,ss=na=null,Ke=i,Ae.H=r,Ae.A=a,Re===null&&(ot=null,Be=0,Ud()),c}function e4(){for(;Re!==null;)Qw(Re)}function t4(e,t){var n=Ke;Ke|=2;var i=Zw(),r=Kw();ot!==e||Be!==t?(ad=null,rd=Pi()+500,co(e,t)):Ao=oc(e,t);e:do try{if(We!==0&&Re!==null){t=Re;var a=Vn;t:switch(We){case 1:We=0,Vn=null,Ua(e,t,a,1);break;case 2:case 9:if(Ip(a)){We=0,Vn=null,Jp(t);break}t=function(){We!==2&&We!==9||ot!==e||(We=7),Gi(e)},a.then(t,t);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Ip(a)?(We=0,Vn=null,Jp(t)):(We=0,Vn=null,Ua(e,t,a,7));break;case 5:var c=null;switch(Re.tag){case 26:c=Re.memoizedState;case 5:case 27:var h=Re;if(!c||pv(c)){We=0,Vn=null;var g=h.sibling;if(g!==null)Re=g;else{var m=h.return;m!==null?(Re=m,qd(m)):Re=null}break t}}We=0,Vn=null,Ua(e,t,a,5);break;case 6:We=0,Vn=null,Ua(e,t,a,6);break;case 8:bg(),_t=6;break e;default:throw Error(ee(462))}}n4();break}catch(b){Ww(e,b)}while(!0);return ss=na=null,Ae.H=i,Ae.A=r,Ke=n,Re!==null?0:(ot=null,Be=0,Ud(),_t)}function n4(){for(;Re!==null&&!SS();)Qw(Re)}function Qw(e){var t=_w(e.alternate,e,fs);e.memoizedProps=e.pendingProps,t===null?qd(e):Re=t}function Jp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=qp(n,t,t.pendingProps,t.type,void 0,Be);break;case 11:t=qp(n,t,t.pendingProps,t.type.render,t.ref,Be);break;case 5:rg(t);default:Nw(n,t),t=Re=Nb(t,fs),t=_w(n,t,fs)}e.memoizedProps=e.pendingProps,t===null?qd(e):Re=t}function Ua(e,t,n,i){ss=na=null,rg(t),$a=null,Fl=0;var r=t.return;try{if(YC(e,r,t,n,Be)){_t=1,nd(e,oi(n,e.current)),Re=null;return}}catch(a){if(r!==null)throw Re=r,a;_t=1,nd(e,oi(n,e.current)),Re=null;return}t.flags&32768?(Ye||i===1?e=!0:Ao||Be&536870912?e=!1:(Ys=e=!0,(i===2||i===9||i===3||i===6)&&(i=ui.current,i!==null&&i.tag===13&&(i.flags|=16384))),$w(t,e)):qd(t)}function qd(e){var t=e;do{if(t.flags&32768){$w(t,Ys);return}e=t.return;var n=XC(t.alternate,t,fs);if(n!==null){Re=n;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);_t===0&&(_t=5)}function $w(e,t){do{var n=WC(e.alternate,e);if(n!==null){n.flags&=32767,Re=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=n}while(e!==null);_t=6,Re=null}function ex(e,t,n,i,r,a,c,h,g){e.cancelPendingCommit=null;do Xd();while(rn!==0);if(Ke&6)throw Error(ee(327));if(t!==null){if(t===e.current)throw Error(ee(177));if(a=t.lanes|t.childLanes,a|=q1,jS(e,n,a,c,h,g),e===ot&&(Re=ot=null,Be=0),lo=t,$s=e,Ja=n,_0=a,N0=r,Yw=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,a4(Hu,function(){return iv(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Ae.T,Ae.T=null,r=qe.p,qe.p=2,c=Ke,Ke|=4;try{ZC(e,t,n)}finally{Ke=c,qe.p=r,Ae.T=i}}rn=1,Jw(),ev(),tv()}}function Jw(){if(rn===1){rn=0;var e=$s,t=lo,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Ae.T,Ae.T=null;var i=qe.p;qe.p=2;var r=Ke;Ke|=4;try{Pw(t,e);var a=j0,c=wb(e.containerInfo),h=a.focusedElem,g=a.selectionRange;if(c!==h&&h&&h.ownerDocument&&bb(h.ownerDocument.documentElement,h)){if(g!==null&&Y1(h)){var m=g.start,b=g.end;if(b===void 0&&(b=m),"selectionStart"in h)h.selectionStart=m,h.selectionEnd=Math.min(b,h.value.length);else{var w=h.ownerDocument||document,E=w&&w.defaultView||window;if(E.getSelection){var A=E.getSelection(),O=h.textContent.length,M=Math.min(g.start,O),P=g.end===void 0?M:Math.min(g.end,O);!A.extend&&M>P&&(c=P,P=M,M=c);var T=vp(h,M),_=vp(h,P);if(T&&_&&(A.rangeCount!==1||A.anchorNode!==T.node||A.anchorOffset!==T.offset||A.focusNode!==_.node||A.focusOffset!==_.offset)){var C=w.createRange();C.setStart(T.node,T.offset),A.removeAllRanges(),M>P?(A.addRange(C),A.extend(_.node,_.offset)):(C.setEnd(_.node,_.offset),A.addRange(C))}}}}for(w=[],A=h;A=A.parentNode;)A.nodeType===1&&w.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<w.length;h++){var L=w[h];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}gd=!!O0,j0=O0=null}finally{Ke=r,qe.p=i,Ae.T=n}}e.current=t,rn=2}}function ev(){if(rn===2){rn=0;var e=$s,t=lo,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Ae.T,Ae.T=null;var i=qe.p;qe.p=2;var r=Ke;Ke|=4;try{jw(e,t.alternate,t)}finally{Ke=r,qe.p=i,Ae.T=n}}rn=3}}function tv(){if(rn===4||rn===3){rn=0,CS();var e=$s,t=lo,n=Ja,i=Yw;t.subtreeFlags&10256||t.flags&10256?rn=5:(rn=0,lo=$s=null,nv(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Qs=null),P1(n),t=t.stateNode,Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(ac,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Ae.T,r=qe.p,qe.p=2,Ae.T=null;try{for(var a=e.onRecoverableError,c=0;c<i.length;c++){var h=i[c];a(h.value,{componentStack:h.stack})}}finally{Ae.T=t,qe.p=r}}Ja&3&&Xd(),Gi(e),r=e.pendingLanes,n&4194090&&r&42?e===I0?Al++:(Al=0,I0=e):Al=0,yc(0)}}function nv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,fc(t)))}function Xd(e){return Jw(),ev(),tv(),iv()}function iv(){if(rn!==5)return!1;var e=$s,t=_0;_0=0;var n=P1(Ja),i=Ae.T,r=qe.p;try{qe.p=32>n?32:n,Ae.T=null,n=N0,N0=null;var a=$s,c=Ja;if(rn=0,lo=$s=null,Ja=0,Ke&6)throw Error(ee(331));var h=Ke;if(Ke|=4,Hw(a.current),Fw(a,a.current,c,n),Ke=h,yc(0,!1),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(ac,a)}catch{}return!0}finally{qe.p=r,Ae.T=i,nv(e,t)}}function tx(e,t,n){t=oi(n,t),t=E0(e.stateNode,t,2),e=Ks(e,t,2),e!==null&&(lc(e,2),Gi(e))}function it(e,t,n){if(e.tag===3)tx(e,e,n);else for(;t!==null;){if(t.tag===3){tx(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Qs===null||!Qs.has(i))){e=oi(n,e),n=ww(2),i=Ks(t,n,2),i!==null&&(vw(n,i,t,e),lc(i,2),Gi(i));break}}t=t.return}}function df(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new $C;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(pg=!0,r.add(n),e=i4.bind(null,e,t,n),t.then(e,e))}function i4(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ot===e&&(Be&n)===n&&(_t===4||_t===3&&(Be&62914560)===Be&&300>Pi()-yg?!(Ke&2)&&co(e,0):xg|=n,oo===Be&&(oo=0)),Gi(e)}function sv(e,t){t===0&&(t=J2()),e=Eo(e,t),e!==null&&(lc(e,t),Gi(e))}function s4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sv(e,n)}function r4(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(ee(314))}i!==null&&i.delete(t),sv(e,n)}function a4(e,t){return k1(e,t)}var od=null,Ca=null,D0=!1,ld=!1,hf=!1,zr=0;function Gi(e){e!==Ca&&e.next===null&&(Ca===null?od=Ca=e:Ca=Ca.next=e),ld=!0,D0||(D0=!0,l4())}function yc(e,t){if(!hf&&ld){hf=!0;do for(var n=!1,i=od;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var a=0;else{var c=i.suspendedLanes,h=i.pingedLanes;a=(1<<31-Yn(42|e)+1)-1,a&=r&~(c&~h),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,nx(i,a))}else a=Be,a=Ld(i,i===ot?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||oc(i,a)||(n=!0,nx(i,a));i=i.next}while(n);hf=!1}}function o4(){rv()}function rv(){ld=D0=!1;var e=0;zr!==0&&(p4()&&(e=zr),zr=0);for(var t=Pi(),n=null,i=od;i!==null;){var r=i.next,a=av(i,t);a===0?(i.next=null,n===null?od=r:n.next=r,r===null&&(Ca=n)):(n=i,(e!==0||a&3)&&(ld=!0)),i=r}yc(e)}function av(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var c=31-Yn(a),h=1<<c,g=r[c];g===-1?(!(h&n)||h&i)&&(r[c]=OS(h,t)):g<=t&&(e.expiredLanes|=h),a&=~h}if(t=ot,n=Be,n=Ld(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(We===2||We===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Bh(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||oc(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Bh(i),P1(n)){case 2:case 8:n=K2;break;case 32:n=Hu;break;case 268435456:n=Q2;break;default:n=Hu}return i=ov.bind(null,e),n=k1(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Bh(i),e.callbackPriority=2,e.callbackNode=null,2}function ov(e,t){if(rn!==0&&rn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Xd()&&e.callbackNode!==n)return null;var i=Be;return i=Ld(e,e===ot?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Xw(e,i,t),av(e,Pi()),e.callbackNode!=null&&e.callbackNode===n?ov.bind(null,e):null)}function nx(e,t){if(Xd())return null;Xw(e,t,!0)}function l4(){y4(function(){Ke&6?k1(Z2,o4):rv()})}function wg(){return zr===0&&(zr=$2()),zr}function ix(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:vu(""+e)}function sx(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function c4(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var a=ix((r[On]||null).action),c=i.submitter;c&&(t=(t=c[On]||null)?ix(t.formAction):c.getAttribute("formAction"),t!==null&&(a=t,c=null));var h=new kd("action","action",null,i,r);e.push({event:h,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(zr!==0){var g=c?sx(r,c):new FormData(r);w0(n,{pending:!0,data:g,method:r.method,action:a},null,g)}}else typeof a=="function"&&(h.preventDefault(),g=c?sx(r,c):new FormData(r),w0(n,{pending:!0,data:g,method:r.method,action:a},a,g))},currentTarget:r}]})}}for(var ff=0;ff<l0.length;ff++){var gf=l0[ff],u4=gf.toLowerCase(),d4=gf[0].toUpperCase()+gf.slice(1);Ei(u4,"on"+d4)}Ei(Eb,"onAnimationEnd");Ei(Ab,"onAnimationIteration");Ei(Sb,"onAnimationStart");Ei("dblclick","onDoubleClick");Ei("focusin","onFocus");Ei("focusout","onBlur");Ei(NC,"onTransitionRun");Ei(IC,"onTransitionStart");Ei(MC,"onTransitionCancel");Ei(Cb,"onTransitionEnd");to("onMouseEnter",["mouseout","mouseover"]);to("onMouseLeave",["mouseout","mouseover"]);to("onPointerEnter",["pointerout","pointerover"]);to("onPointerLeave",["pointerout","pointerover"]);Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function lv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var c=i.length-1;0<=c;c--){var h=i[c],g=h.instance,m=h.currentTarget;if(h=h.listener,g!==a&&r.isPropagationStopped())break e;a=h,r.currentTarget=m;try{a(r)}catch(b){td(b)}r.currentTarget=null,a=g}else for(c=0;c<i.length;c++){if(h=i[c],g=h.instance,m=h.currentTarget,h=h.listener,g!==a&&r.isPropagationStopped())break e;a=h,r.currentTarget=m;try{a(r)}catch(b){td(b)}r.currentTarget=null,a=g}}}}function De(e,t){var n=t[t0];n===void 0&&(n=t[t0]=new Set);var i=e+"__bubble";n.has(i)||(cv(t,e,2,!1),n.add(i))}function mf(e,t,n){var i=0;t&&(i|=4),cv(n,e,i,t)}var ru="_reactListening"+Math.random().toString(36).slice(2);function vg(e){if(!e[ru]){e[ru]=!0,ib.forEach(function(n){n!=="selectionchange"&&(h4.has(n)||mf(n,!1,e),mf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ru]||(t[ru]=!0,mf("selectionchange",!1,t))}}function cv(e,t,n,i){switch(vv(t)){case 2:var r=U4;break;case 8:r=F4;break;default:r=Cg}n=r.bind(null,t,n,e),r=void 0,!r0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function pf(e,t,n,i,r){var a=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var c=i.tag;if(c===3||c===4){var h=i.stateNode.containerInfo;if(h===r)break;if(c===4)for(c=i.return;c!==null;){var g=c.tag;if((g===3||g===4)&&c.stateNode.containerInfo===r)return;c=c.return}for(;h!==null;){if(c=Ma(h),c===null)return;if(g=c.tag,g===5||g===6||g===26||g===27){i=a=c;continue e}h=h.parentNode}}i=i.return}db(function(){var m=a,b=V1(n),w=[];e:{var E=Tb.get(e);if(E!==void 0){var A=kd,O=e;switch(e){case"keypress":if(Au(n)===0)break e;case"keydown":case"keyup":A=aC;break;case"focusin":O="focus",A=Yh;break;case"focusout":O="blur",A=Yh;break;case"beforeblur":case"afterblur":A=Yh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=dp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=WS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=cC;break;case Eb:case Ab:case Sb:A=QS;break;case Cb:A=dC;break;case"scroll":case"scrollend":A=qS;break;case"wheel":A=fC;break;case"copy":case"cut":case"paste":A=JS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=fp;break;case"toggle":case"beforetoggle":A=mC}var M=(t&4)!==0,P=!M&&(e==="scroll"||e==="scrollend"),T=M?E!==null?E+"Capture":null:E;M=[];for(var _=m,C;_!==null;){var L=_;if(C=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||C===null||T===null||(L=Ll(_,T),L!=null&&M.push(zl(_,L,C))),P)break;_=_.return}0<M.length&&(E=new A(E,O,null,n,b),w.push({event:E,listeners:M}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",A=e==="mouseout"||e==="pointerout",E&&n!==s0&&(O=n.relatedTarget||n.fromElement)&&(Ma(O)||O[wo]))break e;if((A||E)&&(E=b.window===b?b:(E=b.ownerDocument)?E.defaultView||E.parentWindow:window,A?(O=n.relatedTarget||n.toElement,A=m,O=O?Ma(O):null,O!==null&&(P=rc(O),M=O.tag,O!==P||M!==5&&M!==27&&M!==6)&&(O=null)):(A=null,O=m),A!==O)){if(M=dp,L="onMouseLeave",T="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(M=fp,L="onPointerLeave",T="onPointerEnter",_="pointer"),P=A==null?E:rl(A),C=O==null?E:rl(O),E=new M(L,_+"leave",A,n,b),E.target=P,E.relatedTarget=C,L=null,Ma(b)===m&&(M=new M(T,_+"enter",O,n,b),M.target=C,M.relatedTarget=P,L=M),P=L,A&&O)t:{for(M=A,T=O,_=0,C=M;C;C=pa(C))_++;for(C=0,L=T;L;L=pa(L))C++;for(;0<_-C;)M=pa(M),_--;for(;0<C-_;)T=pa(T),C--;for(;_--;){if(M===T||T!==null&&M===T.alternate)break t;M=pa(M),T=pa(T)}M=null}else M=null;A!==null&&rx(w,E,A,M,!1),O!==null&&P!==null&&rx(w,P,O,M,!0)}}e:{if(E=m?rl(m):window,A=E.nodeName&&E.nodeName.toLowerCase(),A==="select"||A==="input"&&E.type==="file")var z=xp;else if(pp(E))if(xb)z=CC;else{z=AC;var D=EC}else A=E.nodeName,!A||A.toLowerCase()!=="input"||E.type!=="checkbox"&&E.type!=="radio"?m&&F1(m.elementType)&&(z=xp):z=SC;if(z&&(z=z(e,m))){pb(w,z,n,b);break e}D&&D(e,E,m),e==="focusout"&&m&&E.type==="number"&&m.memoizedProps.value!=null&&i0(E,"number",E.value)}switch(D=m?rl(m):window,e){case"focusin":(pp(D)||D.contentEditable==="true")&&(Oa=D,a0=m,fl=null);break;case"focusout":fl=a0=Oa=null;break;case"mousedown":o0=!0;break;case"contextmenu":case"mouseup":case"dragend":o0=!1,Ep(w,n,b);break;case"selectionchange":if(_C)break;case"keydown":case"keyup":Ep(w,n,b)}var k;if(G1)e:{switch(e){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Ra?gb(e,n)&&(V="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(fb&&n.locale!=="ko"&&(Ra||V!=="onCompositionStart"?V==="onCompositionEnd"&&Ra&&(k=hb()):(Gs=b,z1="value"in Gs?Gs.value:Gs.textContent,Ra=!0)),D=cd(m,V),0<D.length&&(V=new hp(V,e,null,n,b),w.push({event:V,listeners:D}),k?V.data=k:(k=mb(n),k!==null&&(V.data=k)))),(k=xC?yC(e,n):bC(e,n))&&(V=cd(m,"onBeforeInput"),0<V.length&&(D=new hp("onBeforeInput","beforeinput",null,n,b),w.push({event:D,listeners:V}),D.data=k)),c4(w,e,m,n,b)}lv(w,t)})}function zl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function cd(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=Ll(e,n),r!=null&&i.unshift(zl(e,r,a)),r=Ll(e,t),r!=null&&i.push(zl(e,r,a))),e.tag===3)return i;e=e.return}return[]}function pa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rx(e,t,n,i,r){for(var a=t._reactName,c=[];n!==null&&n!==i;){var h=n,g=h.alternate,m=h.stateNode;if(h=h.tag,g!==null&&g===i)break;h!==5&&h!==26&&h!==27||m===null||(g=m,r?(m=Ll(n,a),m!=null&&c.unshift(zl(n,m,g))):r||(m=Ll(n,a),m!=null&&c.push(zl(n,m,g)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var f4=/\r\n?/g,g4=/\u0000|\uFFFD/g;function ax(e){return(typeof e=="string"?e:""+e).replace(f4,`
`).replace(g4,"")}function uv(e,t){return t=ax(t),ax(e)===t}function Wd(){}function $e(e,t,n,i,r,a){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||no(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&no(e,""+i);break;case"className":$c(e,"class",i);break;case"tabIndex":$c(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":$c(e,n,i);break;case"style":ub(e,i,a);break;case"data":if(t!=="object"){$c(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=vu(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&$e(e,t,"name",r.name,r,null),$e(e,t,"formEncType",r.formEncType,r,null),$e(e,t,"formMethod",r.formMethod,r,null),$e(e,t,"formTarget",r.formTarget,r,null)):($e(e,t,"encType",r.encType,r,null),$e(e,t,"method",r.method,r,null),$e(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=vu(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Wd);break;case"onScroll":i!=null&&De("scroll",e);break;case"onScrollEnd":i!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(ee(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(ee(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=vu(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":De("beforetoggle",e),De("toggle",e),wu(e,"popover",i);break;case"xlinkActuate":Wi(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Wi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Wi(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Wi(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Wi(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Wi(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Wi(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Wi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Wi(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":wu(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=GS.get(n)||n,wu(e,n,i))}}function R0(e,t,n,i,r,a){switch(n){case"style":ub(e,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(ee(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(ee(60));e.innerHTML=n}}break;case"children":typeof i=="string"?no(e,i):(typeof i=="number"||typeof i=="bigint")&&no(e,""+i);break;case"onScroll":i!=null&&De("scroll",e);break;case"onScrollEnd":i!=null&&De("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Wd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sb.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),a=e[On]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,r),typeof i=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):wu(e,n,i)}}}function an(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var i=!1,r=!1,a;for(a in n)if(n.hasOwnProperty(a)){var c=n[a];if(c!=null)switch(a){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ee(137,t));default:$e(e,t,a,c,n,null)}}r&&$e(e,t,"srcSet",n.srcSet,n,null),i&&$e(e,t,"src",n.src,n,null);return;case"input":De("invalid",e);var h=a=c=r=null,g=null,m=null;for(i in n)if(n.hasOwnProperty(i)){var b=n[i];if(b!=null)switch(i){case"name":r=b;break;case"type":c=b;break;case"checked":g=b;break;case"defaultChecked":m=b;break;case"value":a=b;break;case"defaultValue":h=b;break;case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(ee(137,t));break;default:$e(e,t,i,b,n,null)}}ob(e,a,h,g,m,c,r,!1),Gu(e);return;case"select":De("invalid",e),i=c=a=null;for(r in n)if(n.hasOwnProperty(r)&&(h=n[r],h!=null))switch(r){case"value":a=h;break;case"defaultValue":c=h;break;case"multiple":i=h;default:$e(e,t,r,h,n,null)}t=a,n=c,e.multiple=!!i,t!=null?Xa(e,!!i,t,!1):n!=null&&Xa(e,!!i,n,!0);return;case"textarea":De("invalid",e),a=r=i=null;for(c in n)if(n.hasOwnProperty(c)&&(h=n[c],h!=null))switch(c){case"value":i=h;break;case"defaultValue":r=h;break;case"children":a=h;break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(ee(91));break;default:$e(e,t,c,h,n,null)}cb(e,i,r,a),Gu(e);return;case"option":for(g in n)if(n.hasOwnProperty(g)&&(i=n[g],i!=null))switch(g){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:$e(e,t,g,i,n,null)}return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(i=0;i<Vl.length;i++)De(Vl[i],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(m in n)if(n.hasOwnProperty(m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(ee(137,t));default:$e(e,t,m,i,n,null)}return;default:if(F1(t)){for(b in n)n.hasOwnProperty(b)&&(i=n[b],i!==void 0&&R0(e,t,b,i,n,void 0));return}}for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!=null&&$e(e,t,h,i,n,null))}function m4(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,c=null,h=null,g=null,m=null,b=null;for(A in n){var w=n[A];if(n.hasOwnProperty(A)&&w!=null)switch(A){case"checked":break;case"value":break;case"defaultValue":g=w;default:i.hasOwnProperty(A)||$e(e,t,A,null,i,w)}}for(var E in i){var A=i[E];if(w=n[E],i.hasOwnProperty(E)&&(A!=null||w!=null))switch(E){case"type":a=A;break;case"name":r=A;break;case"checked":m=A;break;case"defaultChecked":b=A;break;case"value":c=A;break;case"defaultValue":h=A;break;case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(ee(137,t));break;default:A!==w&&$e(e,t,E,A,i,w)}}n0(e,c,h,g,m,b,a,r);return;case"select":A=c=h=E=null;for(a in n)if(g=n[a],n.hasOwnProperty(a)&&g!=null)switch(a){case"value":break;case"multiple":A=g;default:i.hasOwnProperty(a)||$e(e,t,a,null,i,g)}for(r in i)if(a=i[r],g=n[r],i.hasOwnProperty(r)&&(a!=null||g!=null))switch(r){case"value":E=a;break;case"defaultValue":h=a;break;case"multiple":c=a;default:a!==g&&$e(e,t,r,a,i,g)}t=h,n=c,i=A,E!=null?Xa(e,!!n,E,!1):!!i!=!!n&&(t!=null?Xa(e,!!n,t,!0):Xa(e,!!n,n?[]:"",!1));return;case"textarea":A=E=null;for(h in n)if(r=n[h],n.hasOwnProperty(h)&&r!=null&&!i.hasOwnProperty(h))switch(h){case"value":break;case"children":break;default:$e(e,t,h,null,i,r)}for(c in i)if(r=i[c],a=n[c],i.hasOwnProperty(c)&&(r!=null||a!=null))switch(c){case"value":E=r;break;case"defaultValue":A=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(ee(91));break;default:r!==a&&$e(e,t,c,r,i,a)}lb(e,E,A);return;case"option":for(var O in n)if(E=n[O],n.hasOwnProperty(O)&&E!=null&&!i.hasOwnProperty(O))switch(O){case"selected":e.selected=!1;break;default:$e(e,t,O,null,i,E)}for(g in i)if(E=i[g],A=n[g],i.hasOwnProperty(g)&&E!==A&&(E!=null||A!=null))switch(g){case"selected":e.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:$e(e,t,g,E,i,A)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)E=n[M],n.hasOwnProperty(M)&&E!=null&&!i.hasOwnProperty(M)&&$e(e,t,M,null,i,E);for(m in i)if(E=i[m],A=n[m],i.hasOwnProperty(m)&&E!==A&&(E!=null||A!=null))switch(m){case"children":case"dangerouslySetInnerHTML":if(E!=null)throw Error(ee(137,t));break;default:$e(e,t,m,E,i,A)}return;default:if(F1(t)){for(var P in n)E=n[P],n.hasOwnProperty(P)&&E!==void 0&&!i.hasOwnProperty(P)&&R0(e,t,P,void 0,i,E);for(b in i)E=i[b],A=n[b],!i.hasOwnProperty(b)||E===A||E===void 0&&A===void 0||R0(e,t,b,E,i,A);return}}for(var T in n)E=n[T],n.hasOwnProperty(T)&&E!=null&&!i.hasOwnProperty(T)&&$e(e,t,T,null,i,E);for(w in i)E=i[w],A=n[w],!i.hasOwnProperty(w)||E===A||E==null&&A==null||$e(e,t,w,E,i,A)}var O0=null,j0=null;function ud(e){return e.nodeType===9?e:e.ownerDocument}function ox(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function L0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xf=null;function p4(){var e=window.event;return e&&e.type==="popstate"?e===xf?!1:(xf=e,!0):(xf=null,!1)}var hv=typeof setTimeout=="function"?setTimeout:void 0,x4=typeof clearTimeout=="function"?clearTimeout:void 0,lx=typeof Promise=="function"?Promise:void 0,y4=typeof queueMicrotask=="function"?queueMicrotask:typeof lx<"u"?function(e){return lx.resolve(null).then(e).catch(b4)}:hv;function b4(e){setTimeout(function(){throw e})}function hr(e){return e==="head"}function cx(e,t){var n=t,i=0,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<i&&8>i){n=i;var c=e.ownerDocument;if(n&1&&Sl(c.documentElement),n&2&&Sl(c.body),n&4)for(n=c.head,Sl(n),c=n.firstChild;c;){var h=c.nextSibling,g=c.nodeName;c[cc]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&c.rel.toLowerCase()==="stylesheet"||n.removeChild(c),c=h}}if(r===0){e.removeChild(a),Xl(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=a}while(n);Xl(t)}function k0(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":k0(n),U1(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function w4(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[cc])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=wi(e.nextSibling),e===null)break}return null}function v4(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=wi(e.nextSibling),e===null))return null;return e}function B0(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function E4(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function wi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var P0=null;function ux(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function fv(e,t,n){switch(t=ud(n),e){case"html":if(e=t.documentElement,!e)throw Error(ee(452));return e;case"head":if(e=t.head,!e)throw Error(ee(453));return e;case"body":if(e=t.body,!e)throw Error(ee(454));return e;default:throw Error(ee(451))}}function Sl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);U1(e)}var di=new Map,dx=new Set;function dd(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ys=qe.d;qe.d={f:A4,r:S4,D:C4,C:T4,L:_4,m:N4,X:M4,S:I4,M:D4};function A4(){var e=ys.f(),t=Yd();return e||t}function S4(e){var t=vo(e);t!==null&&t.tag===5&&t.type==="form"?aw(t):ys.r(e)}var So=typeof document>"u"?null:document;function gv(e,t,n){var i=So;if(i&&typeof t=="string"&&t){var r=ai(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),dx.has(r)||(dx.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),an(t,"link",e),Wt(t),i.head.appendChild(t)))}}function C4(e){ys.D(e),gv("dns-prefetch",e,null)}function T4(e,t){ys.C(e,t),gv("preconnect",e,t)}function _4(e,t,n){ys.L(e,t,n);var i=So;if(i&&e&&t){var r='link[rel="preload"][as="'+ai(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ai(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+ai(n.imageSizes)+'"]')):r+='[href="'+ai(e)+'"]';var a=r;switch(t){case"style":a=uo(e);break;case"script":a=Co(e)}di.has(a)||(e=ut({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),di.set(a,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(bc(a))||t==="script"&&i.querySelector(wc(a))||(t=i.createElement("link"),an(t,"link",e),Wt(t),i.head.appendChild(t)))}}function N4(e,t){ys.m(e,t);var n=So;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+ai(i)+'"][href="'+ai(e)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Co(e)}if(!di.has(a)&&(e=ut({rel:"modulepreload",href:e},t),di.set(a,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(wc(a)))return}i=n.createElement("link"),an(i,"link",e),Wt(i),n.head.appendChild(i)}}}function I4(e,t,n){ys.S(e,t,n);var i=So;if(i&&e){var r=qa(i).hoistableStyles,a=uo(e);t=t||"default";var c=r.get(a);if(!c){var h={loading:0,preload:null};if(c=i.querySelector(bc(a)))h.loading=5;else{e=ut({rel:"stylesheet",href:e,"data-precedence":t},n),(n=di.get(a))&&Eg(e,n);var g=c=i.createElement("link");Wt(g),an(g,"link",e),g._p=new Promise(function(m,b){g.onload=m,g.onerror=b}),g.addEventListener("load",function(){h.loading|=1}),g.addEventListener("error",function(){h.loading|=2}),h.loading|=4,Mu(c,t,i)}c={type:"stylesheet",instance:c,count:1,state:h},r.set(a,c)}}}function M4(e,t){ys.X(e,t);var n=So;if(n&&e){var i=qa(n).hoistableScripts,r=Co(e),a=i.get(r);a||(a=n.querySelector(wc(r)),a||(e=ut({src:e,async:!0},t),(t=di.get(r))&&Ag(e,t),a=n.createElement("script"),Wt(a),an(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function D4(e,t){ys.M(e,t);var n=So;if(n&&e){var i=qa(n).hoistableScripts,r=Co(e),a=i.get(r);a||(a=n.querySelector(wc(r)),a||(e=ut({src:e,async:!0,type:"module"},t),(t=di.get(r))&&Ag(e,t),a=n.createElement("script"),Wt(a),an(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function hx(e,t,n,i){var r=(r=Ws.current)?dd(r):null;if(!r)throw Error(ee(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=uo(n.href),n=qa(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=uo(n.href);var a=qa(r).hoistableStyles,c=a.get(e);if(c||(r=r.ownerDocument||r,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,c),(a=r.querySelector(bc(e)))&&!a._p&&(c.instance=a,c.state.loading=5),di.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},di.set(e,n),a||R4(r,e,n,c.state))),t&&i===null)throw Error(ee(528,""));return c}if(t&&i!==null)throw Error(ee(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Co(n),n=qa(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(ee(444,e))}}function uo(e){return'href="'+ai(e)+'"'}function bc(e){return'link[rel="stylesheet"]['+e+"]"}function mv(e){return ut({},e,{"data-precedence":e.precedence,precedence:null})}function R4(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),an(t,"link",n),Wt(t),e.head.appendChild(t))}function Co(e){return'[src="'+ai(e)+'"]'}function wc(e){return"script[async]"+e}function fx(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+ai(n.href)+'"]');if(i)return t.instance=i,Wt(i),i;var r=ut({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Wt(i),an(i,"style",r),Mu(i,n.precedence,e),t.instance=i;case"stylesheet":r=uo(n.href);var a=e.querySelector(bc(r));if(a)return t.state.loading|=4,t.instance=a,Wt(a),a;i=mv(n),(r=di.get(r))&&Eg(i,r),a=(e.ownerDocument||e).createElement("link"),Wt(a);var c=a;return c._p=new Promise(function(h,g){c.onload=h,c.onerror=g}),an(a,"link",i),t.state.loading|=4,Mu(a,n.precedence,e),t.instance=a;case"script":return a=Co(n.src),(r=e.querySelector(wc(a)))?(t.instance=r,Wt(r),r):(i=n,(r=di.get(a))&&(i=ut({},n),Ag(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Wt(r),an(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(ee(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Mu(i,n.precedence,e));return t.instance}function Mu(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,c=0;c<i.length;c++){var h=i[c];if(h.dataset.precedence===t)a=h;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Eg(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ag(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Du=null;function gx(e,t,n){if(Du===null){var i=new Map,r=Du=new Map;r.set(n,i)}else r=Du,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[cc]||a[un]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var c=a.getAttribute(t)||"";c=e+c;var h=i.get(c);h?h.push(a):i.set(c,[a])}}return i}function mx(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function O4(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function pv(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Hl=null;function j4(){}function L4(e,t,n){if(Hl===null)throw Error(ee(475));var i=Hl;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=uo(n.href),a=e.querySelector(bc(r));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=hd.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=a,Wt(a);return}a=e.ownerDocument||e,n=mv(n),(r=di.get(r))&&Eg(n,r),a=a.createElement("link"),Wt(a);var c=a;c._p=new Promise(function(h,g){c.onload=h,c.onerror=g}),an(a,"link",n),t.instance=a}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=hd.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function k4(){if(Hl===null)throw Error(ee(475));var e=Hl;return e.stylesheets&&e.count===0&&U0(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&U0(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function hd(){if(this.count--,this.count===0){if(this.stylesheets)U0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fd=null;function U0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fd=new Map,t.forEach(B4,e),fd=null,hd.call(e))}function B4(e,t){if(!(t.state.loading&4)){var n=fd.get(e);if(n)var i=n.get(null);else{n=new Map,fd.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var c=r[a];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(n.set(c.dataset.precedence,c),i=c)}i&&n.set(null,i)}r=t.instance,c=r.getAttribute("data-precedence"),a=n.get(c)||i,a===i&&n.set(null,r),n.set(c,r),this.count++,i=hd.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Gl={$$typeof:ts,Provider:null,Consumer:null,_currentValue:kr,_currentValue2:kr,_threadCount:0};function P4(e,t,n,i,r,a,c,h){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ph(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ph(0),this.hiddenUpdates=Ph(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=h,this.incompleteTransitions=new Map}function xv(e,t,n,i,r,a,c,h,g,m,b,w){return e=new P4(e,t,n,c,h,g,m,w),t=1,a===!0&&(t|=24),a=zn(3,null,null,t),e.current=a,a.stateNode=e,t=Q1(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},J1(a),e}function yv(e){return e?(e=ka,e):ka}function bv(e,t,n,i,r,a){r=yv(r),i.context===null?i.context=r:i.pendingContext=r,i=Zs(t),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=Ks(e,i,t),n!==null&&(Xn(n,e,t),pl(n,e,t))}function px(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sg(e,t){px(e,t),(e=e.alternate)&&px(e,t)}function wv(e){if(e.tag===13){var t=Eo(e,67108864);t!==null&&Xn(t,e,67108864),Sg(e,67108864)}}var gd=!0;function U4(e,t,n,i){var r=Ae.T;Ae.T=null;var a=qe.p;try{qe.p=2,Cg(e,t,n,i)}finally{qe.p=a,Ae.T=r}}function F4(e,t,n,i){var r=Ae.T;Ae.T=null;var a=qe.p;try{qe.p=8,Cg(e,t,n,i)}finally{qe.p=a,Ae.T=r}}function Cg(e,t,n,i){if(gd){var r=F0(i);if(r===null)pf(e,t,i,md,n),xx(e,i);else if(z4(r,e,t,n,i))i.stopPropagation();else if(xx(e,i),t&4&&-1<V4.indexOf(e)){for(;r!==null;){var a=vo(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var c=_r(a.pendingLanes);if(c!==0){var h=a;for(h.pendingLanes|=2,h.entangledLanes|=2;c;){var g=1<<31-Yn(c);h.entanglements[1]|=g,c&=~g}Gi(a),!(Ke&6)&&(rd=Pi()+500,yc(0))}}break;case 13:h=Eo(a,2),h!==null&&Xn(h,a,2),Yd(),Sg(a,2)}if(a=F0(i),a===null&&pf(e,t,i,md,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else pf(e,t,i,null,n)}}function F0(e){return e=V1(e),Tg(e)}var md=null;function Tg(e){if(md=null,e=Ma(e),e!==null){var t=rc(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Y2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return md=e,null}function vv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(TS()){case Z2:return 2;case K2:return 8;case Hu:case _S:return 32;case Q2:return 268435456;default:return 32}default:return 32}}var V0=!1,Js=null,er=null,tr=null,Yl=new Map,ql=new Map,Fs=[],V4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xx(e,t){switch(e){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Yl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(t.pointerId)}}function Jo(e,t,n,i,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},t!==null&&(t=vo(t),t!==null&&wv(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function z4(e,t,n,i,r){switch(t){case"focusin":return Js=Jo(Js,e,t,n,i,r),!0;case"dragenter":return er=Jo(er,e,t,n,i,r),!0;case"mouseover":return tr=Jo(tr,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return Yl.set(a,Jo(Yl.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,ql.set(a,Jo(ql.get(a)||null,e,t,n,i,r)),!0}return!1}function Ev(e){var t=Ma(e.target);if(t!==null){var n=rc(t);if(n!==null){if(t=n.tag,t===13){if(t=Y2(n),t!==null){e.blockedOn=t,LS(e.priority,function(){if(n.tag===13){var i=qn();i=B1(i);var r=Eo(n,i);r!==null&&Xn(r,n,i),Sg(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ru(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=F0(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);s0=i,n.target.dispatchEvent(i),s0=null}else return t=vo(n),t!==null&&wv(t),e.blockedOn=n,!1;t.shift()}return!0}function yx(e,t,n){Ru(e)&&n.delete(t)}function H4(){V0=!1,Js!==null&&Ru(Js)&&(Js=null),er!==null&&Ru(er)&&(er=null),tr!==null&&Ru(tr)&&(tr=null),Yl.forEach(yx),ql.forEach(yx)}function au(e,t){e.blockedOn===t&&(e.blockedOn=null,V0||(V0=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,H4)))}var ou=null;function bx(e){ou!==e&&(ou=e,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,function(){ou===e&&(ou=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(Tg(i||n)===null)continue;break}var a=vo(n);a!==null&&(e.splice(t,3),t-=3,w0(a,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Xl(e){function t(g){return au(g,e)}Js!==null&&au(Js,e),er!==null&&au(er,e),tr!==null&&au(tr,e),Yl.forEach(t),ql.forEach(t);for(var n=0;n<Fs.length;n++){var i=Fs[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Fs.length&&(n=Fs[0],n.blockedOn===null);)Ev(n),n.blockedOn===null&&Fs.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],c=r[On]||null;if(typeof a=="function")c||bx(n);else if(c){var h=null;if(a&&a.hasAttribute("formAction")){if(r=a,c=a[On]||null)h=c.formAction;else if(Tg(r)!==null)continue}else h=c.action;typeof h=="function"?n[i+1]=h:(n.splice(i,3),i-=3),bx(n)}}}function _g(e){this._internalRoot=e}Zd.prototype.render=_g.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));var n=t.current,i=qn();bv(n,i,e,t,null,null)};Zd.prototype.unmount=_g.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bv(e.current,2,null,e,null,null),Yd(),t[wo]=null}};function Zd(e){this._internalRoot=e}Zd.prototype.unstable_scheduleHydration=function(e){if(e){var t=nb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fs.length&&t!==0&&t<Fs[n].priority;n++);Fs.splice(n,0,e),n===0&&Ev(e)}};var wx=H2.version;if(wx!=="19.1.0")throw Error(ee(527,wx,"19.1.0"));qe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=bS(t),e=e!==null?q2(e):null,e=e===null?null:e.stateNode,e};var G4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Ae,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{ac=lu.inject(G4),Gn=lu}catch{}}Od.createRoot=function(e,t){if(!G2(e))throw Error(ee(299));var n=!1,i="",r=xw,a=yw,c=bw,h=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(h=t.unstable_transitionCallbacks)),t=xv(e,1,!1,null,null,n,i,r,a,c,h,null),e[wo]=t.current,vg(e),new _g(t)};Od.hydrateRoot=function(e,t,n){if(!G2(e))throw Error(ee(299));var i=!1,r="",a=xw,c=yw,h=bw,g=null,m=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(c=n.onCaughtError),n.onRecoverableError!==void 0&&(h=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(g=n.unstable_transitionCallbacks),n.formState!==void 0&&(m=n.formState)),t=xv(e,1,!0,t,n??null,i,r,a,c,h,g,m),t.context=yv(null),n=t.current,i=qn(),i=B1(i),r=Zs(i),r.callback=null,Ks(n,r,i),n=i,t.current.lanes=n,lc(t,n),Gi(t),e[wo]=t.current,vg(e),new Zd(t)};Od.version="19.1.0";function Av(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Av)}catch(e){console.error(e)}}Av(),B2.exports=Od;var Y4=B2.exports;const q4=N1(Y4);/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vx="popstate";function X4(e={}){function t(i,r){let{pathname:a,search:c,hash:h}=i.location;return z0("",{pathname:a,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Wl(r)}return Z4(t,n,null,e)}function xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function W4(){return Math.random().toString(36).substring(2,10)}function Ex(e,t){return{usr:e.state,key:e.key,idx:t}}function z0(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?To(t):t,state:n,key:t&&t.key||i||W4()}}function Wl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function To(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function Z4(e,t,n,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,c=r.history,h="POP",g=null,m=b();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function b(){return(c.state||{idx:null}).idx}function w(){h="POP";let P=b(),T=P==null?null:P-m;m=P,g&&g({action:h,location:M.location,delta:T})}function E(P,T){h="PUSH";let _=z0(M.location,P,T);m=b()+1;let C=Ex(_,m),L=M.createHref(_);try{c.pushState(C,"",L)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;r.location.assign(L)}a&&g&&g({action:h,location:M.location,delta:1})}function A(P,T){h="REPLACE";let _=z0(M.location,P,T);m=b();let C=Ex(_,m),L=M.createHref(_);c.replaceState(C,"",L),a&&g&&g({action:h,location:M.location,delta:0})}function O(P){return K4(P)}let M={get action(){return h},get location(){return e(r,c)},listen(P){if(g)throw new Error("A history only accepts one active listener");return r.addEventListener(vx,w),g=P,()=>{r.removeEventListener(vx,w),g=null}},createHref(P){return t(r,P)},createURL:O,encodeLocation(P){let T=O(P);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:E,replace:A,go(P){return c.go(P)}};return M}function K4(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),xt(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Wl(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Sv(e,t,n="/"){return Q4(e,t,n,!1)}function Q4(e,t,n,i){let r=typeof t=="string"?To(t):t,a=gs(r.pathname||"/",n);if(a==null)return null;let c=Cv(e);$4(c);let h=null;for(let g=0;h==null&&g<c.length;++g){let m=cT(a);h=oT(c[g],m,i)}return h}function Cv(e,t=[],n=[],i=""){let r=(a,c,h)=>{let g={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};g.relativePath.startsWith("/")&&(xt(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let m=cs([i,g.relativePath]),b=n.concat(g);a.children&&a.children.length>0&&(xt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Cv(a.children,t,b,m)),!(a.path==null&&!a.index)&&t.push({path:m,score:rT(m,a.index),routesMeta:b})};return e.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))r(a,c);else for(let g of Tv(a.path))r(a,c,g)}),t}function Tv(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let c=Tv(i.join("/")),h=[];return h.push(...c.map(g=>g===""?a:[a,g].join("/"))),r&&h.push(...c),h.map(g=>e.startsWith("/")&&g===""?"/":g)}function $4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:aT(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var J4=/^:[\w-]+$/,eT=3,tT=2,nT=1,iT=10,sT=-2,Ax=e=>e==="*";function rT(e,t){let n=e.split("/"),i=n.length;return n.some(Ax)&&(i+=sT),t&&(i+=tT),n.filter(r=>!Ax(r)).reduce((r,a)=>r+(J4.test(a)?eT:a===""?nT:iT),i)}function aT(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function oT(e,t,n=!1){let{routesMeta:i}=e,r={},a="/",c=[];for(let h=0;h<i.length;++h){let g=i[h],m=h===i.length-1,b=a==="/"?t:t.slice(a.length)||"/",w=pd({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},b),E=g.route;if(!w&&m&&n&&!i[i.length-1].route.index&&(w=pd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!w)return null;Object.assign(r,w.params),c.push({params:r,pathname:cs([a,w.pathname]),pathnameBase:fT(cs([a,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(a=cs([a,w.pathnameBase]))}return c}function pd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=lT(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],c=a.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((m,{paramName:b,isOptional:w},E)=>{if(b==="*"){let O=h[E]||"";c=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const A=h[E];return w&&!A?m[b]=void 0:m[b]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:e}}function lT(e,t=!1,n=!0){vi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,g)=>(i.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function cT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function gs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function uT(e,t="/"){let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?To(e):e;return{pathname:n?n.startsWith("/")?n:dT(n,t):t,search:gT(i),hash:mT(r)}}function dT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function yf(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hT(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ng(e){let t=hT(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Ig(e,t,n,i=!1){let r;typeof e=="string"?r=To(e):(r={...e},xt(!r.pathname||!r.pathname.includes("?"),yf("?","pathname","search",r)),xt(!r.pathname||!r.pathname.includes("#"),yf("#","pathname","hash",r)),xt(!r.search||!r.search.includes("#"),yf("#","search","hash",r)));let a=e===""||r.pathname==="",c=a?"/":r.pathname,h;if(c==null)h=n;else{let w=t.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),w-=1;r.pathname=E.join("/")}h=w>=0?t[w]:"/"}let g=uT(r,h),m=c&&c!=="/"&&c.endsWith("/"),b=(a||c===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(m||b)&&(g.pathname+="/"),g}var cs=e=>e.join("/").replace(/\/\/+/g,"/"),fT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,mT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var _v=["POST","PUT","PATCH","DELETE"];new Set(_v);var xT=["GET",..._v];new Set(xT);var _o=j.createContext(null);_o.displayName="DataRouter";var Kd=j.createContext(null);Kd.displayName="DataRouterState";j.createContext(!1);var Nv=j.createContext({isTransitioning:!1});Nv.displayName="ViewTransition";var yT=j.createContext(new Map);yT.displayName="Fetchers";var bT=j.createContext(null);bT.displayName="Await";var Ai=j.createContext(null);Ai.displayName="Navigation";var vc=j.createContext(null);vc.displayName="Location";var Si=j.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var Mg=j.createContext(null);Mg.displayName="RouteError";function wT(e,{relative:t}={}){xt(No(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=j.useContext(Ai),{hash:r,pathname:a,search:c}=Sc(e,{relative:t}),h=a;return n!=="/"&&(h=a==="/"?n:cs([n,a])),i.createHref({pathname:h,search:c,hash:r})}function No(){return j.useContext(vc)!=null}function bs(){return xt(No(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(vc).location}var Iv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mv(e){j.useContext(Ai).static||j.useLayoutEffect(e)}function Ec(){let{isDataRoute:e}=j.useContext(Si);return e?OT():vT()}function vT(){xt(No(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(_o),{basename:t,navigator:n}=j.useContext(Ai),{matches:i}=j.useContext(Si),{pathname:r}=bs(),a=JSON.stringify(Ng(i)),c=j.useRef(!1);return Mv(()=>{c.current=!0}),j.useCallback((g,m={})=>{if(vi(c.current,Iv),!c.current)return;if(typeof g=="number"){n.go(g);return}let b=Ig(g,JSON.parse(a),r,m.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:cs([t,b.pathname])),(m.replace?n.replace:n.push)(b,m.state,m)},[t,n,a,r,e])}j.createContext(null);function Ac(){let{matches:e}=j.useContext(Si),t=e[e.length-1];return t?t.params:{}}function Sc(e,{relative:t}={}){let{matches:n}=j.useContext(Si),{pathname:i}=bs(),r=JSON.stringify(Ng(n));return j.useMemo(()=>Ig(e,JSON.parse(r),i,t==="path"),[e,r,i,t])}function ET(e,t){return Dv(e,t)}function Dv(e,t,n,i){var T;xt(No(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=j.useContext(Ai),{matches:a}=j.useContext(Si),c=a[a.length-1],h=c?c.params:{},g=c?c.pathname:"/",m=c?c.pathnameBase:"/",b=c&&c.route;{let _=b&&b.path||"";Rv(g,!b||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let w=bs(),E;if(t){let _=typeof t=="string"?To(t):t;xt(m==="/"||((T=_.pathname)==null?void 0:T.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${_.pathname}" was given in the \`location\` prop.`),E=_}else E=w;let A=E.pathname||"/",O=A;if(m!=="/"){let _=m.replace(/^\//,"").split("/");O="/"+A.replace(/^\//,"").split("/").slice(_.length).join("/")}let M=Sv(e,{pathname:O});vi(b||M!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),vi(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=_T(M&&M.map(_=>Object.assign({},_,{params:Object.assign({},h,_.params),pathname:cs([m,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?m:cs([m,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),a,n,i);return t&&P?j.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},P):P}function AT(){let e=RT(),t=pT(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:a},"ErrorBoundary")," or"," ",j.createElement("code",{style:a},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:r},n):null,c)}var ST=j.createElement(AT,null),CT=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?j.createElement(Si.Provider,{value:this.props.routeContext},j.createElement(Mg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TT({routeContext:e,match:t,children:n}){let i=j.useContext(_o);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Si.Provider,{value:e},n)}function _T(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,a=n==null?void 0:n.errors;if(a!=null){let g=r.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);xt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,g+1))}let c=!1,h=-1;if(n)for(let g=0;g<r.length;g++){let m=r[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=g),m.route.id){let{loaderData:b,errors:w}=n,E=m.route.loader&&!b.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||E){c=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((g,m,b)=>{let w,E=!1,A=null,O=null;n&&(w=a&&m.route.id?a[m.route.id]:void 0,A=m.route.errorElement||ST,c&&(h<0&&b===0?(Rv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,O=null):h===b&&(E=!0,O=m.route.hydrateFallbackElement||null)));let M=t.concat(r.slice(0,b+1)),P=()=>{let T;return w?T=A:E?T=O:m.route.Component?T=j.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=g,j.createElement(TT,{match:m,routeContext:{outlet:g,matches:M,isDataRoute:n!=null},children:T})};return n&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?j.createElement(CT,{location:n.location,revalidation:n.revalidation,component:A,error:w,children:P(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):P()},null)}function Dg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NT(e){let t=j.useContext(_o);return xt(t,Dg(e)),t}function IT(e){let t=j.useContext(Kd);return xt(t,Dg(e)),t}function MT(e){let t=j.useContext(Si);return xt(t,Dg(e)),t}function Rg(e){let t=MT(e),n=t.matches[t.matches.length-1];return xt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function DT(){return Rg("useRouteId")}function RT(){var i;let e=j.useContext(Mg),t=IT("useRouteError"),n=Rg("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function OT(){let{router:e}=NT("useNavigate"),t=Rg("useNavigate"),n=j.useRef(!1);return Mv(()=>{n.current=!0}),j.useCallback(async(r,a={})=>{vi(n.current,Iv),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...a}))},[e,t])}var Sx={};function Rv(e,t,n){!t&&!Sx[e]&&(Sx[e]=!0,vi(!1,n))}j.memo(jT);function jT({routes:e,future:t,state:n}){return Dv(e,void 0,n,t)}function bf({to:e,replace:t,state:n,relative:i}){xt(No(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=j.useContext(Ai);vi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=j.useContext(Si),{pathname:c}=bs(),h=Ec(),g=Ig(e,Ng(a),c,i==="path"),m=JSON.stringify(g);return j.useEffect(()=>{h(JSON.parse(m),{replace:t,state:n,relative:i})},[h,m,i,t,n]),null}function Ut(e){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LT({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:r,static:a=!1}){xt(!No(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:c,navigator:r,static:a,future:{}}),[c,r,a]);typeof n=="string"&&(n=To(n));let{pathname:g="/",search:m="",hash:b="",state:w=null,key:E="default"}=n,A=j.useMemo(()=>{let O=gs(g,c);return O==null?null:{location:{pathname:O,search:m,hash:b,state:w,key:E},navigationType:i}},[c,g,m,b,w,E,i]);return vi(A!=null,`<Router basename="${c}"> is not able to match the URL "${g}${m}${b}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:j.createElement(Ai.Provider,{value:h},j.createElement(vc.Provider,{children:t,value:A}))}function Cx({children:e,location:t}){return ET(H0(e),t)}function H0(e,t=[]){let n=[];return j.Children.forEach(e,(i,r)=>{if(!j.isValidElement(i))return;let a=[...t,r];if(i.type===j.Fragment){n.push.apply(n,H0(i.props.children,a));return}xt(i.type===Ut,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=H0(i.props.children,a)),n.push(c)}),n}var Ou="get",ju="application/x-www-form-urlencoded";function Qd(e){return e!=null&&typeof e.tagName=="string"}function kT(e){return Qd(e)&&e.tagName.toLowerCase()==="button"}function BT(e){return Qd(e)&&e.tagName.toLowerCase()==="form"}function PT(e){return Qd(e)&&e.tagName.toLowerCase()==="input"}function UT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function FT(e,t){return e.button===0&&(!t||t==="_self")&&!UT(e)}var cu=null;function VT(){if(cu===null)try{new FormData(document.createElement("form"),0),cu=!1}catch{cu=!0}return cu}var zT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wf(e){return e!=null&&!zT.has(e)?(vi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ju}"`),null):e}function HT(e,t){let n,i,r,a,c;if(BT(e)){let h=e.getAttribute("action");i=h?gs(h,t):null,n=e.getAttribute("method")||Ou,r=wf(e.getAttribute("enctype"))||ju,a=new FormData(e)}else if(kT(e)||PT(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=e.getAttribute("formaction")||h.getAttribute("action");if(i=g?gs(g,t):null,n=e.getAttribute("formmethod")||h.getAttribute("method")||Ou,r=wf(e.getAttribute("formenctype"))||wf(h.getAttribute("enctype"))||ju,a=new FormData(h,e),!VT()){let{name:m,type:b,value:w}=e;if(b==="image"){let E=m?`${m}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else m&&a.append(m,w)}}else{if(Qd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ou,i=null,r=ju,c=e}return a&&r==="text/plain"&&(c=a,a=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Og(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function GT(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&gs(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function YT(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qT(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function XT(e,t,n){let i=await Promise.all(e.map(async r=>{let a=t.routes[r.route.id];if(a){let c=await YT(a,n);return c.links?c.links():[]}return[]}));return QT(i.flat(1).filter(qT).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Tx(e,t,n,i,r,a){let c=(g,m)=>n[m]?g.route.id!==n[m].route.id:!0,h=(g,m)=>{var b;return n[m].pathname!==g.pathname||((b=n[m].route.path)==null?void 0:b.endsWith("*"))&&n[m].params["*"]!==g.params["*"]};return a==="assets"?t.filter((g,m)=>c(g,m)||h(g,m)):a==="data"?t.filter((g,m)=>{var w;let b=i.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(c(g,m)||h(g,m))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(e,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function WT(e,t,{includeHydrateFallback:n}={}){return ZT(e.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function ZT(e){return[...new Set(e)]}function KT(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function QT(e,t){let n=new Set;return new Set(t),e.reduce((i,r)=>{let a=JSON.stringify(KT(r));return n.has(a)||(n.add(a),i.push({key:a,link:r})),i},[])}function Ov(){let e=j.useContext(_o);return Og(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function $T(){let e=j.useContext(Kd);return Og(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var jg=j.createContext(void 0);jg.displayName="FrameworkContext";function jv(){let e=j.useContext(jg);return Og(e,"You must render this element inside a <HydratedRouter> element"),e}function JT(e,t){let n=j.useContext(jg),[i,r]=j.useState(!1),[a,c]=j.useState(!1),{onFocus:h,onBlur:g,onMouseEnter:m,onMouseLeave:b,onTouchStart:w}=t,E=j.useRef(null);j.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let M=T=>{T.forEach(_=>{c(_.isIntersecting)})},P=new IntersectionObserver(M,{threshold:.5});return E.current&&P.observe(E.current),()=>{P.disconnect()}}},[e]),j.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let A=()=>{r(!0)},O=()=>{r(!1),c(!1)};return n?e!=="intent"?[a,E,{}]:[a,E,{onFocus:el(h,A),onBlur:el(g,O),onMouseEnter:el(m,A),onMouseLeave:el(b,O),onTouchStart:el(w,A)}]:[!1,E,{}]}function el(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function e_({page:e,...t}){let{router:n}=Ov(),i=j.useMemo(()=>Sv(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?j.createElement(n_,{page:e,matches:i,...t}):null}function t_(e){let{manifest:t,routeModules:n}=jv(),[i,r]=j.useState([]);return j.useEffect(()=>{let a=!1;return XT(e,t,n).then(c=>{a||r(c)}),()=>{a=!0}},[e,t,n]),i}function n_({page:e,matches:t,...n}){let i=bs(),{manifest:r,routeModules:a}=jv(),{basename:c}=Ov(),{loaderData:h,matches:g}=$T(),m=j.useMemo(()=>Tx(e,t,g,r,i,"data"),[e,t,g,r,i]),b=j.useMemo(()=>Tx(e,t,g,r,i,"assets"),[e,t,g,r,i]),w=j.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let O=new Set,M=!1;if(t.forEach(T=>{var C;let _=r.routes[T.route.id];!_||!_.hasLoader||(!m.some(L=>L.route.id===T.route.id)&&T.route.id in h&&((C=a[T.route.id])!=null&&C.shouldRevalidate)||_.hasClientLoader?M=!0:O.add(T.route.id))}),O.size===0)return[];let P=GT(e,c,"data");return M&&O.size>0&&P.searchParams.set("_routes",t.filter(T=>O.has(T.route.id)).map(T=>T.route.id).join(",")),[P.pathname+P.search]},[c,h,i,r,m,t,e,a]),E=j.useMemo(()=>WT(b,r),[b,r]),A=t_(b);return j.createElement(j.Fragment,null,w.map(O=>j.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),E.map(O=>j.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),A.map(({key:O,link:M})=>j.createElement("link",{key:O,...M})))}function i_(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Lv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Lv&&(window.__reactRouterVersion="7.7.0")}catch{}function s_({basename:e,children:t,window:n}){let i=j.useRef();i.current==null&&(i.current=X4({window:n,v5Compat:!0}));let r=i.current,[a,c]=j.useState({action:r.action,location:r.location}),h=j.useCallback(g=>{j.startTransition(()=>c(g))},[c]);return j.useLayoutEffect(()=>r.listen(h),[r,h]),j.createElement(LT,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:r})}var kv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xd=j.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:r,reloadDocument:a,replace:c,state:h,target:g,to:m,preventScrollReset:b,viewTransition:w,...E},A){let{basename:O}=j.useContext(Ai),M=typeof m=="string"&&kv.test(m),P,T=!1;if(typeof m=="string"&&M&&(P=m,Lv))try{let U=new URL(window.location.href),q=m.startsWith("//")?new URL(U.protocol+m):new URL(m),Y=gs(q.pathname,O);q.origin===U.origin&&Y!=null?m=Y+q.search+q.hash:T=!0}catch{vi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=wT(m,{relative:r}),[C,L,z]=JT(i,E),D=l_(m,{replace:c,state:h,target:g,preventScrollReset:b,relative:r,viewTransition:w});function k(U){t&&t(U),U.defaultPrevented||D(U)}let V=j.createElement("a",{...E,...z,href:P||_,onClick:T||a?t:k,ref:i_(A,L),target:g,"data-discover":!M&&n==="render"?"true":void 0});return C&&!M?j.createElement(j.Fragment,null,V,j.createElement(e_,{page:_})):V});xd.displayName="Link";var r_=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:r=!1,style:a,to:c,viewTransition:h,children:g,...m},b){let w=Sc(c,{relative:m.relative}),E=bs(),A=j.useContext(Kd),{navigator:O,basename:M}=j.useContext(Ai),P=A!=null&&f_(w)&&h===!0,T=O.encodeLocation?O.encodeLocation(w).pathname:w.pathname,_=E.pathname,C=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(_=_.toLowerCase(),C=C?C.toLowerCase():null,T=T.toLowerCase()),C&&M&&(C=gs(C,M)||C);const L=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let z=_===T||!r&&_.startsWith(T)&&_.charAt(L)==="/",D=C!=null&&(C===T||!r&&C.startsWith(T)&&C.charAt(T.length)==="/"),k={isActive:z,isPending:D,isTransitioning:P},V=z?t:void 0,U;typeof i=="function"?U=i(k):U=[i,z?"active":null,D?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let q=typeof a=="function"?a(k):a;return j.createElement(xd,{...m,"aria-current":V,className:U,ref:b,style:q,to:c,viewTransition:h},typeof g=="function"?g(k):g)});r_.displayName="NavLink";var a_=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:r,state:a,method:c=Ou,action:h,onSubmit:g,relative:m,preventScrollReset:b,viewTransition:w,...E},A)=>{let O=d_(),M=h_(h,{relative:m}),P=c.toLowerCase()==="get"?"get":"post",T=typeof h=="string"&&kv.test(h),_=C=>{if(g&&g(C),C.defaultPrevented)return;C.preventDefault();let L=C.nativeEvent.submitter,z=(L==null?void 0:L.getAttribute("formmethod"))||c;O(L||C.currentTarget,{fetcherKey:t,method:z,navigate:n,replace:r,state:a,relative:m,preventScrollReset:b,viewTransition:w})};return j.createElement("form",{ref:A,method:P,action:M,onSubmit:i?g:_,...E,"data-discover":!T&&e==="render"?"true":void 0})});a_.displayName="Form";function o_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bv(e){let t=j.useContext(_o);return xt(t,o_(e)),t}function l_(e,{target:t,replace:n,state:i,preventScrollReset:r,relative:a,viewTransition:c}={}){let h=Ec(),g=bs(),m=Sc(e,{relative:a});return j.useCallback(b=>{if(FT(b,t)){b.preventDefault();let w=n!==void 0?n:Wl(g)===Wl(m);h(e,{replace:w,state:i,preventScrollReset:r,relative:a,viewTransition:c})}},[g,h,m,n,i,t,e,r,a,c])}var c_=0,u_=()=>`__${String(++c_)}__`;function d_(){let{router:e}=Bv("useSubmit"),{basename:t}=j.useContext(Ai),n=DT();return j.useCallback(async(i,r={})=>{let{action:a,method:c,encType:h,formData:g,body:m}=HT(i,t);if(r.navigate===!1){let b=r.fetcherKey||u_();await e.fetch(b,n,r.action||a,{preventScrollReset:r.preventScrollReset,formData:g,body:m,formMethod:r.method||c,formEncType:r.encType||h,flushSync:r.flushSync})}else await e.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:g,body:m,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function h_(e,{relative:t}={}){let{basename:n}=j.useContext(Ai),i=j.useContext(Si);xt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...Sc(e||".",{relative:t})},c=bs();if(e==null){a.search=c.search;let h=new URLSearchParams(a.search),g=h.getAll("index");if(g.some(b=>b==="")){h.delete("index"),g.filter(w=>w).forEach(w=>h.append("index",w));let b=h.toString();a.search=b?`?${b}`:""}}return(!e||e===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:cs([n,a.pathname])),Wl(a)}function f_(e,t={}){let n=j.useContext(Nv);xt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Bv("useViewTransitionState"),r=Sc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=gs(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=gs(n.nextLocation.pathname,i)||n.nextLocation.pathname;return pd(r.pathname,c)!=null||pd(r.pathname,a)!=null}let g_={data:""},m_=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||g_,p_=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,x_=/\/\*[^]*?\*\/|  +/g,_x=/\n+/g,Vs=(e,t)=>{let n="",i="",r="";for(let a in e){let c=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+c+";":i+=a[1]=="f"?Vs(c,a):a+"{"+Vs(c,a[1]=="k"?"":t)+"}":typeof c=="object"?i+=Vs(c,t?t.replace(/([^,])+/g,h=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,h):h?h+" "+g:g)):a):c!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Vs.p?Vs.p(a,c):a+":"+c+";")}return n+(t&&r?t+"{"+r+"}":r)+i},Qi={},Pv=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Pv(e[n]);return t}return e},y_=(e,t,n,i,r)=>{let a=Pv(e),c=Qi[a]||(Qi[a]=(g=>{let m=0,b=11;for(;m<g.length;)b=101*b+g.charCodeAt(m++)>>>0;return"go"+b})(a));if(!Qi[c]){let g=a!==e?e:(m=>{let b,w,E=[{}];for(;b=p_.exec(m.replace(x_,""));)b[4]?E.shift():b[3]?(w=b[3].replace(_x," ").trim(),E.unshift(E[0][w]=E[0][w]||{})):E[0][b[1]]=b[2].replace(_x," ").trim();return E[0]})(e);Qi[c]=Vs(r?{["@keyframes "+c]:g}:g,n?"":"."+c)}let h=n&&Qi.g?Qi.g:null;return n&&(Qi.g=Qi[c]),((g,m,b,w)=>{w?m.data=m.data.replace(w,g):m.data.indexOf(g)===-1&&(m.data=b?g+m.data:m.data+g)})(Qi[c],t,i,h),c},b_=(e,t,n)=>e.reduce((i,r,a)=>{let c=t[a];if(c&&c.call){let h=c(n),g=h&&h.props&&h.props.className||/^go/.test(h)&&h;c=g?"."+g:h&&typeof h=="object"?h.props?"":Vs(h,""):h===!1?"":h}return i+r+(c??"")},"");function $d(e){let t=this||{},n=e.call?e(t.p):e;return y_(n.unshift?n.raw?b_(n,[].slice.call(arguments,1),t.p):n.reduce((i,r)=>Object.assign(i,r&&r.call?r(t.p):r),{}):n,m_(t.target),t.g,t.o,t.k)}let Uv,G0,Y0;$d.bind({g:1});let ms=$d.bind({k:1});function w_(e,t,n,i){Vs.p=t,Uv=e,G0=n,Y0=i}function fr(e,t){let n=this||{};return function(){let i=arguments;function r(a,c){let h=Object.assign({},a),g=h.className||r.className;n.p=Object.assign({theme:G0&&G0()},h),n.o=/ *go\d+/.test(g),h.className=$d.apply(n,i)+(g?" "+g:"");let m=e;return e[0]&&(m=h.as||e,delete h.as),Y0&&m[0]&&Y0(h),Uv(m,h)}return r}}var v_=e=>typeof e=="function",yd=(e,t)=>v_(e)?e(t):e,E_=(()=>{let e=0;return()=>(++e).toString()})(),Fv=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),A_=20,Vv=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,A_)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:n}=t;return Vv(e,{type:e.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let r=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+r}))}}},Lu=[],Or={toasts:[],pausedAt:void 0},ia=e=>{Or=Vv(Or,e),Lu.forEach(t=>{t(Or)})},S_={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},C_=(e={})=>{let[t,n]=j.useState(Or),i=j.useRef(Or);j.useEffect(()=>(i.current!==Or&&n(Or),Lu.push(n),()=>{let a=Lu.indexOf(n);a>-1&&Lu.splice(a,1)}),[]);let r=t.toasts.map(a=>{var c,h,g;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((c=e[a.type])==null?void 0:c.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((h=e[a.type])==null?void 0:h.duration)||(e==null?void 0:e.duration)||S_[a.type],style:{...e.style,...(g=e[a.type])==null?void 0:g.style,...a.style}}});return{...t,toasts:r}},T_=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||E_()}),Cc=e=>(t,n)=>{let i=T_(t,e,n);return ia({type:2,toast:i}),i.id},mn=(e,t)=>Cc("blank")(e,t);mn.error=Cc("error");mn.success=Cc("success");mn.loading=Cc("loading");mn.custom=Cc("custom");mn.dismiss=e=>{ia({type:3,toastId:e})};mn.remove=e=>ia({type:4,toastId:e});mn.promise=(e,t,n)=>{let i=mn.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(r=>{let a=t.success?yd(t.success,r):void 0;return a?mn.success(a,{id:i,...n,...n==null?void 0:n.success}):mn.dismiss(i),r}).catch(r=>{let a=t.error?yd(t.error,r):void 0;a?mn.error(a,{id:i,...n,...n==null?void 0:n.error}):mn.dismiss(i)}),e};var __=(e,t)=>{ia({type:1,toast:{id:e,height:t}})},N_=()=>{ia({type:5,time:Date.now()})},Cl=new Map,I_=1e3,M_=(e,t=I_)=>{if(Cl.has(e))return;let n=setTimeout(()=>{Cl.delete(e),ia({type:4,toastId:e})},t);Cl.set(e,n)},D_=e=>{let{toasts:t,pausedAt:n}=C_(e);j.useEffect(()=>{if(n)return;let a=Date.now(),c=t.map(h=>{if(h.duration===1/0)return;let g=(h.duration||0)+h.pauseDuration-(a-h.createdAt);if(g<0){h.visible&&mn.dismiss(h.id);return}return setTimeout(()=>mn.dismiss(h.id),g)});return()=>{c.forEach(h=>h&&clearTimeout(h))}},[t,n]);let i=j.useCallback(()=>{n&&ia({type:6,time:Date.now()})},[n]),r=j.useCallback((a,c)=>{let{reverseOrder:h=!1,gutter:g=8,defaultPosition:m}=c||{},b=t.filter(A=>(A.position||m)===(a.position||m)&&A.height),w=b.findIndex(A=>A.id===a.id),E=b.filter((A,O)=>O<w&&A.visible).length;return b.filter(A=>A.visible).slice(...h?[E+1]:[0,E]).reduce((A,O)=>A+(O.height||0)+g,0)},[t]);return j.useEffect(()=>{t.forEach(a=>{if(a.dismissed)M_(a.id,a.removeDelay);else{let c=Cl.get(a.id);c&&(clearTimeout(c),Cl.delete(a.id))}})},[t]),{toasts:t,handlers:{updateHeight:__,startPause:N_,endPause:i,calculateOffset:r}}},R_=ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,O_=ms`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,j_=ms`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,L_=fr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${R_} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${O_} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${j_} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,k_=ms`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,B_=fr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${k_} 1s linear infinite;
`,P_=ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,U_=ms`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,F_=fr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${P_} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${U_} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,V_=fr("div")`
  position: absolute;
`,z_=fr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,H_=ms`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,G_=fr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${H_} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Y_=({toast:e})=>{let{icon:t,type:n,iconTheme:i}=e;return t!==void 0?typeof t=="string"?j.createElement(G_,null,t):t:n==="blank"?null:j.createElement(z_,null,j.createElement(B_,{...i}),n!=="loading"&&j.createElement(V_,null,n==="error"?j.createElement(L_,{...i}):j.createElement(F_,{...i})))},q_=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,X_=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,W_="0%{opacity:0;} 100%{opacity:1;}",Z_="0%{opacity:1;} 100%{opacity:0;}",K_=fr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Q_=fr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$_=(e,t)=>{let n=e.includes("top")?1:-1,[i,r]=Fv()?[W_,Z_]:[q_(n),X_(n)];return{animation:t?`${ms(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ms(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},J_=j.memo(({toast:e,position:t,style:n,children:i})=>{let r=e.height?$_(e.position||t||"top-center",e.visible):{opacity:0},a=j.createElement(Y_,{toast:e}),c=j.createElement(Q_,{...e.ariaProps},yd(e.message,e));return j.createElement(K_,{className:e.className,style:{...r,...n,...e.style}},typeof i=="function"?i({icon:a,message:c}):j.createElement(j.Fragment,null,a,c))});w_(j.createElement);var eN=({id:e,className:t,style:n,onHeightUpdate:i,children:r})=>{let a=j.useCallback(c=>{if(c){let h=()=>{let g=c.getBoundingClientRect().height;i(e,g)};h(),new MutationObserver(h).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[e,i]);return j.createElement("div",{ref:a,className:t,style:n},r)},tN=(e,t)=>{let n=e.includes("top"),i=n?{top:0}:{bottom:0},r=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Fv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...i,...r}},nN=$d`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,uu=16,iN=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:i,children:r,containerStyle:a,containerClassName:c})=>{let{toasts:h,handlers:g}=D_(n);return j.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:uu,left:uu,right:uu,bottom:uu,pointerEvents:"none",...a},className:c,onMouseEnter:g.startPause,onMouseLeave:g.endPause},h.map(m=>{let b=m.position||t,w=g.calculateOffset(m,{reverseOrder:e,gutter:i,defaultPosition:t}),E=tN(b,w);return j.createElement(eN,{id:m.id,key:m.id,onHeightUpdate:g.updateHeight,className:m.visible?nN:"",style:E},m.type==="custom"?yd(m.message,m):r?r(m):j.createElement(J_,{toast:m,position:b}))}))},le=mn;const sN="modulepreload",rN=function(e){return"/"+e},Nx={},Tc=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=Promise.allSettled(n.map(g=>{if(g=rN(g),g in Nx)return;Nx[g]=!0;const m=g.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":sN,m||(w.as="script"),w.crossOrigin="",w.href=g,h&&w.setAttribute("nonce",h),document.head.appendChild(w),m)return new Promise((E,A)=>{w.addEventListener("load",E),w.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${g}`)))})}))}function a(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return r.then(c=>{for(const h of c||[])h.status==="rejected"&&a(h.reason);return t().catch(a)})},aN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Tc(async()=>{const{default:i}=await Promise.resolve().then(()=>Io);return{default:i}},[]).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)};class Lg extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class oN extends Lg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ix extends Lg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Mx extends Lg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var q0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(q0||(q0={}));var lN=function(e,t,n,i){function r(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(b){try{m(i.next(b))}catch(w){c(w)}}function g(b){try{m(i.throw(b))}catch(w){c(w)}}function m(b){b.done?a(b.value):r(b.value).then(h,g)}m((i=i.apply(e,t||[])).next())})};class cN{constructor(t,{headers:n={},customFetch:i,region:r=q0.Any}={}){this.url=t,this.headers=n,this.region=r,this.fetch=aN(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var i;return lN(this,void 0,void 0,function*(){try{const{headers:r,method:a,body:c}=n;let h={},{region:g}=n;g||(g=this.region);const m=new URL(`${this.url}/${t}`);g&&g!=="any"&&(h["x-region"]=g,m.searchParams.set("forceFunctionRegion",g));let b;c&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",b=c):typeof c=="string"?(h["Content-Type"]="text/plain",b=c):typeof FormData<"u"&&c instanceof FormData?b=c:(h["Content-Type"]="application/json",b=JSON.stringify(c)));const w=yield this.fetch(m.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),r),body:b}).catch(M=>{throw new oN(M)}),E=w.headers.get("x-relay-error");if(E&&E==="true")throw new Ix(w);if(!w.ok)throw new Mx(w);let A=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return A==="application/json"?O=yield w.json():A==="application/octet-stream"?O=yield w.blob():A==="text/event-stream"?O=w:A==="multipart/form-data"?O=yield w.formData():O=yield w.text(),{data:O,error:null,response:w}}catch(r){return{data:null,error:r,response:r instanceof Mx||r instanceof Ix?r.context:void 0}}})}}var Mn={},kg={},Jd={},_c={},eh={},th={},uN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ho=uN();const dN=ho.fetch,zv=ho.fetch.bind(ho),Hv=ho.Headers,hN=ho.Request,fN=ho.Response,Io=Object.freeze(Object.defineProperty({__proto__:null,Headers:Hv,Request:hN,Response:fN,default:zv,fetch:dN},Symbol.toStringTag,{value:"Module"})),gN=WA(Io);var nh={};Object.defineProperty(nh,"__esModule",{value:!0});let mN=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};nh.default=mN;var Gv=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(th,"__esModule",{value:!0});const pN=Gv(gN),xN=Gv(nh);let yN=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=pN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let r=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var c,h,g;let m=null,b=null,w=null,E=a.status,A=a.statusText;if(a.ok){if(this.method!=="HEAD"){const T=await a.text();T===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=T:b=JSON.parse(T))}const M=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),P=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");M&&P&&P.length>1&&(w=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(m={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,w=null,E=406,A="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const M=await a.text();try{m=JSON.parse(M),Array.isArray(m)&&a.status===404&&(b=[],m=null,E=200,A="OK")}catch{a.status===404&&M===""?(E=204,A="No Content"):m={message:M}}if(m&&this.isMaybeSingle&&(!((g=m==null?void 0:m.details)===null||g===void 0)&&g.includes("0 rows"))&&(m=null,E=200,A="OK"),m&&this.shouldThrowOnError)throw new xN.default(m)}return{error:m,data:b,count:w,status:E,statusText:A}});return this.shouldThrowOnError||(r=r.catch(a=>{var c,h,g;return{error:{message:`${(c=a==null?void 0:a.name)!==null&&c!==void 0?c:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(h=a==null?void 0:a.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(g=a==null?void 0:a.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),r.then(t,n)}returns(){return this}overrideTypes(){return this}};th.default=yN;var bN=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eh,"__esModule",{value:!0});const wN=bN(th);let vN=class extends wN.default{select(t){let n=!1;const i=(t??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:i,foreignTable:r,referencedTable:a=r}={}){const c=a?`${a}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${t}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:i=n}={}){const r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,n,{foreignTable:i,referencedTable:r=i}={}){const a=typeof r>"u"?"offset":`${r}.offset`,c=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(c,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:i=!1,buffers:r=!1,wal:a=!1,format:c="text"}={}){var h;const g=[t?"analyze":null,n?"verbose":null,i?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${m}"; options=${g};`,c==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};eh.default=vN;var EN=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_c,"__esModule",{value:!0});const AN=EN(eh);let SN=class extends AN.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const i=Array.from(new Set(n)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${i})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:i,type:r}={}){let a="";r==="plain"?a="pl":r==="phrase"?a="ph":r==="websearch"&&(a="w");const c=i===void 0?"":`(${i})`;return this.url.searchParams.append(t,`${a}fts${c}.${n}`),this}match(t){return Object.entries(t).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(t,n,i){return this.url.searchParams.append(t,`not.${n}.${i}`),this}or(t,{foreignTable:n,referencedTable:i=n}={}){const r=i?`${i}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,n,i){return this.url.searchParams.append(t,`${n}.${i}`),this}};_c.default=SN;var CN=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jd,"__esModule",{value:!0});const tl=CN(_c);let TN=class{constructor(t,{headers:n={},schema:i,fetch:r}){this.url=t,this.headers=n,this.schema=i,this.fetch=r}select(t,{head:n=!1,count:i}={}){const r=n?"HEAD":"GET";let a=!1;const c=(t??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",c),i&&(this.headers.Prefer=`count=${i}`),new tl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:i=!0}={}){const r="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const c=t.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(c.length>0){const h=[...new Set(c)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new tl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:i=!1,count:r,defaultToNull:a=!0}={}){const c="POST",h=[`resolution=${i?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&h.push(this.headers.Prefer),r&&h.push(`count=${r}`),a||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(t)){const g=t.reduce((m,b)=>m.concat(Object.keys(b)),[]);if(g.length>0){const m=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",m.join(","))}}return new tl.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const i="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),n&&r.push(`count=${n}`),this.headers.Prefer=r.join(","),new tl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",i=[];return t&&i.push(`count=${t}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new tl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Jd.default=TN;var ih={},sh={};Object.defineProperty(sh,"__esModule",{value:!0});sh.version=void 0;sh.version="0.0.0-automated";Object.defineProperty(ih,"__esModule",{value:!0});ih.DEFAULT_HEADERS=void 0;const _N=sh;ih.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${_N.version}`};var Yv=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kg,"__esModule",{value:!0});const NN=Yv(Jd),IN=Yv(_c),MN=ih;let DN=class qv{constructor(t,{headers:n={},schema:i,fetch:r}={}){this.url=t,this.headers=Object.assign(Object.assign({},MN.DEFAULT_HEADERS),n),this.schemaName=i,this.fetch=r}from(t){const n=new URL(`${this.url}/${t}`);return new NN.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new qv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:i=!1,get:r=!1,count:a}={}){let c;const h=new URL(`${this.url}/rpc/${t}`);let g;i||r?(c=i?"HEAD":"GET",Object.entries(n).filter(([b,w])=>w!==void 0).map(([b,w])=>[b,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([b,w])=>{h.searchParams.append(b,w)})):(c="POST",g=n);const m=Object.assign({},this.headers);return a&&(m.Prefer=`count=${a}`),new IN.default({method:c,url:h,headers:m,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}};kg.default=DN;var Mo=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.PostgrestError=Mn.PostgrestBuilder=Mn.PostgrestTransformBuilder=Mn.PostgrestFilterBuilder=Mn.PostgrestQueryBuilder=Mn.PostgrestClient=void 0;const Xv=Mo(kg);Mn.PostgrestClient=Xv.default;const Wv=Mo(Jd);Mn.PostgrestQueryBuilder=Wv.default;const Zv=Mo(_c);Mn.PostgrestFilterBuilder=Zv.default;const Kv=Mo(eh);Mn.PostgrestTransformBuilder=Kv.default;const Qv=Mo(th);Mn.PostgrestBuilder=Qv.default;const $v=Mo(nh);Mn.PostgrestError=$v.default;var RN=Mn.default={PostgrestClient:Xv.default,PostgrestQueryBuilder:Wv.default,PostgrestFilterBuilder:Zv.default,PostgrestTransformBuilder:Kv.default,PostgrestBuilder:Qv.default,PostgrestError:$v.default};const{PostgrestClient:ON,PostgrestQueryBuilder:z7,PostgrestFilterBuilder:H7,PostgrestTransformBuilder:G7,PostgrestBuilder:Y7,PostgrestError:q7}=RN;function jN(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const LN=jN(),kN="2.11.15",BN=`realtime-js/${kN}`,PN="1.0.0",Jv=1e4,UN=1e3;var Tl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Tl||(Tl={}));var cn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(cn||(cn={}));var yi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(yi||(yi={}));var X0;(function(e){e.websocket="websocket"})(X0||(X0={}));var Rr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Rr||(Rr={}));class FN{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,n,i)}_decodeBroadcast(t,n,i){const r=n.getUint8(1),a=n.getUint8(2);let c=this.HEADER_LENGTH+2;const h=i.decode(t.slice(c,c+r));c=c+r;const g=i.decode(t.slice(c,c+a));c=c+a;const m=JSON.parse(i.decode(t.slice(c,t.byteLength)));return{ref:null,topic:h,event:g,payload:m}}}class eE{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var at;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(at||(at={}));const Dx=(e,t,n={})=>{var i;const r=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((a,c)=>(a[c]=VN(c,e,t,r),a),{})},VN=(e,t,n,i)=>{const r=t.find(h=>h.name===e),a=r==null?void 0:r.type,c=n[e];return a&&!i.includes(a)?tE(a,c):W0(c)},tE=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return YN(t,n)}switch(e){case at.bool:return zN(t);case at.float4:case at.float8:case at.int2:case at.int4:case at.int8:case at.numeric:case at.oid:return HN(t);case at.json:case at.jsonb:return GN(t);case at.timestamp:return qN(t);case at.abstime:case at.date:case at.daterange:case at.int4range:case at.int8range:case at.money:case at.reltime:case at.text:case at.time:case at.timestamptz:case at.timetz:case at.tsrange:case at.tstzrange:return W0(t);default:return W0(t)}},W0=e=>e,zN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},HN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},GN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},YN=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let a;const c=e.slice(1,n);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(h=>tE(t,h))}return e},qN=e=>typeof e=="string"?e.replace(" ","T"):e,nE=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class vf{constructor(t,n,i={},r=Jv){this.channel=t,this.event=n,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Rx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Rx||(Rx={}));class _l{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:a,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_l.syncState(this.state,r,a,c),this.pendingDiffs.forEach(g=>{this.state=_l.syncDiff(this.state,g,a,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},r=>{const{onJoin:a,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=_l.syncDiff(this.state,r,a,c),h())}),this.onJoin((r,a,c)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:a,newPresences:c})}),this.onLeave((r,a,c)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,r){const a=this.cloneDeep(t),c=this.transformState(n),h={},g={};return this.map(a,(m,b)=>{c[m]||(g[m]=b)}),this.map(c,(m,b)=>{const w=a[m];if(w){const E=b.map(P=>P.presence_ref),A=w.map(P=>P.presence_ref),O=b.filter(P=>A.indexOf(P.presence_ref)<0),M=w.filter(P=>E.indexOf(P.presence_ref)<0);O.length>0&&(h[m]=O),M.length>0&&(g[m]=M)}else h[m]=b}),this.syncDiff(a,{joins:h,leaves:g},i,r)}static syncDiff(t,n,i,r){const{joins:a,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(a,(h,g)=>{var m;const b=(m=t[h])!==null&&m!==void 0?m:[];if(t[h]=this.cloneDeep(g),b.length>0){const w=t[h].map(A=>A.presence_ref),E=b.filter(A=>w.indexOf(A.presence_ref)<0);t[h].unshift(...E)}i(h,b,g)}),this.map(c,(h,g)=>{let m=t[h];if(!m)return;const b=g.map(w=>w.presence_ref);m=m.filter(w=>b.indexOf(w.presence_ref)<0),t[h]=m,r(h,m,g),m.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const r=t[i];return"metas"in r?n[i]=r.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=r,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ox;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ox||(Ox={}));var jx;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(jx||(jx={}));var Ji;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ji||(Ji={}));class Bg{constructor(t,n={config:{}},i){this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=cn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new vf(this,yi.join,this.params,this.timeout),this.rejoinTimer=new eE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=cn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=cn.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=cn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=cn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yi.reply,{},(r,a)=>{this._trigger(this._replyEventName(a),r)}),this.presence=new _l(this),this.broadcastEndpointURL=nE(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==cn.closed){const{config:{broadcast:a,presence:c,private:h}}=this.params;this._onError(b=>t==null?void 0:t(Ji.CHANNEL_ERROR,b)),this._onClose(()=>t==null?void 0:t(Ji.CLOSED));const g={},m={broadcast:a,presence:c,postgres_changes:(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(b=>b.filter))!==null&&r!==void 0?r:[],private:h};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket.setAuth(),b===void 0){t==null||t(Ji.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,A=(w=E==null?void 0:E.length)!==null&&w!==void 0?w:0,O=[];for(let M=0;M<A;M++){const P=E[M],{filter:{event:T,schema:_,table:C,filter:L}}=P,z=b&&b[M];if(z&&z.event===T&&z.schema===_&&z.table===C&&z.filter===L)O.push(Object.assign(Object.assign({},P),{id:z.id}));else{this.unsubscribe(),this.state=cn.errored,t==null||t(Ji.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,t&&t(Ji.SUBSCRIBED);return}}).receive("error",b=>{this.state=cn.errored,t==null||t(Ji.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ji.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this._on(t,n,i)}async send(t,n={}){var i,r;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:c}=t,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((r=m.body)===null||r===void 0?void 0:r.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,h,g;const m=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||g===void 0)&&g.ack)&&a("ok"),m.receive("ok",()=>a("ok")),m.receive("error",()=>a("error")),m.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=cn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yi.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(r=>{i=new vf(this,yi.leave,{},t),i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,i){const r=new AbortController,a=setTimeout(()=>r.abort(),i),c=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(a),c}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new vf(this,t,n,i);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var r,a;const c=t.toLocaleLowerCase(),{close:h,error:g,leave:m,join:b}=yi;if(i&&[h,g,m,b].indexOf(c)>=0&&i!==this._joinRef())return;let E=this._onMessage(c,n,i);if(n&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(A=>{var O,M,P;return((O=A.filter)===null||O===void 0?void 0:O.event)==="*"||((P=(M=A.filter)===null||M===void 0?void 0:M.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===c}).map(A=>A.callback(E,i)):(a=this.bindings[c])===null||a===void 0||a.filter(A=>{var O,M,P,T,_,C;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in A){const L=A.id,z=(O=A.filter)===null||O===void 0?void 0:O.event;return L&&((M=n.ids)===null||M===void 0?void 0:M.includes(L))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((P=n.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const L=(_=(T=A==null?void 0:A.filter)===null||T===void 0?void 0:T.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return L==="*"||L===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===c}).map(A=>{if(typeof E=="object"&&"ids"in E){const O=E.data,{schema:M,table:P,commit_timestamp:T,type:_,errors:C}=O;E=Object.assign(Object.assign({},{schema:M,table:P,commit_timestamp:T,eventType:_,new:{},old:{},errors:C}),this._getPayloadRecords(O))}A.callback(E,i)})}_isClosed(){return this.state===cn.closed}_isJoined(){return this.state===cn.joined}_isJoining(){return this.state===cn.joining}_isLeaving(){return this.state===cn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const r=t.toLocaleLowerCase(),a={type:r,filter:n,callback:i};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(r=>{var a;return!(((a=r.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&Bg.isEqual(r.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(yi.close,{},t)}_onError(t){this._on(yi.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=cn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Dx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Dx(t.columns,t.old_record)),n}}const Lx=()=>{},XN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WN{constructor(t,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jv,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lx,this.ref=0,this.logger=Lx,this.conn=null,this.sendBuffer=[],this.serializer=new FN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let c;return a?c=a:typeof fetch>"u"?c=(...h)=>Tc(async()=>{const{default:g}=await Promise.resolve().then(()=>Io);return{default:g}},void 0).then(({default:g})=>g(...h)):c=fetch,(...h)=>c(...h)},this.endPoint=`${t}/${X0.websocket}`,this.httpEndpoint=nE(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const r=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,c)=>c(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new eE(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=LN),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:PN}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Tl.connecting:return Rr.Connecting;case Tl.open:return Rr.Open;case Tl.closing:return Rr.Closing;default:return Rr.Closed}}isConnected(){return this.connectionState()===Rr.Open}channel(t,n={config:{}}){const i=`realtime:${t}`,r=this.getChannels().find(a=>a.topic===i);if(r)return r;{const a=new Bg(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:i,payload:r,ref:a}=t,c=()=>{this.encode(t,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};this.log("push",`${n} ${i} (${a})`,r),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const r={access_token:n,version:BN};n&&i.updateJoinPayload(r),i.joinedOnce&&i._isJoined()&&i._push(yi.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(UN,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:i,event:r,payload:a,ref:c}=n;i==="phoenix"&&r==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${i} ${r} ${c&&"("+c+")"||""}`,a),Array.from(this.channels).filter(h=>h._isMember(i)).forEach(h=>h._trigger(r,a,c)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(yi.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${t}${i}${r}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([XN],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class Pg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function qt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ZN extends Pg{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Z0 extends Pg{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var KN=function(e,t,n,i){function r(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(b){try{m(i.next(b))}catch(w){c(w)}}function g(b){try{m(i.throw(b))}catch(w){c(w)}}function m(b){b.done?a(b.value):r(b.value).then(h,g)}m((i=i.apply(e,t||[])).next())})};const iE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Tc(async()=>{const{default:i}=await Promise.resolve().then(()=>Io);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},QN=()=>KN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Tc(()=>Promise.resolve().then(()=>Io),void 0)).Response:Response}),K0=e=>{if(Array.isArray(e))return e.map(n=>K0(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const r=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[r]=K0(i)}),t};var sa=function(e,t,n,i){function r(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(b){try{m(i.next(b))}catch(w){c(w)}}function g(b){try{m(i.throw(b))}catch(w){c(w)}}function m(b){b.done?a(b.value):r(b.value).then(h,g)}m((i=i.apply(e,t||[])).next())})};const Ef=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$N=(e,t,n)=>sa(void 0,void 0,void 0,function*(){const i=yield QN();e instanceof i&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{t(new ZN(Ef(r),e.status||500))}).catch(r=>{t(new Z0(Ef(r),r))}):t(new Z0(Ef(e),e))}),JN=(e,t,n,i)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i&&(r.body=JSON.stringify(i)),Object.assign(Object.assign({},r),n))};function Nc(e,t,n,i,r,a){return sa(this,void 0,void 0,function*(){return new Promise((c,h)=>{e(n,JN(t,i,r,a)).then(g=>{if(!g.ok)throw g;return i!=null&&i.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>$N(g,h,i))})})}function bd(e,t,n,i){return sa(this,void 0,void 0,function*(){return Nc(e,"GET",t,n,i)})}function ks(e,t,n,i,r){return sa(this,void 0,void 0,function*(){return Nc(e,"POST",t,i,r,n)})}function e8(e,t,n,i,r){return sa(this,void 0,void 0,function*(){return Nc(e,"PUT",t,i,r,n)})}function t8(e,t,n,i){return sa(this,void 0,void 0,function*(){return Nc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function sE(e,t,n,i,r){return sa(this,void 0,void 0,function*(){return Nc(e,"DELETE",t,i,r,n)})}var Tn=function(e,t,n,i){function r(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(b){try{m(i.next(b))}catch(w){c(w)}}function g(b){try{m(i.throw(b))}catch(w){c(w)}}function m(b){b.done?a(b.value):r(b.value).then(h,g)}m((i=i.apply(e,t||[])).next())})};const n8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class i8{constructor(t,n={},i,r){this.url=t,this.headers=n,this.bucketId=i,this.fetch=iE(r)}uploadOrUpdate(t,n,i,r){return Tn(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},kx),r);let h=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),g&&a.append("metadata",this.encodeMetadata(g)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",c.cacheControl),g&&a.append("metadata",this.encodeMetadata(g))):(a=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,g&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),r!=null&&r.headers&&(h=Object.assign(Object.assign({},h),r.headers));const m=this._removeEmptyFolders(n),b=this._getFinalPath(m),w=yield this.fetch(`${this.url}/object/${b}`,Object.assign({method:t,body:a,headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{})),E=yield w.json();return w.ok?{data:{path:m,id:E.Id,fullPath:E.Key},error:null}:{data:null,error:E}}catch(a){if(qt(a))return{data:null,error:a};throw a}})}upload(t,n,i){return Tn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,i)})}uploadToSignedUrl(t,n,i,r){return Tn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",n);try{let g;const m=Object.assign({upsert:kx.upsert},r),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",m.cacheControl)):(g=i,b["cache-control"]=`max-age=${m.cacheControl}`,b["content-type"]=m.contentType);const w=yield this.fetch(h.toString(),{method:"PUT",body:g,headers:b}),E=yield w.json();return w.ok?{data:{path:a,fullPath:E.Key},error:null}:{data:null,error:E}}catch(g){if(qt(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(t,n){return Tn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const a=yield ks(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:r}),c=new URL(this.url+a.url),h=c.searchParams.get("token");if(!h)throw new Pg("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:h},error:null}}catch(i){if(qt(i))return{data:null,error:i};throw i}})}update(t,n,i){return Tn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,i)})}move(t,n,i){return Tn(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(qt(r))return{data:null,error:r};throw r}})}copy(t,n,i){return Tn(this,void 0,void 0,function*(){try{return{data:{path:(yield ks(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(qt(r))return{data:null,error:r};throw r}})}createSignedUrl(t,n,i){return Tn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),a=yield ks(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(r){if(qt(r))return{data:null,error:r};throw r}})}createSignedUrls(t,n,i){return Tn(this,void 0,void 0,function*(){try{const r=yield ks(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(r){if(qt(r))return{data:null,error:r};throw r}})}download(t,n){return Tn(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=a?`?${a}`:"";try{const h=this._getFinalPath(t);return{data:yield(yield bd(this.fetch,`${this.url}/${r}/${h}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(qt(h))return{data:null,error:h};throw h}})}info(t){return Tn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const i=yield bd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:K0(i),error:null}}catch(i){if(qt(i))return{data:null,error:i};throw i}})}exists(t){return Tn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield t8(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(qt(i)&&i instanceof Z0){const r=i.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,n){const i=this._getFinalPath(t),r=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&r.push(a);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});g!==""&&r.push(g);let m=r.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${m}`)}}}remove(t){return Tn(this,void 0,void 0,function*(){try{return{data:yield sE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(qt(n))return{data:null,error:n};throw n}})}list(t,n,i){return Tn(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},n8),n),{prefix:t||""});return{data:yield ks(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(qt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const s8="2.7.1",r8={"X-Client-Info":`storage-js/${s8}`};var xa=function(e,t,n,i){function r(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(b){try{m(i.next(b))}catch(w){c(w)}}function g(b){try{m(i.throw(b))}catch(w){c(w)}}function m(b){b.done?a(b.value):r(b.value).then(h,g)}m((i=i.apply(e,t||[])).next())})};class a8{constructor(t,n={},i){this.url=t,this.headers=Object.assign(Object.assign({},r8),n),this.fetch=iE(i)}listBuckets(){return xa(this,void 0,void 0,function*(){try{return{data:yield bd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(qt(t))return{data:null,error:t};throw t}})}getBucket(t){return xa(this,void 0,void 0,function*(){try{return{data:yield bd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(qt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return xa(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(qt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return xa(this,void 0,void 0,function*(){try{return{data:yield e8(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(qt(i))return{data:null,error:i};throw i}})}emptyBucket(t){return xa(this,void 0,void 0,function*(){try{return{data:yield ks(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(qt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return xa(this,void 0,void 0,function*(){try{return{data:yield sE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(qt(n))return{data:null,error:n};throw n}})}}class o8 extends a8{constructor(t,n={},i){super(t,n,i)}from(t){return new i8(this.url,this.headers,t,this.fetch)}}const l8="2.52.0";let ol="";typeof Deno<"u"?ol="deno":typeof document<"u"?ol="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ol="react-native":ol="node";const c8={"X-Client-Info":`supabase-js-${ol}/${l8}`},u8={headers:c8},d8={schema:"public"},h8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},f8={};var g8=function(e,t,n,i){function r(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(b){try{m(i.next(b))}catch(w){c(w)}}function g(b){try{m(i.throw(b))}catch(w){c(w)}}function m(b){b.done?a(b.value):r(b.value).then(h,g)}m((i=i.apply(e,t||[])).next())})};const m8=e=>{let t;return e?t=e:typeof fetch>"u"?t=zv:t=fetch,(...n)=>t(...n)},p8=()=>typeof Headers>"u"?Hv:Headers,x8=(e,t,n)=>{const i=m8(n),r=p8();return(a,c)=>g8(void 0,void 0,void 0,function*(){var h;const g=(h=yield t())!==null&&h!==void 0?h:e;let m=new r(c==null?void 0:c.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),i(a,Object.assign(Object.assign({},c),{headers:m}))})};var y8=function(e,t,n,i){function r(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(b){try{m(i.next(b))}catch(w){c(w)}}function g(b){try{m(i.throw(b))}catch(w){c(w)}}function m(b){b.done?a(b.value):r(b.value).then(h,g)}m((i=i.apply(e,t||[])).next())})};function b8(e){return e.endsWith("/")?e:e+"/"}function w8(e,t){var n,i;const{db:r,auth:a,realtime:c,global:h}=e,{db:g,auth:m,realtime:b,global:w}=t,E={db:Object.assign(Object.assign({},g),r),auth:Object.assign(Object.assign({},m),a),realtime:Object.assign(Object.assign({},b),c),global:Object.assign(Object.assign(Object.assign({},w),h),{headers:Object.assign(Object.assign({},(n=w==null?void 0:w.headers)!==null&&n!==void 0?n:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>y8(this,void 0,void 0,function*(){return""})};return e.accessToken?E.accessToken=e.accessToken:delete E.accessToken,E}const rE="2.71.1",Ta=30*1e3,Q0=3,Af=Q0*Ta,v8="http://localhost:9999",E8="supabase.auth.token",A8={"X-Client-Info":`gotrue-js/${rE}`},$0="X-Supabase-Api-Version",aE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},S8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,C8=10*60*1e3;class Ug extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class T8 extends Ug{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function _8(e){return Ce(e)&&e.name==="AuthApiError"}class oE extends Ug{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class gr extends Ug{constructor(t,n,i,r){super(t,i,r),this.name=n,this.status=i}}class Rs extends gr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function N8(e){return Ce(e)&&e.name==="AuthSessionMissingError"}class du extends gr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hu extends gr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class fu extends gr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function I8(e){return Ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class Bx extends gr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class J0 extends gr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Sf(e){return Ce(e)&&e.name==="AuthRetryableFetchError"}class Px extends gr{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class e1 extends gr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const wd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ux=` 	
\r=`.split(""),M8=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ux.length;t+=1)e[Ux[t].charCodeAt(0)]=-2;for(let t=0;t<wd.length;t+=1)e[wd[t].charCodeAt(0)]=t;return e})();function Fx(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(wd[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(wd[i]),t.queuedBits-=6}}function lE(e,t,n){const i=M8[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Vx(e){const t=[],n=c=>{t.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},a=c=>{O8(c,i,n)};for(let c=0;c<e.length;c+=1)lE(e.charCodeAt(c),r,a);return t.join("")}function D8(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function R8(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const r=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}D8(i,t)}}function O8(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if(!(e>>7-i&1)){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function j8(e){const t=[],n={queue:0,queuedBits:0},i=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)lE(e.charCodeAt(r),n,i);return new Uint8Array(t)}function L8(e){const t=[];return R8(e,n=>t.push(n)),new Uint8Array(t)}function k8(e){const t=[],n={queue:0,queuedBits:0},i=r=>{t.push(r)};return e.forEach(r=>Fx(r,n,i)),Fx(null,n,i),t.join("")}function B8(e){return Math.round(Date.now()/1e3)+e}function P8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const mi=()=>typeof window<"u"&&typeof document<"u",Sr={tested:!1,writable:!1},cE=()=>{if(!mi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sr.tested)return Sr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Sr.tested=!0,Sr.writable=!0}catch{Sr.tested=!0,Sr.writable=!1}return Sr.writable};function U8(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,a)=>{t[a]=r})}catch{}return n.searchParams.forEach((i,r)=>{t[r]=i}),t}const uE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Tc(async()=>{const{default:i}=await Promise.resolve().then(()=>Io);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},F8=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",_a=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Cr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Is=async(e,t)=>{await e.removeItem(t)};class rh{constructor(){this.promise=new rh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}rh.promiseConstructor=Promise;function Cf(e){const t=e.split(".");if(t.length!==3)throw new e1("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!S8.test(t[i]))throw new e1("JWT not in base64url format");return{header:JSON.parse(Vx(t[0])),payload:JSON.parse(Vx(t[1])),signature:j8(t[2]),raw:{header:t[0],payload:t[1]}}}async function V8(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function z8(e,t){return new Promise((i,r)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await e(a);if(!t(a,null,c)){i(c);return}}catch(c){if(!t(a,c)){r(c);return}}})()})}function H8(e){return("0"+e.toString(16)).substr(-2)}function G8(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let r="";for(let a=0;a<56;a++)r+=n.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(t),Array.from(t,H8).join("")}async function Y8(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(i);return Array.from(r).map(a=>String.fromCharCode(a)).join("")}async function q8(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Y8(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ya(e,t,n=!1){const i=G8();let r=i;n&&(r+="/PASSWORD_RECOVERY"),await _a(e,`${t}-code-verifier`,r);const a=await q8(i);return[a,i===a?"plain":"s256"]}const X8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function W8(e){const t=e.headers.get($0);if(!t||!t.match(X8))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Z8(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function K8(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Q8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ba(e){if(!Q8.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tf(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zx(e){return JSON.parse(JSON.stringify(e))}var $8=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};const Mr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),J8=[502,503,504];async function Hx(e){var t;if(!F8(e))throw new J0(Mr(e),0);if(J8.includes(e.status))throw new J0(Mr(e),e.status);let n;try{n=await e.json()}catch(a){throw new oE(Mr(a),a)}let i;const r=W8(e);if(r&&r.getTime()>=aE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Px(Mr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Rs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new Px(Mr(n),e.status,n.weak_password.reasons);throw new T8(Mr(n),e.status||500,i)}const e6=(e,t,n,i)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),n))};async function Me(e,t,n,i){var r;const a=Object.assign({},i==null?void 0:i.headers);a[$0]||(a[$0]=aE["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const c=(r=i==null?void 0:i.query)!==null&&r!==void 0?r:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await t6(e,t,n+h,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(g):{data:Object.assign({},g),error:null}}async function t6(e,t,n,i,r,a){const c=e6(t,i,r,a);let h;try{h=await e(n,Object.assign({},c))}catch(g){throw console.error(g),new J0(Mr(g),0)}if(h.ok||await Hx(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(g){await Hx(g)}}function $i(e){var t;let n=null;r6(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=B8(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function Gx(e){const t=$i(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function n6(e){return{data:e,error:null}}function i6(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:r,verification_type:a}=e,c=$8(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:i,redirect_to:r,verification_type:a},g=Object.assign({},c);return{data:{properties:h,user:g},error:null}}function s6(e){return e}function r6(e){return e.access_token&&e.refresh_token&&e.expires_in}const _f=["global","local","others"];var a6=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};class o6{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=uE(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=_f[0]){if(_f.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_f.join(", ")}`);try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Ce(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:zs})}catch(i){if(Ce(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=a6(t,["options"]),r=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(r.new_email=i==null?void 0:i.newEmail,delete r.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:i6,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zs})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,r,a,c,h,g;try{const m={nextPage:null,lastPage:0,total:0},b=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:""},xform:s6});if(b.error)throw b.error;const w=await b.json(),E=(c=b.headers.get("x-total-count"))!==null&&c!==void 0?c:0,A=(g=(h=b.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return A.length>0&&(A.forEach(O=>{const M=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(O.split(";")[1].split("=")[1]);m[`${P}Page`]=M}),m.total=parseInt(E)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(Ce(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){ba(t);try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zs})}catch(n){if(Ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ba(t);try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:zs})}catch(i){if(Ce(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){ba(t);try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:zs})}catch(i){if(Ce(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){ba(t.userId);try{const{data:n,error:i}=await Me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:i}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ba(t.userId),ba(t.id);try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}}function Yx(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function l6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wa={debug:!!(globalThis&&cE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class c6 extends dE{}async function u6(e,t,n){wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),wa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw wa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new c6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(wa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}l6();const d6={url:v8,storageKey:E8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:A8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qx(e,t,n){return await n()}const va={};class Zl{constructor(t){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zl.nextInstanceID,Zl.nextInstanceID+=1,this.instanceID>0&&mi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},d6),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new o6({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=uE(r.fetch),this.lock=r.lock||qx,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:mi()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=u6:this.lock=qx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:cE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yx(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=Yx(this.memoryStorage)),mi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=va[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){va[this.storageKey]=Object.assign(Object.assign({},va[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=va[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){va[this.storageKey]=Object.assign(Object.assign({},va[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rE}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=U8(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),mi()&&this.detectSessionInUrl&&i!=="none"){const{data:r,error:a}=await this._getSessionFromURL(n,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),I8(a)){const g=(t=a.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:h}=r;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ce(n)?{error:n}:{error:new oE("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,r;try{const a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:$i}),{data:c,error:h}=a;if(h||!c)return{data:{user:null,session:null},error:h};const g=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(a){if(Ce(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,i,r;try{let a;if("email"in t){const{email:b,password:w,options:E}=t;let A=null,O=null;this.flowType==="pkce"&&([A,O]=await ya(this.storage,this.storageKey)),a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:b,password:w,data:(n=E==null?void 0:E.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:A,code_challenge_method:O},xform:$i})}else if("phone"in t){const{phone:b,password:w,options:E}=t;a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:w,data:(i=E==null?void 0:E.data)!==null&&i!==void 0?i:{},channel:(r=E==null?void 0:E.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:$i})}else throw new hu("You must provide either an email or phone number and a password");const{data:c,error:h}=a;if(h||!c)return{data:{user:null,session:null},error:h};const g=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(a){if(Ce(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:c,options:h}=t;n=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Gx})}else if("phone"in t){const{phone:a,password:c,options:h}=t;n=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Gx})}else throw new hu("You must provide either an email or phone number and a password");const{data:i,error:r}=n;return r?{data:{user:null,session:null},error:r}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new du}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,i,r,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,i,r,a,c,h,g,m,b,w,E,A;let O,M;if("message"in t)O=t.message,M=t.signature;else{const{chain:P,wallet:T,statement:_,options:C}=t;let L;if(mi())if(typeof T=="object")L=T;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))L=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=T}const z=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in L&&L.signIn){const D=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),_?{statement:_}:null));let k;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")k=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)k=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)O=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),M=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${z.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(r=(i=C==null?void 0:C.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((a=C==null?void 0:C.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((c=C==null?void 0:C.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((h=C==null?void 0:C.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((g=C==null?void 0:C.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((m=C==null?void 0:C.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((w=(b=C==null?void 0:C.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||w===void 0)&&w.length?["Resources",...C.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const D=await L.signMessage(new TextEncoder().encode(O),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");M=D}}try{const{data:P,error:T}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:k8(M)},!((E=t.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(A=t.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:$i});if(T)throw T;return!P||!P.session||!P.user?{data:{user:null,session:null},error:new du}:(P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),{data:Object.assign({},P),error:T})}catch(P){if(Ce(P))return{data:{user:null,session:null},error:P};throw P}}async _exchangeCodeForSession(t){const n=await Cr(this.storage,`${this.storageKey}-code-verifier`),[i,r]=(n??"").split("/");try{const{data:a,error:c}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:$i});if(await Is(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new du}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:r??null}),error:c})}catch(a){if(Ce(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:i,token:r,access_token:a,nonce:c}=t,h=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:$i}),{data:g,error:m}=h;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new du}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,i,r,a,c;try{if("email"in t){const{email:h,options:g}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await ya(this.storage,this.storageKey));const{error:w}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},create_user:(i=g==null?void 0:g.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:b},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in t){const{phone:h,options:g}=t,{data:m,error:b}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},create_user:(a=g==null?void 0:g.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(c=g==null?void 0:g.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:b}}throw new hu("You must provide either an email or phone number.")}catch(h){if(Ce(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(t){var n,i;try{let r,a;"options"in t&&(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:$i});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,m=c.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(r){if(Ce(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var n,i,r;try{let a=null,c=null;return this.flowType==="pkce"&&([a,c]=await ya(this.storage,this.storageKey)),await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:n6})}catch(a){if(Ce(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new Rs;const{error:r}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(Ce(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:r,options:a}=t,{error:c}=await Me(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:i,type:r,options:a}=t,{data:c,error:h}=await Me(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new hu("You must provide either an email or phone number and a type")}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Cr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Af:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const c=await Cr(this.userStorage,this.storageKey+"-user");c!=null&&c.user?t.user=c.user:t.user=Tf()}if(this.storage.isServer&&t.user){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(g,m,b)=>(!c&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,m,b))})}return{data:{session:t},error:null}}const{session:r,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zs}):await this._useSession(async n=>{var i,r,a;const{data:c,error:h}=n;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rs}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0,xform:zs})})}catch(n){if(Ce(n))return N8(n)&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:r,error:a}=i;if(a)throw a;if(!r.session)throw new Rs;const c=r.session;let h=null,g=null;this.flowType==="pkce"&&t.email!=null&&([h,g]=await ya(this.storage,this.storageKey));const{data:m,error:b}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:g}),jwt:c.access_token,xform:zs});if(b)throw b;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(i){if(Ce(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rs;const n=Date.now()/1e3;let i=n,r=!0,a=null;const{payload:c}=Cf(t.access_token);if(c.exp&&(i=c.exp,r=i<=n),r){const{session:h,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:g}=await this._getUser(t.access_token);if(g)throw g;a={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Ce(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:c,error:h}=n;if(h)throw h;t=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new Rs;const{session:r,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ce(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!mi())throw new fu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new fu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Bx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Bx("No code detected.");const{data:_,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:r,access_token:a,refresh_token:c,expires_in:h,expires_at:g,token_type:m}=t;if(!a||!h||!c||!m)throw new fu("No session defined in URL");const b=Math.round(Date.now()/1e3),w=parseInt(h);let E=b+w;g&&(E=parseInt(g));const A=E-b;A*1e3<=Ta&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${w}s`);const O=E-w;b-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,E,b):b-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,E,b);const{data:M,error:P}=await this._getUser(a);if(P)throw P;const T={provider_token:i,provider_refresh_token:r,access_token:a,expires_in:w,expires_at:E,refresh_token:c,token_type:m,user:M.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:t.type},error:null}}catch(i){if(Ce(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Cr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:r,error:a}=n;if(a)return{error:a};const c=(i=r.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,t);if(h&&!(_8(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return t!=="others"&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=P8(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,r;try{const{data:{session:a},error:c}=n;if(c)throw c;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let i=null,r=null;this.flowType==="pkce"&&([i,r]=await ya(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Ce(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:i,error:r}=await this._useSession(async a=>{var c,h,g,m,b;const{data:w,error:E}=a;if(E)throw E;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",A,{headers:this.headers,jwt:(b=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&b!==void 0?b:void 0})});if(r)throw r;return mi()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:t.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Ce(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,r;const{data:a,error:c}=n;if(c)throw c;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await z8(async r=>(r>0&&await V8(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$i})),(r,a)=>{const c=200*Math.pow(2,r);return a&&Sf(a)&&Date.now()+c-i<Ta})}catch(i){if(this._debug(n,"error",i),Ce(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),mi()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const r=await Cr(this.storage,this.storageKey);if(r&&this.userStorage){let c=await Cr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:r.user},await _a(this.userStorage,this.storageKey+"-user",c)),r.user=(t=c==null?void 0:c.user)!==null&&t!==void 0?t:Tf()}else if(r&&!r.user&&!r.user){const c=await Cr(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(r.user=c.user,await Is(this.storage,this.storageKey+"-user"),await _a(this.storage,this.storageKey,r)):r.user=Tf()}if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}const a=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Af;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${Af}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:c}=await this._callRefreshToken(r.refresh_token);c&&(console.error(c),Sf(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(r.access_token);!h&&(c!=null&&c.user)?(r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new Rs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new rh;const{data:a,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new Rs;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={session:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(r,"error",a),Ce(a)){const c={session:null,error:a};return Sf(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,n,i=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(g){a.push(g)}});if(await Promise.all(c),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await _a(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const a=zx(r);await _a(this.storage,this.storageKey,a)}else{const r=zx(n);await _a(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Is(this.storage,this.storageKey),await Is(this.storage,this.storageKey+"-code-verifier"),await Is(this.storage,this.storageKey+"-user"),this.userStorage&&await Is(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&mi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ta);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-t)/Ta);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Ta}ms, refresh threshold is ${Q0} ticks`),r<=Q0&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof dE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const r=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&r.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&r.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,c]=await ya(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});r.push(h.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);r.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&r.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:r,error:a}=n;return a?{data:null,error:a}:await Me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,r;const{data:a,error:c}=n;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:g,error:m}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&(!((r=g==null?void 0:g.totp)===null||r===void 0)&&r.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:a}=n;if(a)return{data:null,error:a};const{data:c,error:h}=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:h})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:a}=n;return a?{data:null,error:a}:await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(t==null?void 0:t.factors)||[],r=i.filter(c=>c.factor_type==="totp"&&c.status==="verified"),a=i.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:i,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,i;const{data:{session:r},error:a}=t;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Cf(r.access_token);let h=null;c.aal&&(h=c.aal);let g=h;((i=(n=r.user.factors)===null||n===void 0?void 0:n.filter(w=>w.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const b=c.amr||[];return{data:{currentLevel:h,nextLevel:g,currentAuthenticationMethods:b},error:null}}))}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(h=>h.kid===t);if(i)return i;const r=Date.now();if(i=this.jwks.keys.find(h=>h.kid===t),i&&this.jwks_cached_at+C8>r)return i;const{data:a,error:c}=await Me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=r,i=a.keys.find(h=>h.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:A,error:O}=await this.getSession();if(O||!A.session)return{data:null,error:O};i=A.session.access_token}const{header:r,payload:a,signature:c,raw:{header:h,payload:g}}=Cf(i);n!=null&&n.allowExpired||Z8(a.exp);const m=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!m){const{error:A}=await this.getUser(i);if(A)throw A;return{data:{claims:a,header:r,signature:c},error:null}}const b=K8(r.alg),w=await crypto.subtle.importKey("jwk",m,b,!0,["verify"]);if(!await crypto.subtle.verify(b,w,c,L8(`${h}.${g}`)))throw new e1("Invalid JWT signature");return{data:{claims:a,header:r,signature:c},error:null}}catch(i){if(Ce(i))return{data:null,error:i};throw i}}}Zl.nextInstanceID=0;const h6=Zl;class f6 extends h6{constructor(t){super(t)}}var g6=function(e,t,n,i){function r(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(b){try{m(i.next(b))}catch(w){c(w)}}function g(b){try{m(i.throw(b))}catch(w){c(w)}}function m(b){b.done?a(b.value):r(b.value).then(h,g)}m((i=i.apply(e,t||[])).next())})};class m6{constructor(t,n,i){var r,a,c;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=b8(t),g=new URL(h);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const m=`sb-${g.hostname.split(".")[0]}-auth-token`,b={db:d8,realtime:f8,auth:Object.assign(Object.assign({},h8),{storageKey:m}),global:u8},w=w8(i??{},b);this.storageKey=(r=w.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(a=w.global.headers)!==null&&a!==void 0?a:{},w.accessToken?(this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(E,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=w.auth)!==null&&c!==void 0?c:{},this.headers,w.global.fetch),this.fetch=x8(n,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.rest=new ON(new URL("rest/v1",g).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),w.accessToken||this._listenForAuthEvents()}get functions(){return new cN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new o8(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},i={}){return this.rest.rpc(t,n,i)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return g6(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:r,storageKey:a,flowType:c,lock:h,debug:g},m,b){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f6({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),m),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:r,flowType:c,lock:h,debug:g,fetch:b,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new WN(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(t,n,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const p6=(e,t,n)=>new m6(e,t,n),x6="https://crafetbtwgaitpxgmspp.supabase.co",y6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNyYWZldGJ0d2dhaXRweGdtc3BwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5ODI5NzUsImV4cCI6MjA2ODU1ODk3NX0.QtegjiZH6LCn7ZlXrUehp7JJuk51_y28TyqMzO4N9wo",ue=p6(x6,y6,{auth:{persistSession:!0,autoRefreshToken:!0}});/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),w6=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),Xx=e=>{const t=w6(e);return t.charAt(0).toUpperCase()+t.slice(1)},hE=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),v6=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var E6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:c,...h},g)=>j.createElement("svg",{ref:g,...E6,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:hE("lucide",r),...!a&&!v6(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,b])=>j.createElement(m,b)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(e,t)=>{const n=j.forwardRef(({className:i,...r},a)=>j.createElement(A6,{ref:a,iconNode:t,className:hE(`lucide-${b6(Xx(e))}`,`lucide-${e}`,i),...r}));return n.displayName=Xx(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Hr=Ve("building-2",S6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],or=Ve("calendar",C6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],vd=Ve("camera",T6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Fg=Ve("chart-column",_6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],I6=Ve("circle-alert",N6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nr=Ve("circle-check-big",M6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],R6=Ve("database",D6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vg=Ve("download",O6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],L6=Ve("external-link",j6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],ll=Ve("gift",k6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ir=Ve("image",B6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Wx=Ve("log-out",P6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ic=Ve("map-pin",U6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],V6=Ve("maximize",F6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Ed=Ve("monitor",z6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],G6=Ve("pause",H6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],fE=Ve("play",Y6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Kl=Ve("plus",q6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Qr=Ve("qr-code",X6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Z6=Ve("rotate-ccw",W6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Q6=Ve("search",K6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gE=Ve("settings",$6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],e5=Ve("shuffle",J6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],n5=Ve("sparkles",t5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ah=Ve("square-pen",i5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],$r=Ve("trash-2",s5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],a5=Ve("trending-up",r5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Zx=Ve("trophy",o5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],zg=Ve("upload",l5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],u5=Ve("user-check",c5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],t1=Ve("user-plus",d5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rn=Ve("users",h5);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]],Gr=Ve("vote",f5);function g5(){return p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:p.jsx("div",{className:"max-w-2xl w-full",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"flex justify-center mb-4",children:p.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:p.jsx(R6,{className:"h-12 w-12 text-blue-600"})})}),p.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Event Management System"}),p.jsx("p",{className:"text-gray-600",children:"A comprehensive solution for managing events, attendees, and more"})]}),p.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-8",children:p.jsxs("div",{className:"flex items-start",children:[p.jsx(I6,{className:"h-6 w-6 text-yellow-600 mr-3 mt-0.5"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Database Configuration Required"}),p.jsx("p",{className:"text-yellow-700 mb-4",children:"This application requires a Supabase database to function. To get started:"}),p.jsxs("ol",{className:"list-decimal list-inside text-yellow-700 space-y-2 text-sm",children:[p.jsxs("li",{children:["Create a free account at ",p.jsx("a",{href:"https://supabase.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"supabase.com"})]}),p.jsx("li",{children:"Create a new project"}),p.jsx("li",{children:"Get your project URL and anon key from the API settings"}),p.jsx("li",{children:"Configure the environment variables in your deployment"})]})]})]})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[p.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"✨ Features"}),p.jsxs("ul",{className:"text-gray-600 space-y-2 text-sm",children:[p.jsx("li",{children:"• Company & Event Management"}),p.jsx("li",{children:"• Attendee Registration & Check-in"}),p.jsx("li",{children:"• QR Code Generation"}),p.jsx("li",{children:"• Seating Arrangements"}),p.jsx("li",{children:"• Photo Gallery & Voting"}),p.jsx("li",{children:"• Lucky Draw System"}),p.jsx("li",{children:"• Real-time Monitoring"})]})]}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"🛠️ Tech Stack"}),p.jsxs("ul",{className:"text-gray-600 space-y-2 text-sm",children:[p.jsx("li",{children:"• React + TypeScript"}),p.jsx("li",{children:"• Tailwind CSS"}),p.jsx("li",{children:"• Supabase (Database & Auth)"}),p.jsx("li",{children:"• QR Code Generation"}),p.jsx("li",{children:"• Real-time Updates"}),p.jsx("li",{children:"• Responsive Design"}),p.jsx("li",{children:"• PWA Ready"})]})]})]}),p.jsx("div",{className:"text-center",children:p.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[p.jsx(gE,{className:"h-8 w-8 text-blue-600 mx-auto mb-3"}),p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to Deploy?"}),p.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Set up your Supabase database and configure the environment variables to start using this application."}),p.jsxs("div",{className:"text-xs text-gray-500",children:[p.jsx("p",{children:"Environment variables needed:"}),p.jsx("p",{className:"font-mono bg-gray-100 px-2 py-1 rounded mt-1",children:"VITE_SUPABASE_URL, VITE_SUPABASE_ANON_KEY"})]})]})})]})})})}const Kx=[{name:"Dashboard",href:"/admin",icon:Fg},{name:"Events",href:"/admin/events",icon:or},{name:"Companies",href:"/admin/companies",icon:Hr},{name:"Attendees",href:"/admin/attendees",icon:Rn},{name:"Check-in",href:"/admin/checkin",icon:Qr},{name:"Seating",href:"/admin/seating",icon:Ic},{name:"Voting",href:"/admin/voting",icon:Gr},{name:"Lucky Draw",href:"/admin/lucky-draw",icon:ll},{name:"Gallery",href:"/admin/gallery",icon:ir},{name:"Welcome Monitor",href:"/admin/welcome-monitor",icon:Ed},{name:"Voting Monitor",href:"/admin/voting-monitor",icon:Ed}];function m5({children:e,userCompany:t}){const n=bs(),i=Ec(),r=async()=>{await ue.auth.signOut(),i("/")};return p.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[p.jsxs("div",{className:"hidden lg:fixed lg:inset-y-0 lg:left-0 lg:z-50 lg:w-64 lg:bg-white lg:shadow-lg lg:block",children:[p.jsx("div",{className:"flex h-16 items-center justify-center border-b border-gray-200",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Event Manager"}),t&&p.jsx("p",{className:"text-sm text-blue-600 truncate px-2",children:t.company.name})]})}),p.jsx("nav",{className:"mt-8 space-y-1 px-4",children:Kx.filter(a=>!(t&&a.href==="/admin")).map(a=>{const c=a.icon,h=n.pathname===a.href||a.href!=="/admin"&&n.pathname.startsWith(a.href);return p.jsxs(xd,{to:a.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${h?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[p.jsx(c,{className:"mr-3 h-5 w-5"}),p.jsx("span",{className:"truncate",children:a.name})]},a.name)})}),p.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:p.jsxs("button",{onClick:r,className:"flex items-center w-full px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-50 hover:text-gray-900 transition-colors",children:[p.jsx(Wx,{className:"mr-3 h-5 w-5"}),"Sign Out"]})})]}),p.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 bg-white shadow-sm border-b border-gray-200",children:[p.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Event Manager"}),t&&p.jsx("p",{className:"text-xs text-blue-600 truncate",children:t.company.name})]}),p.jsxs("button",{onClick:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-50 hover:text-gray-900 transition-colors",children:[p.jsx(Wx,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]}),p.jsx("div",{className:"px-4 pb-3 border-t border-gray-200 bg-gray-50",children:p.jsx("div",{className:"grid grid-cols-2 gap-2 mt-3",children:Kx.filter(a=>!(t&&a.href==="/admin")).map(a=>{const c=a.icon,h=n.pathname===a.href||a.href!=="/admin"&&n.pathname.startsWith(a.href);return p.jsxs(xd,{to:a.href,className:`flex flex-col items-center px-3 py-2 text-xs font-medium rounded-md transition-colors ${h?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[p.jsx(c,{className:"h-5 w-5 mb-1"}),p.jsx("span",{className:"truncate text-center",children:a.name})]},a.name)})})})]}),p.jsx("div",{className:"flex-1 lg:ml-64",children:p.jsx("main",{className:"flex-1 p-4 md:p-8 pt-32 lg:pt-8",children:e})})]})}function p5(){const[e,t]=j.useState(""),[n,i]=j.useState(""),[r,a]=j.useState(!1),[c,h]=j.useState(!1),g=Ec(),m=async b=>{b.preventDefault(),a(!0);try{if(c){const{error:w}=await ue.auth.signUp({email:e,password:n});if(w)throw w;le.success("Account created successfully!")}else{const{error:w}=await ue.auth.signInWithPassword({email:e,password:n});if(w)throw w;g("/admin")}}catch(w){le.error(w.message)}finally{a(!1)}};return p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"max-w-md w-full space-y-8",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:c?"Create your account":"Sign in to your account"}),p.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Event Management System"})]}),p.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),p.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"relative block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Email address",value:e,onChange:b=>t(b.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),p.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"relative block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Password",value:n,onChange:b=>i(b.target.value)})]})]}),p.jsx("div",{children:p.jsx("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:r?"Loading...":c?"Sign up":"Sign in"})}),p.jsx("div",{className:"text-center",children:p.jsx("button",{type:"button",onClick:()=>h(!c),className:"text-blue-600 hover:text-blue-500 text-sm",children:c?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})]})})}function x5(){const[e,t]=j.useState([]),[n,i]=j.useState([]),[r,a]=j.useState(!1),[c,h]=j.useState(!1),[g,m]=j.useState(null),[b,w]=j.useState(""),[E,A]=j.useState({email:"",password:"",company_id:""}),[O,M]=j.useState(!0);j.useEffect(()=>{P(),T()},[]);const P=async()=>{try{const{data:U,error:q}=await ue.from("companies").select("*").order("created_at",{ascending:!1});if(q)throw q;const Y=await Promise.all(U.map(async $=>{const{data:ie}=await ue.from("events").select("id").eq("company_id",$.id),{data:de}=await ue.from("attendees").select("id").in("event_id",(ie==null?void 0:ie.map(Z=>Z.id))||[]);return{...$,event_count:(ie==null?void 0:ie.length)||0,attendee_count:(de==null?void 0:de.length)||0}}));t(Y)}catch(U){le.error("Error fetching companies: "+U.message)}finally{M(!1)}},T=async()=>{try{const{data:U,error:q}=await ue.from("company_users").select(`
          *,
          company:companies(name)
        `).order("created_at",{ascending:!1});if(q)throw q;i(U||[])}catch(U){console.error("Error fetching company users:",U)}},_=async U=>{if(U.preventDefault(),!!b.trim())try{const{error:q}=await ue.from("companies").insert([{name:b}]);if(q)throw q;le.success("Company created successfully!"),w(""),a(!1),P()}catch(q){le.error("Error creating company: "+q.message)}},C=async U=>{if(U.preventDefault(),!(!b.trim()||!g))try{const{error:q}=await ue.from("companies").update({name:b}).eq("id",g.id);if(q)throw q;le.success("Company updated successfully!"),w(""),m(null),a(!1),P()}catch(q){le.error("Error updating company: "+q.message)}},L=async U=>{if(confirm("Are you sure you want to delete this company? This will also delete all events and attendees."))try{const{error:q}=await ue.from("companies").delete().eq("id",U);if(q)throw q;le.success("Company deleted successfully!"),P(),T()}catch(q){le.error("Error deleting company: "+q.message)}},z=U=>{m(U),w(U.name),a(!0)},D=async U=>{if(U.preventDefault(),!(!E.email.trim()||!E.password.trim()||!E.company_id))try{const{data:{session:q}}=await ue.auth.getSession();if(!q)throw new Error("Not authenticated");const Y=await fetch("https://crafetbtwgaitpxgmspp.supabase.co/functions/v1/create-company-user",{method:"POST",headers:{Authorization:`Bearer ${q.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({email:E.email,password:E.password,company_id:E.company_id})}),$=await Y.json();if(!Y.ok)throw new Error($.error||"Failed to create user");le.success("Company user created successfully!"),A({email:"",password:"",company_id:""}),h(!1),T()}catch(q){le.error("Error creating user: "+q.message)}},k=async U=>{if(confirm("Are you sure you want to delete this user?"))try{const{error:q}=await ue.from("company_users").delete().eq("id",U);if(q)throw q;le.success("User deleted successfully!"),T()}catch(q){le.error("Error deleting user: "+q.message)}},V=()=>{w(""),m(null),a(!1)};return O?p.jsx("div",{className:"flex items-center justify-center h-64",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Company Management"}),p.jsx("p",{className:"text-gray-600 mt-2",children:"Manage companies, events, and user access"})]}),p.jsxs("div",{className:"flex space-x-3",children:[p.jsxs("button",{onClick:()=>h(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[p.jsx(t1,{className:"h-5 w-5 mr-2"}),"Add User"]}),p.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[p.jsx(Kl,{className:"h-5 w-5 mr-2"}),"Add Company"]})]})]}),p.jsx("div",{className:"space-y-6",children:e.map(U=>{const q=n.filter(Y=>Y.company_id===U.id);return p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Hr,{className:"h-8 w-8 text-blue-600 mr-3"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:U.name}),p.jsxs("p",{className:"text-sm text-gray-500",children:["Created ",new Date(U.created_at).toLocaleDateString()]})]})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>z(U),className:"text-gray-400 hover:text-blue-600 transition-colors",children:p.jsx(ah,{className:"h-4 w-4"})}),p.jsx("button",{onClick:()=>L(U.id),className:"text-gray-400 hover:text-red-600 transition-colors",children:p.jsx($r,{className:"h-4 w-4"})})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[p.jsxs("div",{className:"flex items-center text-gray-600",children:[p.jsx(or,{className:"h-5 w-5 mr-2"}),p.jsxs("span",{children:[U.event_count," Events"]})]}),p.jsxs("div",{className:"flex items-center text-gray-600",children:[p.jsx(Rn,{className:"h-5 w-5 mr-2"}),p.jsxs("span",{children:[U.attendee_count," Total Attendees"]})]}),p.jsxs("div",{className:"flex items-center text-gray-600",children:[p.jsx(t1,{className:"h-5 w-5 mr-2"}),p.jsxs("span",{children:[q.length," Users"]})]})]}),q.length>0&&p.jsxs("div",{className:"border-t pt-4",children:[p.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Company Users"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:q.map(Y=>p.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900 text-sm",children:Y.email}),p.jsx("div",{className:"text-xs text-gray-500",children:new Date(Y.created_at).toLocaleDateString()})]}),p.jsx("button",{onClick:()=>k(Y.id),className:"text-gray-400 hover:text-red-600 transition-colors",children:p.jsx($r,{className:"h-3 w-3"})})]})},Y.id))})]})]},U.id)})}),e.length===0&&n.length===0&&p.jsxs("div",{className:"text-center py-12",children:[p.jsx(Hr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No companies found"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first company"}),p.jsx("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Company"})]}),c&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[p.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create Company User"}),p.jsxs("form",{onSubmit:D,children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company *"}),p.jsxs("select",{value:E.company_id,onChange:U=>A({...E,company_id:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[p.jsx("option",{value:"",children:"Select a company"}),e.map(U=>p.jsx("option",{value:U.id,children:U.name},U.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),p.jsx("input",{type:"email",value:E.email,onChange:U=>A({...E,email:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email address",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),p.jsx("input",{type:"password",value:E.password,onChange:U=>A({...E,password:U.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password",required:!0,minLength:6})]})]}),p.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[p.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),p.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create User"})]})]})]})}),p.jsx("div",{className:"hidden",children:e.map(U=>p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx(Hr,{className:"h-8 w-8 text-blue-600 mr-3"}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:U.name})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center text-gray-600",children:[p.jsx(or,{className:"h-5 w-5 mr-2"}),p.jsxs("span",{children:[U.event_count," Events"]})]}),p.jsxs("div",{className:"flex items-center text-gray-600",children:[p.jsx(Rn,{className:"h-5 w-5 mr-2"}),p.jsxs("span",{children:[U.attendee_count," Total Attendees"]})]})]}),p.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:p.jsxs("p",{className:"text-sm text-gray-500",children:["Created ",new Date(U.created_at).toLocaleDateString()]})})]},U.id))}),r&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[p.jsx("h2",{className:"text-xl font-bold mb-4",children:g?"Edit Company":"Create New Company"}),p.jsxs("form",{onSubmit:g?C:_,children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),p.jsx("input",{type:"text",id:"companyName",value:b,onChange:U=>w(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter company name",required:!0})]}),p.jsxs("div",{className:"flex justify-end space-x-3",children:[p.jsx("button",{type:"button",onClick:V,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),p.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:g?"Update Company":"Create Company"})]})]})]})})]})}var Yi={},y5=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},mE={},Zn={};let Hg;const b5=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Zn.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Zn.getSymbolTotalCodewords=function(t){return b5[t]};Zn.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Zn.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Hg=t};Zn.isKanjiModeEnabled=function(){return typeof Hg<"u"};Zn.toSJIS=function(t){return Hg(t)};var oh={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},e.from=function(i,r){if(e.isValid(i))return i;try{return t(i)}catch{return r}}})(oh);function pE(){this.buffer=[],this.length=0}pE.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var w5=pE;function Mc(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Mc.prototype.set=function(e,t,n,i){const r=e*this.size+t;this.data[r]=n,i&&(this.reservedBit[r]=!0)};Mc.prototype.get=function(e,t){return this.data[e*this.size+t]};Mc.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};Mc.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var v5=Mc,xE={};(function(e){const t=Zn.getSymbolSize;e.getRowColCoords=function(i){if(i===1)return[];const r=Math.floor(i/7)+2,a=t(i),c=a===145?26:Math.ceil((a-13)/(2*r-2))*2,h=[a-7];for(let g=1;g<r-1;g++)h[g]=h[g-1]-c;return h.push(6),h.reverse()},e.getPositions=function(i){const r=[],a=e.getRowColCoords(i),c=a.length;for(let h=0;h<c;h++)for(let g=0;g<c;g++)h===0&&g===0||h===0&&g===c-1||h===c-1&&g===0||r.push([a[h],a[g]]);return r}})(xE);var yE={};const E5=Zn.getSymbolSize,Qx=7;yE.getPositions=function(t){const n=E5(t);return[[0,0],[n-Qx,0],[0,n-Qx]]};var bE={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},e.from=function(r){return e.isValid(r)?parseInt(r,10):void 0},e.getPenaltyN1=function(r){const a=r.size;let c=0,h=0,g=0,m=null,b=null;for(let w=0;w<a;w++){h=g=0,m=b=null;for(let E=0;E<a;E++){let A=r.get(w,E);A===m?h++:(h>=5&&(c+=t.N1+(h-5)),m=A,h=1),A=r.get(E,w),A===b?g++:(g>=5&&(c+=t.N1+(g-5)),b=A,g=1)}h>=5&&(c+=t.N1+(h-5)),g>=5&&(c+=t.N1+(g-5))}return c},e.getPenaltyN2=function(r){const a=r.size;let c=0;for(let h=0;h<a-1;h++)for(let g=0;g<a-1;g++){const m=r.get(h,g)+r.get(h,g+1)+r.get(h+1,g)+r.get(h+1,g+1);(m===4||m===0)&&c++}return c*t.N2},e.getPenaltyN3=function(r){const a=r.size;let c=0,h=0,g=0;for(let m=0;m<a;m++){h=g=0;for(let b=0;b<a;b++)h=h<<1&2047|r.get(m,b),b>=10&&(h===1488||h===93)&&c++,g=g<<1&2047|r.get(b,m),b>=10&&(g===1488||g===93)&&c++}return c*t.N3},e.getPenaltyN4=function(r){let a=0;const c=r.data.length;for(let g=0;g<c;g++)a+=r.data[g];return Math.abs(Math.ceil(a*100/c/5)-10)*t.N4};function n(i,r,a){switch(i){case e.Patterns.PATTERN000:return(r+a)%2===0;case e.Patterns.PATTERN001:return r%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(r+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return r*a%2+r*a%3===0;case e.Patterns.PATTERN110:return(r*a%2+r*a%3)%2===0;case e.Patterns.PATTERN111:return(r*a%3+(r+a)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}e.applyMask=function(r,a){const c=a.size;for(let h=0;h<c;h++)for(let g=0;g<c;g++)a.isReserved(g,h)||a.xor(g,h,n(r,g,h))},e.getBestMask=function(r,a){const c=Object.keys(e.Patterns).length;let h=0,g=1/0;for(let m=0;m<c;m++){a(m),e.applyMask(m,r);const b=e.getPenaltyN1(r)+e.getPenaltyN2(r)+e.getPenaltyN3(r)+e.getPenaltyN4(r);e.applyMask(m,r),b<g&&(g=b,h=m)}return h}})(bE);var lh={};const Xs=oh,gu=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],mu=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];lh.getBlocksCount=function(t,n){switch(n){case Xs.L:return gu[(t-1)*4+0];case Xs.M:return gu[(t-1)*4+1];case Xs.Q:return gu[(t-1)*4+2];case Xs.H:return gu[(t-1)*4+3];default:return}};lh.getTotalCodewordsCount=function(t,n){switch(n){case Xs.L:return mu[(t-1)*4+0];case Xs.M:return mu[(t-1)*4+1];case Xs.Q:return mu[(t-1)*4+2];case Xs.H:return mu[(t-1)*4+3];default:return}};var wE={},ch={};const Nl=new Uint8Array(512),Ad=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)Nl[n]=t,Ad[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)Nl[n]=Nl[n-255]})();ch.log=function(t){if(t<1)throw new Error("log("+t+")");return Ad[t]};ch.exp=function(t){return Nl[t]};ch.mul=function(t,n){return t===0||n===0?0:Nl[Ad[t]+Ad[n]]};(function(e){const t=ch;e.mul=function(i,r){const a=new Uint8Array(i.length+r.length-1);for(let c=0;c<i.length;c++)for(let h=0;h<r.length;h++)a[c+h]^=t.mul(i[c],r[h]);return a},e.mod=function(i,r){let a=new Uint8Array(i);for(;a.length-r.length>=0;){const c=a[0];for(let g=0;g<r.length;g++)a[g]^=t.mul(r[g],c);let h=0;for(;h<a.length&&a[h]===0;)h++;a=a.slice(h)}return a},e.generateECPolynomial=function(i){let r=new Uint8Array([1]);for(let a=0;a<i;a++)r=e.mul(r,new Uint8Array([1,t.exp(a)]));return r}})(wE);const vE=wE;function Gg(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Gg.prototype.initialize=function(t){this.degree=t,this.genPoly=vE.generateECPolynomial(this.degree)};Gg.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const i=vE.mod(n,this.genPoly),r=this.degree-i.length;if(r>0){const a=new Uint8Array(this.degree);return a.set(i,r),a}return i};var A5=Gg,EE={},mr={},Yg={};Yg.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var qi={};const AE="[0-9]+",S5="[A-Z $%*+\\-./:]+";let Ql="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ql=Ql.replace(/u/g,"\\u");const C5="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ql+`)(?:.|[\r
]))+`;qi.KANJI=new RegExp(Ql,"g");qi.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");qi.BYTE=new RegExp(C5,"g");qi.NUMERIC=new RegExp(AE,"g");qi.ALPHANUMERIC=new RegExp(S5,"g");const T5=new RegExp("^"+Ql+"$"),_5=new RegExp("^"+AE+"$"),N5=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");qi.testKanji=function(t){return T5.test(t)};qi.testNumeric=function(t){return _5.test(t)};qi.testAlphanumeric=function(t){return N5.test(t)};(function(e){const t=Yg,n=qi;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,c){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?a.ccBits[0]:c<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return n.testNumeric(a)?e.NUMERIC:n.testAlphanumeric(a)?e.ALPHANUMERIC:n.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function i(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+r)}}e.from=function(a,c){if(e.isValid(a))return a;try{return i(a)}catch{return c}}})(mr);(function(e){const t=Zn,n=lh,i=oh,r=mr,a=Yg,c=7973,h=t.getBCHDigit(c);function g(E,A,O){for(let M=1;M<=40;M++)if(A<=e.getCapacity(M,O,E))return M}function m(E,A){return r.getCharCountIndicator(E,A)+4}function b(E,A){let O=0;return E.forEach(function(M){const P=m(M.mode,A);O+=P+M.getBitsLength()}),O}function w(E,A){for(let O=1;O<=40;O++)if(b(E,O)<=e.getCapacity(O,A,r.MIXED))return O}e.from=function(A,O){return a.isValid(A)?parseInt(A,10):O},e.getCapacity=function(A,O,M){if(!a.isValid(A))throw new Error("Invalid QR Code version");typeof M>"u"&&(M=r.BYTE);const P=t.getSymbolTotalCodewords(A),T=n.getTotalCodewordsCount(A,O),_=(P-T)*8;if(M===r.MIXED)return _;const C=_-m(M,A);switch(M){case r.NUMERIC:return Math.floor(C/10*3);case r.ALPHANUMERIC:return Math.floor(C/11*2);case r.KANJI:return Math.floor(C/13);case r.BYTE:default:return Math.floor(C/8)}},e.getBestVersionForData=function(A,O){let M;const P=i.from(O,i.M);if(Array.isArray(A)){if(A.length>1)return w(A,P);if(A.length===0)return 1;M=A[0]}else M=A;return g(M.mode,M.getLength(),P)},e.getEncodedBits=function(A){if(!a.isValid(A)||A<7)throw new Error("Invalid QR Code version");let O=A<<12;for(;t.getBCHDigit(O)-h>=0;)O^=c<<t.getBCHDigit(O)-h;return A<<12|O}})(EE);var SE={};const n1=Zn,CE=1335,I5=21522,$x=n1.getBCHDigit(CE);SE.getEncodedBits=function(t,n){const i=t.bit<<3|n;let r=i<<10;for(;n1.getBCHDigit(r)-$x>=0;)r^=CE<<n1.getBCHDigit(r)-$x;return(i<<10|r)^I5};var TE={};const M5=mr;function fo(e){this.mode=M5.NUMERIC,this.data=e.toString()}fo.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};fo.prototype.getLength=function(){return this.data.length};fo.prototype.getBitsLength=function(){return fo.getBitsLength(this.data.length)};fo.prototype.write=function(t){let n,i,r;for(n=0;n+3<=this.data.length;n+=3)i=this.data.substr(n,3),r=parseInt(i,10),t.put(r,10);const a=this.data.length-n;a>0&&(i=this.data.substr(n),r=parseInt(i,10),t.put(r,a*3+1))};var D5=fo;const R5=mr,Nf=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function go(e){this.mode=R5.ALPHANUMERIC,this.data=e}go.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};go.prototype.getLength=function(){return this.data.length};go.prototype.getBitsLength=function(){return go.getBitsLength(this.data.length)};go.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let i=Nf.indexOf(this.data[n])*45;i+=Nf.indexOf(this.data[n+1]),t.put(i,11)}this.data.length%2&&t.put(Nf.indexOf(this.data[n]),6)};var O5=go;const j5=mr;function mo(e){this.mode=j5.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}mo.getBitsLength=function(t){return t*8};mo.prototype.getLength=function(){return this.data.length};mo.prototype.getBitsLength=function(){return mo.getBitsLength(this.data.length)};mo.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var L5=mo;const k5=mr,B5=Zn;function po(e){this.mode=k5.KANJI,this.data=e}po.getBitsLength=function(t){return t*13};po.prototype.getLength=function(){return this.data.length};po.prototype.getBitsLength=function(){return po.getBitsLength(this.data.length)};po.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=B5.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var P5=po,_E={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,i,r){var a={},c={};c[i]=0;var h=t.PriorityQueue.make();h.push(i,0);for(var g,m,b,w,E,A,O,M,P;!h.empty();){g=h.pop(),m=g.value,w=g.cost,E=n[m]||{};for(b in E)E.hasOwnProperty(b)&&(A=E[b],O=w+A,M=c[b],P=typeof c[b]>"u",(P||M>O)&&(c[b]=O,h.push(b,O),a[b]=m))}if(typeof r<"u"&&typeof c[r]>"u"){var T=["Could not find a path from ",i," to ",r,"."].join("");throw new Error(T)}return a},extract_shortest_path_from_predecessor_list:function(n,i){for(var r=[],a=i;a;)r.push(a),n[a],a=n[a];return r.reverse(),r},find_path:function(n,i,r){var a=t.single_source_shortest_paths(n,i,r);return t.extract_shortest_path_from_predecessor_list(a,r)},PriorityQueue:{make:function(n){var i=t.PriorityQueue,r={},a;n=n||{};for(a in i)i.hasOwnProperty(a)&&(r[a]=i[a]);return r.queue=[],r.sorter=n.sorter||i.default_sorter,r},default_sorter:function(n,i){return n.cost-i.cost},push:function(n,i){var r={value:n,cost:i};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(_E);var U5=_E.exports;(function(e){const t=mr,n=D5,i=O5,r=L5,a=P5,c=qi,h=Zn,g=U5;function m(T){return unescape(encodeURIComponent(T)).length}function b(T,_,C){const L=[];let z;for(;(z=T.exec(C))!==null;)L.push({data:z[0],index:z.index,mode:_,length:z[0].length});return L}function w(T){const _=b(c.NUMERIC,t.NUMERIC,T),C=b(c.ALPHANUMERIC,t.ALPHANUMERIC,T);let L,z;return h.isKanjiModeEnabled()?(L=b(c.BYTE,t.BYTE,T),z=b(c.KANJI,t.KANJI,T)):(L=b(c.BYTE_KANJI,t.BYTE,T),z=[]),_.concat(C,L,z).sort(function(k,V){return k.index-V.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function E(T,_){switch(_){case t.NUMERIC:return n.getBitsLength(T);case t.ALPHANUMERIC:return i.getBitsLength(T);case t.KANJI:return a.getBitsLength(T);case t.BYTE:return r.getBitsLength(T)}}function A(T){return T.reduce(function(_,C){const L=_.length-1>=0?_[_.length-1]:null;return L&&L.mode===C.mode?(_[_.length-1].data+=C.data,_):(_.push(C),_)},[])}function O(T){const _=[];for(let C=0;C<T.length;C++){const L=T[C];switch(L.mode){case t.NUMERIC:_.push([L,{data:L.data,mode:t.ALPHANUMERIC,length:L.length},{data:L.data,mode:t.BYTE,length:L.length}]);break;case t.ALPHANUMERIC:_.push([L,{data:L.data,mode:t.BYTE,length:L.length}]);break;case t.KANJI:_.push([L,{data:L.data,mode:t.BYTE,length:m(L.data)}]);break;case t.BYTE:_.push([{data:L.data,mode:t.BYTE,length:m(L.data)}])}}return _}function M(T,_){const C={},L={start:{}};let z=["start"];for(let D=0;D<T.length;D++){const k=T[D],V=[];for(let U=0;U<k.length;U++){const q=k[U],Y=""+D+U;V.push(Y),C[Y]={node:q,lastCount:0},L[Y]={};for(let $=0;$<z.length;$++){const ie=z[$];C[ie]&&C[ie].node.mode===q.mode?(L[ie][Y]=E(C[ie].lastCount+q.length,q.mode)-E(C[ie].lastCount,q.mode),C[ie].lastCount+=q.length):(C[ie]&&(C[ie].lastCount=q.length),L[ie][Y]=E(q.length,q.mode)+4+t.getCharCountIndicator(q.mode,_))}}z=V}for(let D=0;D<z.length;D++)L[z[D]].end=0;return{map:L,table:C}}function P(T,_){let C;const L=t.getBestModeForData(T);if(C=t.from(_,L),C!==t.BYTE&&C.bit<L.bit)throw new Error('"'+T+'" cannot be encoded with mode '+t.toString(C)+`.
 Suggested mode is: `+t.toString(L));switch(C===t.KANJI&&!h.isKanjiModeEnabled()&&(C=t.BYTE),C){case t.NUMERIC:return new n(T);case t.ALPHANUMERIC:return new i(T);case t.KANJI:return new a(T);case t.BYTE:return new r(T)}}e.fromArray=function(_){return _.reduce(function(C,L){return typeof L=="string"?C.push(P(L,null)):L.data&&C.push(P(L.data,L.mode)),C},[])},e.fromString=function(_,C){const L=w(_,h.isKanjiModeEnabled()),z=O(L),D=M(z,C),k=g.find_path(D.map,"start","end"),V=[];for(let U=1;U<k.length-1;U++)V.push(D.table[k[U]].node);return e.fromArray(A(V))},e.rawSplit=function(_){return e.fromArray(w(_,h.isKanjiModeEnabled()))}})(TE);const uh=Zn,If=oh,F5=w5,V5=v5,z5=xE,H5=yE,i1=bE,s1=lh,G5=A5,Sd=EE,Y5=SE,q5=mr,Mf=TE;function X5(e,t){const n=e.size,i=H5.getPositions(t);for(let r=0;r<i.length;r++){const a=i[r][0],c=i[r][1];for(let h=-1;h<=7;h++)if(!(a+h<=-1||n<=a+h))for(let g=-1;g<=7;g++)c+g<=-1||n<=c+g||(h>=0&&h<=6&&(g===0||g===6)||g>=0&&g<=6&&(h===0||h===6)||h>=2&&h<=4&&g>=2&&g<=4?e.set(a+h,c+g,!0,!0):e.set(a+h,c+g,!1,!0))}}function W5(e){const t=e.size;for(let n=8;n<t-8;n++){const i=n%2===0;e.set(n,6,i,!0),e.set(6,n,i,!0)}}function Z5(e,t){const n=z5.getPositions(t);for(let i=0;i<n.length;i++){const r=n[i][0],a=n[i][1];for(let c=-2;c<=2;c++)for(let h=-2;h<=2;h++)c===-2||c===2||h===-2||h===2||c===0&&h===0?e.set(r+c,a+h,!0,!0):e.set(r+c,a+h,!1,!0)}}function K5(e,t){const n=e.size,i=Sd.getEncodedBits(t);let r,a,c;for(let h=0;h<18;h++)r=Math.floor(h/3),a=h%3+n-8-3,c=(i>>h&1)===1,e.set(r,a,c,!0),e.set(a,r,c,!0)}function Df(e,t,n){const i=e.size,r=Y5.getEncodedBits(t,n);let a,c;for(a=0;a<15;a++)c=(r>>a&1)===1,a<6?e.set(a,8,c,!0):a<8?e.set(a+1,8,c,!0):e.set(i-15+a,8,c,!0),a<8?e.set(8,i-a-1,c,!0):a<9?e.set(8,15-a-1+1,c,!0):e.set(8,15-a-1,c,!0);e.set(i-8,8,1,!0)}function Q5(e,t){const n=e.size;let i=-1,r=n-1,a=7,c=0;for(let h=n-1;h>0;h-=2)for(h===6&&h--;;){for(let g=0;g<2;g++)if(!e.isReserved(r,h-g)){let m=!1;c<t.length&&(m=(t[c]>>>a&1)===1),e.set(r,h-g,m),a--,a===-1&&(c++,a=7)}if(r+=i,r<0||n<=r){r-=i,i=-i;break}}}function $5(e,t,n){const i=new F5;n.forEach(function(g){i.put(g.mode.bit,4),i.put(g.getLength(),q5.getCharCountIndicator(g.mode,e)),g.write(i)});const r=uh.getSymbolTotalCodewords(e),a=s1.getTotalCodewordsCount(e,t),c=(r-a)*8;for(i.getLengthInBits()+4<=c&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);const h=(c-i.getLengthInBits())/8;for(let g=0;g<h;g++)i.put(g%2?17:236,8);return J5(i,e,t)}function J5(e,t,n){const i=uh.getSymbolTotalCodewords(t),r=s1.getTotalCodewordsCount(t,n),a=i-r,c=s1.getBlocksCount(t,n),h=i%c,g=c-h,m=Math.floor(i/c),b=Math.floor(a/c),w=b+1,E=m-b,A=new G5(E);let O=0;const M=new Array(c),P=new Array(c);let T=0;const _=new Uint8Array(e.buffer);for(let k=0;k<c;k++){const V=k<g?b:w;M[k]=_.slice(O,O+V),P[k]=A.encode(M[k]),O+=V,T=Math.max(T,V)}const C=new Uint8Array(i);let L=0,z,D;for(z=0;z<T;z++)for(D=0;D<c;D++)z<M[D].length&&(C[L++]=M[D][z]);for(z=0;z<E;z++)for(D=0;D<c;D++)C[L++]=P[D][z];return C}function eI(e,t,n,i){let r;if(Array.isArray(e))r=Mf.fromArray(e);else if(typeof e=="string"){let m=t;if(!m){const b=Mf.rawSplit(e);m=Sd.getBestVersionForData(b,n)}r=Mf.fromString(e,m||40)}else throw new Error("Invalid data");const a=Sd.getBestVersionForData(r,n);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const c=$5(t,n,r),h=uh.getSymbolSize(t),g=new V5(h);return X5(g,t),W5(g),Z5(g,t),Df(g,n,0),t>=7&&K5(g,t),Q5(g,c),isNaN(i)&&(i=i1.getBestMask(g,Df.bind(null,g,n))),i1.applyMask(i,g),Df(g,n,i),{modules:g,version:t,errorCorrectionLevel:n,maskPattern:i,segments:r}}mE.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let i=If.M,r,a;return typeof n<"u"&&(i=If.from(n.errorCorrectionLevel,If.M),r=Sd.from(n.version),a=i1.from(n.maskPattern),n.toSJISFunc&&uh.setToSJISFunction(n.toSJISFunc)),eI(t,r,i,a)};var NE={},qg={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let i=n.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+n);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(a){return[a,a]}))),i.length===6&&i.push("F","F");const r=parseInt(i.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+i.slice(0,6).join("")}}e.getOptions=function(i){i||(i={}),i.color||(i.color={});const r=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,a=i.width&&i.width>=21?i.width:void 0,c=i.scale||4;return{width:a,scale:a?4:c,margin:r,color:{dark:t(i.color.dark||"#000000ff"),light:t(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},e.getScale=function(i,r){return r.width&&r.width>=i+r.margin*2?r.width/(i+r.margin*2):r.scale},e.getImageWidth=function(i,r){const a=e.getScale(i,r);return Math.floor((i+r.margin*2)*a)},e.qrToImageData=function(i,r,a){const c=r.modules.size,h=r.modules.data,g=e.getScale(c,a),m=Math.floor((c+a.margin*2)*g),b=a.margin*g,w=[a.color.light,a.color.dark];for(let E=0;E<m;E++)for(let A=0;A<m;A++){let O=(E*m+A)*4,M=a.color.light;if(E>=b&&A>=b&&E<m-b&&A<m-b){const P=Math.floor((E-b)/g),T=Math.floor((A-b)/g);M=w[h[P*c+T]?1:0]}i[O++]=M.r,i[O++]=M.g,i[O++]=M.b,i[O]=M.a}}})(qg);(function(e){const t=qg;function n(r,a,c){r.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=c,a.width=c,a.style.height=c+"px",a.style.width=c+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,c,h){let g=h,m=c;typeof g>"u"&&(!c||!c.getContext)&&(g=c,c=void 0),c||(m=i()),g=t.getOptions(g);const b=t.getImageWidth(a.modules.size,g),w=m.getContext("2d"),E=w.createImageData(b,b);return t.qrToImageData(E.data,a,g),n(w,m,b),w.putImageData(E,0,0),m},e.renderToDataURL=function(a,c,h){let g=h;typeof g>"u"&&(!c||!c.getContext)&&(g=c,c=void 0),g||(g={});const m=e.render(a,c,g),b=g.type||"image/png",w=g.rendererOpts||{};return m.toDataURL(b,w.quality)}})(NE);var IE={};const tI=qg;function Jx(e,t){const n=e.a/255,i=t+'="'+e.hex+'"';return n<1?i+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':i}function Rf(e,t,n){let i=e+t;return typeof n<"u"&&(i+=" "+n),i}function nI(e,t,n){let i="",r=0,a=!1,c=0;for(let h=0;h<e.length;h++){const g=Math.floor(h%t),m=Math.floor(h/t);!g&&!a&&(a=!0),e[h]?(c++,h>0&&g>0&&e[h-1]||(i+=a?Rf("M",g+n,.5+m+n):Rf("m",r,0),r=0,a=!1),g+1<t&&e[h+1]||(i+=Rf("h",c),c=0)):r++}return i}IE.render=function(t,n,i){const r=tI.getOptions(n),a=t.modules.size,c=t.modules.data,h=a+r.margin*2,g=r.color.light.a?"<path "+Jx(r.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",m="<path "+Jx(r.color.dark,"stroke")+' d="'+nI(c,a,r.margin)+'"/>',b='viewBox="0 0 '+h+" "+h+'"',E='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+b+' shape-rendering="crispEdges">'+g+m+`</svg>
`;return typeof i=="function"&&i(null,E),E};const iI=y5,r1=mE,ME=NE,sI=IE;function Xg(e,t,n,i,r){const a=[].slice.call(arguments,1),c=a.length,h=typeof a[c-1]=="function";if(!h&&!iI())throw new Error("Callback required as last argument");if(h){if(c<2)throw new Error("Too few arguments provided");c===2?(r=n,n=t,t=i=void 0):c===3&&(t.getContext&&typeof r>"u"?(r=i,i=void 0):(r=i,i=n,n=t,t=void 0))}else{if(c<1)throw new Error("Too few arguments provided");return c===1?(n=t,t=i=void 0):c===2&&!t.getContext&&(i=n,n=t,t=void 0),new Promise(function(g,m){try{const b=r1.create(n,i);g(e(b,t,i))}catch(b){m(b)}})}try{const g=r1.create(n,i);r(null,e(g,t,i))}catch(g){r(g)}}Yi.create=r1.create;Yi.toCanvas=Xg.bind(null,ME.render);Yi.toDataURL=Xg.bind(null,ME.renderToDataURL);Yi.toString=Xg.bind(null,function(e,t,n){return sI.render(e,n)});function rI({userCompany:e}){var z;const[t,n]=j.useState([]),[i,r]=j.useState([]),[a,c]=j.useState(!1),[h,g]=j.useState(null),[m,b]=j.useState(!0),[w,E]=j.useState({company_id:"",name:"",description:"",date:"",location:"",max_attendees:1e3});j.useEffect(()=>{A(),O()},[]);const A=async()=>{try{let D=ue.from("events").select(`
          *,
          company:companies(name)
        `);e&&(D=D.eq("company_id",e.company_id));const{data:k,error:V}=await D.order("created_at",{ascending:!1});if(V)throw V;const U=(k==null?void 0:k.map(Y=>({...Y,company:Array.isArray(Y.company)?Y.company[0]:Y.company})))||[],q=await Promise.all(U.map(async Y=>{const{data:$}=await ue.from("attendees").select("id, checked_in").eq("event_id",Y.id);return{...Y,attendee_count:($==null?void 0:$.length)||0,checked_in_count:($==null?void 0:$.filter(ie=>ie.checked_in).length)||0}}));n(q)}catch(D){le.error("Error fetching events: "+D.message)}finally{b(!1)}},O=async()=>{try{let D=ue.from("companies").select("*").order("name");e&&(D=D.eq("id",e.company_id));const{data:k,error:V}=await D;if(V)throw V;r(k)}catch(D){le.error("Error fetching companies: "+D.message)}},M=async D=>{if(D.preventDefault(),!(!w.name.trim()||!w.company_id))try{if(h){const{error:k}=await ue.from("events").update({company_id:w.company_id,name:w.name,description:w.description||null,date:w.date||null,location:w.location||null,max_attendees:w.max_attendees}).eq("id",h.id);if(k)throw k;le.success("Event updated successfully!")}else{const{data:k,error:V}=await ue.from("events").insert([{company_id:w.company_id,name:w.name,description:w.description||null,date:w.date||null,location:w.location||null,max_attendees:w.max_attendees}]).select();if(V)throw V;const U=`${window.location.origin}/public/register/${k[0].id}`,q=await Yi.toDataURL(U,{width:300,margin:2,errorCorrectionLevel:"M"});await ue.from("events").update({registration_qr:q}).eq("id",k[0].id),le.success("Event created successfully!")}T(),A()}catch(k){le.error("Error saving event: "+k.message)}},P=async D=>{if(confirm("Are you sure you want to delete this event? This will also delete all attendees."))try{const{error:k}=await ue.from("events").delete().eq("id",D);if(k)throw k;le.success("Event deleted successfully!"),A()}catch(k){le.error("Error deleting event: "+k.message)}},T=()=>{E({company_id:e?e.company_id:"",name:"",description:"",date:"",location:"",max_attendees:1e3}),g(null),c(!1)},_=D=>{g(D),E({company_id:e?e.company_id:D.company_id,name:D.name,description:D.description||"",date:D.date?new Date(D.date).toISOString().slice(0,16):"",location:D.location||"",max_attendees:D.max_attendees||1e3}),c(!0)},C=D=>`${window.location.origin}/public/register/${D}`,L=D=>{if(!D.registration_qr)return;const k=document.createElement("a");k.href=D.registration_qr,k.download=`${D.name}-registration-qr.png`,k.click()};return m?p.jsx("div",{className:"flex items-center justify-center h-64",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Event Management"}),p.jsx("p",{className:"text-gray-600 mt-2",children:"Manage events across all companies"})]}),p.jsxs("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[p.jsx(Kl,{className:"h-5 w-5 mr-2"}),"Add Event"]})]}),p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(D=>p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:D.name}),p.jsx("p",{className:"text-sm text-blue-600 font-medium",children:D.company.name})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>_(D),className:"text-gray-400 hover:text-blue-600 transition-colors",children:p.jsx(ah,{className:"h-4 w-4"})}),p.jsx("button",{onClick:()=>P(D.id),className:"text-gray-400 hover:text-red-600 transition-colors",children:p.jsx($r,{className:"h-4 w-4"})})]})]}),D.description&&p.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:D.description}),p.jsxs("div",{className:"space-y-2 mb-4",children:[D.date&&p.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[p.jsx(or,{className:"h-4 w-4 mr-2"}),p.jsx("span",{children:new Date(D.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),D.location&&p.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[p.jsx(Ic,{className:"h-4 w-4 mr-2"}),p.jsx("span",{className:"truncate",children:D.location})]}),p.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[p.jsx(Rn,{className:"h-4 w-4 mr-2"}),p.jsxs("span",{children:[D.attendee_count," registered • ",D.checked_in_count," checked in"]})]})]}),D.registration_qr&&p.jsx("div",{className:"border-t pt-4 mb-4",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Registration QR Code"}),p.jsx("div",{className:"flex justify-center mb-3",children:p.jsx("img",{src:D.registration_qr,alt:"Registration QR Code",className:"w-32 h-32 border border-gray-200 rounded-lg"})}),p.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Scan to register for this event"})]})}),p.jsx("div",{className:"border-t pt-4",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex space-x-2",children:[p.jsxs("button",{onClick:()=>navigator.clipboard.writeText(C(D.id)),className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center",children:[p.jsx(L6,{className:"h-4 w-4 mr-1"}),"Copy Link"]}),D.registration_qr&&p.jsxs("button",{onClick:()=>L(D),className:"text-green-600 hover:text-green-700 text-sm font-medium flex items-center",children:[p.jsx(Qr,{className:"h-4 w-4 mr-1"}),"Download"]})]}),p.jsxs("span",{className:"text-xs text-gray-500",children:["Max: ",D.max_attendees]})]})})]},D.id))}),t.length===0&&p.jsxs("div",{className:"text-center py-12",children:[p.jsx(or,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No events found"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first event to get started"}),p.jsx("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Event"})]}),a&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[p.jsx("h2",{className:"text-xl font-bold mb-4",children:h?"Edit Event":"Create New Event"}),p.jsxs("form",{onSubmit:M,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e?"Company":"Company *"}),e?p.jsx("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:((z=i.find(D=>D.id===e.company_id))==null?void 0:z.name)||"Your Company"}):p.jsxs("select",{value:w.company_id,onChange:D=>E({...w,company_id:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[p.jsx("option",{value:"",children:"Select a company"}),i.map(D=>p.jsx("option",{value:D.id,children:D.name},D.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Name *"}),p.jsx("input",{type:"text",value:w.name,onChange:D=>E({...w,name:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter event name",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),p.jsx("textarea",{value:w.description,onChange:D=>E({...w,description:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Enter event description"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date & Time"}),p.jsx("input",{type:"datetime-local",value:w.date,onChange:D=>E({...w,date:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Attendees"}),p.jsx("input",{type:"number",value:w.max_attendees,onChange:D=>E({...w,max_attendees:parseInt(D.target.value)||1e3}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),p.jsx("input",{type:"text",value:w.location,onChange:D=>E({...w,location:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter event location"})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),p.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:h?"Update Event":"Create Event"})]})]})]})})]})}function aI({userCompany:e}){const[t,n]=j.useState([]),[i,r]=j.useState([]),[a,c]=j.useState(""),[h,g]=j.useState(""),[m,b]=j.useState(!1),[w,E]=j.useState(!0),[A,O]=j.useState({event_id:"",name:"",email:"",phone:"",identification_number:"",staff_id:""});j.useEffect(()=>{M()},[]),j.useEffect(()=>{a?P():T()},[a]);const M=async()=>{try{let D=ue.from("events").select(`
          id,
          name,
          company_id,
          company:companies(name)
        `);e&&(D=D.eq("company_id",e.company_id));const{data:k,error:V}=await D.order("created_at",{ascending:!1});if(V)throw V;r(k),e&&k&&k.length>0&&c(k[0].id)}catch(D){le.error("Error fetching events: "+D.message)}},P=async()=>{try{E(!0);let D=ue.from("attendees").select(`
          *,
          event:events(
            name,
            company:companies(name)
          )
        `);if(a)D=D.eq("event_id",a);else if(e){const U=i.map(q=>q.id);U.length>0&&(D=D.in("event_id",U))}const{data:k,error:V}=await D.order("created_at",{ascending:!1});if(V)throw V;n(k)}catch(D){le.error("Error fetching attendees: "+D.message)}finally{E(!1)}},T=async()=>{try{E(!0);let D=ue.from("attendees").select(`
          *,
          event:events(
            name,
            company:companies(name)
          )
        `);if(e){const U=i.map(q=>q.id);U.length>0&&(D=D.in("event_id",U))}const{data:k,error:V}=await D.order("created_at",{ascending:!1});if(V)throw V;n(k)}catch(D){le.error("Error fetching attendees: "+D.message)}finally{E(!1)}},_=async D=>{if(D.preventDefault(),!(!A.name.trim()||!A.event_id))try{const k=crypto.randomUUID(),V=`${k}|${A.event_id}|${A.name}`,U=await Yi.toDataURL(V,{width:200,margin:1,errorCorrectionLevel:"L"}),{error:q}=await ue.from("attendees").insert([{id:k,event_id:A.event_id,name:A.name,email:A.email||null,phone:A.phone||null,identification_number:A.identification_number,staff_id:A.staff_id||null,qr_code:U}]);if(q)throw q;le.success("Attendee added successfully!"),C(),a?P():T()}catch(k){le.error("Error adding attendee: "+k.message)}},C=()=>{O({event_id:a,name:"",email:"",phone:"",identification_number:"",staff_id:""}),b(!1)},L=()=>{var q;const D=[["Name","Email","Phone","Event","Checked In","Check-in Time"],...z.map(Y=>[Y.name,Y.email||"",Y.phone||"",Y.event.name,Y.checked_in?"Yes":"No",Y.check_in_time?new Date(Y.check_in_time).toLocaleString():""])].map(Y=>Y.join(",")).join(`
`),k=new Blob([D],{type:"text/csv"}),V=window.URL.createObjectURL(k),U=document.createElement("a");U.href=V,U.download=`attendees-${a?(q=i.find(Y=>Y.id===a))==null?void 0:q.name:"all"}-${new Date().toISOString().split("T")[0]}.csv`,U.click(),window.URL.revokeObjectURL(V)},z=t.filter(D=>D.name.toLowerCase().includes(h.toLowerCase())||D.email&&D.email.toLowerCase().includes(h.toLowerCase())||D.identification_number&&D.identification_number.toLowerCase().includes(h.toLowerCase())||D.staff_id&&D.staff_id.toLowerCase().includes(h.toLowerCase()));return p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Attendee Management"}),p.jsx("p",{className:"text-gray-600 mt-2",children:"Manage event attendees and registrations"})]}),p.jsxs("div",{className:"flex space-x-3",children:[p.jsxs("button",{onClick:L,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[p.jsx(Vg,{className:"h-5 w-5 mr-2"}),"Export CSV"]}),p.jsxs("button",{onClick:()=>{O({...A,event_id:a}),b(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[p.jsx(t1,{className:"h-5 w-5 mr-2"}),"Add Attendee"]})]})]}),p.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[!e&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Event"}),p.jsxs("select",{value:a,onChange:D=>c(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"",children:"All Events"}),i.map(D=>p.jsxs("option",{value:D.id,children:[D.name," (",D.company.name,")"]},D.id))]})]}),e&&i.length>1&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Event"}),p.jsx("select",{value:a,onChange:D=>c(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:i.map(D=>p.jsx("option",{value:D.id,children:D.name},D.id))})]}),p.jsxs("div",{className:e&&i.length<=1?"md:col-span-2":"",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Attendees"}),p.jsxs("div",{className:"relative",children:[p.jsx(Q6,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),p.jsx("input",{type:"text",value:h,onChange:D=>g(D.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search by name, email, ID number, or staff ID"})]})]})]})}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[w?p.jsx("div",{className:"flex items-center justify-center h-64",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attendee"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Identification"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:z.map(D=>p.jsxs("tr",{className:"hover:bg-gray-50",children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsxs("div",{children:[p.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name}),D.staff_id&&p.jsxs("div",{className:"text-sm text-gray-500",children:["Staff: ",D.staff_id]})]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.identification_number})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsxs("div",{children:[p.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.event.name}),p.jsx("div",{className:"text-sm text-gray-500",children:D.event.company.name})]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsxs("div",{className:"text-sm text-gray-900",children:[D.email&&p.jsx("div",{children:D.email}),D.phone&&p.jsx("div",{children:D.phone})]})}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[p.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${D.checked_in?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:D.checked_in?"Checked In":"Registered"}),D.check_in_time&&p.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(D.check_in_time).toLocaleString()})]}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:p.jsxs("button",{onClick:()=>window.open(`/public/ticket/${D.id}`,"_blank"),className:"text-blue-600 hover:text-blue-900 flex items-center",children:[p.jsx(Qr,{className:"h-4 w-4 mr-1"}),"View Ticket"]})})]},D.id))})]})}),z.length===0&&!w&&p.jsxs("div",{className:"text-center py-12",children:[p.jsx(Rn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No attendees found"}),p.jsx("p",{className:"text-gray-600 mb-4",children:h?"No attendees match your search criteria":"No attendees registered yet"})]})]}),m&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[p.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Attendee"}),p.jsxs("form",{onSubmit:_,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event *"}),p.jsxs("select",{value:A.event_id,onChange:D=>O({...A,event_id:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[p.jsx("option",{value:"",children:"Select an event"}),i.map(D=>p.jsx("option",{value:D.id,children:e?D.name:`${D.name} (${D.company.name})`},D.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),p.jsx("input",{type:"text",value:A.name,onChange:D=>O({...A,name:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter full name",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Identification Number *"}),p.jsx("input",{type:"text",value:A.identification_number,onChange:D=>O({...A,identification_number:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter identification number",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Staff ID"}),p.jsx("input",{type:"text",value:A.staff_id,onChange:D=>O({...A,staff_id:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter staff ID (optional)"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),p.jsx("input",{type:"email",value:A.email,onChange:D=>O({...A,email:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),p.jsx("input",{type:"tel",value:A.phone,onChange:D=>O({...A,phone:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone number"})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),p.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Attendee"})]})]})]})})]})}var fe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(fe||(fe={}));var ey=new Map([[fe.QR_CODE,"QR_CODE"],[fe.AZTEC,"AZTEC"],[fe.CODABAR,"CODABAR"],[fe.CODE_39,"CODE_39"],[fe.CODE_93,"CODE_93"],[fe.CODE_128,"CODE_128"],[fe.DATA_MATRIX,"DATA_MATRIX"],[fe.MAXICODE,"MAXICODE"],[fe.ITF,"ITF"],[fe.EAN_13,"EAN_13"],[fe.EAN_8,"EAN_8"],[fe.PDF_417,"PDF_417"],[fe.RSS_14,"RSS_14"],[fe.RSS_EXPANDED,"RSS_EXPANDED"],[fe.UPC_A,"UPC_A"],[fe.UPC_E,"UPC_E"],[fe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),ty;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(ty||(ty={}));function oI(e){return Object.values(fe).includes(e)}var lr;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(lr||(lr={}));var bi=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[lr.SCAN_TYPE_CAMERA,lr.SCAN_TYPE_FILE],e}(),DE=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!ey.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,ey.get(t))},e}(),ny=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),a1;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(a1||(a1={}));var RE=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:a1.UNKWOWN_ERROR}},e}(),OE=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ji(e){return typeof e>"u"||e===null}function lI(e,t,n){return e>n?n:e<t?t:e}var Fa=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Ze=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),iy=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),jE=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var i=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var r=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(r),c=Object.keys(t),h=0,g=c;h<g.length;h++){var m=g[h];if(a.has(m))return n.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e}(),o1={exports:{}};(function(e,t){(function(n,i){i(t)})(sn,function(n){function i(N){return N==null}var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,s){N.__proto__=s}||function(N,s){for(var o in s)s.hasOwnProperty(o)&&(N[o]=s[o])};function a(N,s){r(N,s);function o(){this.constructor=N}N.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}function c(N,s){var o=Object.setPrototypeOf;o?o(N,s):N.__proto__=s}function h(N,s){s===void 0&&(s=N.constructor);var o=Error.captureStackTrace;o&&o(N,s)}var g=function(N){a(s,N);function s(o){var l=this.constructor,u=N.call(this,o)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),c(u,l.prototype),h(u),u}return s}(Error);class m extends g{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}m.kind="Exception";class b extends m{}b.kind="ArgumentException";class w extends m{}w.kind="IllegalArgumentException";class E{constructor(s){if(this.binarizer=s,s===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,o){return this.binarizer.getBlackRow(s,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,o,l,u){const d=this.binarizer.getLuminanceSource().crop(s,o,l,u);return new E(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class A extends m{static getChecksumInstance(){return new A}}A.kind="ChecksumException";class O{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class M{static arraycopy(s,o,l,u,d){for(;d--;)l[u++]=s[o++]}static currentTimeMillis(){return Date.now()}}class P extends m{}P.kind="IndexOutOfBoundsException";class T extends P{constructor(s=void 0,o=void 0){super(o),this.index=s,this.message=o}}T.kind="ArrayIndexOutOfBoundsException";class _{static fill(s,o){for(let l=0,u=s.length;l<u;l++)s[l]=o}static fillWithin(s,o,l,u){_.rangeCheck(s.length,o,l);for(let d=o;d<l;d++)s[d]=u}static rangeCheck(s,o,l){if(o>l)throw new w("fromIndex("+o+") > toIndex("+l+")");if(o<0)throw new T(o);if(l>s)throw new T(l)}static asList(...s){return s}static create(s,o,l){return Array.from({length:s}).map(d=>Array.from({length:o}).fill(l))}static createInt32Array(s,o,l){return Array.from({length:s}).map(d=>Int32Array.from({length:o}).fill(l))}static equals(s,o){if(!s||!o||!s.length||!o.length||s.length!==o.length)return!1;for(let l=0,u=s.length;l<u;l++)if(s[l]!==o[l])return!1;return!0}static hashCode(s){if(s===null)return 0;let o=1;for(const l of s)o=31*o+l;return o}static fillUint8Array(s,o){for(let l=0;l!==s.length;l++)s[l]=o}static copyOf(s,o){return s.slice(0,o)}static copyOfUint8Array(s,o){if(s.length<=o){const l=new Uint8Array(o);return l.set(s),l}return s.slice(0,o)}static copyOfRange(s,o,l){const u=l-o,d=new Int32Array(u);return M.arraycopy(s,o,d,0,u),d}static binarySearch(s,o,l){l===void 0&&(l=_.numberComparator);let u=0,d=s.length-1;for(;u<=d;){const f=d+u>>1,x=l(o,s[f]);if(x>0)u=f+1;else if(x<0)d=f-1;else return f}return-u-1}static numberComparator(s,o){return s-o}}class C{static numberOfTrailingZeros(s){let o;if(s===0)return 32;let l=31;return o=s<<16,o!==0&&(l-=16,s=o),o=s<<8,o!==0&&(l-=8,s=o),o=s<<4,o!==0&&(l-=4,s=o),o=s<<2,o!==0&&(l-=2,s=o),l-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let o=1;return s>>>16||(o+=16,s<<=16),s>>>24||(o+=8,s<<=8),s>>>28||(o+=4,s<<=4),s>>>30||(o+=2,s<<=2),o-=s>>>31,o}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,o){return Math.trunc(s/o)}static parseInt(s,o=void 0){return parseInt(s,o)}}C.MIN_VALUE_32_BITS=-2147483648,C.MAX_VALUE=Number.MAX_SAFE_INTEGER;class L{constructor(s,o){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,o==null?this.bits=L.makeArray(s):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const o=L.makeArray(s);M.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const o=this.size;if(s>=o)return o;const l=this.bits;let u=Math.floor(s/32),d=l[u];d&=~((1<<(s&31))-1);const f=l.length;for(;d===0;){if(++u===f)return o;d=l[u]}const x=u*32+C.numberOfTrailingZeros(d);return x>o?o:x}getNextUnset(s){const o=this.size;if(s>=o)return o;const l=this.bits;let u=Math.floor(s/32),d=~l[u];d&=~((1<<(s&31))-1);const f=l.length;for(;d===0;){if(++u===f)return o;d=~l[u]}const x=u*32+C.numberOfTrailingZeros(d);return x>o?o:x}setBulk(s,o){this.bits[Math.floor(s/32)]=o}setRange(s,o){if(o<s||s<0||o>this.size)throw new w;if(o===s)return;o--;const l=Math.floor(s/32),u=Math.floor(o/32),d=this.bits;for(let f=l;f<=u;f++){const x=f>l?0:s&31,v=(2<<(f<u?31:o&31))-(1<<x);d[f]|=v}}clear(){const s=this.bits.length,o=this.bits;for(let l=0;l<s;l++)o[l]=0}isRange(s,o,l){if(o<s||s<0||o>this.size)throw new w;if(o===s)return!0;o--;const u=Math.floor(s/32),d=Math.floor(o/32),f=this.bits;for(let x=u;x<=d;x++){const y=x>u?0:s&31,S=(2<<(x<d?31:o&31))-(1<<y)&4294967295;if((f[x]&S)!==(l?S:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,o){if(o<0||o>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let l=o;l>0;l--)this.appendBit((s>>l-1&1)===1)}appendBitArray(s){const o=s.size;this.ensureCapacity(this.size+o);for(let l=0;l<o;l++)this.appendBit(s.get(l))}xor(s){if(this.size!==s.size)throw new w("Sizes don't match");const o=this.bits;for(let l=0,u=o.length;l<u;l++)o[l]^=s.bits[l]}toBytes(s,o,l,u){for(let d=0;d<u;d++){let f=0;for(let x=0;x<8;x++)this.get(s)&&(f|=1<<7-x),s++;o[l+d]=f}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),l=o+1,u=this.bits;for(let d=0;d<l;d++){let f=u[d];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,s[o-d]=f}if(this.size!==l*32){const d=l*32-this.size;let f=s[0]>>>d;for(let x=1;x<l;x++){const y=s[x];f|=y<<32-d,s[x-1]=f,f=y>>>d}s[l-1]=f}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof L))return!1;const o=s;return this.size===o.size&&_.equals(this.bits,o.bits)}hashCode(){return 31*this.size+_.hashCode(this.bits)}toString(){let s="";for(let o=0,l=this.size;o<l;o++)o&7||(s+=" "),s+=this.get(o)?"X":".";return s}clone(){return new L(this.size,this.bits.slice())}}var z;(function(N){N[N.OTHER=0]="OTHER",N[N.PURE_BARCODE=1]="PURE_BARCODE",N[N.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",N[N.TRY_HARDER=3]="TRY_HARDER",N[N.CHARACTER_SET=4]="CHARACTER_SET",N[N.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",N[N.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",N[N.ASSUME_GS1=7]="ASSUME_GS1",N[N.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",N[N.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",N[N.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(z||(z={}));var D=z;class k extends m{static getFormatInstance(){return new k}}k.kind="FormatException";var V;(function(N){N[N.Cp437=0]="Cp437",N[N.ISO8859_1=1]="ISO8859_1",N[N.ISO8859_2=2]="ISO8859_2",N[N.ISO8859_3=3]="ISO8859_3",N[N.ISO8859_4=4]="ISO8859_4",N[N.ISO8859_5=5]="ISO8859_5",N[N.ISO8859_6=6]="ISO8859_6",N[N.ISO8859_7=7]="ISO8859_7",N[N.ISO8859_8=8]="ISO8859_8",N[N.ISO8859_9=9]="ISO8859_9",N[N.ISO8859_10=10]="ISO8859_10",N[N.ISO8859_11=11]="ISO8859_11",N[N.ISO8859_13=12]="ISO8859_13",N[N.ISO8859_14=13]="ISO8859_14",N[N.ISO8859_15=14]="ISO8859_15",N[N.ISO8859_16=15]="ISO8859_16",N[N.SJIS=16]="SJIS",N[N.Cp1250=17]="Cp1250",N[N.Cp1251=18]="Cp1251",N[N.Cp1252=19]="Cp1252",N[N.Cp1256=20]="Cp1256",N[N.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",N[N.UTF8=22]="UTF8",N[N.ASCII=23]="ASCII",N[N.Big5=24]="Big5",N[N.GB18030=25]="GB18030",N[N.EUC_KR=26]="EUC_KR"})(V||(V={}));class U{constructor(s,o,l,...u){this.valueIdentifier=s,this.name=l,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=u,U.VALUE_IDENTIFIER_TO_ECI.set(s,this),U.NAME_TO_ECI.set(l,this);const d=this.values;for(let f=0,x=d.length;f!==x;f++){const y=d[f];U.VALUES_TO_ECI.set(y,this)}for(const f of u)U.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new k("incorect value");const o=U.VALUES_TO_ECI.get(s);if(o===void 0)throw new k("incorect value");return o}static getCharacterSetECIByName(s){const o=U.NAME_TO_ECI.get(s);if(o===void 0)throw new k("incorect value");return o}equals(s){if(!(s instanceof U))return!1;const o=s;return this.getName()===o.getName()}}U.VALUE_IDENTIFIER_TO_ECI=new Map,U.VALUES_TO_ECI=new Map,U.NAME_TO_ECI=new Map,U.Cp437=new U(V.Cp437,Int32Array.from([0,2]),"Cp437"),U.ISO8859_1=new U(V.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),U.ISO8859_2=new U(V.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),U.ISO8859_3=new U(V.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),U.ISO8859_4=new U(V.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),U.ISO8859_5=new U(V.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),U.ISO8859_6=new U(V.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),U.ISO8859_7=new U(V.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),U.ISO8859_8=new U(V.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),U.ISO8859_9=new U(V.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),U.ISO8859_10=new U(V.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),U.ISO8859_11=new U(V.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),U.ISO8859_13=new U(V.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),U.ISO8859_14=new U(V.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),U.ISO8859_15=new U(V.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),U.ISO8859_16=new U(V.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),U.SJIS=new U(V.SJIS,20,"SJIS","Shift_JIS"),U.Cp1250=new U(V.Cp1250,21,"Cp1250","windows-1250"),U.Cp1251=new U(V.Cp1251,22,"Cp1251","windows-1251"),U.Cp1252=new U(V.Cp1252,23,"Cp1252","windows-1252"),U.Cp1256=new U(V.Cp1256,24,"Cp1256","windows-1256"),U.UnicodeBigUnmarked=new U(V.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),U.UTF8=new U(V.UTF8,26,"UTF8","UTF-8"),U.ASCII=new U(V.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),U.Big5=new U(V.Big5,28,"Big5"),U.GB18030=new U(V.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),U.EUC_KR=new U(V.EUC_KR,30,"EUC_KR","EUC-KR");class q extends m{}q.kind="UnsupportedOperationException";class Y{static decode(s,o){const l=this.encodingName(o);return this.customDecoder?this.customDecoder(s,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(s,l):new TextDecoder(l).decode(s)}static shouldDecodeOnFallback(s){return!Y.isBrowser()&&s==="ISO-8859-1"}static encode(s,o){const l=this.encodingName(o);return this.customEncoder?this.customEncoder(s,l):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof U?s:U.getCharacterSetECIByName(s)}static decodeFallback(s,o){const l=this.encodingCharacterSet(o);if(Y.isDecodeFallbackSupported(l)){let u="";for(let d=0,f=s.length;d<f;d++){let x=s[d].toString(16);x.length<2&&(x="0"+x),u+="%"+x}return decodeURIComponent(u)}if(l.equals(U.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new q(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(U.UTF8)||s.equals(U.ISO8859_1)||s.equals(U.ASCII)}static encodeFallback(s){const l=btoa(unescape(encodeURIComponent(s))).split(""),u=[];for(let d=0;d<l.length;d++)u.push(l[d].charCodeAt(0));return new Uint8Array(u)}}class ${static castAsNonUtf8Char(s,o=null){const l=o?o.getName():this.ISO88591;return Y.decode(new Uint8Array([s]),l)}static guessEncoding(s,o){if(o!=null&&o.get(D.CHARACTER_SET)!==void 0)return o.get(D.CHARACTER_SET).toString();const l=s.length;let u=!0,d=!0,f=!0,x=0,y=0,v=0,S=0,I=0,R=0,F=0,H=0,G=0,X=0,Q=0;const ae=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let oe=0;oe<l&&(u||d||f);oe++){const re=s[oe]&255;f&&(x>0?re&128?x--:f=!1:re&128&&(re&64?(x++,re&32?(x++,re&16?(x++,re&8?f=!1:S++):v++):y++):f=!1)),u&&(re>127&&re<160?u=!1:re>159&&(re<192||re===215||re===247)&&Q++),d&&(I>0?re<64||re===127||re>252?d=!1:I--:re===128||re===160||re>239?d=!1:re>160&&re<224?(R++,H=0,F++,F>G&&(G=F)):re>127?(I++,F=0,H++,H>X&&(X=H)):(F=0,H=0))}return f&&x>0&&(f=!1),d&&I>0&&(d=!1),f&&(ae||y+v+S>0)?$.UTF8:d&&($.ASSUME_SHIFT_JIS||G>=3||X>=3)?$.SHIFT_JIS:u&&d?G===2&&R===2||Q*10>=l?$.SHIFT_JIS:$.ISO88591:u?$.ISO88591:d?$.SHIFT_JIS:f?$.UTF8:$.PLATFORM_DEFAULT_ENCODING}static format(s,...o){let l=-1;function u(f,x,y,v,S,I){if(f==="%%")return"%";if(o[++l]===void 0)return;f=v?parseInt(v.substr(1)):void 0;let R=S?parseInt(S.substr(1)):void 0,F;switch(I){case"s":F=o[l];break;case"c":F=o[l][0];break;case"f":F=parseFloat(o[l]).toFixed(f);break;case"p":F=parseFloat(o[l]).toPrecision(f);break;case"e":F=parseFloat(o[l]).toExponential(f);break;case"x":F=parseInt(o[l]).toString(R||16);break;case"d":F=parseFloat(parseInt(o[l],R||10).toPrecision(f)).toFixed(0);break}F=typeof F=="object"?JSON.stringify(F):(+F).toString(R);let H=parseInt(y),G=y&&y[0]+""=="0"?"0":" ";for(;F.length<H;)F=x!==void 0?F+G:G+F;return F}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,u)}static getBytes(s,o){return Y.encode(s,o)}static getCharCode(s,o=0){return s.charCodeAt(o)}static getCharAt(s){return String.fromCharCode(s)}}$.SHIFT_JIS=U.SJIS.getName(),$.GB2312="GB2312",$.ISO88591=U.ISO8859_1.getName(),$.EUC_JP="EUC_JP",$.UTF8=U.UTF8.getName(),$.PLATFORM_DEFAULT_ENCODING=$.UTF8,$.ASSUME_SHIFT_JIS=!1;class ie{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=$.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,o,l){for(let u=o;o<o+l;u++)this.append(s[u]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+1)}substring(s,o){return this.value.substring(s,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+o.length)}}class de{constructor(s,o,l,u){if(this.width=s,this.height=o,this.rowSize=l,this.bits=u,o==null&&(o=s),this.height=o,s<1||o<1)throw new w("Both dimensions must be greater than 0");l==null&&(l=Math.floor((s+31)/32)),this.rowSize=l,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const o=s.length,l=s[0].length,u=new de(l,o);for(let d=0;d<o;d++){const f=s[d];for(let x=0;x<l;x++)f[x]&&u.set(x,d)}return u}static parseFromString(s,o,l){if(s===null)throw new w("stringRepresentation cannot be null");const u=new Array(s.length);let d=0,f=0,x=-1,y=0,v=0;for(;v<s.length;)if(s.charAt(v)===`
`||s.charAt(v)==="\r"){if(d>f){if(x===-1)x=d-f;else if(d-f!==x)throw new w("row lengths do not match");f=d,y++}v++}else if(s.substring(v,v+o.length)===o)v+=o.length,u[d]=!0,d++;else if(s.substring(v,v+l.length)===l)v+=l.length,u[d]=!1,d++;else throw new w("illegal character encountered: "+s.substring(v));if(d>f){if(x===-1)x=d-f;else if(d-f!==x)throw new w("row lengths do not match");y++}const S=new de(x,y);for(let I=0;I<d;I++)u[I]&&S.set(Math.floor(I%x),Math.floor(I/x));return S}get(s,o){const l=o*this.rowSize+Math.floor(s/32);return(this.bits[l]>>>(s&31)&1)!==0}set(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]|=1<<(s&31)&4294967295}unset(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]&=~(1<<(s&31)&4294967295)}flip(s,o){const l=o*this.rowSize+Math.floor(s/32);this.bits[l]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new w("input matrix dimensions do not match");const o=new L(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let d=0,f=this.height;d<f;d++){const x=d*l,y=s.getRow(d,o).getBitArray();for(let v=0;v<l;v++)u[x+v]^=y[v]}}clear(){const s=this.bits,o=s.length;for(let l=0;l<o;l++)s[l]=0}setRegion(s,o,l,u){if(o<0||s<0)throw new w("Left and top must be nonnegative");if(u<1||l<1)throw new w("Height and width must be at least 1");const d=s+l,f=o+u;if(f>this.height||d>this.width)throw new w("The region must fit inside the matrix");const x=this.rowSize,y=this.bits;for(let v=o;v<f;v++){const S=v*x;for(let I=s;I<d;I++)y[S+Math.floor(I/32)]|=1<<(I&31)&4294967295}}getRow(s,o){o==null||o.getSize()<this.width?o=new L(this.width):o.clear();const l=this.rowSize,u=this.bits,d=s*l;for(let f=0;f<l;f++)o.setBulk(f*32,u[d+f]);return o}setRow(s,o){M.arraycopy(o.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),o=this.getHeight();let l=new L(s),u=new L(s);for(let d=0,f=Math.floor((o+1)/2);d<f;d++)l=this.getRow(d,l),u=this.getRow(o-1-d,u),l.reverse(),u.reverse(),this.setRow(d,u),this.setRow(o-1-d,l)}getEnclosingRectangle(){const s=this.width,o=this.height,l=this.rowSize,u=this.bits;let d=s,f=o,x=-1,y=-1;for(let v=0;v<o;v++)for(let S=0;S<l;S++){const I=u[v*l+S];if(I!==0){if(v<f&&(f=v),v>y&&(y=v),S*32<d){let R=0;for(;!(I<<31-R&4294967295);)R++;S*32+R<d&&(d=S*32+R)}if(S*32+31>x){let R=31;for(;!(I>>>R);)R--;S*32+R>x&&(x=S*32+R)}}}return x<d||y<f?null:Int32Array.from([d,f,x-d+1,y-f+1])}getTopLeftOnBit(){const s=this.rowSize,o=this.bits;let l=0;for(;l<o.length&&o[l]===0;)l++;if(l===o.length)return null;const u=l/s;let d=l%s*32;const f=o[l];let x=0;for(;!(f<<31-x&4294967295);)x++;return d+=x,Int32Array.from([d,u])}getBottomRightOnBit(){const s=this.rowSize,o=this.bits;let l=o.length-1;for(;l>=0&&o[l]===0;)l--;if(l<0)return null;const u=Math.floor(l/s);let d=Math.floor(l%s)*32;const f=o[l];let x=31;for(;!(f>>>x);)x--;return d+=x,Int32Array.from([d,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof de))return!1;const o=s;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&_.equals(this.bits,o.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+_.hashCode(this.bits),s}toString(s="X ",o="  ",l=`
`){return this.buildToString(s,o,l)}buildToString(s,o,l){let u=new ie;for(let d=0,f=this.height;d<f;d++){for(let x=0,y=this.width;x<y;x++)u.append(this.get(x,d)?s:o);u.append(l)}return u.toString()}clone(){return new de(this.width,this.height,this.rowSize,this.bits.slice())}}class Z extends m{static getNotFoundInstance(){return new Z}}Z.kind="NotFoundException";class J extends O{constructor(s){super(s),this.luminances=J.EMPTY,this.buckets=new Int32Array(J.LUMINANCE_BUCKETS)}getBlackRow(s,o){const l=this.getLuminanceSource(),u=l.getWidth();o==null||o.getSize()<u?o=new L(u):o.clear(),this.initArrays(u);const d=l.getRow(s,this.luminances),f=this.buckets;for(let y=0;y<u;y++)f[(d[y]&255)>>J.LUMINANCE_SHIFT]++;const x=J.estimateBlackPoint(f);if(u<3)for(let y=0;y<u;y++)(d[y]&255)<x&&o.set(y);else{let y=d[0]&255,v=d[1]&255;for(let S=1;S<u-1;S++){const I=d[S+1]&255;(v*4-y-I)/2<x&&o.set(S),y=v,v=I}}return o}getBlackMatrix(){const s=this.getLuminanceSource(),o=s.getWidth(),l=s.getHeight(),u=new de(o,l);this.initArrays(o);const d=this.buckets;for(let y=1;y<5;y++){const v=Math.floor(l*y/5),S=s.getRow(v,this.luminances),I=Math.floor(o*4/5);for(let R=Math.floor(o/5);R<I;R++){const F=S[R]&255;d[F>>J.LUMINANCE_SHIFT]++}}const f=J.estimateBlackPoint(d),x=s.getMatrix();for(let y=0;y<l;y++){const v=y*o;for(let S=0;S<o;S++)(x[v+S]&255)<f&&u.set(S,y)}return u}createBinarizer(s){return new J(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const o=this.buckets;for(let l=0;l<J.LUMINANCE_BUCKETS;l++)o[l]=0}static estimateBlackPoint(s){const o=s.length;let l=0,u=0,d=0;for(let S=0;S<o;S++)s[S]>d&&(u=S,d=s[S]),s[S]>l&&(l=s[S]);let f=0,x=0;for(let S=0;S<o;S++){const I=S-u,R=s[S]*I*I;R>x&&(f=S,x=R)}if(u>f){const S=u;u=f,f=S}if(f-u<=o/16)throw new Z;let y=f-1,v=-1;for(let S=f-1;S>u;S--){const I=S-u,R=I*I*(f-S)*(l-s[S]);R>v&&(y=S,v=R)}return y<<J.LUMINANCE_SHIFT}}J.LUMINANCE_BITS=5,J.LUMINANCE_SHIFT=8-J.LUMINANCE_BITS,J.LUMINANCE_BUCKETS=1<<J.LUMINANCE_BITS,J.EMPTY=Uint8ClampedArray.from([0]);class se extends J{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),o=s.getWidth(),l=s.getHeight();if(o>=se.MINIMUM_DIMENSION&&l>=se.MINIMUM_DIMENSION){const u=s.getMatrix();let d=o>>se.BLOCK_SIZE_POWER;o&se.BLOCK_SIZE_MASK&&d++;let f=l>>se.BLOCK_SIZE_POWER;l&se.BLOCK_SIZE_MASK&&f++;const x=se.calculateBlackPoints(u,d,f,o,l),y=new de(o,l);se.calculateThresholdForBlock(u,d,f,o,l,x,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new se(s)}static calculateThresholdForBlock(s,o,l,u,d,f,x){const y=d-se.BLOCK_SIZE,v=u-se.BLOCK_SIZE;for(let S=0;S<l;S++){let I=S<<se.BLOCK_SIZE_POWER;I>y&&(I=y);const R=se.cap(S,2,l-3);for(let F=0;F<o;F++){let H=F<<se.BLOCK_SIZE_POWER;H>v&&(H=v);const G=se.cap(F,2,o-3);let X=0;for(let ae=-2;ae<=2;ae++){const oe=f[R+ae];X+=oe[G-2]+oe[G-1]+oe[G]+oe[G+1]+oe[G+2]}const Q=X/25;se.thresholdBlock(s,H,I,Q,u,x)}}}static cap(s,o,l){return s<o?o:s>l?l:s}static thresholdBlock(s,o,l,u,d,f){for(let x=0,y=l*d+o;x<se.BLOCK_SIZE;x++,y+=d)for(let v=0;v<se.BLOCK_SIZE;v++)(s[y+v]&255)<=u&&f.set(o+v,l+x)}static calculateBlackPoints(s,o,l,u,d){const f=d-se.BLOCK_SIZE,x=u-se.BLOCK_SIZE,y=new Array(l);for(let v=0;v<l;v++){y[v]=new Int32Array(o);let S=v<<se.BLOCK_SIZE_POWER;S>f&&(S=f);for(let I=0;I<o;I++){let R=I<<se.BLOCK_SIZE_POWER;R>x&&(R=x);let F=0,H=255,G=0;for(let Q=0,ae=S*u+R;Q<se.BLOCK_SIZE;Q++,ae+=u){for(let oe=0;oe<se.BLOCK_SIZE;oe++){const re=s[ae+oe]&255;F+=re,re<H&&(H=re),re>G&&(G=re)}if(G-H>se.MIN_DYNAMIC_RANGE)for(Q++,ae+=u;Q<se.BLOCK_SIZE;Q++,ae+=u)for(let oe=0;oe<se.BLOCK_SIZE;oe++)F+=s[ae+oe]&255}let X=F>>se.BLOCK_SIZE_POWER*2;if(G-H<=se.MIN_DYNAMIC_RANGE&&(X=H/2,v>0&&I>0)){const Q=(y[v-1][I]+2*y[v][I-1]+y[v-1][I-1])/4;H<Q&&(X=Q)}y[v][I]=X}}return y}}se.BLOCK_SIZE_POWER=3,se.BLOCK_SIZE=1<<se.BLOCK_SIZE_POWER,se.BLOCK_SIZE_MASK=se.BLOCK_SIZE-1,se.MINIMUM_DIMENSION=se.BLOCK_SIZE*5,se.MIN_DYNAMIC_RANGE=24;class me{constructor(s,o){this.width=s,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,o,l,u){throw new q("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new q("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new q("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let o=new ie;for(let l=0;l<this.height;l++){const u=this.getRow(l,s);for(let d=0;d<this.width;d++){const f=u[d]&255;let x;f<64?x="#":f<128?x="+":f<192?x=".":x=" ",o.append(x)}o.append(`
`)}return o.toString()}}class Oe extends me{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,o){const l=this.delegate.getRow(s,o),u=this.getWidth();for(let d=0;d<u;d++)l[d]=255-(l[d]&255);return l}getMatrix(){const s=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(o);for(let u=0;u<o;u++)l[u]=255-(s[u]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(s,o,l,u){return new Oe(this.delegate.crop(s,o,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Oe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Oe(this.delegate.rotateCounterClockwise45())}}class te extends me{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=te.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const o=s.getContext("2d").getImageData(0,0,s.width,s.height);return te.toGrayscaleBuffer(o.data,s.width,s.height)}static toGrayscaleBuffer(s,o,l){const u=new Uint8ClampedArray(o*l);for(let d=0,f=0,x=s.length;d<x;d+=4,f++){let y;if(s[d+3]===0)y=255;else{const S=s[d],I=s[d+1],R=s[d+2];y=306*S+601*I+117*R+512>>10}u[f]=y}return u}getRow(s,o){if(s<0||s>=this.getHeight())throw new w("Requested row is outside the image: "+s);const l=this.getWidth(),u=s*l;return o===null?o=this.buffer.slice(u,u+l):(o.length<l&&(o=new Uint8ClampedArray(l)),o.set(this.buffer.slice(u,u+l))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,o,l,u){return super.crop(s,o,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const o=this.getTempCanvasElement(),l=o.getContext("2d"),u=s*te.DEGREE_TO_RADIANS,d=this.canvas.width,f=this.canvas.height,x=Math.ceil(Math.abs(Math.cos(u))*d+Math.abs(Math.sin(u))*f),y=Math.ceil(Math.abs(Math.sin(u))*d+Math.abs(Math.cos(u))*f);return o.width=x,o.height=y,l.translate(x/2,y/2),l.rotate(u),l.drawImage(this.canvas,d/-2,f/-2),this.buffer=te.makeBufferFromCanvasImageData(o),this}invert(){return new Oe(this)}}te.DEGREE_TO_RADIANS=Math.PI/180;class be{constructor(s,o,l){this.deviceId=s,this.label=o,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Pe=(globalThis||sn||self||window||void 0)&&(globalThis||sn||self||window||void 0).__awaiter||function(N,s,o,l){function u(d){return d instanceof o?d:new o(function(f){f(d)})}return new(o||(o=Promise))(function(d,f){function x(S){try{v(l.next(S))}catch(I){f(I)}}function y(S){try{v(l.throw(S))}catch(I){f(I)}}function v(S){S.done?d(S.value):u(S.value).then(x,y)}v((l=l.apply(N,s||[])).next())})};class dt{constructor(s,o=500,l){this.reader=s,this.timeBetweenScansMillis=o,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return Pe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const l of s){const u=l.kind==="video"?"videoinput":l.kind;if(u!=="videoinput")continue;const d=l.deviceId||l.id,f=l.label||`Video device ${o.length+1}`,x=l.groupId,y={deviceId:d,label:f,kind:u,groupId:x};o.push(y)}return o})}getVideoInputDevices(){return Pe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new be(o.deviceId,o.label))})}findDeviceById(s){return Pe(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(l=>l.deviceId===s):null})}decodeFromInputVideoDevice(s,o){return Pe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,o)})}decodeOnceFromVideoDevice(s,o){return Pe(this,void 0,void 0,function*(){this.reset();let l;s?l={deviceId:{exact:s}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,o)})}decodeOnceFromConstraints(s,o){return Pe(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(l,o)})}decodeOnceFromStream(s,o){return Pe(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(s,o);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(s,o,l){return Pe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,o,l)})}decodeFromVideoDevice(s,o,l){return Pe(this,void 0,void 0,function*(){let u;s?u={deviceId:{exact:s}}:u={facingMode:"environment"};const d={video:u};return yield this.decodeFromConstraints(d,o,l)})}decodeFromConstraints(s,o,l){return Pe(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(u,o,l)})}decodeFromStream(s,o,l){return Pe(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(s,o);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,o){return Pe(this,void 0,void 0,function*(){const l=this.prepareVideoElement(o);return this.addVideoSource(l,s),this.videoElement=l,this.stream=s,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(s){return new Promise((o,l)=>this.playVideoOnLoad(s,()=>o()))}playVideoOnLoad(s,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",o),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return Pe(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,o){const l=document.getElementById(s);if(!l)throw new b(`element with id '${s}' not found`);if(l.nodeName.toLowerCase()!==o.toLowerCase())throw new b(`element with id '${s}' must be an ${o} element`);return l}decodeFromImage(s,o){if(!s&&!o)throw new b("either imageElement with a src set or an url must be provided");return o&&!s?this.decodeFromImageUrl(o):this.decodeFromImageElement(s)}decodeFromVideo(s,o){if(!s&&!o)throw new b("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,o,l){if(s===void 0&&o===void 0)throw new b("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrlContinuously(o,l):this.decodeFromVideoElementContinuously(s,l)}decodeFromImageElement(s){if(!s)throw new b("An image element must be provided.");this.reset();const o=this.prepareImageElement(s);this.imageElement=o;let l;return this.isImageLoaded(o)?l=this.decodeOnce(o,!1,!0):l=this._decodeOnLoadImage(o),l}decodeFromVideoElement(s){const o=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(s,o){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(l,o)}_decodeFromVideoElementSetup(s){if(!s)throw new b("A video element must be provided.");this.reset();const o=this.prepareVideoElement(s);return this.videoElement=o,o}decodeFromImageUrl(s){if(!s)throw new b("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const l=this._decodeOnLoadImage(o);return o.src=s,l}decodeFromVideoUrl(s){if(!s)throw new b("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElement(o);return o.src=s,l}decodeFromVideoUrlContinuously(s,o){if(!s)throw new b("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,o);return l.src=s,u}_decodeOnLoadImage(s){return new Promise((o,l)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(o,l),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return Pe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,o){return Pe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,o)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let o;return typeof s>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(o=s),o}prepareVideoElement(s){let o;return!s&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(o=s),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(s,o=!0,l=!0){this._stopAsyncDecode=!1;const u=(d,f)=>{if(this._stopAsyncDecode){f(new Z("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const x=this.decode(s);d(x)}catch(x){const y=o&&x instanceof Z,S=(x instanceof A||x instanceof k)&&l;if(y||S)return setTimeout(u,this._timeBetweenDecodingAttempts,d,f);f(x)}};return new Promise((d,f)=>u(d,f))}decodeContinuously(s,o){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(s);o(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){o(null,u);const d=u instanceof A||u instanceof k,f=u instanceof Z;(d||f)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(s){const o=this.createBinaryBitmap(s);return this.decodeBitmap(o)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,o,l){o||(o={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(s,o,l=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const o=this.getCaptureCanvas(s),l=new te(o),u=new se(l);return new E(u)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const o=this.createCaptureCanvas(s);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let l,u;return typeof s<"u"&&(s instanceof HTMLVideoElement?(l=s.videoWidth,u=s.videoHeight):s instanceof HTMLImageElement&&(l=s.naturalWidth||s.width,u=s.naturalHeight||s.height)),o.style.width=l+"px",o.style.height=u+"px",o.width=l,o.height=u,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,o){try{s.srcObject=o}catch{s.src=URL.createObjectURL(o)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class ke{constructor(s,o,l=o==null?0:8*o.length,u,d,f=M.currentTimeMillis()){this.text=s,this.rawBytes=o,this.numBits=l,this.resultPoints=u,this.format=d,this.timestamp=f,this.text=s,this.rawBytes=o,l==null?this.numBits=o==null?0:8*o.length:this.numBits=l,this.resultPoints=u,this.format=d,this.resultMetadata=null,f==null?this.timestamp=M.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,o)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const o=this.resultPoints;if(o===null)this.resultPoints=s;else if(s!==null&&s.length>0){const l=new Array(o.length+s.length);M.arraycopy(o,0,l,0,o.length),M.arraycopy(s,0,l,o.length,s.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ci;(function(N){N[N.AZTEC=0]="AZTEC",N[N.CODABAR=1]="CODABAR",N[N.CODE_39=2]="CODE_39",N[N.CODE_93=3]="CODE_93",N[N.CODE_128=4]="CODE_128",N[N.DATA_MATRIX=5]="DATA_MATRIX",N[N.EAN_8=6]="EAN_8",N[N.EAN_13=7]="EAN_13",N[N.ITF=8]="ITF",N[N.MAXICODE=9]="MAXICODE",N[N.PDF_417=10]="PDF_417",N[N.QR_CODE=11]="QR_CODE",N[N.RSS_14=12]="RSS_14",N[N.RSS_EXPANDED=13]="RSS_EXPANDED",N[N.UPC_A=14]="UPC_A",N[N.UPC_E=15]="UPC_E",N[N.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ci||(Ci={}));var xe=Ci,mh;(function(N){N[N.OTHER=0]="OTHER",N[N.ORIENTATION=1]="ORIENTATION",N[N.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",N[N.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",N[N.ISSUE_NUMBER=4]="ISSUE_NUMBER",N[N.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",N[N.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",N[N.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",N[N.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",N[N.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",N[N.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(mh||(mh={}));var Ht=mh;class jo{constructor(s,o,l,u,d=-1,f=-1){this.rawBytes=s,this.text=o,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=f,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Lo{exp(s){return this.expTable[s]}log(s){if(s===0)throw new w;return this.logTable[s]}static addOrSubtract(s,o){return s^o}}class wn{constructor(s,o){if(o.length===0)throw new w;this.field=s;const l=o.length;if(l>1&&o[0]===0){let u=1;for(;u<l&&o[u]===0;)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),M.arraycopy(o,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const o=this.coefficients;let l;if(s===1){l=0;for(let f=0,x=o.length;f!==x;f++){const y=o[f];l=Lo.addOrSubtract(l,y)}return l}l=o[0];const u=o.length,d=this.field;for(let f=1;f<u;f++)l=Lo.addOrSubtract(d.multiply(s,l),o[f]);return l}addOrSubtract(s){if(!this.field.equals(s.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,l=s.coefficients;if(o.length>l.length){const f=o;o=l,l=f}let u=new Int32Array(l.length);const d=l.length-o.length;M.arraycopy(l,0,u,0,d);for(let f=d;f<l.length;f++)u[f]=Lo.addOrSubtract(o[f-d],l[f]);return new wn(this.field,u)}multiply(s){if(!this.field.equals(s.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const o=this.coefficients,l=o.length,u=s.coefficients,d=u.length,f=new Int32Array(l+d-1),x=this.field;for(let y=0;y<l;y++){const v=o[y];for(let S=0;S<d;S++)f[y+S]=Lo.addOrSubtract(f[y+S],x.multiply(v,u[S]))}return new wn(x,f)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const o=this.coefficients.length,l=this.field,u=new Int32Array(o),d=this.coefficients;for(let f=0;f<o;f++)u[f]=l.multiply(d[f],s);return new wn(l,u)}multiplyByMonomial(s,o){if(s<0)throw new w;if(o===0)return this.field.getZero();const l=this.coefficients,u=l.length,d=new Int32Array(u+s),f=this.field;for(let x=0;x<u;x++)d[x]=f.multiply(l[x],o);return new wn(f,d)}divide(s){if(!this.field.equals(s.field))throw new w("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new w("Divide by 0");const o=this.field;let l=o.getZero(),u=this;const d=s.getCoefficient(s.getDegree()),f=o.inverse(d);for(;u.getDegree()>=s.getDegree()&&!u.isZero();){const x=u.getDegree()-s.getDegree(),y=o.multiply(u.getCoefficient(u.getDegree()),f),v=s.multiplyByMonomial(x,y),S=o.buildMonomial(x,y);l=l.addOrSubtract(S),u=u.addOrSubtract(v)}return[l,u]}toString(){let s="";for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);if(l!==0){if(l<0?(s+=" - ",l=-l):s.length>0&&(s+=" + "),o===0||l!==1){const u=this.field.log(l);u===0?s+="1":u===1?s+="a":(s+="a^",s+=u)}o!==0&&(o===1?s+="x":(s+="x^",s+=o))}}return s}}class Lc extends m{}Lc.kind="ArithmeticException";class ze extends Lo{constructor(s,o,l){super(),this.primitive=s,this.size=o,this.generatorBase=l;const u=new Int32Array(o);let d=1;for(let x=0;x<o;x++)u[x]=d,d*=2,d>=o&&(d^=s,d&=o-1);this.expTable=u;const f=new Int32Array(o);for(let x=0;x<o-1;x++)f[u[x]]=x;this.logTable=f,this.zero=new wn(this,Int32Array.from([0])),this.one=new wn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new w;if(o===0)return this.zero;const l=new Int32Array(s+1);return l[0]=o,new wn(this,l)}inverse(s){if(s===0)throw new Lc;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+C.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}ze.AZTEC_DATA_12=new ze(4201,4096,1),ze.AZTEC_DATA_10=new ze(1033,1024,1),ze.AZTEC_DATA_6=new ze(67,64,1),ze.AZTEC_PARAM=new ze(19,16,1),ze.QR_CODE_FIELD_256=new ze(285,256,0),ze.DATA_MATRIX_FIELD_256=new ze(301,256,1),ze.AZTEC_DATA_8=ze.DATA_MATRIX_FIELD_256,ze.MAXICODE_FIELD_64=ze.AZTEC_DATA_6;class ra extends m{}ra.kind="ReedSolomonException";class Ti extends m{}Ti.kind="IllegalStateException";class ko{constructor(s){this.field=s}decode(s,o){const l=this.field,u=new wn(l,s),d=new Int32Array(o);let f=!0;for(let F=0;F<o;F++){const H=u.evaluateAt(l.exp(F+l.getGeneratorBase()));d[d.length-1-F]=H,H!==0&&(f=!1)}if(f)return;const x=new wn(l,d),y=this.runEuclideanAlgorithm(l.buildMonomial(o,1),x,o),v=y[0],S=y[1],I=this.findErrorLocations(v),R=this.findErrorMagnitudes(S,I);for(let F=0;F<I.length;F++){const H=s.length-1-l.log(I[F]);if(H<0)throw new ra("Bad error location");s[H]=ze.addOrSubtract(s[H],R[F])}}runEuclideanAlgorithm(s,o,l){if(s.getDegree()<o.getDegree()){const F=s;s=o,o=F}const u=this.field;let d=s,f=o,x=u.getZero(),y=u.getOne();for(;f.getDegree()>=(l/2|0);){let F=d,H=x;if(d=f,x=y,d.isZero())throw new ra("r_{i-1} was zero");f=F;let G=u.getZero();const X=d.getCoefficient(d.getDegree()),Q=u.inverse(X);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){const ae=f.getDegree()-d.getDegree(),oe=u.multiply(f.getCoefficient(f.getDegree()),Q);G=G.addOrSubtract(u.buildMonomial(ae,oe)),f=f.addOrSubtract(d.multiplyByMonomial(ae,oe))}if(y=G.multiply(x).addOrSubtract(H),f.getDegree()>=d.getDegree())throw new Ti("Division algorithm failed to reduce polynomial?")}const v=y.getCoefficient(0);if(v===0)throw new ra("sigmaTilde(0) was zero");const S=u.inverse(v),I=y.multiplyScalar(S),R=f.multiplyScalar(S);return[I,R]}findErrorLocations(s){const o=s.getDegree();if(o===1)return Int32Array.from([s.getCoefficient(1)]);const l=new Int32Array(o);let u=0;const d=this.field;for(let f=1;f<d.getSize()&&u<o;f++)s.evaluateAt(f)===0&&(l[u]=d.inverse(f),u++);if(u!==o)throw new ra("Error locator degree does not match number of roots");return l}findErrorMagnitudes(s,o){const l=o.length,u=new Int32Array(l),d=this.field;for(let f=0;f<l;f++){const x=d.inverse(o[f]);let y=1;for(let v=0;v<l;v++)if(f!==v){const S=d.multiply(o[v],x),I=S&1?S&-2:S|1;y=d.multiply(y,I)}u[f]=d.multiply(s.evaluateAt(x),d.inverse(y)),d.getGeneratorBase()!==0&&(u[f]=d.multiply(u[f],x))}return u}}var Qt;(function(N){N[N.UPPER=0]="UPPER",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.DIGIT=3]="DIGIT",N[N.PUNCT=4]="PUNCT",N[N.BINARY=5]="BINARY"})(Qt||(Qt={}));class st{decode(s){this.ddata=s;let o=s.getBits(),l=this.extractBits(o),u=this.correctBits(l),d=st.convertBoolArrayToByteArray(u),f=st.getEncodedData(u),x=new jo(d,f,null,null);return x.setNumBits(u.length),x}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let o=s.length,l=Qt.UPPER,u=Qt.UPPER,d="",f=0;for(;f<o;)if(u===Qt.BINARY){if(o-f<5)break;let x=st.readCode(s,f,5);if(f+=5,x===0){if(o-f<11)break;x=st.readCode(s,f,11)+31,f+=11}for(let y=0;y<x;y++){if(o-f<8){f=o;break}const v=st.readCode(s,f,8);d+=$.castAsNonUtf8Char(v),f+=8}u=l}else{let x=u===Qt.DIGIT?4:5;if(o-f<x)break;let y=st.readCode(s,f,x);f+=x;let v=st.getCharacter(u,y);v.startsWith("CTRL_")?(l=u,u=st.getTable(v.charAt(5)),v.charAt(6)==="L"&&(l=u)):(d+=v,u=l)}return d}static getTable(s){switch(s){case"L":return Qt.LOWER;case"P":return Qt.PUNCT;case"M":return Qt.MIXED;case"D":return Qt.DIGIT;case"B":return Qt.BINARY;case"U":default:return Qt.UPPER}}static getCharacter(s,o){switch(s){case Qt.UPPER:return st.UPPER_TABLE[o];case Qt.LOWER:return st.LOWER_TABLE[o];case Qt.MIXED:return st.MIXED_TABLE[o];case Qt.PUNCT:return st.PUNCT_TABLE[o];case Qt.DIGIT:return st.DIGIT_TABLE[o];default:throw new Ti("Bad table")}}correctBits(s){let o,l;this.ddata.getNbLayers()<=2?(l=6,o=ze.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,o=ze.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,o=ze.AZTEC_DATA_10):(l=12,o=ze.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),d=s.length/l;if(d<u)throw new k;let f=s.length%l,x=new Int32Array(d);for(let R=0;R<d;R++,f+=l)x[R]=st.readCode(s,f,l);try{new ko(o).decode(x,d-u)}catch(R){throw new k(R)}let y=(1<<l)-1,v=0;for(let R=0;R<u;R++){let F=x[R];if(F===0||F===y)throw new k;(F===1||F===y-1)&&v++}let S=new Array(u*l-v),I=0;for(let R=0;R<u;R++){let F=x[R];if(F===1||F===y-1)S.fill(F>1,I,I+l-1),I+=l-1;else for(let H=l-1;H>=0;--H)S[I++]=(F&1<<H)!==0}return S}extractBits(s){let o=this.ddata.isCompact(),l=this.ddata.getNbLayers(),u=(o?11:14)+l*4,d=new Int32Array(u),f=new Array(this.totalBitsInLayer(l,o));if(o)for(let x=0;x<d.length;x++)d[x]=x;else{let x=u+1+2*C.truncDivision(C.truncDivision(u,2)-1,15),y=u/2,v=C.truncDivision(x,2);for(let S=0;S<y;S++){let I=S+C.truncDivision(S,15);d[y-S-1]=v-I-1,d[y+S]=v+I+1}}for(let x=0,y=0;x<l;x++){let v=(l-x)*4+(o?9:12),S=x*2,I=u-1-S;for(let R=0;R<v;R++){let F=R*2;for(let H=0;H<2;H++)f[y+F+H]=s.get(d[S+H],d[S+R]),f[y+2*v+F+H]=s.get(d[S+R],d[I-H]),f[y+4*v+F+H]=s.get(d[I-H],d[I-R]),f[y+6*v+F+H]=s.get(d[I-R],d[S+H])}y+=v*8}return f}static readCode(s,o,l){let u=0;for(let d=o;d<o+l;d++)u<<=1,s[d]&&(u|=1);return u}static readByte(s,o){let l=s.length-o;return l>=8?st.readCode(s,o,8):st.readCode(s,o,l)<<8-l}static convertBoolArrayToByteArray(s){let o=new Uint8Array((s.length+7)/8);for(let l=0;l<o.length;l++)o[l]=st.readByte(s,8*l);return o}totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}st.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],st.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],st.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],st.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],st.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ue{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,o,l,u){const d=s-l,f=o-u;return Math.sqrt(d*d+f*f)}static sum(s){let o=0;for(let l=0,u=s.length;l!==u;l++){const d=s[l];o+=d}return o}}class kc{static floatToIntBits(s){return s}}kc.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ge{constructor(s,o){this.x=s,this.y=o}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof ge){const o=s;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*kc.floatToIntBits(this.x)+kc.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const o=this.distance(s[0],s[1]),l=this.distance(s[1],s[2]),u=this.distance(s[0],s[2]);let d,f,x;if(l>=o&&l>=u?(f=s[0],d=s[1],x=s[2]):u>=l&&u>=o?(f=s[1],d=s[0],x=s[2]):(f=s[2],d=s[0],x=s[1]),this.crossProductZ(d,f,x)<0){const y=d;d=x,x=y}s[0]=d,s[1]=f,s[2]=x}static distance(s,o){return Ue.distance(s.x,s.y,o.x,o.y)}static crossProductZ(s,o,l){const u=o.x,d=o.y;return(l.x-u)*(s.y-d)-(l.y-d)*(s.x-u)}}class Bc{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Mm extends Bc{constructor(s,o,l,u,d){super(s,o),this.compact=l,this.nbDatablocks=u,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Xi{constructor(s,o,l,u){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),o==null&&(o=Xi.INIT_SIZE),l==null&&(l=s.getWidth()/2|0),u==null&&(u=s.getHeight()/2|0);const d=o/2|0;if(this.leftInit=l-d,this.rightInit=l+d,this.upInit=u-d,this.downInit=u+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Z}detect(){let s=this.leftInit,o=this.rightInit,l=this.upInit,u=this.downInit,d=!1,f=!0,x=!1,y=!1,v=!1,S=!1,I=!1;const R=this.width,F=this.height;for(;f;){f=!1;let H=!0;for(;(H||!y)&&o<R;)H=this.containsBlackPoint(l,u,o,!1),H?(o++,f=!0,y=!0):y||o++;if(o>=R){d=!0;break}let G=!0;for(;(G||!v)&&u<F;)G=this.containsBlackPoint(s,o,u,!0),G?(u++,f=!0,v=!0):v||u++;if(u>=F){d=!0;break}let X=!0;for(;(X||!S)&&s>=0;)X=this.containsBlackPoint(l,u,s,!1),X?(s--,f=!0,S=!0):S||s--;if(s<0){d=!0;break}let Q=!0;for(;(Q||!I)&&l>=0;)Q=this.containsBlackPoint(s,o,l,!0),Q?(l--,f=!0,I=!0):I||l--;if(l<0){d=!0;break}f&&(x=!0)}if(!d&&x){const H=o-s;let G=null;for(let oe=1;G===null&&oe<H;oe++)G=this.getBlackPointOnSegment(s,u-oe,s+oe,u);if(G==null)throw new Z;let X=null;for(let oe=1;X===null&&oe<H;oe++)X=this.getBlackPointOnSegment(s,l+oe,s+oe,l);if(X==null)throw new Z;let Q=null;for(let oe=1;Q===null&&oe<H;oe++)Q=this.getBlackPointOnSegment(o,l+oe,o-oe,l);if(Q==null)throw new Z;let ae=null;for(let oe=1;ae===null&&oe<H;oe++)ae=this.getBlackPointOnSegment(o,u-oe,o-oe,u);if(ae==null)throw new Z;return this.centerEdges(ae,G,Q,X)}else throw new Z}getBlackPointOnSegment(s,o,l,u){const d=Ue.round(Ue.distance(s,o,l,u)),f=(l-s)/d,x=(u-o)/d,y=this.image;for(let v=0;v<d;v++){const S=Ue.round(s+v*f),I=Ue.round(o+v*x);if(y.get(S,I))return new ge(S,I)}return null}centerEdges(s,o,l,u){const d=s.getX(),f=s.getY(),x=o.getX(),y=o.getY(),v=l.getX(),S=l.getY(),I=u.getX(),R=u.getY(),F=Xi.CORR;return d<this.width/2?[new ge(I-F,R+F),new ge(x+F,y+F),new ge(v-F,S-F),new ge(d+F,f-F)]:[new ge(I+F,R+F),new ge(x+F,y-F),new ge(v-F,S+F),new ge(d-F,f-F)]}containsBlackPoint(s,o,l,u){const d=this.image;if(u){for(let f=s;f<=o;f++)if(d.get(f,l))return!0}else for(let f=s;f<=o;f++)if(d.get(l,f))return!0;return!1}}Xi.INIT_SIZE=10,Xi.CORR=1;class ph{static checkAndNudgePoints(s,o){const l=s.getWidth(),u=s.getHeight();let d=!0;for(let f=0;f<o.length&&d;f+=2){const x=Math.floor(o[f]),y=Math.floor(o[f+1]);if(x<-1||x>l||y<-1||y>u)throw new Z;d=!1,x===-1?(o[f]=0,d=!0):x===l&&(o[f]=l-1,d=!0),y===-1?(o[f+1]=0,d=!0):y===u&&(o[f+1]=u-1,d=!0)}d=!0;for(let f=o.length-2;f>=0&&d;f-=2){const x=Math.floor(o[f]),y=Math.floor(o[f+1]);if(x<-1||x>l||y<-1||y>u)throw new Z;d=!1,x===-1?(o[f]=0,d=!0):x===l&&(o[f]=l-1,d=!0),y===-1?(o[f+1]=0,d=!0):y===u&&(o[f+1]=u-1,d=!0)}}}class hi{constructor(s,o,l,u,d,f,x,y,v){this.a11=s,this.a21=o,this.a31=l,this.a12=u,this.a22=d,this.a32=f,this.a13=x,this.a23=y,this.a33=v}static quadrilateralToQuadrilateral(s,o,l,u,d,f,x,y,v,S,I,R,F,H,G,X){const Q=hi.quadrilateralToSquare(s,o,l,u,d,f,x,y);return hi.squareToQuadrilateral(v,S,I,R,F,H,G,X).times(Q)}transformPoints(s){const o=s.length,l=this.a11,u=this.a12,d=this.a13,f=this.a21,x=this.a22,y=this.a23,v=this.a31,S=this.a32,I=this.a33;for(let R=0;R<o;R+=2){const F=s[R],H=s[R+1],G=d*F+y*H+I;s[R]=(l*F+f*H+v)/G,s[R+1]=(u*F+x*H+S)/G}}transformPointsWithValues(s,o){const l=this.a11,u=this.a12,d=this.a13,f=this.a21,x=this.a22,y=this.a23,v=this.a31,S=this.a32,I=this.a33,R=s.length;for(let F=0;F<R;F++){const H=s[F],G=o[F],X=d*H+y*G+I;s[F]=(l*H+f*G+v)/X,o[F]=(u*H+x*G+S)/X}}static squareToQuadrilateral(s,o,l,u,d,f,x,y){const v=s-l+d-x,S=o-u+f-y;if(v===0&&S===0)return new hi(l-s,d-l,s,u-o,f-u,o,0,0,1);{const I=l-d,R=x-d,F=u-f,H=y-f,G=I*H-R*F,X=(v*H-R*S)/G,Q=(I*S-v*F)/G;return new hi(l-s+X*l,x-s+Q*x,s,u-o+X*u,y-o+Q*y,o,X,Q,1)}}static quadrilateralToSquare(s,o,l,u,d,f,x,y){return hi.squareToQuadrilateral(s,o,l,u,d,f,x,y).buildAdjoint()}buildAdjoint(){return new hi(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new hi(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class Dm extends ph{sampleGrid(s,o,l,u,d,f,x,y,v,S,I,R,F,H,G,X,Q,ae,oe){const re=hi.quadrilateralToQuadrilateral(u,d,f,x,y,v,S,I,R,F,H,G,X,Q,ae,oe);return this.sampleGridWithTransform(s,o,l,re)}sampleGridWithTransform(s,o,l,u){if(o<=0||l<=0)throw new Z;const d=new de(o,l),f=new Float32Array(2*o);for(let x=0;x<l;x++){const y=f.length,v=x+.5;for(let S=0;S<y;S+=2)f[S]=S/2+.5,f[S+1]=v;u.transformPoints(f),ph.checkAndNudgePoints(s,f);try{for(let S=0;S<y;S+=2)s.get(Math.floor(f[S]),Math.floor(f[S+1]))&&d.set(S/2,x)}catch{throw new Z}}return d}}class ws{static setGridSampler(s){ws.gridSampler=s}static getInstance(){return ws.gridSampler}}ws.gridSampler=new Dm;class fn{constructor(s,o){this.x=s,this.y=o}toResultPoint(){return new ge(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Rm{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let o=this.getMatrixCenter(),l=this.getBullsEyeCorners(o);if(s){let f=l[0];l[0]=l[2],l[2]=f}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new Mm(u,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new Z;let o=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(s[0],s[1],o),this.sampleLine(s[1],s[2],o),this.sampleLine(s[2],s[3],o),this.sampleLine(s[3],s[0],o)]);this.shift=this.getRotation(l,o);let u=0;for(let f=0;f<4;f++){let x=l[(this.shift+f)%4];this.compact?(u<<=7,u+=x>>1&127):(u<<=10,u+=(x>>2&992)+(x>>1&31))}let d=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(s,o){let l=0;s.forEach((u,d,f)=>{let x=(u>>o-2<<1)+(u&1);l=(l<<3)+x}),l=((l&1)<<11)+(l>>1);for(let u=0;u<4;u++)if(C.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new Z}getCorrectedParameterData(s,o){let l,u;o?(l=7,u=2):(l=10,u=4);let d=l-u,f=new Int32Array(l);for(let y=l-1;y>=0;--y)f[y]=s&15,s>>=4;try{new ko(ze.AZTEC_PARAM).decode(f,d)}catch{throw new Z}let x=0;for(let y=0;y<u;y++)x=(x<<4)+f[y];return x}getBullsEyeCorners(s){let o=s,l=s,u=s,d=s,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let I=this.getFirstDifferent(o,f,1,-1),R=this.getFirstDifferent(l,f,1,1),F=this.getFirstDifferent(u,f,-1,1),H=this.getFirstDifferent(d,f,-1,-1);if(this.nbCenterLayers>2){let G=this.distancePoint(H,I)*this.nbCenterLayers/(this.distancePoint(d,o)*(this.nbCenterLayers+2));if(G<.75||G>1.25||!this.isWhiteOrBlackRectangle(I,R,F,H))break}o=I,l=R,u=F,d=H,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Z;this.compact=this.nbCenterLayers===5;let x=new ge(o.getX()+.5,o.getY()-.5),y=new ge(l.getX()+.5,l.getY()+.5),v=new ge(u.getX()-.5,u.getY()+.5),S=new ge(d.getX()-.5,d.getY()-.5);return this.expandSquare([x,y,v,S],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,o,l,u;try{let x=new Xi(this.image).detect();s=x[0],o=x[1],l=x[2],u=x[3]}catch{let y=this.image.getWidth()/2,v=this.image.getHeight()/2;s=this.getFirstDifferent(new fn(y+7,v-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new fn(y+7,v+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new fn(y-7,v+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new fn(y-7,v-7),!1,-1,-1).toResultPoint()}let d=Ue.round((s.getX()+u.getX()+o.getX()+l.getX())/4),f=Ue.round((s.getY()+u.getY()+o.getY()+l.getY())/4);try{let x=new Xi(this.image,15,d,f).detect();s=x[0],o=x[1],l=x[2],u=x[3]}catch{s=this.getFirstDifferent(new fn(d+7,f-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new fn(d+7,f+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new fn(d-7,f+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new fn(d-7,f-7),!1,-1,-1).toResultPoint()}return d=Ue.round((s.getX()+u.getX()+o.getX()+l.getX())/4),f=Ue.round((s.getY()+u.getY()+o.getY()+l.getY())/4),new fn(d,f)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,o,l,u,d){let f=ws.getInstance(),x=this.getDimension(),y=x/2-this.nbCenterLayers,v=x/2+this.nbCenterLayers;return f.sampleGrid(s,x,x,y,y,v,y,v,v,y,v,o.getX(),o.getY(),l.getX(),l.getY(),u.getX(),u.getY(),d.getX(),d.getY())}sampleLine(s,o,l){let u=0,d=this.distanceResultPoint(s,o),f=d/l,x=s.getX(),y=s.getY(),v=f*(o.getX()-s.getX())/d,S=f*(o.getY()-s.getY())/d;for(let I=0;I<l;I++)this.image.get(Ue.round(x+I*v),Ue.round(y+I*S))&&(u|=1<<l-I-1);return u}isWhiteOrBlackRectangle(s,o,l,u){let d=3;s=new fn(s.getX()-d,s.getY()+d),o=new fn(o.getX()-d,o.getY()-d),l=new fn(l.getX()+d,l.getY()-d),u=new fn(u.getX()+d,u.getY()+d);let f=this.getColor(u,s);if(f===0)return!1;let x=this.getColor(s,o);return x!==f||(x=this.getColor(o,l),x!==f)?!1:(x=this.getColor(l,u),x===f)}getColor(s,o){let l=this.distancePoint(s,o),u=(o.getX()-s.getX())/l,d=(o.getY()-s.getY())/l,f=0,x=s.getX(),y=s.getY(),v=this.image.get(s.getX(),s.getY()),S=Math.ceil(l);for(let R=0;R<S;R++)x+=u,y+=d,this.image.get(Ue.round(x),Ue.round(y))!==v&&f++;let I=f/l;return I>.1&&I<.9?0:I<=.1===v?1:-1}getFirstDifferent(s,o,l,u){let d=s.getX()+l,f=s.getY()+u;for(;this.isValid(d,f)&&this.image.get(d,f)===o;)d+=l,f+=u;for(d-=l,f-=u;this.isValid(d,f)&&this.image.get(d,f)===o;)d+=l;for(d-=l;this.isValid(d,f)&&this.image.get(d,f)===o;)f+=u;return f-=u,new fn(d,f)}expandSquare(s,o,l){let u=l/(2*o),d=s[0].getX()-s[2].getX(),f=s[0].getY()-s[2].getY(),x=(s[0].getX()+s[2].getX())/2,y=(s[0].getY()+s[2].getY())/2,v=new ge(x+u*d,y+u*f),S=new ge(x-u*d,y-u*f);d=s[1].getX()-s[3].getX(),f=s[1].getY()-s[3].getY(),x=(s[1].getX()+s[3].getX())/2,y=(s[1].getY()+s[3].getY())/2;let I=new ge(x+u*d,y+u*f),R=new ge(x-u*d,y-u*f);return[v,I,S,R]}isValid(s,o){return s>=0&&s<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(s){let o=Ue.round(s.getX()),l=Ue.round(s.getY());return this.isValid(o,l)}distancePoint(s,o){return Ue.distance(s.getX(),s.getY(),o.getX(),o.getY())}distanceResultPoint(s,o){return Ue.distance(s.getX(),s.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(C.truncDivision(this.nbLayers-4,8)+1)+15}}class Pc{decode(s,o=null){let l=null,u=new Rm(s.getBlackMatrix()),d=null,f=null;try{let S=u.detectMirror(!1);d=S.getPoints(),this.reportFoundResultPoints(o,d),f=new st().decode(S)}catch(S){l=S}if(f==null)try{let S=u.detectMirror(!0);d=S.getPoints(),this.reportFoundResultPoints(o,d),f=new st().decode(S)}catch(S){throw l??S}let x=new ke(f.getText(),f.getRawBytes(),f.getNumBits(),d,xe.AZTEC,M.currentTimeMillis()),y=f.getByteSegments();y!=null&&x.putMetadata(Ht.BYTE_SEGMENTS,y);let v=f.getECLevel();return v!=null&&x.putMetadata(Ht.ERROR_CORRECTION_LEVEL,v),x}reportFoundResultPoints(s,o){if(s!=null){let l=s.get(D.NEED_RESULT_POINT_CALLBACK);l!=null&&o.forEach((u,d,f)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class pA extends dt{constructor(s=500){super(new Pc,s)}}class Rt{decode(s,o){try{return this.doDecode(s,o)}catch{if(o&&o.get(D.TRY_HARDER)===!0&&s.isRotateSupported()){const d=s.rotateCounterClockwise(),f=this.doDecode(d,o),x=f.getResultMetadata();let y=270;x!==null&&x.get(Ht.ORIENTATION)===!0&&(y=y+x.get(Ht.ORIENTATION)%360),f.putMetadata(Ht.ORIENTATION,y);const v=f.getResultPoints();if(v!==null){const S=d.getHeight();for(let I=0;I<v.length;I++)v[I]=new ge(S-v[I].getY()-1,v[I].getX())}return f}else throw new Z}}reset(){}doDecode(s,o){const l=s.getWidth(),u=s.getHeight();let d=new L(l);const f=o&&o.get(D.TRY_HARDER)===!0,x=Math.max(1,u>>(f?8:5));let y;f?y=u:y=15;const v=Math.trunc(u/2);for(let S=0;S<y;S++){const I=Math.trunc((S+1)/2),R=(S&1)===0,F=v+x*(R?I:-I);if(F<0||F>=u)break;try{d=s.getBlackRow(F,d)}catch{continue}for(let H=0;H<2;H++){if(H===1&&(d.reverse(),o&&o.get(D.NEED_RESULT_POINT_CALLBACK)===!0)){const G=new Map;o.forEach((X,Q)=>G.set(Q,X)),G.delete(D.NEED_RESULT_POINT_CALLBACK),o=G}try{const G=this.decodeRow(F,d,o);if(H===1){G.putMetadata(Ht.ORIENTATION,180);const X=G.getResultPoints();X!==null&&(X[0]=new ge(l-X[0].getX()-1,X[0].getY()),X[1]=new ge(l-X[1].getX()-1,X[1].getY()))}return G}catch{}}}throw new Z}static recordPattern(s,o,l){const u=l.length;for(let v=0;v<u;v++)l[v]=0;const d=s.getSize();if(o>=d)throw new Z;let f=!s.get(o),x=0,y=o;for(;y<d;){if(s.get(y)!==f)l[x]++;else{if(++x===u)break;l[x]=1,f=!f}y++}if(!(x===u||x===u-1&&y===d))throw new Z}static recordPatternInReverse(s,o,l){let u=l.length,d=s.get(o);for(;o>0&&u>=0;)s.get(--o)!==d&&(u--,d=!d);if(u>=0)throw new Z;Rt.recordPattern(s,o+1,l)}static patternMatchVariance(s,o,l){const u=s.length;let d=0,f=0;for(let v=0;v<u;v++)d+=s[v],f+=o[v];if(d<f)return Number.POSITIVE_INFINITY;const x=d/f;l*=x;let y=0;for(let v=0;v<u;v++){const S=s[v],I=o[v]*x,R=S>I?S-I:I-S;if(R>l)return Number.POSITIVE_INFINITY;y+=R}return y/d}}class ce extends Rt{static findStartPattern(s){const o=s.getSize(),l=s.getNextSet(0);let u=0,d=Int32Array.from([0,0,0,0,0,0]),f=l,x=!1;const y=6;for(let v=l;v<o;v++)if(s.get(v)!==x)d[u]++;else{if(u===y-1){let S=ce.MAX_AVG_VARIANCE,I=-1;for(let R=ce.CODE_START_A;R<=ce.CODE_START_C;R++){const F=Rt.patternMatchVariance(d,ce.CODE_PATTERNS[R],ce.MAX_INDIVIDUAL_VARIANCE);F<S&&(S=F,I=R)}if(I>=0&&s.isRange(Math.max(0,f-(v-f)/2),f,!1))return Int32Array.from([f,v,I]);f+=d[0]+d[1],d=d.slice(2,d.length-1),d[u-1]=0,d[u]=0,u--}else u++;d[u]=1,x=!x}throw new Z}static decodeCode(s,o,l){Rt.recordPattern(s,l,o);let u=ce.MAX_AVG_VARIANCE,d=-1;for(let f=0;f<ce.CODE_PATTERNS.length;f++){const x=ce.CODE_PATTERNS[f],y=this.patternMatchVariance(o,x,ce.MAX_INDIVIDUAL_VARIANCE);y<u&&(u=y,d=f)}if(d>=0)return d;throw new Z}decodeRow(s,o,l){const u=l&&l.get(D.ASSUME_GS1)===!0,d=ce.findStartPattern(o),f=d[2];let x=0;const y=new Uint8Array(20);y[x++]=f;let v;switch(f){case ce.CODE_START_A:v=ce.CODE_CODE_A;break;case ce.CODE_START_B:v=ce.CODE_CODE_B;break;case ce.CODE_START_C:v=ce.CODE_CODE_C;break;default:throw new k}let S=!1,I=!1,R="",F=d[0],H=d[1];const G=Int32Array.from([0,0,0,0,0,0]);let X=0,Q=0,ae=f,oe=0,re=!0,je=!1,Se=!1;for(;!S;){const ga=I;switch(I=!1,X=Q,Q=ce.decodeCode(o,G,H),y[x++]=Q,Q!==ce.CODE_STOP&&(re=!0),Q!==ce.CODE_STOP&&(oe++,ae+=oe*Q),F=H,H+=G.reduce((YA,qA)=>YA+qA,0),Q){case ce.CODE_START_A:case ce.CODE_START_B:case ce.CODE_START_C:throw new k}switch(v){case ce.CODE_CODE_A:if(Q<64)Se===je?R+=String.fromCharCode(32+Q):R+=String.fromCharCode(32+Q+128),Se=!1;else if(Q<96)Se===je?R+=String.fromCharCode(Q-64):R+=String.fromCharCode(Q+64),Se=!1;else switch(Q!==ce.CODE_STOP&&(re=!1),Q){case ce.CODE_FNC_1:u&&(R.length===0?R+="]C1":R+="");break;case ce.CODE_FNC_2:case ce.CODE_FNC_3:break;case ce.CODE_FNC_4_A:!je&&Se?(je=!0,Se=!1):je&&Se?(je=!1,Se=!1):Se=!0;break;case ce.CODE_SHIFT:I=!0,v=ce.CODE_CODE_B;break;case ce.CODE_CODE_B:v=ce.CODE_CODE_B;break;case ce.CODE_CODE_C:v=ce.CODE_CODE_C;break;case ce.CODE_STOP:S=!0;break}break;case ce.CODE_CODE_B:if(Q<96)Se===je?R+=String.fromCharCode(32+Q):R+=String.fromCharCode(32+Q+128),Se=!1;else switch(Q!==ce.CODE_STOP&&(re=!1),Q){case ce.CODE_FNC_1:u&&(R.length===0?R+="]C1":R+="");break;case ce.CODE_FNC_2:case ce.CODE_FNC_3:break;case ce.CODE_FNC_4_B:!je&&Se?(je=!0,Se=!1):je&&Se?(je=!1,Se=!1):Se=!0;break;case ce.CODE_SHIFT:I=!0,v=ce.CODE_CODE_A;break;case ce.CODE_CODE_A:v=ce.CODE_CODE_A;break;case ce.CODE_CODE_C:v=ce.CODE_CODE_C;break;case ce.CODE_STOP:S=!0;break}break;case ce.CODE_CODE_C:if(Q<100)Q<10&&(R+="0"),R+=Q;else switch(Q!==ce.CODE_STOP&&(re=!1),Q){case ce.CODE_FNC_1:u&&(R.length===0?R+="]C1":R+="");break;case ce.CODE_CODE_A:v=ce.CODE_CODE_A;break;case ce.CODE_CODE_B:v=ce.CODE_CODE_B;break;case ce.CODE_STOP:S=!0;break}break}ga&&(v=v===ce.CODE_CODE_A?ce.CODE_CODE_B:ce.CODE_CODE_A)}const Sn=H-F;if(H=o.getNextUnset(H),!o.isRange(H,Math.min(o.getSize(),H+(H-F)/2),!1))throw new Z;if(ae-=oe*X,ae%103!==X)throw new A;const gi=R.length;if(gi===0)throw new Z;gi>0&&re&&(v===ce.CODE_CODE_C?R=R.substring(0,gi-2):R=R.substring(0,gi-1));const Cn=(d[1]+d[0])/2,nt=F+Sn/2,en=y.length,Ln=new Uint8Array(en);for(let ga=0;ga<en;ga++)Ln[ga]=y[ga];const fa=[new ge(Cn,s),new ge(nt,s)];return new ke(R,Ln,0,fa,xe.CODE_128,new Date().getTime())}}ce.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ce.MAX_AVG_VARIANCE=.25,ce.MAX_INDIVIDUAL_VARIANCE=.7,ce.CODE_SHIFT=98,ce.CODE_CODE_C=99,ce.CODE_CODE_B=100,ce.CODE_CODE_A=101,ce.CODE_FNC_1=102,ce.CODE_FNC_2=97,ce.CODE_FNC_3=96,ce.CODE_FNC_4_A=101,ce.CODE_FNC_4_B=100,ce.CODE_START_A=103,ce.CODE_START_B=104,ce.CODE_START_C=105,ce.CODE_STOP=106;class kt extends Rt{constructor(s=!1,o=!1){super(),this.usingCheckDigit=s,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,o,l){let u=this.counters;u.fill(0),this.decodeRowResult="";let d=kt.findAsteriskPattern(o,u),f=o.getNextSet(d[1]),x=o.getSize(),y,v;do{kt.recordPattern(o,f,u);let G=kt.toNarrowWidePattern(u);if(G<0)throw new Z;y=kt.patternToChar(G),this.decodeRowResult+=y,v=f;for(let X of u)f+=X;f=o.getNextSet(f)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let S=0;for(let G of u)S+=G;let I=f-v-S;if(f!==x&&I*2<S)throw new Z;if(this.usingCheckDigit){let G=this.decodeRowResult.length-1,X=0;for(let Q=0;Q<G;Q++)X+=kt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Q));if(this.decodeRowResult.charAt(G)!==kt.ALPHABET_STRING.charAt(X%43))throw new A;this.decodeRowResult=this.decodeRowResult.substring(0,G)}if(this.decodeRowResult.length===0)throw new Z;let R;this.extendedMode?R=kt.decodeExtended(this.decodeRowResult):R=this.decodeRowResult;let F=(d[1]+d[0])/2,H=v+S/2;return new ke(R,null,0,[new ge(F,s),new ge(H,s)],xe.CODE_39,new Date().getTime())}static findAsteriskPattern(s,o){let l=s.getSize(),u=s.getNextSet(0),d=0,f=u,x=!1,y=o.length;for(let v=u;v<l;v++)if(s.get(v)!==x)o[d]++;else{if(d===y-1){if(this.toNarrowWidePattern(o)===kt.ASTERISK_ENCODING&&s.isRange(Math.max(0,f-Math.floor((v-f)/2)),f,!1))return[f,v];f+=o[0]+o[1],o.copyWithin(0,2,2+d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,x=!x}throw new Z}static toNarrowWidePattern(s){let o=s.length,l=0,u;do{let d=2147483647;for(let y of s)y<d&&y>l&&(d=y);l=d,u=0;let f=0,x=0;for(let y=0;y<o;y++){let v=s[y];v>l&&(x|=1<<o-1-y,u++,f+=v)}if(u===3){for(let y=0;y<o&&u>0;y++){let v=s[y];if(v>l&&(u--,v*2>=f))return-1}return x}}while(u>3);return-1}static patternToChar(s){for(let o=0;o<kt.CHARACTER_ENCODINGS.length;o++)if(kt.CHARACTER_ENCODINGS[o]===s)return kt.ALPHABET_STRING.charAt(o);if(s===kt.ASTERISK_ENCODING)return"*";throw new Z}static decodeExtended(s){let o=s.length,l="";for(let u=0;u<o;u++){let d=s.charAt(u);if(d==="+"||d==="$"||d==="%"||d==="/"){let f=s.charAt(u+1),x="\0";switch(d){case"+":if(f>="A"&&f<="Z")x=String.fromCharCode(f.charCodeAt(0)+32);else throw new k;break;case"$":if(f>="A"&&f<="Z")x=String.fromCharCode(f.charCodeAt(0)-64);else throw new k;break;case"%":if(f>="A"&&f<="E")x=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")x=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")x=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")x=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")x="\0";else if(f==="V")x="@";else if(f==="W")x="`";else if(f==="X"||f==="Y"||f==="Z")x="";else throw new k;break;case"/":if(f>="A"&&f<="O")x=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")x=":";else throw new k;break}l+=x,u++}else l+=d}return l}}kt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",kt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],kt.ASTERISK_ENCODING=148;class et extends Rt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,o,l){let u=this.decodeStart(o),d=this.decodeEnd(o),f=new ie;et.decodeMiddle(o,u[1],d[0],f);let x=f.toString(),y=null;l!=null&&(y=l.get(D.ALLOWED_LENGTHS)),y==null&&(y=et.DEFAULT_ALLOWED_LENGTHS);let v=x.length,S=!1,I=0;for(let H of y){if(v===H){S=!0;break}H>I&&(I=H)}if(!S&&v>I&&(S=!0),!S)throw new k;const R=[new ge(u[1],s),new ge(d[0],s)];return new ke(x,null,0,R,xe.ITF,new Date().getTime())}static decodeMiddle(s,o,l,u){let d=new Int32Array(10),f=new Int32Array(5),x=new Int32Array(5);for(d.fill(0),f.fill(0),x.fill(0);o<l;){Rt.recordPattern(s,o,d);for(let v=0;v<5;v++){let S=2*v;f[v]=d[S],x[v]=d[S+1]}let y=et.decodeDigit(f);u.append(y.toString()),y=this.decodeDigit(x),u.append(y.toString()),d.forEach(function(v){o+=v})}}decodeStart(s){let o=et.skipWhiteSpace(s),l=et.findGuardPattern(s,o,et.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(s,l[0]),l}validateQuietZone(s,o){let l=this.narrowLineWidth*10;l=l<o?l:o;for(let u=o-1;l>0&&u>=0&&!s.get(u);u--)l--;if(l!==0)throw new Z}static skipWhiteSpace(s){const o=s.getSize(),l=s.getNextSet(0);if(l===o)throw new Z;return l}decodeEnd(s){s.reverse();try{let o=et.skipWhiteSpace(s),l;try{l=et.findGuardPattern(s,o,et.END_PATTERN_REVERSED[0])}catch(d){d instanceof Z&&(l=et.findGuardPattern(s,o,et.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,l[0]);let u=l[0];return l[0]=s.getSize()-l[1],l[1]=s.getSize()-u,l}finally{s.reverse()}}static findGuardPattern(s,o,l){let u=l.length,d=new Int32Array(u),f=s.getSize(),x=!1,y=0,v=o;d.fill(0);for(let S=o;S<f;S++)if(s.get(S)!==x)d[y]++;else{if(y===u-1){if(Rt.patternMatchVariance(d,l,et.MAX_INDIVIDUAL_VARIANCE)<et.MAX_AVG_VARIANCE)return[v,S];v+=d[0]+d[1],M.arraycopy(d,2,d,0,y-1),d[y-1]=0,d[y]=0,y--}else y++;d[y]=1,x=!x}throw new Z}static decodeDigit(s){let o=et.MAX_AVG_VARIANCE,l=-1,u=et.PATTERNS.length;for(let d=0;d<u;d++){let f=et.PATTERNS[d],x=Rt.patternMatchVariance(s,f,et.MAX_INDIVIDUAL_VARIANCE);x<o?(o=x,l=d):x===o&&(l=-1)}if(l>=0)return l%10;throw new Z}}et.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],et.MAX_AVG_VARIANCE=.38,et.MAX_INDIVIDUAL_VARIANCE=.5,et.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],et.START_PATTERN=Int32Array.from([1,1,1,1]),et.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class vt extends Rt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let o=!1,l,u=0,d=Int32Array.from([0,0,0]);for(;!o;){d=Int32Array.from([0,0,0]),l=vt.findGuardPattern(s,u,!1,this.START_END_PATTERN,d);let f=l[0];u=l[1];let x=f-(u-f);x>=0&&(o=s.isRange(x,f,!1))}return l}static checkChecksum(s){return vt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let l=parseInt(s.charAt(o-1),10);return vt.getStandardUPCEANChecksum(s.substring(0,o-1))===l}static getStandardUPCEANChecksum(s){let o=s.length,l=0;for(let u=o-1;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new k;l+=d}l*=3;for(let u=o-2;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new k;l+=d}return(1e3-l)%10}static decodeEnd(s,o){return vt.findGuardPattern(s,o,!1,vt.START_END_PATTERN,new Int32Array(vt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,o,l,u){return this.findGuardPattern(s,o,l,u,new Int32Array(u.length))}static findGuardPattern(s,o,l,u,d){let f=s.getSize();o=l?s.getNextUnset(o):s.getNextSet(o);let x=0,y=o,v=u.length,S=l;for(let I=o;I<f;I++)if(s.get(I)!==S)d[x]++;else{if(x===v-1){if(Rt.patternMatchVariance(d,u,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return Int32Array.from([y,I]);y+=d[0]+d[1];let R=d.slice(2,d.length-1);for(let F=0;F<x-1;F++)d[F]=R[F];d[x-1]=0,d[x]=0,x--}else x++;d[x]=1,S=!S}throw new Z}static decodeDigit(s,o,l,u){this.recordPattern(s,l,o);let d=this.MAX_AVG_VARIANCE,f=-1,x=u.length;for(let y=0;y<x;y++){let v=u[y],S=Rt.patternMatchVariance(o,v,vt.MAX_INDIVIDUAL_VARIANCE);S<d&&(d=S,f=y)}if(f>=0)return f;throw new Z}}vt.MAX_AVG_VARIANCE=.48,vt.MAX_INDIVIDUAL_VARIANCE=.7,vt.START_END_PATTERN=Int32Array.from([1,1,1]),vt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),vt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),vt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Bo{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(o,l,u),f=u.toString(),x=Bo.parseExtensionString(f),y=[new ge((l[0]+l[1])/2,s),new ge(d,s)],v=new ke(f,null,0,y,xe.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&v.putAllMetadata(x),v}decodeMiddle(s,o,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),f=o[1],x=0;for(let v=0;v<5&&f<d;v++){let S=vt.decodeDigit(s,u,f,vt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+S%10);for(let I of u)f+=I;S>=10&&(x|=1<<4-v),v!==4&&(f=s.getNextSet(f),f=s.getNextUnset(f))}if(l.length!==5)throw new Z;let y=this.determineCheckDigit(x);if(Bo.extensionChecksum(l.toString())!==y)throw new Z;return f}static extensionChecksum(s){let o=s.length,l=0;for(let u=o-2;u>=0;u-=2)l+=s.charAt(u).charCodeAt(0)-48;l*=3;for(let u=o-1;u>=0;u-=2)l+=s.charAt(u).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(s){for(let o=0;o<10;o++)if(s===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new Z}static parseExtensionString(s){if(s.length!==5)return null;let o=Bo.parseExtension5String(s);return o==null?null:new Map([[Ht.SUGGESTED_PRICE,o]])}static parseExtension5String(s){let o;switch(s.charAt(0)){case"0":o="£";break;case"5":o="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let l=parseInt(s.substring(1)),u=(l/100).toString(),d=l%100,f=d<10?"0"+d:d.toString();return o+u+"."+f}}class xh{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(o,l,u),f=u.toString(),x=xh.parseExtensionString(f),y=[new ge((l[0]+l[1])/2,s),new ge(d,s)],v=new ke(f,null,0,y,xe.UPC_EAN_EXTENSION,new Date().getTime());return x!=null&&v.putAllMetadata(x),v}decodeMiddle(s,o,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),f=o[1],x=0;for(let y=0;y<2&&f<d;y++){let v=vt.decodeDigit(s,u,f,vt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+v%10);for(let S of u)f+=S;v>=10&&(x|=1<<1-y),y!==1&&(f=s.getNextSet(f),f=s.getNextUnset(f))}if(l.length!==2)throw new Z;if(parseInt(l.toString())%4!==x)throw new Z;return f}static parseExtensionString(s){return s.length!==2?null:new Map([[Ht.ISSUE_NUMBER,parseInt(s)]])}}class Om{static decodeRow(s,o,l){let u=vt.findGuardPattern(o,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Bo().decodeRow(s,o,u)}catch{return new xh().decodeRow(s,o,u)}}}Om.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class He extends vt{constructor(){super(),this.decodeRowStringBuffer="",He.L_AND_G_PATTERNS=He.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let o=He.L_PATTERNS[s-10],l=new Int32Array(o.length);for(let u=0;u<o.length;u++)l[u]=o[o.length-u-1];He.L_AND_G_PATTERNS[s]=l}}decodeRow(s,o,l){let u=He.findStartGuardPattern(o),d=l==null?null:l.get(D.NEED_RESULT_POINT_CALLBACK);if(d!=null){const re=new ge((u[0]+u[1])/2,s);d.foundPossibleResultPoint(re)}let f=this.decodeMiddle(o,u,this.decodeRowStringBuffer),x=f.rowOffset,y=f.resultString;if(d!=null){const re=new ge(x,s);d.foundPossibleResultPoint(re)}let v=this.decodeEnd(o,x);if(d!=null){const re=new ge((v[0]+v[1])/2,s);d.foundPossibleResultPoint(re)}let S=v[1],I=S+(S-v[0]);if(I>=o.getSize()||!o.isRange(S,I,!1))throw new Z;let R=y.toString();if(R.length<8)throw new k;if(!He.checkChecksum(R))throw new A;let F=(u[1]+u[0])/2,H=(v[1]+v[0])/2,G=this.getBarcodeFormat(),X=[new ge(F,s),new ge(H,s)],Q=new ke(R,null,0,X,G,new Date().getTime()),ae=0;try{let re=Om.decodeRow(s,o,v[1]);Q.putMetadata(Ht.UPC_EAN_EXTENSION,re.getText()),Q.putAllMetadata(re.getResultMetadata()),Q.addResultPoints(re.getResultPoints()),ae=re.getText().length}catch{}let oe=l==null?null:l.get(D.ALLOWED_EAN_EXTENSIONS);if(oe!=null){let re=!1;for(let je in oe)if(ae.toString()===je){re=!0;break}if(!re)throw new Z}return Q}decodeEnd(s,o){return He.findGuardPattern(s,o,!1,He.START_END_PATTERN,new Int32Array(He.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return He.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let l=parseInt(s.charAt(o-1),10);return He.getStandardUPCEANChecksum(s.substring(0,o-1))===l}static getStandardUPCEANChecksum(s){let o=s.length,l=0;for(let u=o-1;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new k;l+=d}l*=3;for(let u=o-2;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new k;l+=d}return(1e3-l)%10}}class xr extends He{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),f=o[1],x=0;for(let v=0;v<6&&f<d;v++){let S=He.decodeDigit(s,u,f,He.L_AND_G_PATTERNS);l+=String.fromCharCode(48+S%10);for(let I of u)f+=I;S>=10&&(x|=1<<5-v)}l=xr.determineFirstDigit(l,x),f=He.findGuardPattern(s,f,!0,He.MIDDLE_PATTERN,new Int32Array(He.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&f<d;v++){let S=He.decodeDigit(s,u,f,He.L_PATTERNS);l+=String.fromCharCode(48+S);for(let I of u)f+=I}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return xe.EAN_13}static determineFirstDigit(s,o){for(let l=0;l<10;l++)if(o===this.FIRST_DIGIT_ENCODINGS[l])return s=String.fromCharCode(48+l)+s,s;throw new Z}}xr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class jm extends He{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),f=o[1];for(let y=0;y<4&&f<d;y++){let v=He.decodeDigit(s,u,f,He.L_PATTERNS);l+=String.fromCharCode(48+v);for(let S of u)f+=S}f=He.findGuardPattern(s,f,!0,He.MIDDLE_PATTERN,new Int32Array(He.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&f<d;y++){let v=He.decodeDigit(s,u,f,He.L_PATTERNS);l+=String.fromCharCode(48+v);for(let S of u)f+=S}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return xe.EAN_8}}class Lm extends He{constructor(){super(...arguments),this.ean13Reader=new xr}getBarcodeFormat(){return xe.UPC_A}decode(s,o){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,o,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,o,l))}decodeMiddle(s,o,l){return this.ean13Reader.decodeMiddle(s,o,l)}maybeReturnResult(s){let o=s.getText();if(o.charAt(0)==="0"){let l=new ke(o.substring(1),null,null,s.getResultPoints(),xe.UPC_A);return s.getResultMetadata()!=null&&l.putAllMetadata(s.getResultMetadata()),l}else throw new Z}reset(){this.ean13Reader.reset()}}class fi extends He{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,o,l){const u=this.decodeMiddleCounters.map(v=>v);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const d=s.getSize();let f=o[1],x=0;for(let v=0;v<6&&f<d;v++){const S=fi.decodeDigit(s,u,f,fi.L_AND_G_PATTERNS);l+=String.fromCharCode(48+S%10);for(let I of u)f+=I;S>=10&&(x|=1<<5-v)}let y=fi.determineNumSysAndCheckDigit(l,x);return{rowOffset:f,resultString:y}}decodeEnd(s,o){return fi.findGuardPatternWithoutCounters(s,o,!0,fi.MIDDLE_END_PATTERN)}checkChecksum(s){return He.checkChecksum(fi.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,o){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u]){let d=String.fromCharCode(48+l),f=String.fromCharCode(48+u);return d+s+f}throw Z.getNotFoundInstance()}getBarcodeFormat(){return xe.UPC_E}static convertUPCEtoUPCA(s){const o=s.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new ie;l.append(s.charAt(0));let u=o[5];switch(u){case 0:case 1:case 2:l.appendChars(o,0,2),l.append(u),l.append("0000"),l.appendChars(o,2,3);break;case 3:l.appendChars(o,0,3),l.append("00000"),l.appendChars(o,3,2);break;case 4:l.appendChars(o,0,4),l.append("00000"),l.append(o[4]);break;default:l.appendChars(o,0,5),l.append("0000"),l.append(u);break}return s.length>=8&&l.append(s.charAt(7)),l.toString()}}fi.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),fi.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class yh extends Rt{constructor(s){super();let o=s==null?null:s.get(D.POSSIBLE_FORMATS),l=[];i(o)?(l.push(new xr),l.push(new Lm),l.push(new jm),l.push(new fi)):(o.indexOf(xe.EAN_13)>-1&&l.push(new xr),o.indexOf(xe.UPC_A)>-1&&l.push(new Lm),o.indexOf(xe.EAN_8)>-1&&l.push(new jm),o.indexOf(xe.UPC_E)>-1&&l.push(new fi)),this.readers=l}decodeRow(s,o,l){for(let u of this.readers)try{const d=u.decodeRow(s,o,l),f=d.getBarcodeFormat()===xe.EAN_13&&d.getText().charAt(0)==="0",x=l==null?null:l.get(D.POSSIBLE_FORMATS),y=x==null||x.includes(xe.UPC_A);if(f&&y){const v=d.getRawBytes(),S=new ke(d.getText().substring(1),v,v?v.length:null,d.getResultPoints(),xe.UPC_A);return S.putAllMetadata(d.getResultMetadata()),S}return d}catch{}throw new Z}reset(){for(let s of this.readers)s.reset()}}class on extends Rt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,o){for(let l=0;l<o.length;l++)if(Rt.patternMatchVariance(s,o[l],on.MAX_INDIVIDUAL_VARIANCE)<on.MAX_AVG_VARIANCE)return l;throw new Z}static count(s){return Ue.sum(new Int32Array(s))}static increment(s,o){let l=0,u=o[0];for(let d=1;d<s.length;d++)o[d]>u&&(u=o[d],l=d);s[l]++}static decrement(s,o){let l=0,u=o[0];for(let d=1;d<s.length;d++)o[d]<u&&(u=o[d],l=d);s[l]--}static isFinderPattern(s){let o=s[0]+s[1],l=o+s[2]+s[3],u=o/l;if(u>=on.MIN_FINDER_PATTERN_RATIO&&u<=on.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let x of s)x>f&&(f=x),x<d&&(d=x);return f<10*d}return!1}}on.MAX_AVG_VARIANCE=.2,on.MAX_INDIVIDUAL_VARIANCE=.45,on.MIN_FINDER_PATTERN_RATIO=9.5/12,on.MAX_FINDER_PATTERN_RATIO=12.5/14;class aa{constructor(s,o){this.value=s,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof aa))return!1;const o=s;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Uc{constructor(s,o,l,u,d){this.value=s,this.startEnd=o,this.value=s,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new ge(l,d)),this.resultPoints.push(new ge(u,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof Uc))return!1;const o=s;return this.value===o.value}hashCode(){return this.value}}class _i{constructor(){}static getRSSvalue(s,o,l){let u=0;for(let y of s)u+=y;let d=0,f=0,x=s.length;for(let y=0;y<x-1;y++){let v;for(v=1,f|=1<<y;v<s[y];v++,f&=~(1<<y)){let S=_i.combins(u-v-1,x-y-2);if(l&&f===0&&u-v-(x-y-1)>=x-y-1&&(S-=_i.combins(u-v-(x-y),x-y-2)),x-y-1>1){let I=0;for(let R=u-v-(x-y-2);R>o;R--)I+=_i.combins(u-v-R-1,x-y-3);S-=I*(x-1-y)}else u-v>o&&S--;d+=S}u-=v}return d}static combins(s,o){let l,u;s-o>o?(u=o,l=s-o):(u=s-o,l=o);let d=1,f=1;for(let x=s;x>l;x--)d*=x,f<=u&&(d/=f,f++);for(;f<=u;)d/=f,f++;return d}}class xA{static buildBitArray(s){let o=s.length*2-1;s[s.length-1].getRightChar()==null&&(o-=1);let l=12*o,u=new L(l),d=0,x=s[0].getRightChar().getValue();for(let y=11;y>=0;--y)x&1<<y&&u.set(d),d++;for(let y=1;y<s.length;++y){let v=s[y],S=v.getLeftChar().getValue();for(let I=11;I>=0;--I)S&1<<I&&u.set(d),d++;if(v.getRightChar()!=null){let I=v.getRightChar().getValue();for(let R=11;R>=0;--R)I&1<<R&&u.set(d),d++}}return u}}class yr{constructor(s,o){o?this.decodedInformation=null:(this.finished=s,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class bh{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class vn extends bh{constructor(s,o){super(s),this.value=o}getValue(){return this.value}isFNC1(){return this.value===vn.FNC1}}vn.FNC1="$";class br extends bh{constructor(s,o,l){super(s),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Kn extends bh{constructor(s,o,l){if(super(s),o<0||o>10||l<0||l>10)throw new k;this.firstDigit=o,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Kn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Kn.FNC1}isAnyFNC1(){return this.firstDigit===Kn.FNC1||this.secondDigit===Kn.FNC1}}Kn.FNC1=10;class he{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new Z;let o=s.substring(0,2);for(let d of he.TWO_DIGIT_DATA_LENGTH)if(d[0]===o)return d[1]===he.VARIABLE_LENGTH?he.processVariableAI(2,d[2],s):he.processFixedAI(2,d[1],s);if(s.length<3)throw new Z;let l=s.substring(0,3);for(let d of he.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===he.VARIABLE_LENGTH?he.processVariableAI(3,d[2],s):he.processFixedAI(3,d[1],s);for(let d of he.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===he.VARIABLE_LENGTH?he.processVariableAI(4,d[2],s):he.processFixedAI(4,d[1],s);if(s.length<4)throw new Z;let u=s.substring(0,4);for(let d of he.FOUR_DIGIT_DATA_LENGTH)if(d[0]===u)return d[1]===he.VARIABLE_LENGTH?he.processVariableAI(4,d[2],s):he.processFixedAI(4,d[1],s);throw new Z}static processFixedAI(s,o,l){if(l.length<s)throw new Z;let u=l.substring(0,s);if(l.length<s+o)throw new Z;let d=l.substring(s,s+o),f=l.substring(s+o),x="("+u+")"+d,y=he.parseFieldsInGeneralPurpose(f);return y==null?x:x+y}static processVariableAI(s,o,l){let u=l.substring(0,s),d;l.length<s+o?d=l.length:d=s+o;let f=l.substring(s,d),x=l.substring(d),y="("+u+")"+f,v=he.parseFieldsInGeneralPurpose(x);return v==null?y:y+v}}he.VARIABLE_LENGTH=[],he.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",he.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",he.VARIABLE_LENGTH,20],["22",he.VARIABLE_LENGTH,29],["30",he.VARIABLE_LENGTH,8],["37",he.VARIABLE_LENGTH,8],["90",he.VARIABLE_LENGTH,30],["91",he.VARIABLE_LENGTH,30],["92",he.VARIABLE_LENGTH,30],["93",he.VARIABLE_LENGTH,30],["94",he.VARIABLE_LENGTH,30],["95",he.VARIABLE_LENGTH,30],["96",he.VARIABLE_LENGTH,30],["97",he.VARIABLE_LENGTH,3],["98",he.VARIABLE_LENGTH,30],["99",he.VARIABLE_LENGTH,30]],he.THREE_DIGIT_DATA_LENGTH=[["240",he.VARIABLE_LENGTH,30],["241",he.VARIABLE_LENGTH,30],["242",he.VARIABLE_LENGTH,6],["250",he.VARIABLE_LENGTH,30],["251",he.VARIABLE_LENGTH,30],["253",he.VARIABLE_LENGTH,17],["254",he.VARIABLE_LENGTH,20],["400",he.VARIABLE_LENGTH,30],["401",he.VARIABLE_LENGTH,30],["402",17],["403",he.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",he.VARIABLE_LENGTH,20],["421",he.VARIABLE_LENGTH,15],["422",3],["423",he.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],he.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",he.VARIABLE_LENGTH,15],["391",he.VARIABLE_LENGTH,18],["392",he.VARIABLE_LENGTH,15],["393",he.VARIABLE_LENGTH,18],["703",he.VARIABLE_LENGTH,30]],he.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",he.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",he.VARIABLE_LENGTH,20],["8003",he.VARIABLE_LENGTH,30],["8004",he.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",he.VARIABLE_LENGTH,30],["8008",he.VARIABLE_LENGTH,12],["8018",18],["8020",he.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",he.VARIABLE_LENGTH,70],["8200",he.VARIABLE_LENGTH,70]];class oa{constructor(s){this.buffer=new ie,this.information=s}decodeAllCodes(s,o){let l=o,u=null;do{let d=this.decodeGeneralPurposeField(l,u),f=he.parseFieldsInGeneralPurpose(d.getNewString());if(f!=null&&s.append(f),d.isRemaining()?u=""+d.getRemainingValue():u=null,l===d.getNewPosition())break;l=d.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let o=s;o<s+3;++o)if(this.information.get(o))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(s,4);return d===0?new Kn(this.information.getSize(),Kn.FNC1,Kn.FNC1):new Kn(this.information.getSize(),d-1,Kn.FNC1)}let o=this.extractNumericValueFromBitArray(s,7),l=(o-8)/11,u=(o-8)%11;return new Kn(s+7,l,u)}extractNumericValueFromBitArray(s,o){return oa.extractNumericValueFromBitArray(this.information,s,o)}static extractNumericValueFromBitArray(s,o,l){let u=0;for(let d=0;d<l;++d)s.get(o+d)&&(u|=1<<l-d-1);return u}decodeGeneralPurposeField(s,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(s);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new br(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new br(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,o;do{let l=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),s=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),s=o.isFinished()):(o=this.parseNumericBlock(),s=o.isFinished()),!(l!==this.current.getPosition())&&!s)break}while(!s);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let o;return s.isSecondDigitFNC1()?o=new br(this.current.getPosition(),this.buffer.toString()):o=new br(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new yr(!0,o)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let o=new br(this.current.getPosition(),this.buffer.toString());return new yr(!0,o)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new yr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new br(this.current.getPosition(),this.buffer.toString());return new yr(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new yr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new br(this.current.getPosition(),this.buffer.toString());return new yr(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new yr(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<116)return!0;if(s+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,8);return u>=232&&u<253}decodeIsoIec646(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new vn(s+5,vn.FNC1);if(o>=5&&o<15)return new vn(s+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<90)return new vn(s+7,""+(l+1));if(l>=90&&l<116)return new vn(s+7,""+(l+7));let u=this.extractNumericValueFromBitArray(s,8),d;switch(u){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new k}return new vn(s+8,d)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,6);return l>=16&&l<63}decodeAlphanumeric(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new vn(s+5,vn.FNC1);if(o>=5&&o<15)return new vn(s+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(s,6);if(l>=32&&l<58)return new vn(s+6,""+(l+33));let u;switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new Ti("Decoding invalid alphanumeric value: "+l)}return new vn(s+6,u)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<5&&o+s<this.information.getSize();++o)if(o===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+o))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let o=s;o<s+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<4&&o+s<this.information.getSize();++o)if(this.information.get(s+o))return!1;return!0}}class wh{constructor(s){this.information=s,this.generalDecoder=new oa(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class En extends wh{constructor(s){super(s)}encodeCompressedGtin(s,o){s.append("(01)");let l=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,o,l)}encodeCompressedGtinWithoutAI(s,o,l){for(let u=0;u<4;++u){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*u,10);d/100===0&&s.append("0"),d/10===0&&s.append("0"),s.append(d)}En.appendCheckDigit(s,l)}static appendCheckDigit(s,o){let l=0;for(let u=0;u<13;u++){let d=s.charAt(u+o).charCodeAt(0)-48;l+=u&1?d:3*d}l=10-l%10,l===10&&(l=0),s.append(l)}}En.GTIN_SIZE=40;class la extends En{constructor(s){super(s)}parseInformation(){let s=new ie;s.append("(01)");let o=s.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(la.HEADER_SIZE,4);return s.append(l),this.encodeCompressedGtinWithoutAI(s,la.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(s,la.HEADER_SIZE+44)}}la.HEADER_SIZE=4;class Fc extends wh{constructor(s){super(s)}parseInformation(){let s=new ie;return this.getGeneralDecoder().decodeAllCodes(s,Fc.HEADER_SIZE)}}Fc.HEADER_SIZE=5;class Vc extends En{constructor(s){super(s)}encodeCompressedWeight(s,o,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(o,l);this.addWeightCode(s,u);let d=this.checkWeight(u),f=1e5;for(let x=0;x<5;++x)d/f===0&&s.append("0"),f/=10;s.append(d)}}class Ni extends Vc{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Ni.HEADER_SIZE+Vc.GTIN_SIZE+Ni.WEIGHT_SIZE)throw new Z;let s=new ie;return this.encodeCompressedGtin(s,Ni.HEADER_SIZE),this.encodeCompressedWeight(s,Ni.HEADER_SIZE+Vc.GTIN_SIZE,Ni.WEIGHT_SIZE),s.toString()}}Ni.HEADER_SIZE=5,Ni.WEIGHT_SIZE=15;class yA extends Ni{constructor(s){super(s)}addWeightCode(s,o){s.append("(3103)")}checkWeight(s){return s}}class bA extends Ni{constructor(s){super(s)}addWeightCode(s,o){o<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Ii extends En{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Ii.HEADER_SIZE+En.GTIN_SIZE)throw new Z;let s=new ie;this.encodeCompressedGtin(s,Ii.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ii.HEADER_SIZE+En.GTIN_SIZE,Ii.LAST_DIGIT_SIZE);s.append("(392"),s.append(o),s.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Ii.HEADER_SIZE+En.GTIN_SIZE+Ii.LAST_DIGIT_SIZE,null);return s.append(l.getNewString()),s.toString()}}Ii.HEADER_SIZE=8,Ii.LAST_DIGIT_SIZE=2;class gn extends En{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<gn.HEADER_SIZE+En.GTIN_SIZE)throw new Z;let s=new ie;this.encodeCompressedGtin(s,gn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(gn.HEADER_SIZE+En.GTIN_SIZE,gn.LAST_DIGIT_SIZE);s.append("(393"),s.append(o),s.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(gn.HEADER_SIZE+En.GTIN_SIZE+gn.LAST_DIGIT_SIZE,gn.FIRST_THREE_DIGITS_SIZE);l/100==0&&s.append("0"),l/10==0&&s.append("0"),s.append(l);let u=this.getGeneralDecoder().decodeGeneralPurposeField(gn.HEADER_SIZE+En.GTIN_SIZE+gn.LAST_DIGIT_SIZE+gn.FIRST_THREE_DIGITS_SIZE,null);return s.append(u.getNewString()),s.toString()}}gn.HEADER_SIZE=8,gn.LAST_DIGIT_SIZE=2,gn.FIRST_THREE_DIGITS_SIZE=10;class ht extends Vc{constructor(s,o,l){super(s),this.dateCode=l,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=ht.HEADER_SIZE+ht.GTIN_SIZE+ht.WEIGHT_SIZE+ht.DATE_SIZE)throw new Z;let s=new ie;return this.encodeCompressedGtin(s,ht.HEADER_SIZE),this.encodeCompressedWeight(s,ht.HEADER_SIZE+ht.GTIN_SIZE,ht.WEIGHT_SIZE),this.encodeCompressedDate(s,ht.HEADER_SIZE+ht.GTIN_SIZE+ht.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,ht.DATE_SIZE);if(l==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let u=l%32;l/=32;let d=l%12+1;l/=12;let f=l;f/10==0&&s.append("0"),s.append(f),d/10==0&&s.append("0"),s.append(d),u/10==0&&s.append("0"),s.append(u)}addWeightCode(s,o){s.append("("),s.append(this.firstAIdigits),s.append(o/1e5),s.append(")")}checkWeight(s){return s%1e5}}ht.HEADER_SIZE=8,ht.WEIGHT_SIZE=20,ht.DATE_SIZE=16;function km(N){try{if(N.get(1))return new la(N);if(!N.get(2))return new Fc(N);switch(oa.extractNumericValueFromBitArray(N,1,4)){case 4:return new yA(N);case 5:return new bA(N)}switch(oa.extractNumericValueFromBitArray(N,1,5)){case 12:return new Ii(N);case 13:return new gn(N)}switch(oa.extractNumericValueFromBitArray(N,1,7)){case 56:return new ht(N,"310","11");case 57:return new ht(N,"320","11");case 58:return new ht(N,"310","13");case 59:return new ht(N,"320","13");case 60:return new ht(N,"310","15");case 61:return new ht(N,"320","15");case 62:return new ht(N,"310","17");case 63:return new ht(N,"320","17")}}catch(s){throw console.log(s),new Ti("unknown decoder: "+N)}}class vs{constructor(s,o,l,u){this.leftchar=s,this.rightchar=o,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,o){return s instanceof vs?vs.equalsOrNull(s.leftchar,o.leftchar)&&vs.equalsOrNull(s.rightchar,o.rightchar)&&vs.equalsOrNull(s.finderpattern,o.finderpattern):!1}static equalsOrNull(s,o){return s===null?o===null:vs.equals(s,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class vh{constructor(s,o,l){this.pairs=s,this.rowNumber=o,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,o){return s instanceof vh?this.checkEqualitity(s,o)&&s.wasReversed===o.wasReversed:!1}checkEqualitity(s,o){if(!s||!o)return;let l;return s.forEach((u,d)=>{o.forEach(f=>{u.getLeftChar().getValue()===f.getLeftChar().getValue()&&u.getRightChar().getValue()===f.getRightChar().getValue()&&u.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(l=!0)})}),l}}class ne extends on{constructor(s){super(...arguments),this.pairs=new Array(ne.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,o,l){this.pairs.length=0,this.startFromEven=!1;try{return ne.constructResult(this.decodeRow2pairs(s,o))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,ne.constructResult(this.decodeRow2pairs(s,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,o){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,s))}catch(d){if(d instanceof Z){if(!this.pairs.length)throw new Z;l=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(s,!1),u){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new Z}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return s&&(this.rows=this.rows.reverse()),o}checkRows(s,o){for(let l=o;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let f of s)this.pairs.push(f.getPairs());if(this.pairs.push(u.getPairs()),!ne.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(s);d.push(u);try{return this.checkRows(d,l+1)}catch(f){this.verbose&&console.log(f)}}throw new Z}static isValidSequence(s){for(let o of ne.FINDER_PATTERN_SEQUENCES){if(s.length>o.length)continue;let l=!0;for(let u=0;u<s.length;u++)if(s[u].getFinderPattern().getValue()!=o[u]){l=!1;break}if(l)return!0}return!1}storeRow(s,o){let l=0,u=!1,d=!1;for(;l<this.rows.length;){let f=this.rows[l];if(f.getRowNumber()>s){d=f.isEquivalent(this.pairs);break}u=f.isEquivalent(this.pairs),l++}d||u||ne.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new vh(this.pairs,s,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,o){for(let l of o)if(l.getPairs().length!==s.length){for(let u of l.getPairs())for(let d of s)if(vs.equals(u,d))break}}static isPartialRow(s,o){for(let l of o){let u=!0;for(let d of s){let f=!1;for(let x of l.getPairs())if(d.equals(x)){f=!0;break}if(!f){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(s){let o=xA.buildBitArray(s),u=km(o).parseInformation(),d=s[0].getFinderPattern().getResultPoints(),f=s[s.length-1].getFinderPattern().getResultPoints(),x=[d[0],d[1],f[0],f[1]];return new ke(u,null,null,x,xe.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),o=s.getLeftChar(),l=s.getRightChar();if(l==null)return!1;let u=l.getChecksumPortion(),d=2;for(let x=1;x<this.pairs.size();++x){let y=this.pairs.get(x);u+=y.getLeftChar().getChecksumPortion(),d++;let v=y.getRightChar();v!=null&&(u+=v.getChecksumPortion(),d++)}return u%=211,211*(d-4)+u==o.getValue()}static getNextSecondBar(s,o){let l;return s.get(o)?(l=s.getNextUnset(o),l=s.getNextSet(l)):(l=s.getNextSet(o),l=s.getNextUnset(l)),l}retrieveNextPair(s,o,l){let u=o.length%2==0;this.startFromEven&&(u=!u);let d,f=!0,x=-1;do this.findNextPair(s,o,x),d=this.parseFoundFinderPattern(s,l,u),d==null?x=ne.getNextSecondBar(s,this.startEnd[0]):f=!1;while(f);let y=this.decodeDataCharacter(s,d,u,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new Z;let v;try{v=this.decodeDataCharacter(s,d,u,!1)}catch(S){v=null,this.verbose&&console.log(S)}return new vs(y,v,d,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,o,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),f;l>=0?f=l:this.isEmptyPair(o)?f=0:f=o[o.length-1].getFinderPattern().getStartEnd()[1];let x=o.length%2!=0;this.startFromEven&&(x=!x);let y=!1;for(;f<d&&(y=!s.get(f),!!y);)f++;let v=0,S=f;for(let I=f;I<d;I++)if(s.get(I)!=y)u[v]++;else{if(v==3){if(x&&ne.reverseCounters(u),ne.isFinderPattern(u)){this.startEnd[0]=S,this.startEnd[1]=I;return}x&&ne.reverseCounters(u),S+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,v--}else v++;u[v]=1,y=!y}throw new Z}static reverseCounters(s){let o=s.length;for(let l=0;l<o/2;++l){let u=s[l];s[l]=s[o-l-1],s[o-l-1]=u}}parseFoundFinderPattern(s,o,l){let u,d,f;if(l){let v=this.startEnd[0]-1;for(;v>=0&&!s.get(v);)v--;v++,u=this.startEnd[0]-v,d=v,f=this.startEnd[1]}else d=this.startEnd[0],f=s.getNextUnset(this.startEnd[1]+1),u=f-this.startEnd[1];let x=this.getDecodeFinderCounters();M.arraycopy(x,0,x,1,x.length-1),x[0]=u;let y;try{y=this.parseFinderValue(x,ne.FINDER_PATTERNS)}catch{return null}return new Uc(y,[d,f],d,f,o)}decodeDataCharacter(s,o,l,u){let d=this.getDataCharacterCounters();for(let nt=0;nt<d.length;nt++)d[nt]=0;if(u)ne.recordPatternInReverse(s,o.getStartEnd()[0],d);else{ne.recordPattern(s,o.getStartEnd()[1],d);for(let nt=0,en=d.length-1;nt<en;nt++,en--){let Ln=d[nt];d[nt]=d[en],d[en]=Ln}}let f=17,x=Ue.sum(new Int32Array(d))/f,y=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(x-y)/y>.3)throw new Z;let v=this.getOddCounts(),S=this.getEvenCounts(),I=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let nt=0;nt<d.length;nt++){let en=1*d[nt]/x,Ln=en+.5;if(Ln<1){if(en<.3)throw new Z;Ln=1}else if(Ln>8){if(en>8.7)throw new Z;Ln=8}let fa=nt/2;nt&1?(S[fa]=Ln,R[fa]=en-Ln):(v[fa]=Ln,I[fa]=en-Ln)}this.adjustOddEvenCounts(f);let F=4*o.getValue()+(l?0:2)+(u?0:1)-1,H=0,G=0;for(let nt=v.length-1;nt>=0;nt--){if(ne.isNotA1left(o,l,u)){let en=ne.WEIGHTS[F][2*nt];G+=v[nt]*en}H+=v[nt]}let X=0;for(let nt=S.length-1;nt>=0;nt--)if(ne.isNotA1left(o,l,u)){let en=ne.WEIGHTS[F][2*nt+1];X+=S[nt]*en}let Q=G+X;if(H&1||H>13||H<4)throw new Z;let ae=(13-H)/2,oe=ne.SYMBOL_WIDEST[ae],re=9-oe,je=_i.getRSSvalue(v,oe,!0),Se=_i.getRSSvalue(S,re,!1),Sn=ne.EVEN_TOTAL_SUBSET[ae],gi=ne.GSUM[ae],Cn=je*Sn+Se+gi;return new aa(Cn,Q)}static isNotA1left(s,o,l){return!(s.getValue()==0&&o&&l)}adjustOddEvenCounts(s){let o=Ue.sum(new Int32Array(this.getOddCounts())),l=Ue.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1;o>13?d=!0:o<4&&(u=!0);let f=!1,x=!1;l>13?x=!0:l<4&&(f=!0);let y=o+l-s,v=(o&1)==1,S=(l&1)==0;if(y==1)if(v){if(S)throw new Z;d=!0}else{if(!S)throw new Z;x=!0}else if(y==-1)if(v){if(S)throw new Z;u=!0}else{if(!S)throw new Z;f=!0}else if(y==0){if(v){if(!S)throw new Z;o<l?(u=!0,x=!0):(d=!0,f=!0)}else if(S)throw new Z}else throw new Z;if(u){if(d)throw new Z;ne.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&ne.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(x)throw new Z;ne.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&ne.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ne.SYMBOL_WIDEST=[7,5,4,3,1],ne.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ne.GSUM=[0,348,1388,2948,3988],ne.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ne.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ne.FINDER_PAT_A=0,ne.FINDER_PAT_B=1,ne.FINDER_PAT_C=2,ne.FINDER_PAT_D=3,ne.FINDER_PAT_E=4,ne.FINDER_PAT_F=5,ne.FINDER_PATTERN_SEQUENCES=[[ne.FINDER_PAT_A,ne.FINDER_PAT_A],[ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B],[ne.FINDER_PAT_A,ne.FINDER_PAT_C,ne.FINDER_PAT_B,ne.FINDER_PAT_D],[ne.FINDER_PAT_A,ne.FINDER_PAT_E,ne.FINDER_PAT_B,ne.FINDER_PAT_D,ne.FINDER_PAT_C],[ne.FINDER_PAT_A,ne.FINDER_PAT_E,ne.FINDER_PAT_B,ne.FINDER_PAT_D,ne.FINDER_PAT_D,ne.FINDER_PAT_F],[ne.FINDER_PAT_A,ne.FINDER_PAT_E,ne.FINDER_PAT_B,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_F,ne.FINDER_PAT_F],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_D],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_E],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_F,ne.FINDER_PAT_F],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_E,ne.FINDER_PAT_F,ne.FINDER_PAT_F]],ne.MAX_PAIRS=11;class wA extends aa{constructor(s,o,l){super(s,o),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Et extends on{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,o,l){const u=this.decodePair(o,!1,s,l);Et.addOrTally(this.possibleLeftPairs,u),o.reverse();let d=this.decodePair(o,!0,s,l);Et.addOrTally(this.possibleRightPairs,d),o.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let x of this.possibleRightPairs)if(x.getCount()>1&&Et.checkChecksum(f,x))return Et.constructResult(f,x)}throw new Z}static addOrTally(s,o){if(o==null)return;let l=!1;for(let u of s)if(u.getValue()===o.getValue()){u.incrementCount(),l=!0;break}l||s.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,o){let l=4537077*s.getValue()+o.getValue(),u=new String(l).toString(),d=new ie;for(let v=13-u.length;v>0;v--)d.append("0");d.append(u);let f=0;for(let v=0;v<13;v++){let S=d.charAt(v).charCodeAt(0)-48;f+=v&1?S:3*S}f=10-f%10,f===10&&(f=0),d.append(f.toString());let x=s.getFinderPattern().getResultPoints(),y=o.getFinderPattern().getResultPoints();return new ke(d.toString(),null,0,[x[0],x[1],y[0],y[1]],xe.RSS_14,new Date().getTime())}static checkChecksum(s,o){let l=(s.getChecksumPortion()+16*o.getChecksumPortion())%79,u=9*s.getFinderPattern().getValue()+o.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(s,o,l,u){try{let d=this.findFinderPattern(s,o),f=this.parseFoundFinderPattern(s,l,o,d),x=u==null?null:u.get(D.NEED_RESULT_POINT_CALLBACK);if(x!=null){let S=(d[0]+d[1])/2;o&&(S=s.getSize()-1-S),x.foundPossibleResultPoint(new ge(S,l))}let y=this.decodeDataCharacter(s,f,!0),v=this.decodeDataCharacter(s,f,!1);return new wA(1597*y.getValue()+v.getValue(),y.getChecksumPortion()+4*v.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(s,o,l){let u=this.getDataCharacterCounters();for(let X=0;X<u.length;X++)u[X]=0;if(l)Rt.recordPatternInReverse(s,o.getStartEnd()[0],u);else{Rt.recordPattern(s,o.getStartEnd()[1]+1,u);for(let X=0,Q=u.length-1;X<Q;X++,Q--){let ae=u[X];u[X]=u[Q],u[Q]=ae}}let d=l?16:15,f=Ue.sum(new Int32Array(u))/d,x=this.getOddCounts(),y=this.getEvenCounts(),v=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let X=0;X<u.length;X++){let Q=u[X]/f,ae=Math.floor(Q+.5);ae<1?ae=1:ae>8&&(ae=8);let oe=Math.floor(X/2);X&1?(y[oe]=ae,S[oe]=Q-ae):(x[oe]=ae,v[oe]=Q-ae)}this.adjustOddEvenCounts(l,d);let I=0,R=0;for(let X=x.length-1;X>=0;X--)R*=9,R+=x[X],I+=x[X];let F=0,H=0;for(let X=y.length-1;X>=0;X--)F*=9,F+=y[X],H+=y[X];let G=R+3*F;if(l){if(I&1||I>12||I<4)throw new Z;let X=(12-I)/2,Q=Et.OUTSIDE_ODD_WIDEST[X],ae=9-Q,oe=_i.getRSSvalue(x,Q,!1),re=_i.getRSSvalue(y,ae,!0),je=Et.OUTSIDE_EVEN_TOTAL_SUBSET[X],Se=Et.OUTSIDE_GSUM[X];return new aa(oe*je+re+Se,G)}else{if(H&1||H>10||H<4)throw new Z;let X=(10-H)/2,Q=Et.INSIDE_ODD_WIDEST[X],ae=9-Q,oe=_i.getRSSvalue(x,Q,!0),re=_i.getRSSvalue(y,ae,!1),je=Et.INSIDE_ODD_TOTAL_SUBSET[X],Se=Et.INSIDE_GSUM[X];return new aa(re*je+oe+Se,G)}}findFinderPattern(s,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=s.getSize(),d=!1,f=0;for(;f<u&&(d=!s.get(f),o!==d);)f++;let x=0,y=f;for(let v=f;v<u;v++)if(s.get(v)!==d)l[x]++;else{if(x===3){if(on.isFinderPattern(l))return[y,v];y+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,x--}else x++;l[x]=1,d=!d}throw new Z}parseFoundFinderPattern(s,o,l,u){let d=s.get(u[0]),f=u[0]-1;for(;f>=0&&d!==s.get(f);)f--;f++;const x=u[0]-f,y=this.getDecodeFinderCounters(),v=new Int32Array(y.length);M.arraycopy(y,0,v,1,y.length-1),v[0]=x;const S=this.parseFinderValue(v,Et.FINDER_PATTERNS);let I=f,R=u[1];return l&&(I=s.getSize()-1-I,R=s.getSize()-1-R),new Uc(S,[f,u[1]],I,R,o)}adjustOddEvenCounts(s,o){let l=Ue.sum(new Int32Array(this.getOddCounts())),u=Ue.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1,x=!1,y=!1;s?(l>12?f=!0:l<4&&(d=!0),u>12?y=!0:u<4&&(x=!0)):(l>11?f=!0:l<5&&(d=!0),u>10?y=!0:u<4&&(x=!0));let v=l+u-o,S=(l&1)===(s?1:0),I=(u&1)===1;if(v===1)if(S){if(I)throw new Z;f=!0}else{if(!I)throw new Z;y=!0}else if(v===-1)if(S){if(I)throw new Z;d=!0}else{if(!I)throw new Z;x=!0}else if(v===0){if(S){if(!I)throw new Z;l<u?(d=!0,y=!0):(f=!0,x=!0)}else if(I)throw new Z}else throw new Z;if(d){if(f)throw new Z;on.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&on.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(y)throw new Z;on.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&on.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Et.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Et.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Et.OUTSIDE_GSUM=[0,161,961,2015,2715],Et.INSIDE_GSUM=[0,336,1036,1516],Et.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Et.INSIDE_ODD_WIDEST=[2,4,6,8],Et.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ca extends Rt{constructor(s,o){super(),this.readers=[],this.verbose=o===!0;const l=s?s.get(D.POSSIBLE_FORMATS):null,u=s&&s.get(D.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(xe.EAN_13)||l.includes(xe.UPC_A)||l.includes(xe.EAN_8)||l.includes(xe.UPC_E))&&this.readers.push(new yh(s)),l.includes(xe.CODE_39)&&this.readers.push(new kt(u)),l.includes(xe.CODE_128)&&this.readers.push(new ce),l.includes(xe.ITF)&&this.readers.push(new et),l.includes(xe.RSS_14)&&this.readers.push(new Et),l.includes(xe.RSS_EXPANDED)&&this.readers.push(new ne(this.verbose))):(this.readers.push(new yh(s)),this.readers.push(new kt),this.readers.push(new yh(s)),this.readers.push(new ce),this.readers.push(new et),this.readers.push(new Et),this.readers.push(new ne(this.verbose)))}decodeRow(s,o,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(s,o,l)}catch{}throw new Z}reset(){this.readers.forEach(s=>s.reset())}}class vA extends dt{constructor(s=500,o){super(new ca(o),s,o)}}class Xe{constructor(s,o,l){this.ecCodewords=s,this.ecBlocks=[o],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ge{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Le{constructor(s,o,l,u,d,f){this.versionNumber=s,this.symbolSizeRows=o,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=d,this.ecBlocks=f;let x=0;const y=f.getECCodewords(),v=f.getECBlocks();for(let S of v)x+=S.getCount()*(S.getDataCodewords()+y);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,o){if(s&1||o&1)throw new k;for(let l of Le.VERSIONS)if(l.symbolSizeRows===s&&l.symbolSizeColumns===o)return l;throw new k}toString(){return""+this.versionNumber}static buildVersions(){return[new Le(1,10,10,8,8,new Xe(5,new Ge(1,3))),new Le(2,12,12,10,10,new Xe(7,new Ge(1,5))),new Le(3,14,14,12,12,new Xe(10,new Ge(1,8))),new Le(4,16,16,14,14,new Xe(12,new Ge(1,12))),new Le(5,18,18,16,16,new Xe(14,new Ge(1,18))),new Le(6,20,20,18,18,new Xe(18,new Ge(1,22))),new Le(7,22,22,20,20,new Xe(20,new Ge(1,30))),new Le(8,24,24,22,22,new Xe(24,new Ge(1,36))),new Le(9,26,26,24,24,new Xe(28,new Ge(1,44))),new Le(10,32,32,14,14,new Xe(36,new Ge(1,62))),new Le(11,36,36,16,16,new Xe(42,new Ge(1,86))),new Le(12,40,40,18,18,new Xe(48,new Ge(1,114))),new Le(13,44,44,20,20,new Xe(56,new Ge(1,144))),new Le(14,48,48,22,22,new Xe(68,new Ge(1,174))),new Le(15,52,52,24,24,new Xe(42,new Ge(2,102))),new Le(16,64,64,14,14,new Xe(56,new Ge(2,140))),new Le(17,72,72,16,16,new Xe(36,new Ge(4,92))),new Le(18,80,80,18,18,new Xe(48,new Ge(4,114))),new Le(19,88,88,20,20,new Xe(56,new Ge(4,144))),new Le(20,96,96,22,22,new Xe(68,new Ge(4,174))),new Le(21,104,104,24,24,new Xe(56,new Ge(6,136))),new Le(22,120,120,18,18,new Xe(68,new Ge(6,175))),new Le(23,132,132,20,20,new Xe(62,new Ge(8,163))),new Le(24,144,144,22,22,new Xe(62,new Ge(8,156),new Ge(2,155))),new Le(25,8,18,6,16,new Xe(7,new Ge(1,5))),new Le(26,8,32,6,14,new Xe(11,new Ge(1,10))),new Le(27,12,26,10,24,new Xe(14,new Ge(1,16))),new Le(28,12,36,10,16,new Xe(18,new Ge(1,22))),new Le(29,16,36,14,16,new Xe(24,new Ge(1,32))),new Le(30,16,48,14,22,new Xe(28,new Ge(1,49)))]}}Le.VERSIONS=Le.buildVersions();class Eh{constructor(s){const o=s.getHeight();if(o<8||o>144||o&1)throw new k;this.version=Eh.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new de(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const o=s.getHeight(),l=s.getWidth();return Le.getVersionForDimensions(o,l)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let o=0,l=4,u=0;const d=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let x=!1,y=!1,v=!1,S=!1;do if(l===d&&u===0&&!x)s[o++]=this.readCorner1(d,f)&255,l-=2,u+=2,x=!0;else if(l===d-2&&u===0&&f&3&&!y)s[o++]=this.readCorner2(d,f)&255,l-=2,u+=2,y=!0;else if(l===d+4&&u===2&&!(f&7)&&!v)s[o++]=this.readCorner3(d,f)&255,l-=2,u+=2,v=!0;else if(l===d-2&&u===0&&(f&7)===4&&!S)s[o++]=this.readCorner4(d,f)&255,l-=2,u+=2,S=!0;else{do l<d&&u>=0&&!this.readMappingMatrix.get(u,l)&&(s[o++]=this.readUtah(l,u,d,f)&255),l-=2,u+=2;while(l>=0&&u<f);l+=1,u+=3;do l>=0&&u<f&&!this.readMappingMatrix.get(u,l)&&(s[o++]=this.readUtah(l,u,d,f)&255),l+=2,u-=2;while(l<d&&u>=0);l+=3,u+=1}while(l<d||u<f);if(o!==this.version.getTotalCodewords())throw new k;return s}readModule(s,o,l,u){return s<0&&(s+=l,o+=4-(l+4&7)),o<0&&(o+=u,s+=4-(u+4&7)),this.readMappingMatrix.set(o,s),this.mappingBitMatrix.get(o,s)}readUtah(s,o,l,u){let d=0;return this.readModule(s-2,o-2,l,u)&&(d|=1),d<<=1,this.readModule(s-2,o-1,l,u)&&(d|=1),d<<=1,this.readModule(s-1,o-2,l,u)&&(d|=1),d<<=1,this.readModule(s-1,o-1,l,u)&&(d|=1),d<<=1,this.readModule(s-1,o,l,u)&&(d|=1),d<<=1,this.readModule(s,o-2,l,u)&&(d|=1),d<<=1,this.readModule(s,o-1,l,u)&&(d|=1),d<<=1,this.readModule(s,o,l,u)&&(d|=1),d}readCorner1(s,o){let l=0;return this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,1,s,o)&&(l|=1),l<<=1,this.readModule(s-1,2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(2,o-1,s,o)&&(l|=1),l<<=1,this.readModule(3,o-1,s,o)&&(l|=1),l}readCorner2(s,o){let l=0;return this.readModule(s-3,0,s,o)&&(l|=1),l<<=1,this.readModule(s-2,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(0,o-4,s,o)&&(l|=1),l<<=1,this.readModule(0,o-3,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l}readCorner3(s,o){let l=0;return this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(0,o-3,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-3,s,o)&&(l|=1),l<<=1,this.readModule(1,o-2,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l}readCorner4(s,o){let l=0;return this.readModule(s-3,0,s,o)&&(l|=1),l<<=1,this.readModule(s-2,0,s,o)&&(l|=1),l<<=1,this.readModule(s-1,0,s,o)&&(l|=1),l<<=1,this.readModule(0,o-2,s,o)&&(l|=1),l<<=1,this.readModule(0,o-1,s,o)&&(l|=1),l<<=1,this.readModule(1,o-1,s,o)&&(l|=1),l<<=1,this.readModule(2,o-1,s,o)&&(l|=1),l<<=1,this.readModule(3,o-1,s,o)&&(l|=1),l}extractDataRegion(s){const o=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(s.getHeight()!==o)throw new w("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),f=o/u|0,x=l/d|0,y=f*u,v=x*d,S=new de(v,y);for(let I=0;I<f;++I){const R=I*u;for(let F=0;F<x;++F){const H=F*d;for(let G=0;G<u;++G){const X=I*(u+2)+1+G,Q=R+G;for(let ae=0;ae<d;++ae){const oe=F*(d+2)+1+ae;if(s.get(oe,X)){const re=H+ae;S.set(re,Q)}}}}}return S}}class Ah{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o){const l=o.getECBlocks();let u=0;const d=l.getECBlocks();for(let G of d)u+=G.getCount();const f=new Array(u);let x=0;for(let G of d)for(let X=0;X<G.getCount();X++){const Q=G.getDataCodewords(),ae=l.getECCodewords()+Q;f[x++]=new Ah(Q,new Uint8Array(ae))}const v=f[0].codewords.length-l.getECCodewords(),S=v-1;let I=0;for(let G=0;G<S;G++)for(let X=0;X<x;X++)f[X].codewords[G]=s[I++];const R=o.getVersionNumber()===24,F=R?8:x;for(let G=0;G<F;G++)f[G].codewords[v-1]=s[I++];const H=f[0].codewords.length;for(let G=v;G<H;G++)for(let X=0;X<x;X++){const Q=R?(X+8)%x:X,ae=R&&Q>7?G-1:G;f[Q].codewords[ae]=s[I++]}if(I!==s.length)throw new w;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Sh{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new w(""+s);let o=0,l=this.bitOffset,u=this.byteOffset;const d=this.bytes;if(l>0){const f=8-l,x=s<f?s:f,y=f-x,v=255>>8-x<<y;o=(d[u]&v)>>y,s-=x,l+=x,l===8&&(l=0,u++)}if(s>0){for(;s>=8;)o=o<<8|d[u]&255,u++,s-=8;if(s>0){const f=8-s,x=255>>f<<f;o=o<<s|(d[u]&x)>>f,l+=s}}return this.bitOffset=l,this.byteOffset=u,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Bt;(function(N){N[N.PAD_ENCODE=0]="PAD_ENCODE",N[N.ASCII_ENCODE=1]="ASCII_ENCODE",N[N.C40_ENCODE=2]="C40_ENCODE",N[N.TEXT_ENCODE=3]="TEXT_ENCODE",N[N.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",N[N.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",N[N.BASE256_ENCODE=6]="BASE256_ENCODE"})(Bt||(Bt={}));class Es{static decode(s){const o=new Sh(s),l=new ie,u=new ie,d=new Array;let f=Bt.ASCII_ENCODE;do if(f===Bt.ASCII_ENCODE)f=this.decodeAsciiSegment(o,l,u);else{switch(f){case Bt.C40_ENCODE:this.decodeC40Segment(o,l);break;case Bt.TEXT_ENCODE:this.decodeTextSegment(o,l);break;case Bt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,l);break;case Bt.EDIFACT_ENCODE:this.decodeEdifactSegment(o,l);break;case Bt.BASE256_ENCODE:this.decodeBase256Segment(o,l,d);break;default:throw new k}f=Bt.ASCII_ENCODE}while(f!==Bt.PAD_ENCODE&&o.available()>0);return u.length()>0&&l.append(u.toString()),new jo(s,l.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(s,o,l){let u=!1;do{let d=s.readBits(8);if(d===0)throw new k;if(d<=128)return u&&(d+=128),o.append(String.fromCharCode(d-1)),Bt.ASCII_ENCODE;if(d===129)return Bt.PAD_ENCODE;if(d<=229){const f=d-130;f<10&&o.append("0"),o.append(""+f)}else switch(d){case 230:return Bt.C40_ENCODE;case 231:return Bt.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:o.append("[)>05"),l.insert(0,"");break;case 237:o.append("[)>06"),l.insert(0,"");break;case 238:return Bt.ANSIX12_ENCODE;case 239:return Bt.TEXT_ENCODE;case 240:return Bt.EDIFACT_ENCODE;case 241:break;default:if(d!==254||s.available()!==0)throw new k;break}}while(s.available()>0);return Bt.ASCII_ENCODE}static decodeC40Segment(s,o){let l=!1;const u=[];let d=0;do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),u);for(let x=0;x<3;x++){const y=u[x];switch(d){case 0:if(y<3)d=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[y];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else throw new k;break;case 1:l?(o.append(String.fromCharCode(y+128)),l=!1):o.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[y];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else switch(y){case 27:o.append("");break;case 30:l=!0;break;default:throw new k}d=0;break;case 3:l?(o.append(String.fromCharCode(y+224)),l=!1):o.append(String.fromCharCode(y+96)),d=0;break;default:throw new k}}}while(s.available()>0)}static decodeTextSegment(s,o){let l=!1,u=[],d=0;do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),u);for(let x=0;x<3;x++){const y=u[x];switch(d){case 0:if(y<3)d=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[y];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else throw new k;break;case 1:l?(o.append(String.fromCharCode(y+128)),l=!1):o.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[y];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v)}else switch(y){case 27:o.append("");break;case 30:l=!0;break;default:throw new k}d=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[y];l?(o.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):o.append(v),d=0}else throw new k;break;default:throw new k}}}while(s.available()>0)}static decodeAnsiX12Segment(s,o){const l=[];do{if(s.available()===8)return;const u=s.readBits(8);if(u===254)return;this.parseTwoBytes(u,s.readBits(8),l);for(let d=0;d<3;d++){const f=l[d];switch(f){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(f<14)o.append(String.fromCharCode(f+44));else if(f<40)o.append(String.fromCharCode(f+51));else throw new k;break}}}while(s.available()>0)}static parseTwoBytes(s,o,l){let u=(s<<8)+o-1,d=Math.floor(u/1600);l[0]=d,u-=d*1600,d=Math.floor(u/40),l[1]=d,l[2]=u-d*40}static decodeEdifactSegment(s,o){do{if(s.available()<=16)return;for(let l=0;l<4;l++){let u=s.readBits(6);if(u===31){const d=8-s.getBitOffset();d!==8&&s.readBits(d);return}u&32||(u|=64),o.append(String.fromCharCode(u))}}while(s.available()>0)}static decodeBase256Segment(s,o,l){let u=1+s.getByteOffset();const d=this.unrandomize255State(s.readBits(8),u++);let f;if(d===0?f=s.available()/8|0:d<250?f=d:f=250*(d-249)+this.unrandomize255State(s.readBits(8),u++),f<0)throw new k;const x=new Uint8Array(f);for(let y=0;y<f;y++){if(s.available()<8)throw new k;x[y]=this.unrandomize255State(s.readBits(8),u++)}l.push(x);try{o.append(Y.decode(x,$.ISO88591))}catch(y){throw new Ti("Platform does not support required encoding: "+y.message)}}static unrandomize255State(s,o){const l=149*o%255+1,u=s-l;return u>=0?u:u+256}}Es.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Es.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Es.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Es.TEXT_SHIFT2_SET_CHARS=Es.C40_SHIFT2_SET_CHARS,Es.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class EA{constructor(){this.rsDecoder=new ko(ze.DATA_MATRIX_FIELD_256)}decode(s){const o=new Eh(s),l=o.getVersion(),u=o.readCodewords(),d=Ah.getDataBlocks(u,l);let f=0;for(let v of d)f+=v.getNumDataCodewords();const x=new Uint8Array(f),y=d.length;for(let v=0;v<y;v++){const S=d[v],I=S.getCodewords(),R=S.getNumDataCodewords();this.correctErrors(I,R);for(let F=0;F<R;F++)x[F*y+v]=I[F]}return Es.decode(x)}correctErrors(s,o){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-o)}catch{throw new A}for(let u=0;u<o;u++)s[u]=l[u]}}class Nt{constructor(s){this.image=s,this.rectangleDetector=new Xi(this.image)}detect(){const s=this.rectangleDetector.detect();let o=this.detectSolid1(s);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new Z;o=this.shiftToModuleCenter(o);const l=o[0],u=o[1],d=o[2],f=o[3];let x=this.transitionsBetween(l,f)+1,y=this.transitionsBetween(d,f)+1;(x&1)===1&&(x+=1),(y&1)===1&&(y+=1),4*x<7*y&&4*y<7*x&&(x=y=Math.max(x,y));let v=Nt.sampleGrid(this.image,l,u,d,f,x,y);return new Bc(v,[l,u,d,f])}static shiftPoint(s,o,l){let u=(o.getX()-s.getX())/(l+1),d=(o.getY()-s.getY())/(l+1);return new ge(s.getX()+u,s.getY()+d)}static moveAway(s,o,l){let u=s.getX(),d=s.getY();return u<o?u-=1:u+=1,d<l?d-=1:d+=1,new ge(u,d)}detectSolid1(s){let o=s[0],l=s[1],u=s[3],d=s[2],f=this.transitionsBetween(o,l),x=this.transitionsBetween(l,u),y=this.transitionsBetween(u,d),v=this.transitionsBetween(d,o),S=f,I=[d,o,l,u];return S>x&&(S=x,I[0]=o,I[1]=l,I[2]=u,I[3]=d),S>y&&(S=y,I[0]=l,I[1]=u,I[2]=d,I[3]=o),S>v&&(I[0]=u,I[1]=d,I[2]=o,I[3]=l),I}detectSolid2(s){let o=s[0],l=s[1],u=s[2],d=s[3],f=this.transitionsBetween(o,d),x=Nt.shiftPoint(l,u,(f+1)*4),y=Nt.shiftPoint(u,l,(f+1)*4),v=this.transitionsBetween(x,o),S=this.transitionsBetween(y,d);return v<S?(s[0]=o,s[1]=l,s[2]=u,s[3]=d):(s[0]=l,s[1]=u,s[2]=d,s[3]=o),s}correctTopRight(s){let o=s[0],l=s[1],u=s[2],d=s[3],f=this.transitionsBetween(o,d),x=this.transitionsBetween(l,d),y=Nt.shiftPoint(o,l,(x+1)*4),v=Nt.shiftPoint(u,l,(f+1)*4);f=this.transitionsBetween(y,d),x=this.transitionsBetween(v,d);let S=new ge(d.getX()+(u.getX()-l.getX())/(f+1),d.getY()+(u.getY()-l.getY())/(f+1)),I=new ge(d.getX()+(o.getX()-l.getX())/(x+1),d.getY()+(o.getY()-l.getY())/(x+1));if(!this.isValid(S))return this.isValid(I)?I:null;if(!this.isValid(I))return S;let R=this.transitionsBetween(y,S)+this.transitionsBetween(v,S),F=this.transitionsBetween(y,I)+this.transitionsBetween(v,I);return R>F?S:I}shiftToModuleCenter(s){let o=s[0],l=s[1],u=s[2],d=s[3],f=this.transitionsBetween(o,d)+1,x=this.transitionsBetween(u,d)+1,y=Nt.shiftPoint(o,l,x*4),v=Nt.shiftPoint(u,l,f*4);f=this.transitionsBetween(y,d)+1,x=this.transitionsBetween(v,d)+1,(f&1)===1&&(f+=1),(x&1)===1&&(x+=1);let S=(o.getX()+l.getX()+u.getX()+d.getX())/4,I=(o.getY()+l.getY()+u.getY()+d.getY())/4;o=Nt.moveAway(o,S,I),l=Nt.moveAway(l,S,I),u=Nt.moveAway(u,S,I),d=Nt.moveAway(d,S,I);let R,F;return y=Nt.shiftPoint(o,l,x*4),y=Nt.shiftPoint(y,d,f*4),R=Nt.shiftPoint(l,o,x*4),R=Nt.shiftPoint(R,u,f*4),v=Nt.shiftPoint(u,d,x*4),v=Nt.shiftPoint(v,l,f*4),F=Nt.shiftPoint(d,u,x*4),F=Nt.shiftPoint(F,o,f*4),[y,R,v,F]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,o,l,u,d,f,x){return ws.getInstance().sampleGrid(s,f,x,.5,.5,f-.5,.5,f-.5,x-.5,.5,x-.5,o.getX(),o.getY(),d.getX(),d.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(s,o){let l=Math.trunc(s.getX()),u=Math.trunc(s.getY()),d=Math.trunc(o.getX()),f=Math.trunc(o.getY()),x=Math.abs(f-u)>Math.abs(d-l);if(x){let G=l;l=u,u=G,G=d,d=f,f=G}let y=Math.abs(d-l),v=Math.abs(f-u),S=-y/2,I=u<f?1:-1,R=l<d?1:-1,F=0,H=this.image.get(x?u:l,x?l:u);for(let G=l,X=u;G!==d;G+=R){let Q=this.image.get(x?X:G,x?G:X);if(Q!==H&&(F++,H=Q),S+=v,S>0){if(X===f)break;X+=I,S-=y}}return F}}class As{constructor(){this.decoder=new EA}decode(s,o=null){let l,u;if(o!=null&&o.has(D.PURE_BARCODE)){const v=As.extractPureBits(s.getBlackMatrix());l=this.decoder.decode(v),u=As.NO_POINTS}else{const v=new Nt(s.getBlackMatrix()).detect();l=this.decoder.decode(v.getBits()),u=v.getPoints()}const d=l.getRawBytes(),f=new ke(l.getText(),d,8*d.length,u,xe.DATA_MATRIX,M.currentTimeMillis()),x=l.getByteSegments();x!=null&&f.putMetadata(Ht.BYTE_SEGMENTS,x);const y=l.getECLevel();return y!=null&&f.putMetadata(Ht.ERROR_CORRECTION_LEVEL,y),f}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(o==null||l==null)throw new Z;const u=this.moduleSize(o,s);let d=o[1];const f=l[1];let x=o[0];const v=(l[0]-x+1)/u,S=(f-d+1)/u;if(v<=0||S<=0)throw new Z;const I=u/2;d+=I,x+=I;const R=new de(v,S);for(let F=0;F<S;F++){const H=d+F*u;for(let G=0;G<v;G++)s.get(x+G*u,H)&&R.set(G,F)}return R}static moduleSize(s,o){const l=o.getWidth();let u=s[0];const d=s[1];for(;u<l&&o.get(u,d);)u++;if(u===l)throw new Z;const f=u-s[0];if(f===0)throw new Z;return f}}As.NO_POINTS=[];class AA extends dt{constructor(s=500){super(new As,s)}}var ua;(function(N){N[N.L=0]="L",N[N.M=1]="M",N[N.Q=2]="Q",N[N.H=3]="H"})(ua||(ua={}));class rt{constructor(s,o,l){this.value=s,this.stringValue=o,this.bits=l,rt.FOR_BITS.set(l,this),rt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return rt.L;case"M":return rt.M;case"Q":return rt.Q;case"H":return rt.H;default:throw new b(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof rt))return!1;const o=s;return this.value===o.value}static forBits(s){if(s<0||s>=rt.FOR_BITS.size)throw new w;return rt.FOR_BITS.get(s)}}rt.FOR_BITS=new Map,rt.FOR_VALUE=new Map,rt.L=new rt(ua.L,"L",1),rt.M=new rt(ua.M,"M",0),rt.Q=new rt(ua.Q,"Q",3),rt.H=new rt(ua.H,"H",2);class ln{constructor(s){this.errorCorrectionLevel=rt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,o){return C.bitCount(s^o)}static decodeFormatInformation(s,o){const l=ln.doDecodeFormatInformation(s,o);return l!==null?l:ln.doDecodeFormatInformation(s^ln.FORMAT_INFO_MASK_QR,o^ln.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,o){let l=Number.MAX_SAFE_INTEGER,u=0;for(const d of ln.FORMAT_INFO_DECODE_LOOKUP){const f=d[0];if(f===s||f===o)return new ln(d[1]);let x=ln.numBitsDiffering(s,f);x<l&&(u=d[1],l=x),s!==o&&(x=ln.numBitsDiffering(o,f),x<l&&(u=d[1],l=x))}return l<=3?new ln(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof ln))return!1;const o=s;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}ln.FORMAT_INFO_MASK_QR=21522,ln.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class W{constructor(s,...o){this.ecCodewordsPerBlock=s,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const o=this.ecBlocks;for(const l of o)s+=l.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class B{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class pe{constructor(s,o,...l){this.versionNumber=s,this.alignmentPatternCenters=o,this.ecBlocks=l;let u=0;const d=l[0].getECCodewordsPerBlock(),f=l[0].getECBlocks();for(const x of f)u+=x.getCount()*(x.getDataCodewords()+d);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new k;try{return this.getVersionForNumber((s-17)/4)}catch{throw new k}}static getVersionForNumber(s){if(s<1||s>40)throw new w;return pe.VERSIONS[s-1]}static decodeVersionInformation(s){let o=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<pe.VERSION_DECODE_INFO.length;u++){const d=pe.VERSION_DECODE_INFO[u];if(d===s)return pe.getVersionForNumber(u+7);const f=ln.numBitsDiffering(s,d);f<o&&(l=u+7,o=f)}return o<=3?pe.getVersionForNumber(l):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),o=new de(s);o.setRegion(0,0,9,9),o.setRegion(s-8,0,8,9),o.setRegion(0,s-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const d=this.alignmentPatternCenters[u]-2;for(let f=0;f<l;f++)u===0&&(f===0||f===l-1)||u===l-1&&f===0||o.setRegion(this.alignmentPatternCenters[f]-2,d,5,5)}return o.setRegion(6,9,1,s-17),o.setRegion(9,6,s-17,1),this.versionNumber>6&&(o.setRegion(s-11,0,3,6),o.setRegion(0,s-11,6,3)),o}toString(){return""+this.versionNumber}}pe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),pe.VERSIONS=[new pe(1,new Int32Array(0),new W(7,new B(1,19)),new W(10,new B(1,16)),new W(13,new B(1,13)),new W(17,new B(1,9))),new pe(2,Int32Array.from([6,18]),new W(10,new B(1,34)),new W(16,new B(1,28)),new W(22,new B(1,22)),new W(28,new B(1,16))),new pe(3,Int32Array.from([6,22]),new W(15,new B(1,55)),new W(26,new B(1,44)),new W(18,new B(2,17)),new W(22,new B(2,13))),new pe(4,Int32Array.from([6,26]),new W(20,new B(1,80)),new W(18,new B(2,32)),new W(26,new B(2,24)),new W(16,new B(4,9))),new pe(5,Int32Array.from([6,30]),new W(26,new B(1,108)),new W(24,new B(2,43)),new W(18,new B(2,15),new B(2,16)),new W(22,new B(2,11),new B(2,12))),new pe(6,Int32Array.from([6,34]),new W(18,new B(2,68)),new W(16,new B(4,27)),new W(24,new B(4,19)),new W(28,new B(4,15))),new pe(7,Int32Array.from([6,22,38]),new W(20,new B(2,78)),new W(18,new B(4,31)),new W(18,new B(2,14),new B(4,15)),new W(26,new B(4,13),new B(1,14))),new pe(8,Int32Array.from([6,24,42]),new W(24,new B(2,97)),new W(22,new B(2,38),new B(2,39)),new W(22,new B(4,18),new B(2,19)),new W(26,new B(4,14),new B(2,15))),new pe(9,Int32Array.from([6,26,46]),new W(30,new B(2,116)),new W(22,new B(3,36),new B(2,37)),new W(20,new B(4,16),new B(4,17)),new W(24,new B(4,12),new B(4,13))),new pe(10,Int32Array.from([6,28,50]),new W(18,new B(2,68),new B(2,69)),new W(26,new B(4,43),new B(1,44)),new W(24,new B(6,19),new B(2,20)),new W(28,new B(6,15),new B(2,16))),new pe(11,Int32Array.from([6,30,54]),new W(20,new B(4,81)),new W(30,new B(1,50),new B(4,51)),new W(28,new B(4,22),new B(4,23)),new W(24,new B(3,12),new B(8,13))),new pe(12,Int32Array.from([6,32,58]),new W(24,new B(2,92),new B(2,93)),new W(22,new B(6,36),new B(2,37)),new W(26,new B(4,20),new B(6,21)),new W(28,new B(7,14),new B(4,15))),new pe(13,Int32Array.from([6,34,62]),new W(26,new B(4,107)),new W(22,new B(8,37),new B(1,38)),new W(24,new B(8,20),new B(4,21)),new W(22,new B(12,11),new B(4,12))),new pe(14,Int32Array.from([6,26,46,66]),new W(30,new B(3,115),new B(1,116)),new W(24,new B(4,40),new B(5,41)),new W(20,new B(11,16),new B(5,17)),new W(24,new B(11,12),new B(5,13))),new pe(15,Int32Array.from([6,26,48,70]),new W(22,new B(5,87),new B(1,88)),new W(24,new B(5,41),new B(5,42)),new W(30,new B(5,24),new B(7,25)),new W(24,new B(11,12),new B(7,13))),new pe(16,Int32Array.from([6,26,50,74]),new W(24,new B(5,98),new B(1,99)),new W(28,new B(7,45),new B(3,46)),new W(24,new B(15,19),new B(2,20)),new W(30,new B(3,15),new B(13,16))),new pe(17,Int32Array.from([6,30,54,78]),new W(28,new B(1,107),new B(5,108)),new W(28,new B(10,46),new B(1,47)),new W(28,new B(1,22),new B(15,23)),new W(28,new B(2,14),new B(17,15))),new pe(18,Int32Array.from([6,30,56,82]),new W(30,new B(5,120),new B(1,121)),new W(26,new B(9,43),new B(4,44)),new W(28,new B(17,22),new B(1,23)),new W(28,new B(2,14),new B(19,15))),new pe(19,Int32Array.from([6,30,58,86]),new W(28,new B(3,113),new B(4,114)),new W(26,new B(3,44),new B(11,45)),new W(26,new B(17,21),new B(4,22)),new W(26,new B(9,13),new B(16,14))),new pe(20,Int32Array.from([6,34,62,90]),new W(28,new B(3,107),new B(5,108)),new W(26,new B(3,41),new B(13,42)),new W(30,new B(15,24),new B(5,25)),new W(28,new B(15,15),new B(10,16))),new pe(21,Int32Array.from([6,28,50,72,94]),new W(28,new B(4,116),new B(4,117)),new W(26,new B(17,42)),new W(28,new B(17,22),new B(6,23)),new W(30,new B(19,16),new B(6,17))),new pe(22,Int32Array.from([6,26,50,74,98]),new W(28,new B(2,111),new B(7,112)),new W(28,new B(17,46)),new W(30,new B(7,24),new B(16,25)),new W(24,new B(34,13))),new pe(23,Int32Array.from([6,30,54,78,102]),new W(30,new B(4,121),new B(5,122)),new W(28,new B(4,47),new B(14,48)),new W(30,new B(11,24),new B(14,25)),new W(30,new B(16,15),new B(14,16))),new pe(24,Int32Array.from([6,28,54,80,106]),new W(30,new B(6,117),new B(4,118)),new W(28,new B(6,45),new B(14,46)),new W(30,new B(11,24),new B(16,25)),new W(30,new B(30,16),new B(2,17))),new pe(25,Int32Array.from([6,32,58,84,110]),new W(26,new B(8,106),new B(4,107)),new W(28,new B(8,47),new B(13,48)),new W(30,new B(7,24),new B(22,25)),new W(30,new B(22,15),new B(13,16))),new pe(26,Int32Array.from([6,30,58,86,114]),new W(28,new B(10,114),new B(2,115)),new W(28,new B(19,46),new B(4,47)),new W(28,new B(28,22),new B(6,23)),new W(30,new B(33,16),new B(4,17))),new pe(27,Int32Array.from([6,34,62,90,118]),new W(30,new B(8,122),new B(4,123)),new W(28,new B(22,45),new B(3,46)),new W(30,new B(8,23),new B(26,24)),new W(30,new B(12,15),new B(28,16))),new pe(28,Int32Array.from([6,26,50,74,98,122]),new W(30,new B(3,117),new B(10,118)),new W(28,new B(3,45),new B(23,46)),new W(30,new B(4,24),new B(31,25)),new W(30,new B(11,15),new B(31,16))),new pe(29,Int32Array.from([6,30,54,78,102,126]),new W(30,new B(7,116),new B(7,117)),new W(28,new B(21,45),new B(7,46)),new W(30,new B(1,23),new B(37,24)),new W(30,new B(19,15),new B(26,16))),new pe(30,Int32Array.from([6,26,52,78,104,130]),new W(30,new B(5,115),new B(10,116)),new W(28,new B(19,47),new B(10,48)),new W(30,new B(15,24),new B(25,25)),new W(30,new B(23,15),new B(25,16))),new pe(31,Int32Array.from([6,30,56,82,108,134]),new W(30,new B(13,115),new B(3,116)),new W(28,new B(2,46),new B(29,47)),new W(30,new B(42,24),new B(1,25)),new W(30,new B(23,15),new B(28,16))),new pe(32,Int32Array.from([6,34,60,86,112,138]),new W(30,new B(17,115)),new W(28,new B(10,46),new B(23,47)),new W(30,new B(10,24),new B(35,25)),new W(30,new B(19,15),new B(35,16))),new pe(33,Int32Array.from([6,30,58,86,114,142]),new W(30,new B(17,115),new B(1,116)),new W(28,new B(14,46),new B(21,47)),new W(30,new B(29,24),new B(19,25)),new W(30,new B(11,15),new B(46,16))),new pe(34,Int32Array.from([6,34,62,90,118,146]),new W(30,new B(13,115),new B(6,116)),new W(28,new B(14,46),new B(23,47)),new W(30,new B(44,24),new B(7,25)),new W(30,new B(59,16),new B(1,17))),new pe(35,Int32Array.from([6,30,54,78,102,126,150]),new W(30,new B(12,121),new B(7,122)),new W(28,new B(12,47),new B(26,48)),new W(30,new B(39,24),new B(14,25)),new W(30,new B(22,15),new B(41,16))),new pe(36,Int32Array.from([6,24,50,76,102,128,154]),new W(30,new B(6,121),new B(14,122)),new W(28,new B(6,47),new B(34,48)),new W(30,new B(46,24),new B(10,25)),new W(30,new B(2,15),new B(64,16))),new pe(37,Int32Array.from([6,28,54,80,106,132,158]),new W(30,new B(17,122),new B(4,123)),new W(28,new B(29,46),new B(14,47)),new W(30,new B(49,24),new B(10,25)),new W(30,new B(24,15),new B(46,16))),new pe(38,Int32Array.from([6,32,58,84,110,136,162]),new W(30,new B(4,122),new B(18,123)),new W(28,new B(13,46),new B(32,47)),new W(30,new B(48,24),new B(14,25)),new W(30,new B(42,15),new B(32,16))),new pe(39,Int32Array.from([6,26,54,82,110,138,166]),new W(30,new B(20,117),new B(4,118)),new W(28,new B(40,47),new B(7,48)),new W(30,new B(43,24),new B(22,25)),new W(30,new B(10,15),new B(67,16))),new pe(40,Int32Array.from([6,30,58,86,114,142,170]),new W(30,new B(19,118),new B(6,119)),new W(28,new B(18,47),new B(31,48)),new W(30,new B(34,24),new B(34,25)),new W(30,new B(20,15),new B(61,16)))];var Gt;(function(N){N[N.DATA_MASK_000=0]="DATA_MASK_000",N[N.DATA_MASK_001=1]="DATA_MASK_001",N[N.DATA_MASK_010=2]="DATA_MASK_010",N[N.DATA_MASK_011=3]="DATA_MASK_011",N[N.DATA_MASK_100=4]="DATA_MASK_100",N[N.DATA_MASK_101=5]="DATA_MASK_101",N[N.DATA_MASK_110=6]="DATA_MASK_110",N[N.DATA_MASK_111=7]="DATA_MASK_111"})(Gt||(Gt={}));class Qn{constructor(s,o){this.value=s,this.isMasked=o}unmaskBitMatrix(s,o){for(let l=0;l<o;l++)for(let u=0;u<o;u++)this.isMasked(l,u)&&s.flip(u,l)}}Qn.values=new Map([[Gt.DATA_MASK_000,new Qn(Gt.DATA_MASK_000,(N,s)=>(N+s&1)===0)],[Gt.DATA_MASK_001,new Qn(Gt.DATA_MASK_001,(N,s)=>(N&1)===0)],[Gt.DATA_MASK_010,new Qn(Gt.DATA_MASK_010,(N,s)=>s%3===0)],[Gt.DATA_MASK_011,new Qn(Gt.DATA_MASK_011,(N,s)=>(N+s)%3===0)],[Gt.DATA_MASK_100,new Qn(Gt.DATA_MASK_100,(N,s)=>(Math.floor(N/2)+Math.floor(s/3)&1)===0)],[Gt.DATA_MASK_101,new Qn(Gt.DATA_MASK_101,(N,s)=>N*s%6===0)],[Gt.DATA_MASK_110,new Qn(Gt.DATA_MASK_110,(N,s)=>N*s%6<3)],[Gt.DATA_MASK_111,new Qn(Gt.DATA_MASK_111,(N,s)=>(N+s+N*s%3&1)===0)]]);class SA{constructor(s){const o=s.getHeight();if(o<21||(o&3)!==1)throw new k;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let d=0;d<6;d++)s=this.copyBit(d,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let d=5;d>=0;d--)s=this.copyBit(8,d,s);const o=this.bitMatrix.getHeight();let l=0;const u=o-7;for(let d=o-1;d>=u;d--)l=this.copyBit(8,d,l);for(let d=o-8;d<o;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=ln.decodeFormatInformation(s,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new k}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),o=Math.floor((s-17)/4);if(o<=6)return pe.getVersionForNumber(o);let l=0;const u=s-11;for(let f=5;f>=0;f--)for(let x=s-9;x>=u;x--)l=this.copyBit(x,f,l);let d=pe.decodeVersionInformation(l);if(d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;l=0;for(let f=5;f>=0;f--)for(let x=s-9;x>=u;x--)l=this.copyBit(f,x,l);if(d=pe.decodeVersionInformation(l),d!==null&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;throw new k}copyBit(s,o,l){return(this.isMirror?this.bitMatrix.get(o,s):this.bitMatrix.get(s,o))?l<<1|1:l<<1}readCodewords(){const s=this.readFormatInformation(),o=this.readVersion(),l=Qn.values.get(s.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const d=o.buildFunctionPattern();let f=!0;const x=new Uint8Array(o.getTotalCodewords());let y=0,v=0,S=0;for(let I=u-1;I>0;I-=2){I===6&&I--;for(let R=0;R<u;R++){const F=f?u-1-R:R;for(let H=0;H<2;H++)d.get(I-H,F)||(S++,v<<=1,this.bitMatrix.get(I-H,F)&&(v|=1),S===8&&(x[y++]=v,S=0,v=0))}f=!f}if(y!==o.getTotalCodewords())throw new k;return x}remask(){if(this.parsedFormatInfo===null)return;const s=Qn.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let o=0,l=s.getWidth();o<l;o++)for(let u=o+1,d=s.getHeight();u<d;u++)s.get(o,u)!==s.get(u,o)&&(s.flip(u,o),s.flip(o,u))}}class Ch{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o,l){if(s.length!==o.getTotalCodewords())throw new w;const u=o.getECBlocksForLevel(l);let d=0;const f=u.getECBlocks();for(const H of f)d+=H.getCount();const x=new Array(d);let y=0;for(const H of f)for(let G=0;G<H.getCount();G++){const X=H.getDataCodewords(),Q=u.getECCodewordsPerBlock()+X;x[y++]=new Ch(X,new Uint8Array(Q))}const v=x[0].codewords.length;let S=x.length-1;for(;S>=0&&x[S].codewords.length!==v;)S--;S++;const I=v-u.getECCodewordsPerBlock();let R=0;for(let H=0;H<I;H++)for(let G=0;G<y;G++)x[G].codewords[H]=s[R++];for(let H=S;H<y;H++)x[H].codewords[I]=s[R++];const F=x[0].codewords.length;for(let H=I;H<F;H++)for(let G=0;G<y;G++){const X=G<S?H:H+1;x[G].codewords[X]=s[R++]}return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var $n;(function(N){N[N.TERMINATOR=0]="TERMINATOR",N[N.NUMERIC=1]="NUMERIC",N[N.ALPHANUMERIC=2]="ALPHANUMERIC",N[N.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",N[N.BYTE=4]="BYTE",N[N.ECI=5]="ECI",N[N.KANJI=6]="KANJI",N[N.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",N[N.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",N[N.HANZI=9]="HANZI"})($n||($n={}));class ye{constructor(s,o,l,u){this.value=s,this.stringValue=o,this.characterCountBitsForVersions=l,this.bits=u,ye.FOR_BITS.set(u,this),ye.FOR_VALUE.set(s,this)}static forBits(s){const o=ye.FOR_BITS.get(s);if(o===void 0)throw new w;return o}getCharacterCountBits(s){const o=s.getVersionNumber();let l;return o<=9?l=0:o<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof ye))return!1;const o=s;return this.value===o.value}toString(){return this.stringValue}}ye.FOR_BITS=new Map,ye.FOR_VALUE=new Map,ye.TERMINATOR=new ye($n.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ye.NUMERIC=new ye($n.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ye.ALPHANUMERIC=new ye($n.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ye.STRUCTURED_APPEND=new ye($n.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ye.BYTE=new ye($n.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ye.ECI=new ye($n.ECI,"ECI",Int32Array.from([0,0,0]),7),ye.KANJI=new ye($n.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ye.FNC1_FIRST_POSITION=new ye($n.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ye.FNC1_SECOND_POSITION=new ye($n.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ye.HANZI=new ye($n.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class yt{static decode(s,o,l,u){const d=new Sh(s);let f=new ie;const x=new Array;let y=-1,v=-1;try{let S=null,I=!1,R;do{if(d.available()<4)R=ye.TERMINATOR;else{const F=d.readBits(4);R=ye.forBits(F)}switch(R){case ye.TERMINATOR:break;case ye.FNC1_FIRST_POSITION:case ye.FNC1_SECOND_POSITION:I=!0;break;case ye.STRUCTURED_APPEND:if(d.available()<16)throw new k;y=d.readBits(8),v=d.readBits(8);break;case ye.ECI:const F=yt.parseECIValue(d);if(S=U.getCharacterSetECIByValue(F),S===null)throw new k;break;case ye.HANZI:const H=d.readBits(4),G=d.readBits(R.getCharacterCountBits(o));H===yt.GB2312_SUBSET&&yt.decodeHanziSegment(d,f,G);break;default:const X=d.readBits(R.getCharacterCountBits(o));switch(R){case ye.NUMERIC:yt.decodeNumericSegment(d,f,X);break;case ye.ALPHANUMERIC:yt.decodeAlphanumericSegment(d,f,X,I);break;case ye.BYTE:yt.decodeByteSegment(d,f,X,S,x,u);break;case ye.KANJI:yt.decodeKanjiSegment(d,f,X);break;default:throw new k}break}}while(R!==ye.TERMINATOR)}catch{throw new k}return new jo(s,f.toString(),x.length===0?null:x,l===null?null:l.toString(),y,v)}static decodeHanziSegment(s,o,l){if(l*13>s.available())throw new k;const u=new Uint8Array(2*l);let d=0;for(;l>0;){const f=s.readBits(13);let x=f/96<<8&4294967295|f%96;x<959?x+=41377:x+=42657,u[d]=x>>8&255,u[d+1]=x&255,d+=2,l--}try{o.append(Y.decode(u,$.GB2312))}catch(f){throw new k(f)}}static decodeKanjiSegment(s,o,l){if(l*13>s.available())throw new k;const u=new Uint8Array(2*l);let d=0;for(;l>0;){const f=s.readBits(13);let x=f/192<<8&4294967295|f%192;x<7936?x+=33088:x+=49472,u[d]=x>>8,u[d+1]=x,d+=2,l--}try{o.append(Y.decode(u,$.SHIFT_JIS))}catch(f){throw new k(f)}}static decodeByteSegment(s,o,l,u,d,f){if(8*l>s.available())throw new k;const x=new Uint8Array(l);for(let v=0;v<l;v++)x[v]=s.readBits(8);let y;u===null?y=$.guessEncoding(x,f):y=u.getName();try{o.append(Y.decode(x,y))}catch(v){throw new k(v)}d.push(x)}static toAlphaNumericChar(s){if(s>=yt.ALPHANUMERIC_CHARS.length)throw new k;return yt.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,o,l,u){const d=o.length();for(;l>1;){if(s.available()<11)throw new k;const f=s.readBits(11);o.append(yt.toAlphaNumericChar(Math.floor(f/45))),o.append(yt.toAlphaNumericChar(f%45)),l-=2}if(l===1){if(s.available()<6)throw new k;o.append(yt.toAlphaNumericChar(s.readBits(6)))}if(u)for(let f=d;f<o.length();f++)o.charAt(f)==="%"&&(f<o.length()-1&&o.charAt(f+1)==="%"?o.deleteCharAt(f+1):o.setCharAt(f,""))}static decodeNumericSegment(s,o,l){for(;l>=3;){if(s.available()<10)throw new k;const u=s.readBits(10);if(u>=1e3)throw new k;o.append(yt.toAlphaNumericChar(Math.floor(u/100))),o.append(yt.toAlphaNumericChar(Math.floor(u/10)%10)),o.append(yt.toAlphaNumericChar(u%10)),l-=3}if(l===2){if(s.available()<7)throw new k;const u=s.readBits(7);if(u>=100)throw new k;o.append(yt.toAlphaNumericChar(Math.floor(u/10))),o.append(yt.toAlphaNumericChar(u%10))}else if(l===1){if(s.available()<4)throw new k;const u=s.readBits(4);if(u>=10)throw new k;o.append(yt.toAlphaNumericChar(u))}}static parseECIValue(s){const o=s.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const l=s.readBits(8);return(o&63)<<8&4294967295|l}if((o&224)===192){const l=s.readBits(16);return(o&31)<<16&4294967295|l}throw new k}}yt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",yt.GB2312_SUBSET=1;class Bm{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const o=s[0];s[0]=s[2],s[2]=o}}class CA{constructor(){this.rsDecoder=new ko(ze.QR_CODE_FIELD_256)}decodeBooleanArray(s,o){return this.decodeBitMatrix(de.parseFromBooleanArray(s),o)}decodeBitMatrix(s,o){const l=new SA(s);let u=null;try{return this.decodeBitMatrixParser(l,o)}catch(d){u=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,o);return d.setOther(new Bm(!0)),d}catch(d){throw u!==null?u:d}}decodeBitMatrixParser(s,o){const l=s.readVersion(),u=s.readFormatInformation().getErrorCorrectionLevel(),d=s.readCodewords(),f=Ch.getDataBlocks(d,l,u);let x=0;for(const S of f)x+=S.getNumDataCodewords();const y=new Uint8Array(x);let v=0;for(const S of f){const I=S.getCodewords(),R=S.getNumDataCodewords();this.correctErrors(I,R);for(let F=0;F<R;F++)y[v++]=I[F]}return yt.decode(y,l,u,o)}correctErrors(s,o){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-o)}catch{throw new A}for(let u=0;u<o;u++)s[u]=l[u]}}class Th extends ge{constructor(s,o,l){super(s,o),this.estimatedModuleSize=l}aboutEquals(s,o,l){if(Math.abs(o-this.getY())<=s&&Math.abs(l-this.getX())<=s){const u=Math.abs(s-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(s,o,l){const u=(this.getX()+o)/2,d=(this.getY()+s)/2,f=(this.estimatedModuleSize+l)/2;return new Th(u,d,f)}}class zc{constructor(s,o,l,u,d,f,x){this.image=s,this.startX=o,this.startY=l,this.width=u,this.height=d,this.moduleSize=f,this.resultPointCallback=x,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,o=this.height,l=this.width,u=s+l,d=this.startY+o/2,f=new Int32Array(3),x=this.image;for(let y=0;y<o;y++){const v=d+(y&1?-Math.floor((y+1)/2):Math.floor((y+1)/2));f[0]=0,f[1]=0,f[2]=0;let S=s;for(;S<u&&!x.get(S,v);)S++;let I=0;for(;S<u;){if(x.get(S,v))if(I===1)f[1]++;else if(I===2){if(this.foundPatternCross(f)){const R=this.handlePossibleCenter(f,v,S);if(R!==null)return R}f[0]=f[2],f[1]=1,f[2]=0,I=1}else f[++I]++;else I===1&&I++,f[I]++;S++}if(this.foundPatternCross(f)){const R=this.handlePossibleCenter(f,v,u);if(R!==null)return R}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Z}static centerFromEnd(s,o){return o-s[2]-s[1]/2}foundPatternCross(s){const o=this.moduleSize,l=o/2;for(let u=0;u<3;u++)if(Math.abs(o-s[u])>=l)return!1;return!0}crossCheckVertical(s,o,l,u){const d=this.image,f=d.getHeight(),x=this.crossCheckStateCount;x[0]=0,x[1]=0,x[2]=0;let y=s;for(;y>=0&&d.get(o,y)&&x[1]<=l;)x[1]++,y--;if(y<0||x[1]>l)return NaN;for(;y>=0&&!d.get(o,y)&&x[0]<=l;)x[0]++,y--;if(x[0]>l)return NaN;for(y=s+1;y<f&&d.get(o,y)&&x[1]<=l;)x[1]++,y++;if(y===f||x[1]>l)return NaN;for(;y<f&&!d.get(o,y)&&x[2]<=l;)x[2]++,y++;if(x[2]>l)return NaN;const v=x[0]+x[1]+x[2];return 5*Math.abs(v-u)>=2*u?NaN:this.foundPatternCross(x)?zc.centerFromEnd(x,y):NaN}handlePossibleCenter(s,o,l){const u=s[0]+s[1]+s[2],d=zc.centerFromEnd(s,l),f=this.crossCheckVertical(o,d,2*s[1],u);if(!isNaN(f)){const x=(s[0]+s[1]+s[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(x,f,d))return v.combineEstimate(f,d,x);const y=new Th(d,f,x);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class _h extends ge{constructor(s,o,l,u){super(s,o),this.estimatedModuleSize=l,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,o,l){if(Math.abs(o-this.getY())<=s&&Math.abs(l-this.getX())<=s){const u=Math.abs(s-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(s,o,l){const u=this.count+1,d=(this.count*this.getX()+o)/u,f=(this.count*this.getY()+s)/u,x=(this.count*this.estimatedModuleSize+l)/u;return new _h(d,f,x,u)}}class TA{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Yt{constructor(s,o){this.image=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const o=s!=null&&s.get(D.TRY_HARDER)!==void 0,l=s!=null&&s.get(D.PURE_BARCODE)!==void 0,u=this.image,d=u.getHeight(),f=u.getWidth();let x=Math.floor(3*d/(4*Yt.MAX_MODULES));(x<Yt.MIN_SKIP||o)&&(x=Yt.MIN_SKIP);let y=!1;const v=new Int32Array(5);for(let I=x-1;I<d&&!y;I+=x){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let R=0;for(let F=0;F<f;F++)if(u.get(F,I))(R&1)===1&&R++,v[R]++;else if(R&1)v[R]++;else if(R===4)if(Yt.foundPatternCross(v)){if(this.handlePossibleCenter(v,I,F,l)===!0)if(x=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const G=this.findRowSkip();G>v[2]&&(I+=G-v[2]-x,F=f-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,R=3;continue}R=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,R=3;else v[++R]++;Yt.foundPatternCross(v)&&this.handlePossibleCenter(v,I,f,l)===!0&&(x=v[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const S=this.selectBestPatterns();return ge.orderBestPatterns(S),new TA(S)}static centerFromEnd(s,o){return o-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let o=0;for(let d=0;d<5;d++){const f=s[d];if(f===0)return!1;o+=f}if(o<7)return!1;const l=o/7,u=l/2;return Math.abs(l-s[0])<u&&Math.abs(l-s[1])<u&&Math.abs(3*l-s[2])<3*u&&Math.abs(l-s[3])<u&&Math.abs(l-s[4])<u}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,o,l,u){const d=this.getCrossCheckStateCount();let f=0;const x=this.image;for(;s>=f&&o>=f&&x.get(o-f,s-f);)d[2]++,f++;if(s<f||o<f)return!1;for(;s>=f&&o>=f&&!x.get(o-f,s-f)&&d[1]<=l;)d[1]++,f++;if(s<f||o<f||d[1]>l)return!1;for(;s>=f&&o>=f&&x.get(o-f,s-f)&&d[0]<=l;)d[0]++,f++;if(d[0]>l)return!1;const y=x.getHeight(),v=x.getWidth();for(f=1;s+f<y&&o+f<v&&x.get(o+f,s+f);)d[2]++,f++;if(s+f>=y||o+f>=v)return!1;for(;s+f<y&&o+f<v&&!x.get(o+f,s+f)&&d[3]<l;)d[3]++,f++;if(s+f>=y||o+f>=v||d[3]>=l)return!1;for(;s+f<y&&o+f<v&&x.get(o+f,s+f)&&d[4]<l;)d[4]++,f++;if(d[4]>=l)return!1;const S=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(S-u)<2*u&&Yt.foundPatternCross(d)}crossCheckVertical(s,o,l,u){const d=this.image,f=d.getHeight(),x=this.getCrossCheckStateCount();let y=s;for(;y>=0&&d.get(o,y);)x[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(o,y)&&x[1]<=l;)x[1]++,y--;if(y<0||x[1]>l)return NaN;for(;y>=0&&d.get(o,y)&&x[0]<=l;)x[0]++,y--;if(x[0]>l)return NaN;for(y=s+1;y<f&&d.get(o,y);)x[2]++,y++;if(y===f)return NaN;for(;y<f&&!d.get(o,y)&&x[3]<l;)x[3]++,y++;if(y===f||x[3]>=l)return NaN;for(;y<f&&d.get(o,y)&&x[4]<l;)x[4]++,y++;if(x[4]>=l)return NaN;const v=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(v-u)>=2*u?NaN:Yt.foundPatternCross(x)?Yt.centerFromEnd(x,y):NaN}crossCheckHorizontal(s,o,l,u){const d=this.image,f=d.getWidth(),x=this.getCrossCheckStateCount();let y=s;for(;y>=0&&d.get(y,o);)x[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(y,o)&&x[1]<=l;)x[1]++,y--;if(y<0||x[1]>l)return NaN;for(;y>=0&&d.get(y,o)&&x[0]<=l;)x[0]++,y--;if(x[0]>l)return NaN;for(y=s+1;y<f&&d.get(y,o);)x[2]++,y++;if(y===f)return NaN;for(;y<f&&!d.get(y,o)&&x[3]<l;)x[3]++,y++;if(y===f||x[3]>=l)return NaN;for(;y<f&&d.get(y,o)&&x[4]<l;)x[4]++,y++;if(x[4]>=l)return NaN;const v=x[0]+x[1]+x[2]+x[3]+x[4];return 5*Math.abs(v-u)>=u?NaN:Yt.foundPatternCross(x)?Yt.centerFromEnd(x,y):NaN}handlePossibleCenter(s,o,l,u){const d=s[0]+s[1]+s[2]+s[3]+s[4];let f=Yt.centerFromEnd(s,l),x=this.crossCheckVertical(o,Math.floor(f),s[2],d);if(!isNaN(x)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(x),s[2],d),!isNaN(f)&&(!u||this.crossCheckDiagonal(Math.floor(x),Math.floor(f),s[2],d)))){const y=d/7;let v=!1;const S=this.possibleCenters;for(let I=0,R=S.length;I<R;I++){const F=S[I];if(F.aboutEquals(y,x,f)){S[I]=F.combineEstimate(x,f,y),v=!0;break}}if(!v){const I=new _h(f,x,y);S.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const l of this.possibleCenters)if(l.getCount()>=Yt.CENTER_QUORUM)if(o==null)o=l;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-l.getX())-Math.abs(o.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,o=0;const l=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=Yt.CENTER_QUORUM&&(s++,o+=f.getEstimatedModuleSize());if(s<3)return!1;const u=o/l;let d=0;for(const f of this.possibleCenters)d+=Math.abs(f.getEstimatedModuleSize()-u);return d<=.05*o}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new Z;const o=this.possibleCenters;let l;if(s>3){let u=0,d=0;for(const y of this.possibleCenters){const v=y.getEstimatedModuleSize();u+=v,d+=v*v}l=u/s;let f=Math.sqrt(d/s-l*l);o.sort((y,v)=>{const S=Math.abs(v.getEstimatedModuleSize()-l),I=Math.abs(y.getEstimatedModuleSize()-l);return S<I?-1:S>I?1:0});const x=Math.max(.2*l,f);for(let y=0;y<o.length&&o.length>3;y++){const v=o[y];Math.abs(v.getEstimatedModuleSize()-l)>x&&(o.splice(y,1),y--)}}if(o.length>3){let u=0;for(const d of o)u+=d.getEstimatedModuleSize();l=u/o.length,o.sort((d,f)=>{if(f.getCount()===d.getCount()){const x=Math.abs(f.getEstimatedModuleSize()-l),y=Math.abs(d.getEstimatedModuleSize()-l);return x<y?1:x>y?-1:0}else return f.getCount()-d.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Yt.CENTER_QUORUM=2,Yt.MIN_SKIP=3,Yt.MAX_MODULES=57;class Po{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(D.NEED_RESULT_POINT_CALLBACK);const l=new Yt(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(l)}processFinderPatternInfo(s){const o=s.getTopLeft(),l=s.getTopRight(),u=s.getBottomLeft(),d=this.calculateModuleSize(o,l,u);if(d<1)throw new Z("No pattern found in proccess finder.");const f=Po.computeDimension(o,l,u,d),x=pe.getProvisionalVersionForDimension(f),y=x.getDimensionForVersion()-7;let v=null;if(x.getAlignmentPatternCenters().length>0){const F=l.getX()-o.getX()+u.getX(),H=l.getY()-o.getY()+u.getY(),G=1-3/y,X=Math.floor(o.getX()+G*(F-o.getX())),Q=Math.floor(o.getY()+G*(H-o.getY()));for(let ae=4;ae<=16;ae<<=1)try{v=this.findAlignmentInRegion(d,X,Q,ae);break}catch(oe){if(!(oe instanceof Z))throw oe}}const S=Po.createTransform(o,l,u,v,f),I=Po.sampleGrid(this.image,S,f);let R;return v===null?R=[u,o,l]:R=[u,o,l,v],new Bc(I,R)}static createTransform(s,o,l,u,d){const f=d-3.5;let x,y,v,S;return u!==null?(x=u.getX(),y=u.getY(),v=f-3,S=v):(x=o.getX()-s.getX()+l.getX(),y=o.getY()-s.getY()+l.getY(),v=f,S=f),hi.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,v,S,3.5,f,s.getX(),s.getY(),o.getX(),o.getY(),x,y,l.getX(),l.getY())}static sampleGrid(s,o,l){return ws.getInstance().sampleGridWithTransform(s,l,l,o)}static computeDimension(s,o,l,u){const d=Ue.round(ge.distance(s,o)/u),f=Ue.round(ge.distance(s,l)/u);let x=Math.floor((d+f)/2)+7;switch(x&3){case 0:x++;break;case 2:x--;break;case 3:throw new Z("Dimensions could be not found.")}return x}calculateModuleSize(s,o,l){return(this.calculateModuleSizeOneWay(s,o)+this.calculateModuleSizeOneWay(s,l))/2}calculateModuleSizeOneWay(s,o){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(s,o,l,u){let d=this.sizeOfBlackWhiteBlackRun(s,o,l,u),f=1,x=s-(l-s);x<0?(f=s/(s-x),x=0):x>=this.image.getWidth()&&(f=(this.image.getWidth()-1-s)/(x-s),x=this.image.getWidth()-1);let y=Math.floor(o-(u-o)*f);return f=1,y<0?(f=o/(o-y),y=0):y>=this.image.getHeight()&&(f=(this.image.getHeight()-1-o)/(y-o),y=this.image.getHeight()-1),x=Math.floor(s+(x-s)*f),d+=this.sizeOfBlackWhiteBlackRun(s,o,x,y),d-1}sizeOfBlackWhiteBlackRun(s,o,l,u){const d=Math.abs(u-o)>Math.abs(l-s);if(d){let F=s;s=o,o=F,F=l,l=u,u=F}const f=Math.abs(l-s),x=Math.abs(u-o);let y=-f/2;const v=s<l?1:-1,S=o<u?1:-1;let I=0;const R=l+v;for(let F=s,H=o;F!==R;F+=v){const G=d?H:F,X=d?F:H;if(I===1===this.image.get(G,X)){if(I===2)return Ue.distance(F,H,s,o);I++}if(y+=x,y>0){if(H===u)break;H+=S,y-=f}}return I===2?Ue.distance(l+v,u,s,o):NaN}findAlignmentInRegion(s,o,l,u){const d=Math.floor(u*s),f=Math.max(0,o-d),x=Math.min(this.image.getWidth()-1,o+d);if(x-f<s*3)throw new Z("Alignment top exceeds estimated module size.");const y=Math.max(0,l-d),v=Math.min(this.image.getHeight()-1,l+d);if(v-y<s*3)throw new Z("Alignment bottom exceeds estimated module size.");return new zc(this.image,f,y,x-f,v-y,s,this.resultPointCallback).find()}}class Ss{constructor(){this.decoder=new CA}getDecoder(){return this.decoder}decode(s,o){let l,u;if(o!=null&&o.get(D.PURE_BARCODE)!==void 0){const y=Ss.extractPureBits(s.getBlackMatrix());l=this.decoder.decodeBitMatrix(y,o),u=Ss.NO_POINTS}else{const y=new Po(s.getBlackMatrix()).detect(o);l=this.decoder.decodeBitMatrix(y.getBits(),o),u=y.getPoints()}l.getOther()instanceof Bm&&l.getOther().applyMirroredCorrection(u);const d=new ke(l.getText(),l.getRawBytes(),void 0,u,xe.QR_CODE,void 0),f=l.getByteSegments();f!==null&&d.putMetadata(Ht.BYTE_SEGMENTS,f);const x=l.getECLevel();return x!==null&&d.putMetadata(Ht.ERROR_CORRECTION_LEVEL,x),l.hasStructuredAppend()&&(d.putMetadata(Ht.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(Ht.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(o===null||l===null)throw new Z;const u=this.moduleSize(o,s);let d=o[1],f=l[1],x=o[0],y=l[0];if(x>=y||d>=f)throw new Z;if(f-d!==y-x&&(y=x+(f-d),y>=s.getWidth()))throw new Z;const v=Math.round((y-x+1)/u),S=Math.round((f-d+1)/u);if(v<=0||S<=0)throw new Z;if(S!==v)throw new Z;const I=Math.floor(u/2);d+=I,x+=I;const R=x+Math.floor((v-1)*u)-y;if(R>0){if(R>I)throw new Z;x-=R}const F=d+Math.floor((S-1)*u)-f;if(F>0){if(F>I)throw new Z;d-=F}const H=new de(v,S);for(let G=0;G<S;G++){const X=d+Math.floor(G*u);for(let Q=0;Q<v;Q++)s.get(x+Math.floor(Q*u),X)&&H.set(Q,G)}return H}static moduleSize(s,o){const l=o.getHeight(),u=o.getWidth();let d=s[0],f=s[1],x=!0,y=0;for(;d<u&&f<l;){if(x!==o.get(d,f)){if(++y===5)break;x=!x}d++,f++}if(d===u||f===l)throw new Z;return(d-s[0])/7}}Ss.NO_POINTS=new Array;class ve{PDF417Common(){}static getBitCountSum(s){return Ue.sum(s)}static toIntArray(s){if(s==null||!s.length)return ve.EMPTY_INT_ARRAY;const o=new Int32Array(s.length);let l=0;for(const u of s)o[l++]=u;return o}static getCodeword(s){const o=_.binarySearch(ve.SYMBOL_TABLE,s&262143);return o<0?-1:(ve.CODEWORD_TABLE[o]-1)%ve.NUMBER_OF_CODEWORDS}}ve.NUMBER_OF_CODEWORDS=929,ve.MAX_CODEWORDS_IN_BARCODE=ve.NUMBER_OF_CODEWORDS-1,ve.MIN_ROWS_IN_BARCODE=3,ve.MAX_ROWS_IN_BARCODE=90,ve.MODULES_IN_CODEWORD=17,ve.MODULES_IN_STOP_PATTERN=18,ve.BARS_IN_MODULE=8,ve.EMPTY_INT_ARRAY=new Int32Array([]),ve.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ve.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class _A{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Te{static detectMultiple(s,o,l){let u=s.getBlackMatrix(),d=Te.detect(l,u);return d.length||(u=u.clone(),u.rotate180(),d=Te.detect(l,u)),new _A(u,d)}static detect(s,o){const l=new Array;let u=0,d=0,f=!1;for(;u<o.getHeight();){const x=Te.findVertices(o,u,d);if(x[0]==null&&x[3]==null){if(!f)break;f=!1,d=0;for(const y of l)y[1]!=null&&(u=Math.trunc(Math.max(u,y[1].getY()))),y[3]!=null&&(u=Math.max(u,Math.trunc(y[3].getY())));u+=Te.ROW_STEP;continue}if(f=!0,l.push(x),!s)break;x[2]!=null?(d=Math.trunc(x[2].getX()),u=Math.trunc(x[2].getY())):(d=Math.trunc(x[4].getX()),u=Math.trunc(x[4].getY()))}return l}static findVertices(s,o,l){const u=s.getHeight(),d=s.getWidth(),f=new Array(8);return Te.copyToResult(f,Te.findRowsWithPattern(s,u,d,o,l,Te.START_PATTERN),Te.INDEXES_START_PATTERN),f[4]!=null&&(l=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY())),Te.copyToResult(f,Te.findRowsWithPattern(s,u,d,o,l,Te.STOP_PATTERN),Te.INDEXES_STOP_PATTERN),f}static copyToResult(s,o,l){for(let u=0;u<l.length;u++)s[l[u]]=o[u]}static findRowsWithPattern(s,o,l,u,d,f){const x=new Array(4);let y=!1;const v=new Int32Array(f.length);for(;u<o;u+=Te.ROW_STEP){let I=Te.findGuardPattern(s,d,u,l,!1,f,v);if(I!=null){for(;u>0;){const R=Te.findGuardPattern(s,d,--u,l,!1,f,v);if(R!=null)I=R;else{u++;break}}x[0]=new ge(I[0],u),x[1]=new ge(I[1],u),y=!0;break}}let S=u+1;if(y){let I=0,R=Int32Array.from([Math.trunc(x[0].getX()),Math.trunc(x[1].getX())]);for(;S<o;S++){const F=Te.findGuardPattern(s,R[0],S,l,!1,f,v);if(F!=null&&Math.abs(R[0]-F[0])<Te.MAX_PATTERN_DRIFT&&Math.abs(R[1]-F[1])<Te.MAX_PATTERN_DRIFT)R=F,I=0;else{if(I>Te.SKIPPED_ROW_COUNT_MAX)break;I++}}S-=I+1,x[2]=new ge(R[0],S),x[3]=new ge(R[1],S)}return S-u<Te.BARCODE_MIN_HEIGHT&&_.fill(x,null),x}static findGuardPattern(s,o,l,u,d,f,x){_.fillWithin(x,0,x.length,0);let y=o,v=0;for(;s.get(y,l)&&y>0&&v++<Te.MAX_PIXEL_DRIFT;)y--;let S=y,I=0,R=f.length;for(let F=d;S<u;S++)if(s.get(S,l)!==F)x[I]++;else{if(I===R-1){if(Te.patternMatchVariance(x,f,Te.MAX_INDIVIDUAL_VARIANCE)<Te.MAX_AVG_VARIANCE)return new Int32Array([y,S]);y+=x[0]+x[1],M.arraycopy(x,2,x,0,I-1),x[I-1]=0,x[I]=0,I--}else I++;x[I]=1,F=!F}return I===R-1&&Te.patternMatchVariance(x,f,Te.MAX_INDIVIDUAL_VARIANCE)<Te.MAX_AVG_VARIANCE?new Int32Array([y,S-1]):null}static patternMatchVariance(s,o,l){let u=s.length,d=0,f=0;for(let v=0;v<u;v++)d+=s[v],f+=o[v];if(d<f)return 1/0;let x=d/f;l*=x;let y=0;for(let v=0;v<u;v++){let S=s[v],I=o[v]*x,R=S>I?S-I:I-S;if(R>l)return 1/0;y+=R}return y/d}}Te.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Te.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Te.MAX_AVG_VARIANCE=.42,Te.MAX_INDIVIDUAL_VARIANCE=.8,Te.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Te.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Te.MAX_PIXEL_DRIFT=3,Te.MAX_PATTERN_DRIFT=5,Te.SKIPPED_ROW_COUNT_MAX=25,Te.ROW_STEP=5,Te.BARCODE_MIN_HEIGHT=10;class $t{constructor(s,o){if(o.length===0)throw new w;this.field=s;let l=o.length;if(l>1&&o[0]===0){let u=1;for(;u<l&&o[u]===0;)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),M.arraycopy(o,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let u=0;for(let d of this.coefficients)u=this.field.add(u,d);return u}let o=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)o=this.field.add(this.field.multiply(s,o),this.coefficients[u]);return o}add(s){if(!this.field.equals(s.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,l=s.coefficients;if(o.length>l.length){let f=o;o=l,l=f}let u=new Int32Array(l.length),d=l.length-o.length;M.arraycopy(l,0,u,0,d);for(let f=d;f<l.length;f++)u[f]=this.field.add(o[f-d],l[f]);return new $t(this.field,u)}subtract(s){if(!this.field.equals(s.field))throw new w("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof $t?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new $t(this.field,new Int32Array([0]));let o=this.coefficients,l=o.length,u=s.coefficients,d=u.length,f=new Int32Array(l+d-1);for(let x=0;x<l;x++){let y=o[x];for(let v=0;v<d;v++)f[x+v]=this.field.add(f[x+v],this.field.multiply(y,u[v]))}return new $t(this.field,f)}negative(){let s=this.coefficients.length,o=new Int32Array(s);for(let l=0;l<s;l++)o[l]=this.field.subtract(0,this.coefficients[l]);return new $t(this.field,o)}multiplyScalar(s){if(s===0)return new $t(this.field,new Int32Array([0]));if(s===1)return this;let o=this.coefficients.length,l=new Int32Array(o);for(let u=0;u<o;u++)l[u]=this.field.multiply(this.coefficients[u],s);return new $t(this.field,l)}multiplyByMonomial(s,o){if(s<0)throw new w;if(o===0)return new $t(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+s);for(let d=0;d<l;d++)u[d]=this.field.multiply(this.coefficients[d],o);return new $t(this.field,u)}toString(){let s=new ie;for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);l!==0&&(l<0?(s.append(" - "),l=-l):s.length()>0&&s.append(" + "),(o===0||l!==1)&&s.append(l),o!==0&&(o===1?s.append("x"):(s.append("x^"),s.append(o))))}return s.toString()}}class NA{add(s,o){return(s+o)%this.modulus}subtract(s,o){return(this.modulus+s-o)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new w;return this.logTable[s]}inverse(s){if(s===0)throw new Lc;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class Nh extends NA{constructor(s,o){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let l=1;for(let u=0;u<s;u++)this.expTable[u]=l,l=l*o%s;for(let u=0;u<s-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new $t(this,new Int32Array([0])),this.one=new $t(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new w;if(o===0)return this.zero;let l=new Int32Array(s+1);return l[0]=o,new $t(this,l)}}Nh.PDF417_GF=new Nh(ve.NUMBER_OF_CODEWORDS,3);class Pm{constructor(){this.field=Nh.PDF417_GF}decode(s,o,l){let u=new $t(this.field,s),d=new Int32Array(o),f=!1;for(let H=o;H>0;H--){let G=u.evaluateAt(this.field.exp(H));d[o-H]=G,G!==0&&(f=!0)}if(!f)return 0;let x=this.field.getOne();if(l!=null)for(const H of l){let G=this.field.exp(s.length-1-H),X=new $t(this.field,new Int32Array([this.field.subtract(0,G),1]));x=x.multiply(X)}let y=new $t(this.field,d),v=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),y,o),S=v[0],I=v[1],R=this.findErrorLocations(S),F=this.findErrorMagnitudes(I,S,R);for(let H=0;H<R.length;H++){let G=s.length-1-this.field.log(R[H]);if(G<0)throw A.getChecksumInstance();s[G]=this.field.subtract(s[G],F[H])}return R.length}runEuclideanAlgorithm(s,o,l){if(s.getDegree()<o.getDegree()){let R=s;s=o,o=R}let u=s,d=o,f=this.field.getZero(),x=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let R=u,F=f;if(u=d,f=x,u.isZero())throw A.getChecksumInstance();d=R;let H=this.field.getZero(),G=u.getCoefficient(u.getDegree()),X=this.field.inverse(G);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){let Q=d.getDegree()-u.getDegree(),ae=this.field.multiply(d.getCoefficient(d.getDegree()),X);H=H.add(this.field.buildMonomial(Q,ae)),d=d.subtract(u.multiplyByMonomial(Q,ae))}x=H.multiply(f).subtract(F).negative()}let y=x.getCoefficient(0);if(y===0)throw A.getChecksumInstance();let v=this.field.inverse(y),S=x.multiply(v),I=d.multiply(v);return[S,I]}findErrorLocations(s){let o=s.getDegree(),l=new Int32Array(o),u=0;for(let d=1;d<this.field.getSize()&&u<o;d++)s.evaluateAt(d)===0&&(l[u]=this.field.inverse(d),u++);if(u!==o)throw A.getChecksumInstance();return l}findErrorMagnitudes(s,o,l){let u=o.getDegree(),d=new Int32Array(u);for(let v=1;v<=u;v++)d[u-v]=this.field.multiply(v,o.getCoefficient(v));let f=new $t(this.field,d),x=l.length,y=new Int32Array(x);for(let v=0;v<x;v++){let S=this.field.inverse(l[v]),I=this.field.subtract(0,s.evaluateAt(S)),R=this.field.inverse(f.evaluateAt(S));y[v]=this.field.multiply(I,R)}return y}}class wr{constructor(s,o,l,u,d){s instanceof wr?this.constructor_2(s):this.constructor_1(s,o,l,u,d)}constructor_1(s,o,l,u,d){const f=o==null||l==null,x=u==null||d==null;if(f&&x)throw new Z;f?(o=new ge(0,u.getY()),l=new ge(0,d.getY())):x&&(u=new ge(s.getWidth()-1,o.getY()),d=new ge(s.getWidth()-1,l.getY())),this.image=s,this.topLeft=o,this.bottomLeft=l,this.topRight=u,this.bottomRight=d,this.minX=Math.trunc(Math.min(o.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),d.getX())),this.minY=Math.trunc(Math.min(o.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,o){return s==null?o:o==null?s:new wr(s.image,s.topLeft,s.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(s,o,l){let u=this.topLeft,d=this.bottomLeft,f=this.topRight,x=this.bottomRight;if(s>0){let y=l?this.topLeft:this.topRight,v=Math.trunc(y.getY()-s);v<0&&(v=0);let S=new ge(y.getX(),v);l?u=S:f=S}if(o>0){let y=l?this.bottomLeft:this.bottomRight,v=Math.trunc(y.getY()+o);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let S=new ge(y.getX(),v);l?d=S:x=S}return new wr(this.image,u,d,f,x)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class IA{constructor(s,o,l,u){this.columnCount=s,this.errorCorrectionLevel=u,this.rowCountUpperPart=o,this.rowCountLowerPart=l,this.rowCount=o+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Uo{constructor(){this.buffer=""}static form(s,o){let l=-1;function u(f,x,y,v,S,I){if(f==="%%")return"%";if(o[++l]===void 0)return;f=v?parseInt(v.substr(1)):void 0;let R=S?parseInt(S.substr(1)):void 0,F;switch(I){case"s":F=o[l];break;case"c":F=o[l][0];break;case"f":F=parseFloat(o[l]).toFixed(f);break;case"p":F=parseFloat(o[l]).toPrecision(f);break;case"e":F=parseFloat(o[l]).toExponential(f);break;case"x":F=parseInt(o[l]).toString(R||16);break;case"d":F=parseFloat(parseInt(o[l],R||10).toPrecision(f)).toFixed(0);break}F=typeof F=="object"?JSON.stringify(F):(+F).toString(R);let H=parseInt(y),G=y&&y[0]+""=="0"?"0":" ";for(;F.length<H;)F=x!==void 0?F+G:G+F;return F}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(d,u)}format(s,...o){this.buffer+=Uo.form(s,o)}toString(){return this.buffer}}class Fo{constructor(s){this.boundingBox=new wr(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let o=this.getCodeword(s);if(o!=null)return o;for(let l=1;l<Fo.MAX_NEARBY_DISTANCE;l++){let u=this.imageRowToCodewordIndex(s)-l;if(u>=0&&(o=this.codewords[u],o!=null)||(u=this.imageRowToCodewordIndex(s)+l,u<this.codewords.length&&(o=this.codewords[u],o!=null)))return o}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,o){this.codewords[this.imageRowToCodewordIndex(s)]=o}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Uo;let o=0;for(const l of this.codewords){if(l==null){s.format("%3d:    |   %n",o++);continue}s.format("%3d: %3d|%3d%n",o++,l.getRowNumber(),l.getValue())}return s.toString()}}Fo.MAX_NEARBY_DISTANCE=5;class Vo{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let o=this.values.get(s);o==null&&(o=0),o++,this.values.set(s,o)}getValue(){let s=-1,o=new Array;for(const[l,u]of this.values.entries()){const d={getKey:()=>l,getValue:()=>u};d.getValue()>s?(s=d.getValue(),o=[],o.push(d.getKey())):d.getValue()===s&&o.push(d.getKey())}return ve.toIntArray(o)}getConfidence(s){return this.values.get(s)}}class Um extends Fo{constructor(s,o){super(s),this._isLeft=o}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,s);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),x=this.imageRowToCodewordIndex(Math.trunc(d.getY())),y=-1,v=1,S=0;for(let I=f;I<x;I++){if(o[I]==null)continue;let R=o[I],F=R.getRowNumber()-y;if(F===0)S++;else if(F===1)v=Math.max(v,S),S=1,y=R.getRowNumber();else if(F<0||R.getRowNumber()>=s.getRowCount()||F>I)o[I]=null;else{let H;v>2?H=(v-2)*F:H=F;let G=H>=I;for(let X=1;X<=H&&!G;X++)G=o[I-X]!=null;G?o[I]=null:(y=R.getRowNumber(),S=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let o=new Int32Array(s.getRowCount());for(let l of this.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=o.length)continue;o[u]++}return o}adjustIncompleteIndicatorColumnRowNumbers(s){let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),u=this._isLeft?o.getBottomLeft():o.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),x=this.getCodewords(),y=-1;for(let v=d;v<f;v++){if(x[v]==null)continue;let S=x[v];S.setRowNumberAsRowIndicatorColumn();let I=S.getRowNumber()-y;I===0||(I===1?y=S.getRowNumber():S.getRowNumber()>=s.getRowCount()?x[v]=null:y=S.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),o=new Vo,l=new Vo,u=new Vo,d=new Vo;for(let x of s){if(x==null)continue;x.setRowNumberAsRowIndicatorColumn();let y=x.getValue()%30,v=x.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:l.setValue(y*3+1);break;case 1:d.setValue(y/3),u.setValue(y%3);break;case 2:o.setValue(y+1);break}}if(o.getValue().length===0||l.getValue().length===0||u.getValue().length===0||d.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<ve.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>ve.MAX_ROWS_IN_BARCODE)return null;let f=new IA(o.getValue()[0],l.getValue()[0],u.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(s,f),f}removeIncorrectCodewords(s,o){for(let l=0;l<s.length;l++){let u=s[l];if(s[l]==null)continue;let d=u.getValue()%30,f=u.getRowNumber();if(f>o.getRowCount()){s[l]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:d*3+1!==o.getRowCountUpperPart()&&(s[l]=null);break;case 1:(Math.trunc(d/3)!==o.getErrorCorrectionLevel()||d%3!==o.getRowCountLowerPart())&&(s[l]=null);break;case 2:d+1!==o.getColumnCount()&&(s[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class zo{constructor(s,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=ve.MAX_CODEWORDS_IN_BARCODE,o;do o=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let l=this.detectionResultColumns[o].getCodewords();for(let u=0;u<l.length;u++)l[u]!=null&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(o,u,l))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++)if(s[l]!=null&&o[l]!=null&&s[l].getRowNumber()===o[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let d=this.detectionResultColumns[u].getCodewords()[l];d!=null&&(d.setRowNumber(s[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let u=o[l].getRowNumber(),d=0;for(let f=this.barcodeColumnCount+1;f>0&&d<this.ADJUST_ROW_NUMBER_SKIP;f--){let x=this.detectionResultColumns[f].getCodewords()[l];x!=null&&(d=zo.adjustRowNumberIfValid(u,d,x),x.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,o=this.detectionResultColumns[0].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let u=o[l].getRowNumber(),d=0;for(let f=1;f<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;f++){let x=this.detectionResultColumns[f].getCodewords()[l];x!=null&&(d=zo.adjustRowNumberIfValid(u,d,x),x.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,o,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(s)?(l.setRowNumber(s),o=0):++o),o}adjustRowNumbers(s,o,l){if(!this.detectionResultColumns[s-1])return;let u=l[o],d=this.detectionResultColumns[s-1].getCodewords(),f=d;this.detectionResultColumns[s+1]!=null&&(f=this.detectionResultColumns[s+1].getCodewords());let x=new Array(14);x[2]=d[o],x[3]=f[o],o>0&&(x[0]=l[o-1],x[4]=d[o-1],x[5]=f[o-1]),o>1&&(x[8]=l[o-2],x[10]=d[o-2],x[11]=f[o-2]),o<l.length-1&&(x[1]=l[o+1],x[6]=d[o+1],x[7]=f[o+1]),o<l.length-2&&(x[9]=l[o+2],x[12]=d[o+2],x[13]=f[o+2]);for(let y of x)if(zo.adjustRowNumber(u,y))return}static adjustRowNumber(s,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===s.getBucket()?(s.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,o){this.detectionResultColumns[s]=o}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Uo;for(let l=0;l<s.getCodewords().length;l++){o.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){o.format("    |   ");continue}let d=this.detectionResultColumns[u].getCodewords()[l];if(d==null){o.format("    |   ");continue}o.format(" %3d|%3d",d.getRowNumber(),d.getValue())}o.format("%n")}return o.toString()}}class Ho{constructor(s,o,l,u){this.rowNumber=Ho.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(o),this.bucket=Math.trunc(l),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==Ho.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}Ho.BARCODE_ROW_UNKNOWN=-1;class An{static initialize(){for(let s=0;s<ve.SYMBOL_TABLE.length;s++){let o=ve.SYMBOL_TABLE[s],l=o&1;for(let u=0;u<ve.BARS_IN_MODULE;u++){let d=0;for(;(o&1)===l;)d+=1,o>>=1;l=o&1,An.RATIOS_TABLE[s]||(An.RATIOS_TABLE[s]=new Array(ve.BARS_IN_MODULE)),An.RATIOS_TABLE[s][ve.BARS_IN_MODULE-u-1]=Math.fround(d/ve.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let o=An.getDecodedCodewordValue(An.sampleBitCounts(s));return o!==-1?o:An.getClosestDecodedValue(s)}static sampleBitCounts(s){let o=Ue.sum(s),l=new Int32Array(ve.BARS_IN_MODULE),u=0,d=0;for(let f=0;f<ve.MODULES_IN_CODEWORD;f++){let x=o/(2*ve.MODULES_IN_CODEWORD)+f*o/ve.MODULES_IN_CODEWORD;d+s[u]<=x&&(d+=s[u],u++),l[u]++}return l}static getDecodedCodewordValue(s){let o=An.getBitValue(s);return ve.getCodeword(o)===-1?-1:o}static getBitValue(s){let o=0;for(let l=0;l<s.length;l++)for(let u=0;u<s[l];u++)o=o<<1|(l%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(s){let o=Ue.sum(s),l=new Array(ve.BARS_IN_MODULE);if(o>1)for(let f=0;f<l.length;f++)l[f]=Math.fround(s[f]/o);let u=kc.MAX_VALUE,d=-1;this.bSymbolTableReady||An.initialize();for(let f=0;f<An.RATIOS_TABLE.length;f++){let x=0,y=An.RATIOS_TABLE[f];for(let v=0;v<ve.BARS_IN_MODULE;v++){let S=Math.fround(y[v]-l[v]);if(x+=Math.fround(S*S),x>=u)break}x<u&&(u=x,d=ve.SYMBOL_TABLE[f])}return d}}An.bSymbolTableReady=!1,An.RATIOS_TABLE=new Array(ve.SYMBOL_TABLE.length).map(N=>new Array(ve.BARS_IN_MODULE));class Fm{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Vm{static parseLong(s,o=void 0){return parseInt(s,o)}}class zm extends m{}zm.kind="NullPointerException";class MA{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,o,l){if(s==null)throw new zm;if(o<0||o>s.length||l<0||o+l>s.length||o+l<0)throw new P;if(l===0)return;for(let u=0;u<l;u++)this.write(s[o+u])}flush(){}close(){}}class DA extends m{}class RA extends MA{constructor(s=32){if(super(),this.count=0,s<0)throw new w("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let l=this.buf.length<<1;if(l-s<0&&(l=s),l<0){if(s<0)throw new DA;l=C.MAX_VALUE}this.buf=_.copyOfUint8Array(this.buf,l)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,o,l){if(o<0||o>s.length||l<0||o+l-s.length>0)throw new P;this.ensureCapacity(this.count+l),M.arraycopy(s,o,this.buf,this.count,l),this.count+=l}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return _.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Qe;(function(N){N[N.ALPHA=0]="ALPHA",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.PUNCT=3]="PUNCT",N[N.ALPHA_SHIFT=4]="ALPHA_SHIFT",N[N.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Qe||(Qe={}));function Hm(){if(typeof window<"u")return window.BigInt||null;if(typeof sn<"u")return sn.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Hc;function Cs(N){if(typeof Hc>"u"&&(Hc=Hm()),Hc===null)throw new Error("BigInt is not supported!");return Hc(N)}function OA(){let N=[];N[0]=Cs(1);let s=Cs(900);N[1]=s;for(let o=2;o<16;o++)N[o]=N[o-1]*s;return N}class K{static decode(s,o){let l=new ie(""),u=U.ISO8859_1;l.enableDecoding(u);let d=1,f=s[d++],x=new Fm;for(;d<s[0];){switch(f){case K.TEXT_COMPACTION_MODE_LATCH:d=K.textCompaction(s,d,l);break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:d=K.byteCompaction(f,s,u,d,l);break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[d++]);break;case K.NUMERIC_COMPACTION_MODE_LATCH:d=K.numericCompaction(s,d,l);break;case K.ECI_CHARSET:U.getCharacterSetECIByValue(s[d++]);break;case K.ECI_GENERAL_PURPOSE:d+=2;break;case K.ECI_USER_DEFINED:d++;break;case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=K.decodeMacroBlock(s,d,x);break;case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:throw new k;default:d--,d=K.textCompaction(s,d,l);break}if(d<s.length)f=s[d++];else throw k.getFormatInstance()}if(l.length()===0)throw k.getFormatInstance();let y=new jo(null,l.toString(),null,o);return y.setOther(x),y}static decodeMacroBlock(s,o,l){if(o+K.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw k.getFormatInstance();let u=new Int32Array(K.NUMBER_OF_SEQUENCE_CODEWORDS);for(let x=0;x<K.NUMBER_OF_SEQUENCE_CODEWORDS;x++,o++)u[x]=s[o];l.setSegmentIndex(C.parseInt(K.decodeBase900toBase10(u,K.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new ie;o=K.textCompaction(s,o,d),l.setFileId(d.toString());let f=-1;for(s[o]===K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=o+1);o<s[0];)switch(s[o]){case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,s[o]){case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let x=new ie;o=K.textCompaction(s,o+1,x),l.setFileName(x.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new ie;o=K.textCompaction(s,o+1,y),l.setSender(y.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new ie;o=K.textCompaction(s,o+1,v),l.setAddressee(v.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let S=new ie;o=K.numericCompaction(s,o+1,S),l.setSegmentCount(C.parseInt(S.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let I=new ie;o=K.numericCompaction(s,o+1,I),l.setTimestamp(Vm.parseLong(I.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let R=new ie;o=K.numericCompaction(s,o+1,R),l.setChecksum(C.parseInt(R.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let F=new ie;o=K.numericCompaction(s,o+1,F),l.setFileSize(Vm.parseLong(F.toString()));break;default:throw k.getFormatInstance()}break;case K.MACRO_PDF417_TERMINATOR:o++,l.setLastSegment(!0);break;default:throw k.getFormatInstance()}if(f!==-1){let x=o-f;l.isLastSegment()&&x--,l.setOptionalData(_.copyOfRange(s,f,f+x))}return o}static textCompaction(s,o,l){let u=new Int32Array((s[0]-o)*2),d=new Int32Array((s[0]-o)*2),f=0,x=!1;for(;o<s[0]&&!x;){let y=s[o++];if(y<K.TEXT_COMPACTION_MODE_LATCH)u[f]=y/30,u[f+1]=y%30,f+=2;else switch(y){case K.TEXT_COMPACTION_MODE_LATCH:u[f++]=K.TEXT_COMPACTION_MODE_LATCH;break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:o--,x=!0;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[f]=K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=s[o++],d[f]=y,f++;break}}return K.decodeTextCompaction(u,d,f,l),o}static decodeTextCompaction(s,o,l,u){let d=Qe.ALPHA,f=Qe.ALPHA,x=0;for(;x<l;){let y=s[x],v="";switch(d){case Qe.ALPHA:if(y<26)v=String.fromCharCode(65+y);else switch(y){case 26:v=" ";break;case K.LL:d=Qe.LOWER;break;case K.ML:d=Qe.MIXED;break;case K.PS:f=d,d=Qe.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[x]);break;case K.TEXT_COMPACTION_MODE_LATCH:d=Qe.ALPHA;break}break;case Qe.LOWER:if(y<26)v=String.fromCharCode(97+y);else switch(y){case 26:v=" ";break;case K.AS:f=d,d=Qe.ALPHA_SHIFT;break;case K.ML:d=Qe.MIXED;break;case K.PS:f=d,d=Qe.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[x]);break;case K.TEXT_COMPACTION_MODE_LATCH:d=Qe.ALPHA;break}break;case Qe.MIXED:if(y<K.PL)v=K.MIXED_CHARS[y];else switch(y){case K.PL:d=Qe.PUNCT;break;case 26:v=" ";break;case K.LL:d=Qe.LOWER;break;case K.AL:d=Qe.ALPHA;break;case K.PS:f=d,d=Qe.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[x]);break;case K.TEXT_COMPACTION_MODE_LATCH:d=Qe.ALPHA;break}break;case Qe.PUNCT:if(y<K.PAL)v=K.PUNCT_CHARS[y];else switch(y){case K.PAL:d=Qe.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[x]);break;case K.TEXT_COMPACTION_MODE_LATCH:d=Qe.ALPHA;break}break;case Qe.ALPHA_SHIFT:if(d=f,y<26)v=String.fromCharCode(65+y);else switch(y){case 26:v=" ";break;case K.TEXT_COMPACTION_MODE_LATCH:d=Qe.ALPHA;break}break;case Qe.PUNCT_SHIFT:if(d=f,y<K.PAL)v=K.PUNCT_CHARS[y];else switch(y){case K.PAL:d=Qe.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[x]);break;case K.TEXT_COMPACTION_MODE_LATCH:d=Qe.ALPHA;break}break}v!==""&&u.append(v),x++}}static byteCompaction(s,o,l,u,d){let f=new RA,x=0,y=0,v=!1;switch(s){case K.BYTE_COMPACTION_MODE_LATCH:let S=new Int32Array(6),I=o[u++];for(;u<o[0]&&!v;)switch(S[x++]=I,y=900*y+I,I=o[u++],I){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:u--,v=!0;break;default:if(x%5===0&&x>0){for(let R=0;R<6;++R)f.write(Number(Cs(y)>>Cs(8*(5-R))));y=0,x=0}break}u===o[0]&&I<K.TEXT_COMPACTION_MODE_LATCH&&(S[x++]=I);for(let R=0;R<x;R++)f.write(S[R]);break;case K.BYTE_COMPACTION_MODE_LATCH_6:for(;u<o[0]&&!v;){let R=o[u++];if(R<K.TEXT_COMPACTION_MODE_LATCH)x++,y=900*y+R;else switch(R){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:u--,v=!0;break}if(x%5===0&&x>0){for(let F=0;F<6;++F)f.write(Number(Cs(y)>>Cs(8*(5-F))));y=0,x=0}}break}return d.append(Y.decode(f.toByteArray(),l)),u}static numericCompaction(s,o,l){let u=0,d=!1,f=new Int32Array(K.MAX_NUMERIC_CODEWORDS);for(;o<s[0]&&!d;){let x=s[o++];if(o===s[0]&&(d=!0),x<K.TEXT_COMPACTION_MODE_LATCH)f[u]=x,u++;else switch(x){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:o--,d=!0;break}(u%K.MAX_NUMERIC_CODEWORDS===0||x===K.NUMERIC_COMPACTION_MODE_LATCH||d)&&u>0&&(l.append(K.decodeBase900toBase10(f,u)),u=0)}return o}static decodeBase900toBase10(s,o){let l=Cs(0);for(let d=0;d<o;d++)l+=K.EXP900[o-d-1]*Cs(s[d]);let u=l.toString();if(u.charAt(0)!=="1")throw new k;return u.substring(1)}}K.TEXT_COMPACTION_MODE_LATCH=900,K.BYTE_COMPACTION_MODE_LATCH=901,K.NUMERIC_COMPACTION_MODE_LATCH=902,K.BYTE_COMPACTION_MODE_LATCH_6=924,K.ECI_USER_DEFINED=925,K.ECI_GENERAL_PURPOSE=926,K.ECI_CHARSET=927,K.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,K.MACRO_PDF417_TERMINATOR=922,K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,K.MAX_NUMERIC_CODEWORDS=15,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,K.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,K.PL=25,K.LL=27,K.AS=27,K.ML=28,K.AL=28,K.PS=29,K.PAL=29,K.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,K.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",K.EXP900=Hm()?OA():[],K.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ne{constructor(){}static decode(s,o,l,u,d,f,x){let y=new wr(s,o,l,u,d),v=null,S=null,I;for(let H=!0;;H=!1){if(o!=null&&(v=Ne.getRowIndicatorColumn(s,y,o,!0,f,x)),u!=null&&(S=Ne.getRowIndicatorColumn(s,y,u,!1,f,x)),I=Ne.merge(v,S),I==null)throw Z.getNotFoundInstance();let G=I.getBoundingBox();if(H&&G!=null&&(G.getMinY()<y.getMinY()||G.getMaxY()>y.getMaxY()))y=G;else break}I.setBoundingBox(y);let R=I.getBarcodeColumnCount()+1;I.setDetectionResultColumn(0,v),I.setDetectionResultColumn(R,S);let F=v!=null;for(let H=1;H<=R;H++){let G=F?H:R-H;if(I.getDetectionResultColumn(G)!==void 0)continue;let X;G===0||G===R?X=new Um(y,G===0):X=new Fo(y),I.setDetectionResultColumn(G,X);let Q=-1,ae=Q;for(let oe=y.getMinY();oe<=y.getMaxY();oe++){if(Q=Ne.getStartColumn(I,G,oe,F),Q<0||Q>y.getMaxX()){if(ae===-1)continue;Q=ae}let re=Ne.detectCodeword(s,y.getMinX(),y.getMaxX(),F,Q,oe,f,x);re!=null&&(X.setCodeword(oe,re),ae=Q,f=Math.min(f,re.getWidth()),x=Math.max(x,re.getWidth()))}}return Ne.createDecoderResult(I)}static merge(s,o){if(s==null&&o==null)return null;let l=Ne.getBarcodeMetadata(s,o);if(l==null)return null;let u=wr.merge(Ne.adjustBoundingBox(s),Ne.adjustBoundingBox(o));return new zo(l,u)}static adjustBoundingBox(s){if(s==null)return null;let o=s.getRowHeights();if(o==null)return null;let l=Ne.getMax(o),u=0;for(let x of o)if(u+=l-x,x>0)break;let d=s.getCodewords();for(let x=0;u>0&&d[x]==null;x++)u--;let f=0;for(let x=o.length-1;x>=0&&(f+=l-o[x],!(o[x]>0));x--);for(let x=d.length-1;f>0&&d[x]==null;x--)f--;return s.getBoundingBox().addMissingRows(u,f,s.isLeft())}static getMax(s){let o=-1;for(let l of s)o=Math.max(o,l);return o}static getBarcodeMetadata(s,o){let l;if(s==null||(l=s.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let u;return o==null||(u=o.getBarcodeMetadata())==null?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(s,o,l,u,d,f){let x=new Um(o,u);for(let y=0;y<2;y++){let v=y===0?1:-1,S=Math.trunc(Math.trunc(l.getX()));for(let I=Math.trunc(Math.trunc(l.getY()));I<=o.getMaxY()&&I>=o.getMinY();I+=v){let R=Ne.detectCodeword(s,0,s.getWidth(),u,S,I,d,f);R!=null&&(x.setCodeword(I,R),u?S=R.getStartX():S=R.getEndX())}}return x}static adjustCodewordCount(s,o){let l=o[0][1],u=l.getValue(),d=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Ne.getNumberOfECCodeWords(s.getBarcodeECLevel());if(u.length===0){if(d<1||d>ve.MAX_CODEWORDS_IN_BARCODE)throw Z.getNotFoundInstance();l.setValue(d)}else u[0]!==d&&l.setValue(d)}static createDecoderResult(s){let o=Ne.createBarcodeMatrix(s);Ne.adjustCodewordCount(s,o);let l=new Array,u=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),d=[],f=new Array;for(let y=0;y<s.getBarcodeRowCount();y++)for(let v=0;v<s.getBarcodeColumnCount();v++){let S=o[y][v+1].getValue(),I=y*s.getBarcodeColumnCount()+v;S.length===0?l.push(I):S.length===1?u[I]=S[0]:(f.push(I),d.push(S))}let x=new Array(d.length);for(let y=0;y<x.length;y++)x[y]=d[y];return Ne.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),u,ve.toIntArray(l),ve.toIntArray(f),x)}static createDecoderResultFromAmbiguousValues(s,o,l,u,d){let f=new Int32Array(u.length),x=100;for(;x-- >0;){for(let y=0;y<f.length;y++)o[u[y]]=d[y][f[y]];try{return Ne.decodeCodewords(o,s,l)}catch(y){if(!(y instanceof A))throw y}if(f.length===0)throw A.getChecksumInstance();for(let y=0;y<f.length;y++)if(f[y]<d[y].length-1){f[y]++;break}else if(f[y]=0,y===f.length-1)throw A.getChecksumInstance()}throw A.getChecksumInstance()}static createBarcodeMatrix(s){let o=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let u=0;u<o.length;u++)for(let d=0;d<o[u].length;d++)o[u][d]=new Vo;let l=0;for(let u of s.getDetectionResultColumns()){if(u!=null){for(let d of u.getCodewords())if(d!=null){let f=d.getRowNumber();if(f>=0){if(f>=o.length)continue;o[f][l].setValue(d.getValue())}}}l++}return o}static isValidBarcodeColumn(s,o){return o>=0&&o<=s.getBarcodeColumnCount()+1}static getStartColumn(s,o,l,u){let d=u?1:-1,f=null;if(Ne.isValidBarcodeColumn(s,o-d)&&(f=s.getDetectionResultColumn(o-d).getCodeword(l)),f!=null)return u?f.getEndX():f.getStartX();if(f=s.getDetectionResultColumn(o).getCodewordNearby(l),f!=null)return u?f.getStartX():f.getEndX();if(Ne.isValidBarcodeColumn(s,o-d)&&(f=s.getDetectionResultColumn(o-d).getCodewordNearby(l)),f!=null)return u?f.getEndX():f.getStartX();let x=0;for(;Ne.isValidBarcodeColumn(s,o-d);){o-=d;for(let y of s.getDetectionResultColumn(o).getCodewords())if(y!=null)return(u?y.getEndX():y.getStartX())+d*x*(y.getEndX()-y.getStartX());x++}return u?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,o,l,u,d,f,x,y){d=Ne.adjustCodewordStartColumn(s,o,l,u,d,f);let v=Ne.getModuleBitCount(s,o,l,u,d,f);if(v==null)return null;let S,I=Ue.sum(v);if(u)S=d+I;else{for(let H=0;H<v.length/2;H++){let G=v[H];v[H]=v[v.length-1-H],v[v.length-1-H]=G}S=d,d=S-I}if(!Ne.checkCodewordSkew(I,x,y))return null;let R=An.getDecodedValue(v),F=ve.getCodeword(R);return F===-1?null:new Ho(d,S,Ne.getCodewordBucketNumber(R),F)}static getModuleBitCount(s,o,l,u,d,f){let x=d,y=new Int32Array(8),v=0,S=u?1:-1,I=u;for(;(u?x<l:x>=o)&&v<y.length;)s.get(x,f)===I?(y[v]++,x+=S):(v++,I=!I);return v===y.length||x===(u?l:o)&&v===y.length-1?y:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,o,l,u,d,f){let x=d,y=u?-1:1;for(let v=0;v<2;v++){for(;(u?x>=o:x<l)&&u===s.get(x,f);){if(Math.abs(d-x)>Ne.CODEWORD_SKEW_SIZE)return d;x+=y}y=-y,u=!u}return x}static checkCodewordSkew(s,o,l){return o-Ne.CODEWORD_SKEW_SIZE<=s&&s<=l+Ne.CODEWORD_SKEW_SIZE}static decodeCodewords(s,o,l){if(s.length===0)throw k.getFormatInstance();let u=1<<o+1,d=Ne.correctErrors(s,l,u);Ne.verifyCodewordCount(s,u);let f=K.decode(s,""+o);return f.setErrorsCorrected(d),f.setErasures(l.length),f}static correctErrors(s,o,l){if(o!=null&&o.length>l/2+Ne.MAX_ERRORS||l<0||l>Ne.MAX_EC_CODEWORDS)throw A.getChecksumInstance();return Ne.errorCorrection.decode(s,l,o)}static verifyCodewordCount(s,o){if(s.length<4)throw k.getFormatInstance();let l=s[0];if(l>s.length)throw k.getFormatInstance();if(l===0)if(o<s.length)s[0]=s.length-o;else throw k.getFormatInstance()}static getBitCountForCodeword(s){let o=new Int32Array(8),l=0,u=o.length-1;for(;!((s&1)!==l&&(l=s&1,u--,u<0));)o[u]++,s>>=1;return o}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Ne.getCodewordBucketNumber(Ne.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let o=new Uo;for(let l=0;l<s.length;l++){o.format("Row %2d: ",l);for(let u=0;u<s[l].length;u++){let d=s[l][u];d.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}o.format("%n")}return o.toString()}}Ne.CODEWORD_SKEW_SIZE=2,Ne.MAX_ERRORS=3,Ne.MAX_EC_CODEWORDS=512,Ne.errorCorrection=new Pm;class Jt{decode(s,o=null){let l=Jt.decode(s,o,!1);if(l==null||l.length===0||l[0]==null)throw Z.getNotFoundInstance();return l[0]}decodeMultiple(s,o=null){try{return Jt.decode(s,o,!0)}catch(l){throw l instanceof k||l instanceof A?Z.getNotFoundInstance():l}}static decode(s,o,l){const u=new Array,d=Te.detectMultiple(s,o,l);for(const f of d.getPoints()){const x=Ne.decode(d.getBits(),f[4],f[5],f[6],f[7],Jt.getMinCodewordWidth(f),Jt.getMaxCodewordWidth(f)),y=new ke(x.getText(),x.getRawBytes(),void 0,f,xe.PDF_417);y.putMetadata(Ht.ERROR_CORRECTION_LEVEL,x.getECLevel());const v=x.getOther();v!=null&&y.putMetadata(Ht.PDF417_EXTRA_METADATA,v),u.push(y)}return u.map(f=>f)}static getMaxWidth(s,o){return s==null||o==null?0:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMinWidth(s,o){return s==null||o==null?C.MAX_VALUE:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Jt.getMaxWidth(s[0],s[4]),Jt.getMaxWidth(s[6],s[2])*ve.MODULES_IN_CODEWORD/ve.MODULES_IN_STOP_PATTERN),Math.max(Jt.getMaxWidth(s[1],s[5]),Jt.getMaxWidth(s[7],s[3])*ve.MODULES_IN_CODEWORD/ve.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Jt.getMinWidth(s[0],s[4]),Jt.getMinWidth(s[6],s[2])*ve.MODULES_IN_CODEWORD/ve.MODULES_IN_STOP_PATTERN),Math.min(Jt.getMinWidth(s[1],s[5]),Jt.getMinWidth(s[7],s[3])*ve.MODULES_IN_CODEWORD/ve.MODULES_IN_STOP_PATTERN)))}reset(){}}class Gc extends m{}Gc.kind="ReaderException";class Gm{constructor(s,o){this.verbose=s===!0,o&&this.setHints(o)}decode(s,o){return o&&this.setHints(o),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const o=!i(s)&&s.get(D.TRY_HARDER)===!0,l=i(s)?null:s.get(D.POSSIBLE_FORMATS),u=new Array;if(!i(l)){const d=l.some(f=>f===xe.UPC_A||f===xe.UPC_E||f===xe.EAN_13||f===xe.EAN_8||f===xe.CODABAR||f===xe.CODE_39||f===xe.CODE_93||f===xe.CODE_128||f===xe.ITF||f===xe.RSS_14||f===xe.RSS_EXPANDED);d&&!o&&u.push(new ca(s,this.verbose)),l.includes(xe.QR_CODE)&&u.push(new Ss),l.includes(xe.DATA_MATRIX)&&u.push(new As),l.includes(xe.AZTEC)&&u.push(new Pc),l.includes(xe.PDF_417)&&u.push(new Jt),d&&o&&u.push(new ca(s,this.verbose))}u.length===0&&(o||u.push(new ca(s,this.verbose)),u.push(new Ss),u.push(new As),u.push(new Pc),u.push(new Jt),o&&u.push(new ca(s,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new Gc("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(s,this.hints)}catch(l){if(l instanceof Gc)continue}throw new Z("No MultiFormat Readers were able to detect the code.")}}class jA extends dt{constructor(s=null,o=500){const l=new Gm;l.setHints(s),super(l,o)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class LA extends dt{constructor(s=500){super(new Jt,s)}}class kA extends dt{constructor(s=500){super(new Ss,s)}}var Ih;(function(N){N[N.ERROR_CORRECTION=0]="ERROR_CORRECTION",N[N.CHARACTER_SET=1]="CHARACTER_SET",N[N.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",N[N.MIN_SIZE=3]="MIN_SIZE",N[N.MAX_SIZE=4]="MAX_SIZE",N[N.MARGIN=5]="MARGIN",N[N.PDF417_COMPACT=6]="PDF417_COMPACT",N[N.PDF417_COMPACTION=7]="PDF417_COMPACTION",N[N.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",N[N.AZTEC_LAYERS=9]="AZTEC_LAYERS",N[N.QR_VERSION=10]="QR_VERSION"})(Ih||(Ih={}));var Pt=Ih;class Mh{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new wn(s,Int32Array.from([1])))}buildGenerator(s){const o=this.cachedGenerators;if(s>=o.length){let l=o[o.length-1];const u=this.field;for(let d=o.length;d<=s;d++){const f=l.multiply(new wn(u,Int32Array.from([1,u.exp(d-1+u.getGeneratorBase())])));o.push(f),l=f}}return o[s]}encode(s,o){if(o===0)throw new w("No error correction bytes");const l=s.length-o;if(l<=0)throw new w("No data bytes provided");const u=this.buildGenerator(o),d=new Int32Array(l);M.arraycopy(s,0,d,0,l);let f=new wn(this.field,d);f=f.multiplyByMonomial(o,1);const y=f.divide(u)[1].getCoefficients(),v=o-y.length;for(let S=0;S<v;S++)s[l+S]=0;M.arraycopy(y,0,s,l+v,y.length)}}class At{constructor(){}static applyMaskPenaltyRule1(s){return At.applyMaskPenaltyRule1Internal(s,!0)+At.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let o=0;const l=s.getArray(),u=s.getWidth(),d=s.getHeight();for(let f=0;f<d-1;f++){const x=l[f];for(let y=0;y<u-1;y++){const v=x[y];v===x[y+1]&&v===l[f+1][y]&&v===l[f+1][y+1]&&o++}}return At.N2*o}static applyMaskPenaltyRule3(s){let o=0;const l=s.getArray(),u=s.getWidth(),d=s.getHeight();for(let f=0;f<d;f++)for(let x=0;x<u;x++){const y=l[f];x+6<u&&y[x]===1&&y[x+1]===0&&y[x+2]===1&&y[x+3]===1&&y[x+4]===1&&y[x+5]===0&&y[x+6]===1&&(At.isWhiteHorizontal(y,x-4,x)||At.isWhiteHorizontal(y,x+7,x+11))&&o++,f+6<d&&l[f][x]===1&&l[f+1][x]===0&&l[f+2][x]===1&&l[f+3][x]===1&&l[f+4][x]===1&&l[f+5][x]===0&&l[f+6][x]===1&&(At.isWhiteVertical(l,x,f-4,f)||At.isWhiteVertical(l,x,f+7,f+11))&&o++}return o*At.N3}static isWhiteHorizontal(s,o,l){o=Math.max(o,0),l=Math.min(l,s.length);for(let u=o;u<l;u++)if(s[u]===1)return!1;return!0}static isWhiteVertical(s,o,l,u){l=Math.max(l,0),u=Math.min(u,s.length);for(let d=l;d<u;d++)if(s[d][o]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let o=0;const l=s.getArray(),u=s.getWidth(),d=s.getHeight();for(let y=0;y<d;y++){const v=l[y];for(let S=0;S<u;S++)v[S]===1&&o++}const f=s.getHeight()*s.getWidth();return Math.floor(Math.abs(o*2-f)*10/f)*At.N4}static getDataMaskBit(s,o,l){let u,d;switch(s){case 0:u=l+o&1;break;case 1:u=l&1;break;case 2:u=o%3;break;case 3:u=(l+o)%3;break;case 4:u=Math.floor(l/2)+Math.floor(o/3)&1;break;case 5:d=l*o,u=(d&1)+d%3;break;case 6:d=l*o,u=(d&1)+d%3&1;break;case 7:d=l*o,u=d%3+(l+o&1)&1;break;default:throw new w("Invalid mask pattern: "+s)}return u===0}static applyMaskPenaltyRule1Internal(s,o){let l=0;const u=o?s.getHeight():s.getWidth(),d=o?s.getWidth():s.getHeight(),f=s.getArray();for(let x=0;x<u;x++){let y=0,v=-1;for(let S=0;S<d;S++){const I=o?f[x][S]:f[S][x];I===v?y++:(y>=5&&(l+=At.N1+(y-5)),y=1,v=I)}y>=5&&(l+=At.N1+(y-5))}return l}}At.N1=3,At.N2=3,At.N3=40,At.N4=10;class Yc{constructor(s,o){this.width=s,this.height=o;const l=new Array(o);for(let u=0;u!==o;u++)l[u]=new Uint8Array(s);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(s,o){return this.bytes[o][s]}getArray(){return this.bytes}setNumber(s,o,l){this.bytes[o][s]=l}setBoolean(s,o,l){this.bytes[o][s]=l?1:0}clear(s){for(const o of this.bytes)_.fill(o,s)}equals(s){if(!(s instanceof Yc))return!1;const o=s;if(this.width!==o.width||this.height!==o.height)return!1;for(let l=0,u=this.height;l<u;++l){const d=this.bytes[l],f=o.bytes[l];for(let x=0,y=this.width;x<y;++x)if(d[x]!==f[x])return!1}return!0}toString(){const s=new ie;for(let o=0,l=this.height;o<l;++o){const u=this.bytes[o];for(let d=0,f=this.width;d<f;++d)switch(u[d]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class vr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new ie;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<vr.NUM_MASK_PATTERNS}}vr.NUM_MASK_PATTERNS=8;class tt extends m{}tt.kind="WriterException";class we{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,o,l,u,d){we.clearMatrix(d),we.embedBasicPatterns(l,d),we.embedTypeInfo(o,u,d),we.maybeEmbedVersionInfo(l,d),we.embedDataBits(s,u,d)}static embedBasicPatterns(s,o){we.embedPositionDetectionPatternsAndSeparators(o),we.embedDarkDotAtLeftBottomCorner(o),we.maybeEmbedPositionAdjustmentPatterns(s,o),we.embedTimingPatterns(o)}static embedTypeInfo(s,o,l){const u=new L;we.makeTypeInfoBits(s,o,u);for(let d=0,f=u.getSize();d<f;++d){const x=u.get(u.getSize()-1-d),y=we.TYPE_INFO_COORDINATES[d],v=y[0],S=y[1];if(l.setBoolean(v,S,x),d<8){const I=l.getWidth()-d-1;l.setBoolean(I,8,x)}else{const R=l.getHeight()-7+(d-8);l.setBoolean(8,R,x)}}}static maybeEmbedVersionInfo(s,o){if(s.getVersionNumber()<7)return;const l=new L;we.makeVersionInfoBits(s,l);let u=6*3-1;for(let d=0;d<6;++d)for(let f=0;f<3;++f){const x=l.get(u);u--,o.setBoolean(d,o.getHeight()-11+f,x),o.setBoolean(o.getHeight()-11+f,d,x)}}static embedDataBits(s,o,l){let u=0,d=-1,f=l.getWidth()-1,x=l.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);x>=0&&x<l.getHeight();){for(let y=0;y<2;++y){const v=f-y;if(!we.isEmpty(l.get(v,x)))continue;let S;u<s.getSize()?(S=s.get(u),++u):S=!1,o!==255&&At.getDataMaskBit(o,v,x)&&(S=!S),l.setBoolean(v,x,S)}x+=d}d=-d,x+=d,f-=2}if(u!==s.getSize())throw new tt("Not all bits consumed: "+u+"/"+s.getSize())}static findMSBSet(s){return 32-C.numberOfLeadingZeros(s)}static calculateBCHCode(s,o){if(o===0)throw new w("0 polynomial");const l=we.findMSBSet(o);for(s<<=l-1;we.findMSBSet(s)>=l;)s^=o<<we.findMSBSet(s)-l;return s}static makeTypeInfoBits(s,o,l){if(!vr.isValidMaskPattern(o))throw new tt("Invalid mask pattern");const u=s.getBits()<<3|o;l.appendBits(u,5);const d=we.calculateBCHCode(u,we.TYPE_INFO_POLY);l.appendBits(d,10);const f=new L;if(f.appendBits(we.TYPE_INFO_MASK_PATTERN,15),l.xor(f),l.getSize()!==15)throw new tt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(s,o){o.appendBits(s.getVersionNumber(),6);const l=we.calculateBCHCode(s.getVersionNumber(),we.VERSION_INFO_POLY);if(o.appendBits(l,12),o.getSize()!==18)throw new tt("should not happen but we got: "+o.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let o=8;o<s.getWidth()-8;++o){const l=(o+1)%2;we.isEmpty(s.get(o,6))&&s.setNumber(o,6,l),we.isEmpty(s.get(6,o))&&s.setNumber(6,o,l)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new tt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,o,l){for(let u=0;u<8;++u){if(!we.isEmpty(l.get(s+u,o)))throw new tt;l.setNumber(s+u,o,0)}}static embedVerticalSeparationPattern(s,o,l){for(let u=0;u<7;++u){if(!we.isEmpty(l.get(s,o+u)))throw new tt;l.setNumber(s,o+u,0)}}static embedPositionAdjustmentPattern(s,o,l){for(let u=0;u<5;++u){const d=we.POSITION_ADJUSTMENT_PATTERN[u];for(let f=0;f<5;++f)l.setNumber(s+f,o+u,d[f])}}static embedPositionDetectionPattern(s,o,l){for(let u=0;u<7;++u){const d=we.POSITION_DETECTION_PATTERN[u];for(let f=0;f<7;++f)l.setNumber(s+f,o+u,d[f])}}static embedPositionDetectionPatternsAndSeparators(s){const o=we.POSITION_DETECTION_PATTERN[0].length;we.embedPositionDetectionPattern(0,0,s),we.embedPositionDetectionPattern(s.getWidth()-o,0,s),we.embedPositionDetectionPattern(0,s.getWidth()-o,s);const l=8;we.embedHorizontalSeparationPattern(0,l-1,s),we.embedHorizontalSeparationPattern(s.getWidth()-l,l-1,s),we.embedHorizontalSeparationPattern(0,s.getWidth()-l,s);const u=7;we.embedVerticalSeparationPattern(u,0,s),we.embedVerticalSeparationPattern(s.getHeight()-u-1,0,s),we.embedVerticalSeparationPattern(u,s.getHeight()-u,s)}static maybeEmbedPositionAdjustmentPatterns(s,o){if(s.getVersionNumber()<2)return;const l=s.getVersionNumber()-1,u=we.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,f=u.length;d!==f;d++){const x=u[d];if(x>=0)for(let y=0;y!==f;y++){const v=u[y];v>=0&&we.isEmpty(o.get(v,x))&&we.embedPositionAdjustmentPattern(v-2,x-2,o)}}}}we.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),we.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),we.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),we.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),we.VERSION_INFO_POLY=7973,we.TYPE_INFO_POLY=1335,we.TYPE_INFO_MASK_PATTERN=21522;class BA{constructor(s,o){this.dataBytes=s,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class lt{constructor(){}static calculateMaskPenalty(s){return At.applyMaskPenaltyRule1(s)+At.applyMaskPenaltyRule2(s)+At.applyMaskPenaltyRule3(s)+At.applyMaskPenaltyRule4(s)}static encode(s,o,l=null){let u=lt.DEFAULT_BYTE_MODE_ENCODING;const d=l!==null&&l.get(Pt.CHARACTER_SET)!==void 0;d&&(u=l.get(Pt.CHARACTER_SET).toString());const f=this.chooseMode(s,u),x=new L;if(f===ye.BYTE&&(d||lt.DEFAULT_BYTE_MODE_ENCODING!==u)){const oe=U.getCharacterSetECIByName(u);oe!==void 0&&this.appendECI(oe,x)}this.appendModeInfo(f,x);const y=new L;this.appendBytes(s,f,y,u);let v;if(l!==null&&l.get(Pt.QR_VERSION)!==void 0){const oe=Number.parseInt(l.get(Pt.QR_VERSION).toString(),10);v=pe.getVersionForNumber(oe);const re=this.calculateBitsNeeded(f,x,y,v);if(!this.willFit(re,v,o))throw new tt("Data too big for requested version")}else v=this.recommendVersion(o,f,x,y);const S=new L;S.appendBitArray(x);const I=f===ye.BYTE?y.getSizeInBytes():s.length;this.appendLengthInfo(I,v,f,S),S.appendBitArray(y);const R=v.getECBlocksForLevel(o),F=v.getTotalCodewords()-R.getTotalECCodewords();this.terminateBits(F,S);const H=this.interleaveWithECBytes(S,v.getTotalCodewords(),F,R.getNumBlocks()),G=new vr;G.setECLevel(o),G.setMode(f),G.setVersion(v);const X=v.getDimensionForVersion(),Q=new Yc(X,X),ae=this.chooseMaskPattern(H,o,v,Q);return G.setMaskPattern(ae),we.buildMatrix(H,o,v,ae,Q),G.setMatrix(Q),G}static recommendVersion(s,o,l,u){const d=this.calculateBitsNeeded(o,l,u,pe.getVersionForNumber(1)),f=this.chooseVersion(d,s),x=this.calculateBitsNeeded(o,l,u,f);return this.chooseVersion(x,s)}static calculateBitsNeeded(s,o,l,u){return o.getSize()+s.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(s){return s<lt.ALPHANUMERIC_TABLE.length?lt.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,o=null){if(U.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(s))return ye.KANJI;let l=!1,u=!1;for(let d=0,f=s.length;d<f;++d){const x=s.charAt(d);if(lt.isDigit(x))l=!0;else if(this.getAlphanumericCode(x.charCodeAt(0))!==-1)u=!0;else return ye.BYTE}return u?ye.ALPHANUMERIC:l?ye.NUMERIC:ye.BYTE}static isOnlyDoubleByteKanji(s){let o;try{o=Y.encode(s,U.SJIS)}catch{return!1}const l=o.length;if(l%2!==0)return!1;for(let u=0;u<l;u+=2){const d=o[u]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(s,o,l,u){let d=Number.MAX_SAFE_INTEGER,f=-1;for(let x=0;x<vr.NUM_MASK_PATTERNS;x++){we.buildMatrix(s,o,l,x,u);let y=this.calculateMaskPenalty(u);y<d&&(d=y,f=x)}return f}static chooseVersion(s,o){for(let l=1;l<=40;l++){const u=pe.getVersionForNumber(l);if(lt.willFit(s,u,o))return u}throw new tt("Data too big")}static willFit(s,o,l){const u=o.getTotalCodewords(),f=o.getECBlocksForLevel(l).getTotalECCodewords(),x=u-f,y=(s+7)/8;return x>=y}static terminateBits(s,o){const l=s*8;if(o.getSize()>l)throw new tt("data bits cannot fit in the QR Code"+o.getSize()+" > "+l);for(let f=0;f<4&&o.getSize()<l;++f)o.appendBit(!1);const u=o.getSize()&7;if(u>0)for(let f=u;f<8;f++)o.appendBit(!1);const d=s-o.getSizeInBytes();for(let f=0;f<d;++f)o.appendBits(f&1?17:236,8);if(o.getSize()!==l)throw new tt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,o,l,u,d,f){if(u>=l)throw new tt("Block ID too large");const x=s%l,y=l-x,v=Math.floor(s/l),S=v+1,I=Math.floor(o/l),R=I+1,F=v-I,H=S-R;if(F!==H)throw new tt("EC bytes mismatch");if(l!==y+x)throw new tt("RS blocks mismatch");if(s!==(I+F)*y+(R+H)*x)throw new tt("Total bytes mismatch");u<y?(d[0]=I,f[0]=F):(d[0]=R,f[0]=H)}static interleaveWithECBytes(s,o,l,u){if(s.getSizeInBytes()!==l)throw new tt("Number of bits and data bytes does not match");let d=0,f=0,x=0;const y=new Array;for(let S=0;S<u;++S){const I=new Int32Array(1),R=new Int32Array(1);lt.getNumDataBytesAndNumECBytesForBlockID(o,l,u,S,I,R);const F=I[0],H=new Uint8Array(F);s.toBytes(8*d,H,0,F);const G=lt.generateECBytes(H,R[0]);y.push(new BA(H,G)),f=Math.max(f,F),x=Math.max(x,G.length),d+=I[0]}if(l!==d)throw new tt("Data bytes does not match offset");const v=new L;for(let S=0;S<f;++S)for(const I of y){const R=I.getDataBytes();S<R.length&&v.appendBits(R[S],8)}for(let S=0;S<x;++S)for(const I of y){const R=I.getErrorCorrectionBytes();S<R.length&&v.appendBits(R[S],8)}if(o!==v.getSizeInBytes())throw new tt("Interleaving error: "+o+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(s,o){const l=s.length,u=new Int32Array(l+o);for(let f=0;f<l;f++)u[f]=s[f]&255;new Mh(ze.QR_CODE_FIELD_256).encode(u,o);const d=new Uint8Array(o);for(let f=0;f<o;f++)d[f]=u[l+f];return d}static appendModeInfo(s,o){o.appendBits(s.getBits(),4)}static appendLengthInfo(s,o,l,u){const d=l.getCharacterCountBits(o);if(s>=1<<d)throw new tt(s+" is bigger than "+((1<<d)-1));u.appendBits(s,d)}static appendBytes(s,o,l,u){switch(o){case ye.NUMERIC:lt.appendNumericBytes(s,l);break;case ye.ALPHANUMERIC:lt.appendAlphanumericBytes(s,l);break;case ye.BYTE:lt.append8BitBytes(s,l,u);break;case ye.KANJI:lt.appendKanjiBytes(s,l);break;default:throw new tt("Invalid mode: "+o)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const o=lt.getDigit(s);return o>=0&&o<=9}static appendNumericBytes(s,o){const l=s.length;let u=0;for(;u<l;){const d=lt.getDigit(s.charAt(u));if(u+2<l){const f=lt.getDigit(s.charAt(u+1)),x=lt.getDigit(s.charAt(u+2));o.appendBits(d*100+f*10+x,10),u+=3}else if(u+1<l){const f=lt.getDigit(s.charAt(u+1));o.appendBits(d*10+f,7),u+=2}else o.appendBits(d,4),u++}}static appendAlphanumericBytes(s,o){const l=s.length;let u=0;for(;u<l;){const d=lt.getAlphanumericCode(s.charCodeAt(u));if(d===-1)throw new tt;if(u+1<l){const f=lt.getAlphanumericCode(s.charCodeAt(u+1));if(f===-1)throw new tt;o.appendBits(d*45+f,11),u+=2}else o.appendBits(d,6),u++}}static append8BitBytes(s,o,l){let u;try{u=Y.encode(s,l)}catch(d){throw new tt(d)}for(let d=0,f=u.length;d!==f;d++){const x=u[d];o.appendBits(x,8)}}static appendKanjiBytes(s,o){let l;try{l=Y.encode(s,U.SJIS)}catch(d){throw new tt(d)}const u=l.length;for(let d=0;d<u;d+=2){const f=l[d]&255,x=l[d+1]&255,y=f<<8&4294967295|x;let v=-1;if(y>=33088&&y<=40956?v=y-33088:y>=57408&&y<=60351&&(v=y-49472),v===-1)throw new tt("Invalid byte sequence");const S=(v>>8)*192+(v&255);o.appendBits(S,13)}}static appendECI(s,o){o.appendBits(ye.ECI.getBits(),4),o.appendBits(s.getValue(),8)}}lt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),lt.DEFAULT_BYTE_MODE_ENCODING=U.UTF8.getName();class Er{write(s,o,l,u=null){if(s.length===0)throw new w("Found empty contents");if(o<0||l<0)throw new w("Requested dimensions are too small: "+o+"x"+l);let d=rt.L,f=Er.QUIET_ZONE_SIZE;u!==null&&(u.get(Pt.ERROR_CORRECTION)!==void 0&&(d=rt.fromString(u.get(Pt.ERROR_CORRECTION).toString())),u.get(Pt.MARGIN)!==void 0&&(f=Number.parseInt(u.get(Pt.MARGIN).toString(),10)));const x=lt.encode(s,d,u);return this.renderResult(x,o,l,f)}writeToDom(s,o,l,u,d=null){typeof s=="string"&&(s=document.querySelector(s));const f=this.write(o,l,u,d);s&&s.appendChild(f)}renderResult(s,o,l,u){const d=s.getMatrix();if(d===null)throw new Ti;const f=d.getWidth(),x=d.getHeight(),y=f+u*2,v=x+u*2,S=Math.max(o,y),I=Math.max(l,v),R=Math.min(Math.floor(S/y),Math.floor(I/v)),F=Math.floor((S-f*R)/2),H=Math.floor((I-x*R)/2),G=this.createSVGElement(S,I);for(let X=0,Q=H;X<x;X++,Q+=R)for(let ae=0,oe=F;ae<f;ae++,oe+=R)if(d.get(ae,X)===1){const re=this.createSvgRectElement(oe,Q,R,R);G.appendChild(re)}return G}createSVGElement(s,o){const l=document.createElementNS(Er.SVG_NS,"svg");return l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",o.toString()),l}createSvgRectElement(s,o,l,u){const d=document.createElementNS(Er.SVG_NS,"rect");return d.setAttributeNS(null,"x",s.toString()),d.setAttributeNS(null,"y",o.toString()),d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",u.toString()),d.setAttributeNS(null,"fill","#000000"),d}}Er.QUIET_ZONE_SIZE=4,Er.SVG_NS="http://www.w3.org/2000/svg";class da{encode(s,o,l,u,d){if(s.length===0)throw new w("Found empty contents");if(o!==xe.QR_CODE)throw new w("Can only encode QR_CODE, but got "+o);if(l<0||u<0)throw new w(`Requested dimensions are too small: ${l}x${u}`);let f=rt.L,x=da.QUIET_ZONE_SIZE;d!==null&&(d.get(Pt.ERROR_CORRECTION)!==void 0&&(f=rt.fromString(d.get(Pt.ERROR_CORRECTION).toString())),d.get(Pt.MARGIN)!==void 0&&(x=Number.parseInt(d.get(Pt.MARGIN).toString(),10)));const y=lt.encode(s,f,d);return da.renderResult(y,l,u,x)}static renderResult(s,o,l,u){const d=s.getMatrix();if(d===null)throw new Ti;const f=d.getWidth(),x=d.getHeight(),y=f+u*2,v=x+u*2,S=Math.max(o,y),I=Math.max(l,v),R=Math.min(Math.floor(S/y),Math.floor(I/v)),F=Math.floor((S-f*R)/2),H=Math.floor((I-x*R)/2),G=new de(S,I);for(let X=0,Q=H;X<x;X++,Q+=R)for(let ae=0,oe=F;ae<f;ae++,oe+=R)d.get(ae,X)===1&&G.setRegion(oe,Q,R,R);return G}}da.QUIET_ZONE_SIZE=4;class PA{encode(s,o,l,u,d){let f;switch(o){case xe.QR_CODE:f=new da;break;default:throw new w("No encoder available for format "+o)}return f.encode(s,o,l,u,d)}}class Mi extends me{constructor(s,o,l,u,d,f,x,y){if(super(f,x),this.yuvData=s,this.dataWidth=o,this.dataHeight=l,this.left=u,this.top=d,u+f>o||d+x>l)throw new w("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(f,x)}getRow(s,o){if(s<0||s>=this.getHeight())throw new w("Requested row is outside the image: "+s);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const u=(s+this.top)*this.dataWidth+this.left;return M.arraycopy(this.yuvData,u,o,0,l),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.yuvData;const l=s*o,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return M.arraycopy(this.yuvData,d,u,0,l),u;for(let f=0;f<o;f++){const x=f*s;M.arraycopy(this.yuvData,d,u,x,s),d+=this.dataWidth}return u}isCropSupported(){return!0}crop(s,o,l,u){return new Mi(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+o,l,u,!1)}renderThumbnail(){const s=this.getWidth()/Mi.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/Mi.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(s*o),u=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let f=0;f<o;f++){const x=f*s;for(let y=0;y<s;y++){const v=u[d+y*Mi.THUMBNAIL_SCALE_FACTOR]&255;l[x+y]=4278190080|v*65793}d+=this.dataWidth*Mi.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/Mi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Mi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,o){const l=this.yuvData;for(let u=0,d=this.top*this.dataWidth+this.left;u<o;u++,d+=this.dataWidth){const f=d+s/2;for(let x=d,y=d+s-1;x<f;x++,y--){const v=l[x];l[x]=l[y],l[y]=v}}}invert(){return new Oe(this)}}Mi.THUMBNAIL_SCALE_FACTOR=2;class Dh extends me{constructor(s,o,l,u,d,f,x){if(super(o,l),this.dataWidth=u,this.dataHeight=d,this.left=f,this.top=x,s.BYTES_PER_ELEMENT===4){const y=o*l,v=new Uint8ClampedArray(y);for(let S=0;S<y;S++){const I=s[S],R=I>>16&255,F=I>>7&510,H=I&255;v[S]=(R+F+H)/4&255}this.luminances=v}else this.luminances=s;if(u===void 0&&(this.dataWidth=o),d===void 0&&(this.dataHeight=l),f===void 0&&(this.left=0),x===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+l>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(s,o){if(s<0||s>=this.getHeight())throw new w("Requested row is outside the image: "+s);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const u=(s+this.top)*this.dataWidth+this.left;return M.arraycopy(this.luminances,u,o,0,l),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.luminances;const l=s*o,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return M.arraycopy(this.luminances,d,u,0,l),u;for(let f=0;f<o;f++){const x=f*s;M.arraycopy(this.luminances,d,u,x,s),d+=this.dataWidth}return u}isCropSupported(){return!0}crop(s,o,l,u){return new Dh(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+s,this.top+o)}invert(){return new Oe(this)}}class Ym extends U{static forName(s){return this.getCharacterSetECIByName(s)}}class Rh{}Rh.ISO_8859_1=U.ISO8859_1;class qm{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Xm{static singletonList(s){return[s]}static min(s,o){return s.sort(o)[0]}}class UA{constructor(s){this.previous=s}getPrevious(){return this.previous}}class ha extends UA{constructor(s,o,l){super(s),this.value=o,this.bitCount=l}appendTo(s,o){s.appendBits(this.value,this.bitCount)}add(s,o){return new ha(this,s,o)}addBinaryShift(s,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ha(this,s,o)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+C.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Oh extends ha{constructor(s,o,l){super(s,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=l}appendTo(s,o){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):l===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(o[this.binaryShiftStart+l],8)}addBinaryShift(s,o){return new Oh(this,s,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function FA(N,s,o){return new Oh(N,s,o)}function Go(N,s,o){return new ha(N,s,o)}const VA=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ts=0,qc=1,Jn=2,Wm=3,Di=4,zA=new ha(null,0,0),jh=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function HA(N){for(let s of N)_.fill(s,-1);return N[Ts][Di]=0,N[qc][Di]=0,N[qc][Ts]=28,N[Wm][Di]=0,N[Jn][Di]=0,N[Jn][Ts]=15,N}const Zm=HA(_.createInt32Array(6,6));class Ri{constructor(s,o,l,u){this.token=s,this.mode=o,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,o){let l=this.bitCount,u=this.token;if(s!==this.mode){let f=jh[this.mode][s];u=Go(u,f&65535,f>>16),l+=f>>16}let d=s===Jn?4:5;return u=Go(u,o,d),new Ri(u,s,0,l+d)}shiftAndAppend(s,o){let l=this.token,u=this.mode===Jn?4:5;return l=Go(l,Zm[this.mode][s],u),l=Go(l,o,5),new Ri(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(s){let o=this.token,l=this.mode,u=this.bitCount;if(this.mode===Di||this.mode===Jn){let x=jh[l][Ts];o=Go(o,x&65535,x>>16),u+=x>>16,l=Ts}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new Ri(o,l,this.binaryShiftByteCount+1,u+d);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(s+1)),f}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=FA(o,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ri(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let o=this.bitCount+(jh[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?o+=Ri.calculateBinaryShiftCost(s)-Ri.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(o+=10),o<=s.bitCount}toBitArray(s){let o=[];for(let u=this.endBinaryShift(s.length).token;u!==null;u=u.getPrevious())o.unshift(u);let l=new L;for(const u of o)u.appendTo(l,s);return l}toString(){return $.format("%s bits=%d bytes=%d",VA[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}Ri.INITIAL_STATE=new Ri(zA,Ts,0,0);function GA(N){const s=$.getCharCode(" "),o=$.getCharCode("."),l=$.getCharCode(",");N[Ts][s]=1;const u=$.getCharCode("Z"),d=$.getCharCode("A");for(let R=d;R<=u;R++)N[Ts][R]=R-d+2;N[qc][s]=1;const f=$.getCharCode("z"),x=$.getCharCode("a");for(let R=x;R<=f;R++)N[qc][R]=R-x+2;N[Jn][s]=1;const y=$.getCharCode("9"),v=$.getCharCode("0");for(let R=v;R<=y;R++)N[Jn][R]=R-v+2;N[Jn][l]=12,N[Jn][o]=13;const S=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let R=0;R<S.length;R++)N[Wm][$.getCharCode(S[R])]=R;const I=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let R=0;R<I.length;R++)$.getCharCode(I[R])>0&&(N[Di][$.getCharCode(I[R])]=R);return N}const Lh=GA(_.createInt32Array(5,256));class Yo{constructor(s){this.text=s}encode(){const s=$.getCharCode(" "),o=$.getCharCode(`
`);let l=Xm.singletonList(Ri.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let f,x=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case $.getCharCode("\r"):f=x===o?2:0;break;case $.getCharCode("."):f=x===s?3:0;break;case $.getCharCode(","):f=x===s?4:0;break;case $.getCharCode(":"):f=x===s?5:0;break;default:f=0}f>0?(l=Yo.updateStateListForPair(l,d,f),d++):l=this.updateStateListForChar(l,d)}return Xm.min(l,(d,f)=>d.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,o){const l=[];for(let u of s)this.updateStateForChar(u,o,l);return Yo.simplifyStates(l)}updateStateForChar(s,o,l){let u=this.text[o]&255,d=Lh[s.getMode()][u]>0,f=null;for(let x=0;x<=Di;x++){let y=Lh[x][u];if(y>0){if(f==null&&(f=s.endBinaryShift(o)),!d||x===s.getMode()||x===Jn){const v=f.latchAndAppend(x,y);l.push(v)}if(!d&&Zm[s.getMode()][x]>=0){const v=f.shiftAndAppend(x,y);l.push(v)}}}if(s.getBinaryShiftByteCount()>0||Lh[s.getMode()][u]===0){let x=s.addBinaryShiftChar(o);l.push(x)}}static updateStateListForPair(s,o,l){const u=[];for(let d of s)this.updateStateForPair(d,o,l,u);return this.simplifyStates(u)}static updateStateForPair(s,o,l,u){let d=s.endBinaryShift(o);if(u.push(d.latchAndAppend(Di,l)),s.getMode()!==Di&&u.push(d.shiftAndAppend(Di,l)),l===3||l===4){let f=d.latchAndAppend(Jn,16-l).latchAndAppend(Jn,1);u.push(f)}if(s.getBinaryShiftByteCount()>0){let f=s.addBinaryShiftChar(o).addBinaryShiftChar(o+1);u.push(f)}}static simplifyStates(s){let o=[];for(const l of s){let u=!0;for(const d of o){if(d.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(d)&&(o=o.filter(f=>f!==d))}u&&o.push(l)}return o}}class Fe{constructor(){}static encodeBytes(s){return Fe.encode(s,Fe.DEFAULT_EC_PERCENT,Fe.DEFAULT_AZTEC_LAYERS)}static encode(s,o,l){let u=new Yo(s).encode(),d=C.truncDivision(u.getSize()*o,100)+11,f=u.getSize()+d,x,y,v,S,I;if(l!==Fe.DEFAULT_AZTEC_LAYERS){if(x=l<0,y=Math.abs(l),y>(x?Fe.MAX_NB_BITS_COMPACT:Fe.MAX_NB_BITS))throw new w($.format("Illegal value %s for layers",l));v=Fe.totalBitsInLayer(y,x),S=Fe.WORD_SIZE[y];let re=v-v%S;if(I=Fe.stuffBits(u,S),I.getSize()+d>re)throw new w("Data to large for user specified layer");if(x&&I.getSize()>S*64)throw new w("Data to large for user specified layer")}else{S=0,I=null;for(let re=0;;re++){if(re>Fe.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(x=re<=3,y=x?re+1:re,v=Fe.totalBitsInLayer(y,x),f>v)continue;(I==null||S!==Fe.WORD_SIZE[y])&&(S=Fe.WORD_SIZE[y],I=Fe.stuffBits(u,S));let je=v-v%S;if(!(x&&I.getSize()>S*64)&&I.getSize()+d<=je)break}}let R=Fe.generateCheckWords(I,v,S),F=I.getSize()/S,H=Fe.generateModeMessage(x,y,F),G=(x?11:14)+y*4,X=new Int32Array(G),Q;if(x){Q=G;for(let re=0;re<X.length;re++)X[re]=re}else{Q=G+1+2*C.truncDivision(C.truncDivision(G,2)-1,15);let re=C.truncDivision(G,2),je=C.truncDivision(Q,2);for(let Se=0;Se<re;Se++){let Sn=Se+C.truncDivision(Se,15);X[re-Se-1]=je-Sn-1,X[re+Se]=je+Sn+1}}let ae=new de(Q);for(let re=0,je=0;re<y;re++){let Se=(y-re)*4+(x?9:12);for(let Sn=0;Sn<Se;Sn++){let gi=Sn*2;for(let Cn=0;Cn<2;Cn++)R.get(je+gi+Cn)&&ae.set(X[re*2+Cn],X[re*2+Sn]),R.get(je+Se*2+gi+Cn)&&ae.set(X[re*2+Sn],X[G-1-re*2-Cn]),R.get(je+Se*4+gi+Cn)&&ae.set(X[G-1-re*2-Cn],X[G-1-re*2-Sn]),R.get(je+Se*6+gi+Cn)&&ae.set(X[G-1-re*2-Sn],X[re*2+Cn])}je+=Se*8}if(Fe.drawModeMessage(ae,x,Q,H),x)Fe.drawBullsEye(ae,C.truncDivision(Q,2),5);else{Fe.drawBullsEye(ae,C.truncDivision(Q,2),7);for(let re=0,je=0;re<C.truncDivision(G,2)-1;re+=15,je+=16)for(let Se=C.truncDivision(Q,2)&1;Se<Q;Se+=2)ae.set(C.truncDivision(Q,2)-je,Se),ae.set(C.truncDivision(Q,2)+je,Se),ae.set(Se,C.truncDivision(Q,2)-je),ae.set(Se,C.truncDivision(Q,2)+je)}let oe=new qm;return oe.setCompact(x),oe.setSize(Q),oe.setLayers(y),oe.setCodeWords(F),oe.setMatrix(ae),oe}static drawBullsEye(s,o,l){for(let u=0;u<l;u+=2)for(let d=o-u;d<=o+u;d++)s.set(d,o-u),s.set(d,o+u),s.set(o-u,d),s.set(o+u,d);s.set(o-l,o-l),s.set(o-l+1,o-l),s.set(o-l,o-l+1),s.set(o+l,o-l),s.set(o+l,o-l+1),s.set(o+l,o+l-1)}static generateModeMessage(s,o,l){let u=new L;return s?(u.appendBits(o-1,2),u.appendBits(l-1,6),u=Fe.generateCheckWords(u,28,4)):(u.appendBits(o-1,5),u.appendBits(l-1,11),u=Fe.generateCheckWords(u,40,4)),u}static drawModeMessage(s,o,l,u){let d=C.truncDivision(l,2);if(o)for(let f=0;f<7;f++){let x=d-3+f;u.get(f)&&s.set(x,d-5),u.get(f+7)&&s.set(d+5,x),u.get(20-f)&&s.set(x,d+5),u.get(27-f)&&s.set(d-5,x)}else for(let f=0;f<10;f++){let x=d-5+f+C.truncDivision(f,5);u.get(f)&&s.set(x,d-7),u.get(f+10)&&s.set(d+7,x),u.get(29-f)&&s.set(x,d+7),u.get(39-f)&&s.set(d-7,x)}}static generateCheckWords(s,o,l){let u=s.getSize()/l,d=new Mh(Fe.getGF(l)),f=C.truncDivision(o,l),x=Fe.bitsToWords(s,l,f);d.encode(x,f-u);let y=o%l,v=new L;v.appendBits(0,y);for(const S of Array.from(x))v.appendBits(S,l);return v}static bitsToWords(s,o,l){let u=new Int32Array(l),d,f;for(d=0,f=s.getSize()/o;d<f;d++){let x=0;for(let y=0;y<o;y++)x|=s.get(d*o+y)?1<<o-y-1:0;u[d]=x}return u}static getGF(s){switch(s){case 4:return ze.AZTEC_PARAM;case 6:return ze.AZTEC_DATA_6;case 8:return ze.AZTEC_DATA_8;case 10:return ze.AZTEC_DATA_10;case 12:return ze.AZTEC_DATA_12;default:throw new w("Unsupported word size "+s)}}static stuffBits(s,o){let l=new L,u=s.getSize(),d=(1<<o)-2;for(let f=0;f<u;f+=o){let x=0;for(let y=0;y<o;y++)(f+y>=u||s.get(f+y))&&(x|=1<<o-1-y);(x&d)===d?(l.appendBits(x&d,o),f--):x&d?l.appendBits(x,o):(l.appendBits(x|1,o),f--)}return l}static totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Fe.DEFAULT_EC_PERCENT=33,Fe.DEFAULT_AZTEC_LAYERS=0,Fe.MAX_NB_BITS=32,Fe.MAX_NB_BITS_COMPACT=4,Fe.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Xc{encode(s,o,l,u){return this.encodeWithHints(s,o,l,u,null)}encodeWithHints(s,o,l,u,d){let f=Rh.ISO_8859_1,x=Fe.DEFAULT_EC_PERCENT,y=Fe.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(Pt.CHARACTER_SET)&&(f=Ym.forName(d.get(Pt.CHARACTER_SET).toString())),d.has(Pt.ERROR_CORRECTION)&&(x=C.parseInt(d.get(Pt.ERROR_CORRECTION).toString())),d.has(Pt.AZTEC_LAYERS)&&(y=C.parseInt(d.get(Pt.AZTEC_LAYERS).toString()))),Xc.encodeLayers(s,o,l,u,f,x,y)}static encodeLayers(s,o,l,u,d,f,x){if(o!==xe.AZTEC)throw new w("Can only encode AZTEC, but got "+o);let y=Fe.encode($.getBytes(s,d),f,x);return Xc.renderResult(y,l,u)}static renderResult(s,o,l){let u=s.getMatrix();if(u==null)throw new Ti;let d=u.getWidth(),f=u.getHeight(),x=Math.max(o,d),y=Math.max(l,f),v=Math.min(x/d,y/f),S=(x-d*v)/2,I=(y-f*v)/2,R=new de(x,y);for(let F=0,H=I;F<f;F++,H+=v)for(let G=0,X=S;G<d;G++,X+=v)u.get(G,F)&&R.setRegion(X,H,v,v);return R}}n.AbstractExpandedDecoder=wh,n.ArgumentException=b,n.ArithmeticException=Lc,n.AztecCode=qm,n.AztecCodeReader=Pc,n.AztecCodeWriter=Xc,n.AztecDecoder=st,n.AztecDetector=Rm,n.AztecDetectorResult=Mm,n.AztecEncoder=Fe,n.AztecHighLevelEncoder=Yo,n.AztecPoint=fn,n.BarcodeFormat=xe,n.Binarizer=O,n.BinaryBitmap=E,n.BitArray=L,n.BitMatrix=de,n.BitSource=Sh,n.BrowserAztecCodeReader=pA,n.BrowserBarcodeReader=vA,n.BrowserCodeReader=dt,n.BrowserDatamatrixCodeReader=AA,n.BrowserMultiFormatReader=jA,n.BrowserPDF417Reader=LA,n.BrowserQRCodeReader=kA,n.BrowserQRCodeSvgWriter=Er,n.CharacterSetECI=U,n.ChecksumException=A,n.Code128Reader=ce,n.Code39Reader=kt,n.DataMatrixDecodedBitStreamParser=Es,n.DataMatrixReader=As,n.DecodeHintType=D,n.DecoderResult=jo,n.DefaultGridSampler=Dm,n.DetectorResult=Bc,n.EAN13Reader=xr,n.EncodeHintType=Pt,n.Exception=m,n.FormatException=k,n.GenericGF=ze,n.GenericGFPoly=wn,n.GlobalHistogramBinarizer=J,n.GridSampler=ph,n.GridSamplerInstance=ws,n.HTMLCanvasElementLuminanceSource=te,n.HybridBinarizer=se,n.ITFReader=et,n.IllegalArgumentException=w,n.IllegalStateException=Ti,n.InvertedLuminanceSource=Oe,n.LuminanceSource=me,n.MathUtils=Ue,n.MultiFormatOneDReader=ca,n.MultiFormatReader=Gm,n.MultiFormatWriter=PA,n.NotFoundException=Z,n.OneDReader=Rt,n.PDF417DecodedBitStreamParser=K,n.PDF417DecoderErrorCorrection=Pm,n.PDF417Reader=Jt,n.PDF417ResultMetadata=Fm,n.PerspectiveTransform=hi,n.PlanarYUVLuminanceSource=Mi,n.QRCodeByteMatrix=Yc,n.QRCodeDataMask=Qn,n.QRCodeDecodedBitStreamParser=yt,n.QRCodeDecoderErrorCorrectionLevel=rt,n.QRCodeDecoderFormatInformation=ln,n.QRCodeEncoder=lt,n.QRCodeEncoderQRCode=vr,n.QRCodeMaskUtil=At,n.QRCodeMatrixUtil=we,n.QRCodeMode=ye,n.QRCodeReader=Ss,n.QRCodeVersion=pe,n.QRCodeWriter=da,n.RGBLuminanceSource=Dh,n.RSS14Reader=Et,n.RSSExpandedReader=ne,n.ReaderException=Gc,n.ReedSolomonDecoder=ko,n.ReedSolomonEncoder=Mh,n.ReedSolomonException=ra,n.Result=ke,n.ResultMetadataType=Ht,n.ResultPoint=ge,n.StringUtils=$,n.UnsupportedOperationException=q,n.VideoInputDevice=be,n.WhiteRectangleDetector=Xi,n.WriterException=tt,n.ZXingArrays=_,n.ZXingCharset=Ym,n.ZXingInteger=C,n.ZXingStandardCharsets=Rh,n.ZXingStringBuilder=ie,n.ZXingStringEncoding=Y,n.ZXingSystem=M,n.createAbstractExpandedDecoder=km,Object.defineProperty(n,"__esModule",{value:!0})})})(o1,o1.exports);var ct=o1.exports;const cI=N1(ct),uI=XA({__proto__:null,default:cI},[ct]);var sy=function(){function e(t,n,i){if(this.formatMap=new Map([[fe.QR_CODE,ct.BarcodeFormat.QR_CODE],[fe.AZTEC,ct.BarcodeFormat.AZTEC],[fe.CODABAR,ct.BarcodeFormat.CODABAR],[fe.CODE_39,ct.BarcodeFormat.CODE_39],[fe.CODE_93,ct.BarcodeFormat.CODE_93],[fe.CODE_128,ct.BarcodeFormat.CODE_128],[fe.DATA_MATRIX,ct.BarcodeFormat.DATA_MATRIX],[fe.MAXICODE,ct.BarcodeFormat.MAXICODE],[fe.ITF,ct.BarcodeFormat.ITF],[fe.EAN_13,ct.BarcodeFormat.EAN_13],[fe.EAN_8,ct.BarcodeFormat.EAN_8],[fe.PDF_417,ct.BarcodeFormat.PDF_417],[fe.RSS_14,ct.BarcodeFormat.RSS_14],[fe.RSS_EXPANDED,ct.BarcodeFormat.RSS_EXPANDED],[fe.UPC_A,ct.BarcodeFormat.UPC_A],[fe.UPC_E,ct.BarcodeFormat.UPC_E],[fe.UPC_EAN_EXTENSION,ct.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!uI)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=i;var r=this.createZXingFormats(t),a=new Map;a.set(ct.DecodeHintType.POSSIBLE_FORMATS,r),a.set(ct.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(i,r){try{i(n.decode(t))}catch(a){r(a)}})},e.prototype.decode=function(t){var n=new ct.MultiFormatReader(this.verbose,this.hints),i=new ct.HTMLCanvasElementLuminanceSource(t),r=new ct.BinaryBitmap(new ct.HybridBinarizer(i)),a=n.decode(r);return{text:a.text,format:DE.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,r){t.set(n,i)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],i=0,r=t;i<r.length;i++){var a=r[i];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),dI=function(e,t,n,i){function r(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(b){try{m(i.next(b))}catch(w){c(w)}}function g(b){try{m(i.throw(b))}catch(w){c(w)}}function m(b){b.done?a(b.value):r(b.value).then(h,g)}m((i=i.apply(e,t||[])).next())})},hI=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(b){return g([m,b])}}function g(m){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(n=0)),n;)try{if(i=1,r&&(a=m[0]&2?r.return:m[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,m[1])).done)return a;switch(r=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,r=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(b){m=[6,b],r=0}finally{i=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},ry=function(){function e(t,n,i){if(this.formatMap=new Map([[fe.QR_CODE,"qr_code"],[fe.AZTEC,"aztec"],[fe.CODABAR,"codabar"],[fe.CODE_39,"code_39"],[fe.CODE_93,"code_93"],[fe.CODE_128,"code_128"],[fe.DATA_MATRIX,"data_matrix"],[fe.ITF,"itf"],[fe.EAN_13,"ean_13"],[fe.EAN_8,"ean_8"],[fe.PDF_417,"pdf417"],[fe.UPC_A,"upc_a"],[fe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=i;var r=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(r),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return dI(this,void 0,void 0,function(){var n,i;return hI(this,function(r){switch(r.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=r.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(n),[2,{text:i.rawValue,format:DE.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,i=0,r=0,a=t;r<a.length;r++){var c=a[r],h=c.boundingBox.width*c.boundingBox.height;h>i&&(i=h,n=c)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],i=0,r=t;i<r.length;i++){var a=r[i];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,r){t.set(n,i)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),ay=function(e,t,n,i){function r(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(b){try{m(i.next(b))}catch(w){c(w)}}function g(b){try{m(i.throw(b))}catch(w){c(w)}}function m(b){b.done?a(b.value):r(b.value).then(h,g)}m((i=i.apply(e,t||[])).next())})},oy=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(b){return g([m,b])}}function g(m){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(n=0)),n;)try{if(i=1,r&&(a=m[0]&2?r.return:m[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,m[1])).done)return a;switch(r=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,r=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(b){m=[6,b],r=0}finally{i=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},fI=function(){function e(t,n,i,r){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,n&&ry.isSupported()?(this.primaryDecoder=new ry(t,i,r),this.secondaryDecoder=new sy(t,i,r)):this.primaryDecoder=new sy(t,i,r)}return e.prototype.decodeAsync=function(t){return ay(this,void 0,void 0,function(){var n;return oy(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return ay(this,void 0,void 0,function(){var n,i;return oy(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,r.sent()];case 3:if(i=r.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw i;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,i=this.executionResults;n<i.length;n++){var r=i[n];t+=r}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Wg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cd=function(e,t,n,i){function r(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(b){try{m(i.next(b))}catch(w){c(w)}}function g(b){try{m(i.throw(b))}catch(w){c(w)}}function m(b){b.done?a(b.value):r(b.value).then(h,g)}m((i=i.apply(e,t||[])).next())})},Td=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(b){return g([m,b])}}function g(m){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(n=0)),n;)try{if(i=1,r&&(a=m[0]&2?r.return:m[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,m[1])).done)return a;switch(r=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,r=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(b){m=[6,b],r=0}finally{i=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},LE=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),gI=function(e){Wg(t,e);function t(n,i){return e.call(this,n,i)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var i={};i[this.name]=n;var r={advanced:[i]};return this.track.applyConstraints(r)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),i=n[this.name];return{min:i.min,max:i.max,step:i.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(LE),mI=function(e){Wg(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(gI),pI=function(e){Wg(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(LE),xI=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new mI(this.track)},e.prototype.torchFeature=function(){return new pI(this.track)},e}(),yI=function(){function e(t,n,i){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var i=t.surface.clientWidth,r=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(i,r),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,i,r){return Cd(this,void 0,void 0,function(){var a,c;return Td(this,function(h){switch(h.label){case 0:return a=new e(t,n,r),i.aspectRatio?(c={aspectRatio:i.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:h.sent(),h.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,i=function(){setTimeout(t,200),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Cd(this,void 0,void 0,function(){return Td(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,i){var r=t.mediaStream.getVideoTracks(),a=r.length,c=0;t.mediaStream.getVideoTracks().forEach(function(h){t.mediaStream.removeTrack(h),h.stop(),++c,c>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new xI(this.getFirstTrackOrFail())},e}(),bI=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,i){return Cd(this,void 0,void 0,function(){return Td(this,function(r){return[2,yI.create(t,this.mediaStream,n,i)]})})},e.create=function(t){return Cd(this,void 0,void 0,function(){var n,i;return Td(this,function(r){switch(r.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return i=r.sent(),[2,new e(i)]}})})},e}(),ly=function(e,t,n,i){function r(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(b){try{m(i.next(b))}catch(w){c(w)}}function g(b){try{m(i.throw(b))}catch(w){c(w)}}function m(b){b.done?a(b.value):r(b.value).then(h,g)}m((i=i.apply(e,t||[])).next())})},cy=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(b){return g([m,b])}}function g(m){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(n=0)),n;)try{if(i=1,r&&(a=m[0]&2?r.return:m[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,m[1])).done)return a;switch(r=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,r=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(b){m=[6,b],r=0}finally{i=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},wI=function(){function e(){}return e.failIfNotSupported=function(){return ly(this,void 0,void 0,function(){return cy(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return ly(this,void 0,void 0,function(){return cy(this,function(n){return[2,bI.create(t)]})})},e}(),vI=function(e,t,n,i){function r(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(b){try{m(i.next(b))}catch(w){c(w)}}function g(b){try{m(i.throw(b))}catch(w){c(w)}}function m(b){b.done?a(b.value):r(b.value).then(h,g)}m((i=i.apply(e,t||[])).next())})},EI=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(b){return g([m,b])}}function g(m){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(n=0)),n;)try{if(i=1,r&&(a=m[0]&2?r.return:m[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,m[1])).done)return a;switch(r=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,r=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(b){m=[6,b],r=0}finally{i=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},AI=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Fa.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Fa.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return vI(this,void 0,void 0,function(){var t,n,i,r,a,c,h;return EI(this,function(g){switch(g.label){case 0:return t=function(m){for(var b=m.getVideoTracks(),w=0,E=b;w<E.length;w++){var A=E[w];A.enabled=!1,A.stop(),m.removeTrack(A)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=g.sent(),r=[],a=0,c=i;a<c.length;a++)h=c[a],h.kind==="videoinput"&&r.push({id:h.deviceId,label:h.label});return t(n),[2,r]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var i=function(a){for(var c=[],h=0,g=a;h<g.length;h++){var m=g[h];m.kind==="video"&&c.push({id:m.id,label:m.label})}t(c)},r=MediaStreamTrack;r.getSources(i)})},e}(),St;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(St||(St={}));var SI=function(){function e(){this.state=St.NOT_STARTED,this.onGoingTransactionNewState=St.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===St.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=St.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===St.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=St.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==St.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case St.UNKNOWN:throw"Transition from unknown is not allowed";case St.NOT_STARTED:this.failIfNewStateIs(t,[St.PAUSED]);break;case St.SCANNING:break;case St.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var i=0,r=n;i<r.length;i++){var a=r[i];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),CI=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===St.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==St.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===St.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===St.PAUSED},e}(),TI=function(){function e(){}return e.create=function(){return new CI(new SI)},e}(),_I=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pn=function(e){_I(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(bi),NI=function(){function e(t,n){this.logger=n,this.fps=Pn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Pn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?jE.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ji(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),uy=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var i;typeof n=="boolean"?this.verbose=n===!0:n&&(i=n,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new OE(this.verbose),this.qrcode=new fI(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=TI.create()}return e.prototype.start=function(t,n,i,r){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;r?c=r:c=this.verbose?this.logger.log:function(){};var h=NI.create(n,this.logger);this.clearElement();var g=!1;h.videoConstraints&&(h.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=g,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:Pn.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var w=this,E=this.stateManagerProxy.startTransition(St.SCANNING);return new Promise(function(A,O){var M=m?h.videoConstraints:w.createVideoConstraints(t);if(!M){E.cancel(),O("videoConstraints should be defined");return}var P={};(!m||h.aspectRatio)&&(P.aspectRatio=h.aspectRatio);var T={onRenderSurfaceReady:function(_,C){w.setupUi(_,C,h),w.isScanning=!0,w.foreverScan(h,i,c)}};wI.failIfNotSupported().then(function(_){_.create(M).then(function(C){return C.render(a.element,P,T).then(function(L){w.renderedCamera=L,E.execute(),A(null)}).catch(function(L){E.cancel(),O(L)})}).catch(function(C){E.cancel(),O(Fa.errorGettingUserMedia(C))})}).catch(function(_){E.cancel(),O(Fa.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(St.PAUSED),this.showPausedState(),(ji(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(St.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(St.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(t.element){var a=document.getElementById(Pn.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},r=this;return this.renderedCamera.close().then(function(){return r.renderedCamera=null,r.element&&(r.element.removeChild(r.canvasElement),r.canvasElement=null),i(),r.qrRegion&&(r.qrRegion=null),r.context&&(r.context=null),n.execute(),r.hidePausedState(),r.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(i){return i.decodedText})},e.prototype.scanFileV2=function(t,n){var i=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ji(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(r,a){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var h=c.width,g=c.height,m=document.getElementById(i.elementId),b=m.clientWidth?m.clientWidth:Pn.DEFAULT_WIDTH,w=Math.max(m.clientHeight?m.clientHeight:g,Pn.FILE_SCAN_MIN_HEIGHT),E=i.computeCanvasDrawConfig(h,g,b,w);if(n){var A=i.createCanvasElement(b,w,"qr-canvas-visible");A.style.display="inline-block",m.appendChild(A);var O=A.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=b,O.canvas.height=w,O.drawImage(c,0,0,h,g,E.x,E.y,E.width,E.height)}var M=Pn.FILE_SCAN_HIDDEN_CANVAS_PADDING,P=Math.max(c.width,E.width),T=Math.max(c.height,E.height),_=P+2*M,C=T+2*M,L=i.createCanvasElement(_,C);m.appendChild(L);var z=L.getContext("2d");if(!z)throw"Unable to get 2d context from canvas";z.canvas.width=_,z.canvas.height=C,z.drawImage(c,0,0,h,g,M,M,P,T);try{i.qrcode.decodeRobustlyAsync(L).then(function(D){r(ny.createFromQrcodeResult(D))}).catch(a)}catch(D){a("QR code parse error, error = ".concat(D))}},c.onerror=a,c.onabort=a,c.onstalled=a,c.onsuspend=a,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return AI.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!jE.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[fe.QR_CODE,fe.AZTEC,fe.CODABAR,fe.CODE_39,fe.CODE_93,fe.CODE_128,fe.DATA_MATRIX,fe.MAXICODE,fe.ITF,fe.EAN_13,fe.EAN_8,fe.PDF_417,fe.RSS_14,fe.RSS_EXPANDED,fe.UPC_A,fe.UPC_E,fe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],r=0,a=t.formatsToSupport;r<a.length;r++){var c=a[r];oI(c)?i.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ji(t))return!0;if(!ji(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ji(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return ji(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,i){var r=this,a=i.qrbox;this.validateQrboxConfig(a);var c=this.toQrdimensions(t,n,a),h=function(m){if(m<Pn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Pn.MIN_QR_BOX_SIZE,"px.")},g=function(m){return m>t&&(r.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=t),m};h(c.width),h(c.height),c.width=g(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(t,n)}catch(r){throw new Error("qrbox config was passed as a function but it failed with unknown error"+r)}return i},e.prototype.setupUi=function(t,n,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,i);var r=ji(i.qrbox)?{width:t,height:n}:i.qrbox;this.validateQrboxConfig(r);var a=this.toQrdimensions(t,n,r);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=i.isShadedBoxEnabled()&&a.height<=n,h={x:0,y:0,width:t,height:n},g=c?this.getShadedRegionBounds(t,n,a):h,m=this.createCanvasElement(g.width,g.height),b={willReadFrequently:!0},w=m.getContext("2d",b);w.canvas.width=g.width,w.canvas.height=g.height,this.element.append(m),c&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=w,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Fa.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(r){return t(r.text,ny.createFromQrcodeResult(r)),i.possiblyUpdateShaders(!0),!0}).catch(function(r){i.possiblyUpdateShaders(!1);var a=Fa.codeParseError(r);return n(a,RE.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,i){var r=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),c=a.videoWidth/a.clientWidth,h=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*c,m=this.qrRegion.height*h,b=this.qrRegion.x*c,w=this.qrRegion.y*h;this.context.drawImage(a,b,w,g,m,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){r.foreverScanTimeout=setTimeout(function(){r.foreverScan(t,n,i)},r.getTimeoutFps(t.fps))};this.scanContext(n,i).then(function(A){!A&&t.disableFlip!==!0?(r.context.translate(r.context.canvas.width,0),r.context.scale(-1,1),r.scanContext(n,i).finally(function(){E()})):E()}).catch(function(A){r.logger.logError("Error happend while scanning context",A),E()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",i="deviceId",r={user:!0,environment:!0},a="exact",c=function(O){if(O in r)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(O,"'")},h=Object.keys(t);if(h.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(h.length," keys");var g=Object.keys(t)[0];if(g!==n&&g!==i)throw"Only '".concat(n,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(g===n){var m=t.facingMode;if(typeof m=="string"){if(c(m))return{facingMode:m}}else if(typeof m=="object")if(a in m){if(c(m["".concat(a)]))return{facingMode:{exact:m["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var b=typeof m;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var w=t.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(a in w)return{deviceId:{exact:w["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var E=typeof w;throw"Invalid type of 'deviceId' = ".concat(E)}}}var A=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(A)},e.prototype.computeCanvasDrawConfig=function(t,n,i,r){if(t<=i&&n<=r){var a=(i-t)/2,c=(r-n)/2;return{x:a,y:c,width:t,height:n}}else{var h=t,g=n;return t>i&&(n=i/t*n,t=i),n>r&&(t=r/n*t,n=r),this.logger.log("Image downsampled from "+"".concat(h,"X").concat(g)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,i,r)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Pn.BORDER_SHADER_MATCH_COLOR:Pn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,i){var r=t,a=n,c=document.createElement("canvas");return c.style.width="".concat(r,"px"),c.style.height="".concat(a,"px"),c.style.display="none",c.id=ji(i)?"qr-canvas":i,c},e.prototype.getShadedRegionBounds=function(t,n,i){if(i.width>t||i.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-i.width)/2,y:(n-i.height)/2,width:i.width,height:i.height}},e.prototype.possiblyInsertShadingElement=function(t,n,i,r){if(!(n-r.width<1||i-r.height<1)){var a=document.createElement("div");a.style.position="absolute";var c=(n-r.width)/2,h=(i-r.height)/2;if(a.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Pn.SHADED_REGION_ELEMENT_ID),n-r.width<11||i-r.height<11)this.hasBorderShaders=!1;else{var g=5,m=40;this.insertShaderBorders(a,m,g,-g,null,0,!0),this.insertShaderBorders(a,m,g,-g,null,0,!1),this.insertShaderBorders(a,m,g,null,-g,0,!0),this.insertShaderBorders(a,m,g,null,-g,0,!1),this.insertShaderBorders(a,g,m+g,-g,null,-g,!0),this.insertShaderBorders(a,g,m+g,null,-g,-g,!0),this.insertShaderBorders(a,g,m+g,-g,null,-g,!1),this.insertShaderBorders(a,g,m+g,null,-g,-g,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,i,r,a,c,h){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=Pn.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(n,"px"),g.style.height="".concat(i,"px"),r!==null&&(g.style.top="".concat(r,"px")),a!==null&&(g.style.bottom="".concat(a,"px")),h?g.style.left="".concat(c,"px"):g.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),t.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Zg="data:image/svg+xml;base64,",II=Zg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",MI=Zg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",dy=Zg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",DI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",hy=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),RI=function(){function e(){this.data=hy.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=hy.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),OI=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=iy.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var i=document.createElement("br"),r=document.createElement("br");this.infoDiv.appendChild(i),this.infoDiv.appendChild(r);var a=document.createElement("a");a.innerText=iy.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),jI=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=dy,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(i){return n.onHoverIn()},this.infoIcon.onmouseout=function(i){return n.onHoverOut()},this.infoIcon.onclick=function(i){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=DI,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=dy,this.infoIcon.style.opacity="0.6")},e}(),LI=function(){function e(){var t=this;this.infoDiv=new OI,this.infoIcon=new jI(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),kI=function(e,t,n,i){function r(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(b){try{m(i.next(b))}catch(w){c(w)}}function g(b){try{m(i.throw(b))}catch(w){c(w)}}function m(b){b.done?a(b.value):r(b.value).then(h,g)}m((i=i.apply(e,t||[])).next())})},BI=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(b){return g([m,b])}}function g(m){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(n=0)),n;)try{if(i=1,r&&(a=m[0]&2?r.return:m[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,m[1])).done)return a;switch(r=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,r=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(b){m=[6,b],r=0}finally{i=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},fy=function(){function e(){}return e.hasPermissions=function(){return kI(this,void 0,void 0,function(){var t,n,i,r;return BI(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=a.sent(),n=0,i=t;n<i.length;n++)if(r=i[n],r.kind==="videoinput"&&r.label)return[2,!0];return[2,!1]}})})},e}(),Ms=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var i=n[t];if(e.isCameraScanType(i))return!0}return!1},e.isCameraScanType=function(t){return t===lr.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===lr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return bi.DEFAULT_SUPPORTED_SCAN_TYPE;var n=bi.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var i=0,r=t;i<r.length;i++){var a=r[i];if(!bi.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return t},e}(),Hn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),as=function(){function e(){}return e.createElement=function(t,n){var i=document.createElement(t);return i.id=n,i.classList.add(Hn.ALL_ELEMENT_CLASS),t==="button"&&i.setAttribute("type","button"),i},e}(),kE=function(e,t,n,i){function r(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(b){try{m(i.next(b))}catch(w){c(w)}}function g(b){try{m(i.throw(b))}catch(w){c(w)}}function m(b){b.done?a(b.value):r(b.value).then(h,g)}m((i=i.apply(e,t||[])).next())})},BE=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(b){return g([m,b])}}function g(m){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(n=0)),n;)try{if(i=1,r&&(a=m[0]&2?r.return:m[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,m[1])).done)return a;switch(r=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,r=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(b){m=[6,b],r=0}finally{i=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},gy=function(){function e(t,n,i){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=i}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return kE(this,void 0,void 0,function(){var t,n;return BE(this,function(i){switch(i.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return i.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=i.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Ze.torchOffButton():Ze.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var i=t?Ze.torchOnFailedMessage():Ze.torchOffFailedMessage();n&&(i+="; Error = "+n),this.onTorchActionFailureCallback(i)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),PI=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=as.createElement("button",Hn.TORCH_BUTTON_ID),this.torchController=new gy(t,this,n)}return e.prototype.render=function(t,n){var i=this;this.torchButton.innerText=Ze.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var r=this;this.torchButton.addEventListener("click",function(a){return kE(i,void 0,void 0,function(){return BE(this,function(c){switch(c.label){case 0:return[4,r.torchController.flipState()];case 1:return c.sent(),r.torchController.isTorchEnabled()?(r.torchButton.classList.remove(Hn.TORCH_BUTTON_CLASS_TORCH_OFF),r.torchButton.classList.add(Hn.TORCH_BUTTON_CLASS_TORCH_ON)):(r.torchButton.classList.remove(Hn.TORCH_BUTTON_CLASS_TORCH_ON),r.torchButton.classList.add(Hn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new gy(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Ze.torchOnButton(),this.torchController.reset()},e.create=function(t,n,i,r){var a=new e(n,r);return a.render(t,i),a},e}(),UI=function(){function e(t,n,i){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var r=document.createElement("label");r.setAttribute("for",this.getFileScanInputId()),r.style.display="inline-block",this.fileBasedScanRegion.appendChild(r),this.fileSelectionButton=as.createElement("button",Hn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(h){r.click()}),r.append(this.fileSelectionButton),this.fileScanInput=as.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",r.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(h){if(!(h==null||h.target==null)){var g=h.target;if(!(g.files&&g.files.length===0)){var m=g.files,b=m[0],w=b.name;a.setImageNameToButton(w),i(b)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(h){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(h){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(h){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(h){h.stopPropagation(),h.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var g=h.dataTransfer;if(g){var m=g.files;if(!m||m.length===0)return;for(var b=!1,w=0;w<m.length;++w){var E=m.item(w);if(E){var A=/image.*/;if(E.type.match(A)){b=!0;var O=E.name;a.setImageNameToButton(O),i(E),c.innerText=Ze.dragAndDropMessage();break}}}b||(c.innerText=Ze.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Ze.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var i=t.substring(0,8),r=t.length,a=t.substring(r-8,r);t="".concat(i,"....").concat(a)}var c=Ze.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=c},e.prototype.setInitialValueToButton=function(){var t=Ze.fileSelectionChooseImage()+" - "+Ze.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,i){var r=new e(t,n,i);return r},e}(),FI=function(){function e(t){this.selectElement=as.createElement("select",Hn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var i=this.cameras.length;if(i===0)throw new Error("No cameras found");if(i===1)n.style.display="none";else{var r=Ze.selectCamera();n.innerText="".concat(r," (").concat(this.cameras.length,")  ")}for(var a=1,c=0,h=this.cameras;c<h.length;c++){var g=h[c],m=g.id,b=g.label==null?m:g.label;(!b||b==="")&&(b=[Ze.anonymousCameraPrefix(),a++].join(" "));var w=document.createElement("option");w.value=m,w.innerText=b,this.options.push(w),this.selectElement.appendChild(w)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,i=this.options;n<i.length;n++){var r=i[n];if(r.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var i=new e(n);return i.render(t),i},e}(),VI=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=as.createElement("input",Hn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var i=Ze.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(i),this.rangeText.style.marginRight="10px";var r=this;this.rangeInput.addEventListener("input",function(){return r.onValueChange()}),this.rangeInput.addEventListener("change",function(){return r.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Ze.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,i,r){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=r.toString(),this.rangeInput.value=i.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var i=new e;return i.render(t,n),i},e}(),Un;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Un||(Un={}));function zI(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function HI(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var GI=function(){function e(t,n,i){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=i===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Ms(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new OE(this.verbose),this.persistedDataManager=new RI,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var i=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,c){if(t)t(a,c);else{if(i.lastMatchFound===a)return;i.lastMatchFound=a,i.setHeaderMessage(Ze.lastMatch(a),Un.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,c){n&&n(a,c)};var r=document.getElementById(this.elementId);if(!r)throw"HTML Element with id=".concat(this.elementId," not found");r.innerHTML="",this.createBasicLayout(r),this.html5Qrcode=new uy(this.getScanRegionId(),HI(this.config,this.verbose))},e.prototype.pause=function(t){(ji(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var i=document.getElementById(t.elementId);i&&(i.innerHTML="",t.resetBasicLayout(i))};return this.html5Qrcode?new Promise(function(i,r){if(!t.html5Qrcode){i();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(a){if(!t.html5Qrcode){i();return}t.html5Qrcode.clear(),n(),i()}).catch(function(a){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",a),r(a)}):(t.html5Qrcode.clear(),n(),i())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=bi.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!bi.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=bi.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=bi.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:bi.SCAN_DEFAULT_FPS,rememberLastUsedCamera:bi.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:bi.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),i=this.getScanRegionId();n.id=i,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Ms.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var r=document.createElement("div"),a=this.getDashboardId();r.id=a,r.style.width="100%",t.appendChild(r),this.setupInitialDashboard(r)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var i=new LI;i.renderInto(n);var r=document.createElement("div");r.id=this.getHeaderMessageContainerId(),r.style.display="none",r.style.textAlign="center",r.style.fontSize="14px",r.style.padding="2px 10px",r.style.margin="4px",r.style.borderTop="1px solid #f6f6f6",n.appendChild(r)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,i){var r=this;r.showHideScanTypeSwapLink(!1),r.setHeaderMessage(Ze.cameraPermissionRequesting());var a=function(){i||r.createPermissionButton(t,n)};uy.getCameras().then(function(c){r.persistedDataManager.setHasPermission(!0),r.showHideScanTypeSwapLink(!0),r.resetHeaderMessage(),c&&c.length>0?(t.removeChild(n),r.renderCameraSelection(c)):(r.setHeaderMessage(Ze.noCameraFound(),Un.STATUS_WARNING),a())}).catch(function(c){r.persistedDataManager.setHasPermission(!1),i?i.disabled=!1:a(),r.setHeaderMessage(c,Un.STATUS_WARNING),r.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var i=this,r=as.createElement("button",this.getCameraPermissionButtonId());r.innerText=Ze.cameraPermissionTitle(),r.addEventListener("click",function(){r.disabled=!0,i.createCameraListUi(t,n,r)}),n.appendChild(r)},e.prototype.createPermissionsUi=function(t,n){var i=this;if(Ms.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){fy.hasPermissions().then(function(r){r?i.createCameraListUi(t,n):(i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(t,n))}).catch(function(r){i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var i=document.createElement("div");i.id=this.getDashboardSectionCameraScanRegionId(),i.style.display=Ms.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(i);var r=document.createElement("div");r.style.textAlign="center",i.appendChild(r),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(i,r),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Ms.isFileScanType(this.currentScanType),i=this,r=function(a){if(!i.html5Qrcode)throw"html5Qrcode not defined";Ms.isFileScanType(i.currentScanType)&&(i.setHeaderMessage(Ze.loadingImage()),i.html5Qrcode.scanFileV2(a,!0).then(function(c){i.resetHeaderMessage(),i.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){i.setHeaderMessage(c,Un.STATUS_WARNING),i.qrCodeErrorCallback(c,RE.createFrom(c))}))};this.fileSelectionUi=UI.create(t,n,r)},e.prototype.renderCameraSelection=function(t){var n=this,i=this,r=document.getElementById(this.getDashboardSectionCameraScanRegionId());r.style.textAlign="center";var a=VI.create(r,!1),c=function(M){var P=M.zoomFeature();if(P.isSupported()){a.setOnCameraZoomValueChangeCallback(function(_){P.apply(_)});var T=1;n.config.defaultZoomValueIfSupported&&(T=n.config.defaultZoomValueIfSupported),T=lI(T,P.min(),P.max()),a.setValues(P.min(),P.max(),T,P.step()),a.show()}},h=FI.create(r,t),g=document.createElement("span"),m=as.createElement("button",Hn.CAMERA_START_BUTTON_ID);m.innerText=Ze.scanButtonStartScanningText(),g.appendChild(m);var b=as.createElement("button",Hn.CAMERA_STOP_BUTTON_ID);b.innerText=Ze.scanButtonStopScanningText(),b.style.display="none",b.disabled=!0,g.appendChild(b);var w,E=function(M){if(!M.torchFeature().isSupported()){w&&w.hide();return}w?w.updateTorchCapability(M.torchFeature()):w=PI.create(g,M.torchFeature(),{display:"none",marginLeft:"5px"},function(P){i.setHeaderMessage(P,Un.STATUS_WARNING)}),w.show()};r.appendChild(g);var A=function(M){M||(m.style.display="none"),m.innerText=Ze.scanButtonStartScanningText(),m.style.opacity="1",m.disabled=!1,M&&(m.style.display="inline-block")};if(m.addEventListener("click",function(M){m.innerText=Ze.scanButtonScanningStarting(),h.disable(),m.disabled=!0,m.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!1),i.resetHeaderMessage();var P=h.getValue();i.persistedDataManager.setLastUsedCameraId(P),i.html5Qrcode.start(P,zI(i.config),i.qrCodeSuccessCallback,i.qrCodeErrorCallback).then(function(T){b.disabled=!1,b.style.display="inline-block",A(!1);var _=i.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&E(_),n.config.showZoomSliderIfSupported===!0&&c(_)}).catch(function(T){i.showHideScanTypeSwapLink(!0),h.enable(),A(!0),i.setHeaderMessage(T,Un.STATUS_WARNING)})}),h.hasSingleItem()&&m.click(),b.addEventListener("click",function(M){if(!i.html5Qrcode)throw"html5Qrcode not defined";b.disabled=!0,i.html5Qrcode.stop().then(function(P){n.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!0),h.enable(),m.disabled=!1,b.style.display="none",m.style.display="inline-block",w&&(w.reset(),w.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),i.insertCameraScanImageToScanRegion()}).catch(function(P){b.disabled=!1,i.setHeaderMessage(P,Un.STATUS_WARNING)})}),i.persistedDataManager.getLastUsedCameraId()){var O=i.persistedDataManager.getLastUsedCameraId();h.hasValue(O)?(h.setValue(O),m.click()):i.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Ze.textIfCameraScanSelected(),i=Ze.textIfFileScanSelected(),r=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var c=as.createElement("span",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.style.cursor="pointer",c.innerText=Ms.isCameraScanType(this.currentScanType)?n:i,c.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Ms.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),c.innerText=i,t.currentScanType=lr.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),c.innerText=n,t.currentScanType=lr.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),a.appendChild(c),r.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){fy.hasPermissions().then(function(i){if(i){var r=document.getElementById(n.getCameraPermissionButtonId());if(!r)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";r.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(i){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=Un.STATUS_DEFAULT);var i=this.getHeaderMessageDiv();switch(i.innerText=t,i.style.display="block",n){case Un.STATUS_SUCCESS:i.style.background="rgba(106, 175, 80, 0.26)",i.style.color="#477735";break;case Un.STATUS_WARNING:i.style.background="rgba(203, 36, 49, 0.14)",i.style.color="#cb2431";break;case Un.STATUS_DEFAULT:default:i.style.background="rgba(0, 0, 0, 0)",i.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(i){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=II,this.cameraScanImage.alt=Ze.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(i){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=MI,this.fileScanImage.alt=Ze.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Hn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Hn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function YI(){const[e,t]=j.useState([]),[n,i]=j.useState(""),[r,a]=j.useState(!1),[c,h]=j.useState(""),[g,m]=j.useState([]),[b,w]=j.useState({total:0,checkedIn:0}),E=j.useRef(null),[A,O]=j.useState("");j.useEffect(()=>{M()},[]),j.useEffect(()=>{n&&(T(),_(),P())},[n]),j.useEffect(()=>()=>{E.current&&E.current.clear()},[]);const M=async()=>{try{const{data:V,error:U}=await ue.from("events").select(`
          id,
          name,
          registration_qr,
          company:companies(name)
        `).order("created_at",{ascending:!1});if(U)throw U;const q=(V==null?void 0:V.map(Y=>({...Y,company:Array.isArray(Y.company)?Y.company[0]:Y.company})))||[];t(q)}catch(V){le.error("Error fetching events: "+V.message)}},P=async()=>{try{const V=`${window.location.origin}/admin/checkin?event=${n}`,U=await Yi.toDataURL(V,{width:200,margin:2,errorCorrectionLevel:"M"});O(U)}catch(V){console.error("Error generating QR code:",V)}},T=async()=>{try{const{data:V,error:U}=await ue.from("attendees").select("id, checked_in").eq("event_id",n);if(U)throw U;w({total:V.length,checkedIn:V.filter(q=>q.checked_in).length})}catch(V){console.error("Error fetching stats:",V)}},_=async()=>{try{const{data:V,error:U}=await ue.from("attendees").select(`
          id,
          name,
          identification_number,
          staff_id,
          check_in_time,
          event:events(name)
        `).eq("event_id",n).eq("checked_in",!0).order("check_in_time",{ascending:!1}).limit(10);if(U)throw U;m(V)}catch(V){console.error("Error fetching recent check-ins:",V)}},C=()=>{if(!n){le.error("Please select an event first");return}a(!0);const V=new GI("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1,disableFlip:!1},!1);V.render(U=>{z(U),V.clear(),a(!1)},U=>{console.log("QR scan error:",U)}),E.current=V},L=()=>{E.current&&(E.current.clear(),E.current=null),a(!1)},z=async V=>{try{const U=await D(V);U.success?(le.success(U.message),T(),_()):le.error(U.message)}catch(U){le.error("Error processing check-in: "+U.message)}},D=async V=>{try{if(V.includes("|")){const U=V.split("|");if(U.length!==3)return{success:!1,message:"Invalid QR code format"};const q=U[0],{data:Y,error:$}=await ue.from("attendees").select(`
            id,
            name,
            identification_number,
            staff_id,
            checked_in,
            event_id,
            event:events(name)
          `).eq("id",q).single();if($||!Y)return{success:!1,message:"Attendee not found"};if(Y.event_id!==n)return{success:!1,message:"This ticket is not valid for the selected event"};if(Y.checked_in)return{success:!1,message:`${Y.name} is already checked in`};const{error:ie}=await ue.from("attendees").update({checked_in:!0,check_in_time:new Date().toISOString()}).eq("id",Y.id);if(ie)throw ie;return{success:!0,attendee:Y,message:`${Y.name} checked in successfully!`}}else{const{data:U,error:q}=await ue.from("attendees").select(`
            id,
            name,
            identification_number,
            staff_id,
            checked_in,
            event_id,
            event:events(name)
          `).eq("event_id",n).or(`identification_number.eq.${V},staff_id.eq.${V}`);if(q)throw q;if(!U||U.length===0)return{success:!1,message:"No attendee found with this ID"};const Y=U[0];if(Y.checked_in)return{success:!1,message:`${Y.name} is already checked in`};const{error:$}=await ue.from("attendees").update({checked_in:!0,check_in_time:new Date().toISOString()}).eq("id",Y.id);if($)throw $;return{success:!0,attendee:Y,message:`${Y.name} checked in successfully!`}}}catch(U){return{success:!1,message:"Error processing check-in: "+U.message}}},k=async V=>{if(V.preventDefault(),!c.trim())return;const U=await D(c);U.success?(le.success(U.message),h(""),T(),_()):le.error(U.message)};return p.jsxs("div",{children:[p.jsx("div",{className:"flex justify-between items-center mb-8",children:p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Check-In System"}),p.jsx("p",{className:"text-gray-600 mt-2",children:"Scan QR codes to check in attendees"})]})}),p.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Event"}),p.jsxs("select",{value:n,onChange:V=>i(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"",children:"Choose an event to start check-in"}),e.map(V=>p.jsxs("option",{value:V.id,children:[V.name," (",V.company.name,")"]},V.id))]})]}),n&&p.jsx("div",{className:"flex items-end",children:p.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 w-full",children:[p.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Check-in Progress"}),p.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[b.checkedIn," / ",b.total]}),p.jsxs("div",{className:"text-sm text-blue-600",children:[b.total>0?Math.round(b.checkedIn/b.total*100):0,"% complete"]})]})})]})}),n&&p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[p.jsx(vd,{className:"h-6 w-6 mr-2"}),"Camera Scanner"]}),p.jsxs("div",{className:"space-y-4",children:[r?p.jsxs("div",{children:[p.jsx("div",{id:"qr-reader",className:"w-full"}),p.jsx("button",{onClick:L,className:"w-full mt-4 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"Stop Scanner"})]}):p.jsxs("div",{children:[p.jsxs("button",{onClick:C,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[p.jsx(vd,{className:"h-5 w-5 mr-2"}),"Start Camera Scanner"]}),p.jsx("p",{className:"text-sm text-gray-600 mt-2 text-center",children:"Click to activate camera and scan QR codes"})]}),p.jsxs("div",{className:"border-t pt-4",children:[p.jsx("h3",{className:"font-medium mb-2",children:"Manual ID Entry"}),p.jsxs("form",{onSubmit:k,className:"space-y-3",children:[p.jsx("input",{type:"text",value:c,onChange:V=>h(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter ID number or Staff ID"}),p.jsxs("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",children:[p.jsx(u5,{className:"h-4 w-4 mr-2"}),"Check In"]})]})]})]})]}),A&&p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[p.jsx(Qr,{className:"h-6 w-6 mr-2"}),"Event QR Code"]}),p.jsxs("div",{className:"text-center",children:[p.jsx("img",{src:A,alt:"Event QR Code",className:"w-48 h-48 mx-auto border border-gray-200 rounded-lg mb-3"}),p.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Event Check-in QR Code"}),p.jsx("p",{className:"text-xs text-gray-500",children:"Share this QR code for quick access to check-in"})]})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 lg:col-span-2",children:[p.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[p.jsx(Rn,{className:"h-6 w-6 mr-2"}),"Recent Check-ins"]}),p.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[g.map(V=>p.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-lg",children:[p.jsx(nr,{className:"h-5 w-5 text-green-600 mr-3"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"font-medium text-gray-900",children:V.name}),p.jsxs("div",{className:"text-sm text-gray-600",children:["ID: ",V.identification_number]}),V.staff_id&&p.jsxs("div",{className:"text-sm text-gray-600",children:["Staff: ",V.staff_id]}),p.jsx("div",{className:"text-xs text-gray-500",children:new Date(V.check_in_time).toLocaleTimeString()})]})]},V.id)),g.length===0&&p.jsxs("div",{className:"text-center py-8 text-gray-500",children:[p.jsx(Rn,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),p.jsx("p",{children:"No check-ins yet"})]})]})]})]}),!n&&p.jsxs("div",{className:"text-center py-12",children:[p.jsx(Qr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select an Event"}),p.jsx("p",{className:"text-gray-600",children:"Choose an event from the dropdown above to start checking in attendees"})]})]})}const Kg=j.createContext({});function Qg(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const $g=typeof window<"u",PE=$g?j.useLayoutEffect:j.useEffect,dh=j.createContext(null);function Jg(e,t){e.indexOf(t)===-1&&e.push(t)}function em(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ps=(e,t,n)=>n>t?t:n<e?e:n;let tm=()=>{};const xs={},UE=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function FE(e){return typeof e=="object"&&e!==null}const VE=e=>/^0[^.\s]+$/u.test(e);function nm(e){let t;return()=>(t===void 0&&(t=e()),t)}const ci=e=>e,qI=(e,t)=>n=>t(e(n)),Dc=(...e)=>e.reduce(qI),$l=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class im{constructor(){this.subscriptions=[]}add(t){return Jg(this.subscriptions,t),()=>em(this.subscriptions,t)}notify(t,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,i);else for(let a=0;a<r;a++){const c=this.subscriptions[a];c&&c(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fi=e=>e*1e3,Vi=e=>e/1e3;function zE(e,t){return t?e*(1e3/t):0}const HE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,XI=1e-7,WI=12;function ZI(e,t,n,i,r){let a,c,h=0;do c=t+(n-t)/2,a=HE(c,i,r)-e,a>0?n=c:t=c;while(Math.abs(a)>XI&&++h<WI);return c}function Rc(e,t,n,i){if(e===t&&n===i)return ci;const r=a=>ZI(a,0,1,e,n);return a=>a===0||a===1?a:HE(r(a),t,i)}const GE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,YE=e=>t=>1-e(1-t),qE=Rc(.33,1.53,.69,.99),sm=YE(qE),XE=GE(sm),WE=e=>(e*=2)<1?.5*sm(e):.5*(2-Math.pow(2,-10*(e-1))),rm=e=>1-Math.sin(Math.acos(e)),ZE=YE(rm),KE=GE(rm),KI=Rc(.42,0,1,1),QI=Rc(0,0,.58,1),QE=Rc(.42,0,.58,1),$I=e=>Array.isArray(e)&&typeof e[0]!="number",$E=e=>Array.isArray(e)&&typeof e[0]=="number",JI={linear:ci,easeIn:KI,easeInOut:QE,easeOut:QI,circIn:rm,circInOut:KE,circOut:ZE,backIn:sm,backInOut:XE,backOut:qE,anticipate:WE},eM=e=>typeof e=="string",my=e=>{if($E(e)){tm(e.length===4);const[t,n,i,r]=e;return Rc(t,n,i,r)}else if(eM(e))return JI[e];return e},pu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tM(e,t){let n=new Set,i=new Set,r=!1,a=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function g(b){c.has(b)&&(m.schedule(b),e()),b(h)}const m={schedule:(b,w=!1,E=!1)=>{const O=E&&r?n:i;return w&&c.add(b),O.has(b)||O.add(b),b},cancel:b=>{i.delete(b),c.delete(b)},process:b=>{if(h=b,r){a=!0;return}r=!0,[n,i]=[i,n],n.forEach(g),n.clear(),r=!1,a&&(a=!1,m.process(b))}};return m}const nM=40;function JE(e,t){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,c=pu.reduce((C,L)=>(C[L]=tM(a),C),{}),{setup:h,read:g,resolveKeyframes:m,preUpdate:b,update:w,preRender:E,render:A,postRender:O}=c,M=()=>{const C=xs.useManualTiming?r.timestamp:performance.now();n=!1,xs.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(C-r.timestamp,nM),1)),r.timestamp=C,r.isProcessing=!0,h.process(r),g.process(r),m.process(r),b.process(r),w.process(r),E.process(r),A.process(r),O.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(M))},P=()=>{n=!0,i=!0,r.isProcessing||e(M)};return{schedule:pu.reduce((C,L)=>{const z=c[L];return C[L]=(D,k=!1,V=!1)=>(n||P(),z.schedule(D,k,V)),C},{}),cancel:C=>{for(let L=0;L<pu.length;L++)c[pu[L]].cancel(C)},state:r,steps:c}}const{schedule:pt,cancel:cr,state:tn,steps:Of}=JE(typeof requestAnimationFrame<"u"?requestAnimationFrame:ci,!0);let ku;function iM(){ku=void 0}const Dn={now:()=>(ku===void 0&&Dn.set(tn.isProcessing||xs.useManualTiming?tn.timestamp:performance.now()),ku),set:e=>{ku=e,queueMicrotask(iM)}},e3=e=>t=>typeof t=="string"&&t.startsWith(e),am=e3("--"),sM=e3("var(--"),om=e=>sM(e)?rM.test(e.split("/*")[0].trim()):!1,rM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Do={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Jl={...Do,transform:e=>ps(0,1,e)},xu={...Do,default:1},Il=e=>Math.round(e*1e5)/1e5,lm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function aM(e){return e==null}const oM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cm=(e,t)=>n=>!!(typeof n=="string"&&oM.test(n)&&n.startsWith(e)||t&&!aM(n)&&Object.prototype.hasOwnProperty.call(n,t)),t3=(e,t,n)=>i=>{if(typeof i!="string")return i;const[r,a,c,h]=i.match(lm);return{[e]:parseFloat(r),[t]:parseFloat(a),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},lM=e=>ps(0,255,e),jf={...Do,transform:e=>Math.round(lM(e))},jr={test:cm("rgb","red"),parse:t3("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+jf.transform(e)+", "+jf.transform(t)+", "+jf.transform(n)+", "+Il(Jl.transform(i))+")"};function cM(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const l1={test:cm("#"),parse:cM,transform:jr.transform},Oc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Os=Oc("deg"),zi=Oc("%"),Ee=Oc("px"),uM=Oc("vh"),dM=Oc("vw"),py={...zi,parse:e=>zi.parse(e)/100,transform:e=>zi.transform(e*100)},Va={test:cm("hsl","hue"),parse:t3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+zi.transform(Il(t))+", "+zi.transform(Il(n))+", "+Il(Jl.transform(i))+")"},Ot={test:e=>jr.test(e)||l1.test(e)||Va.test(e),parse:e=>jr.test(e)?jr.parse(e):Va.test(e)?Va.parse(e):l1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?jr.transform(e):Va.transform(e),getAnimatableNone:e=>{const t=Ot.parse(e);return t.alpha=0,Ot.transform(t)}},hM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fM(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(lm))==null?void 0:t.length)||0)+(((n=e.match(hM))==null?void 0:n.length)||0)>0}const n3="number",i3="color",gM="var",mM="var(",xy="${}",pM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ec(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[];let a=0;const h=t.replace(pM,g=>(Ot.test(g)?(i.color.push(a),r.push(i3),n.push(Ot.parse(g))):g.startsWith(mM)?(i.var.push(a),r.push(gM),n.push(g)):(i.number.push(a),r.push(n3),n.push(parseFloat(g))),++a,xy)).split(xy);return{values:n,split:h,indexes:i,types:r}}function s3(e){return ec(e).values}function r3(e){const{split:t,types:n}=ec(e),i=t.length;return r=>{let a="";for(let c=0;c<i;c++)if(a+=t[c],r[c]!==void 0){const h=n[c];h===n3?a+=Il(r[c]):h===i3?a+=Ot.transform(r[c]):a+=r[c]}return a}}const xM=e=>typeof e=="number"?0:Ot.test(e)?Ot.getAnimatableNone(e):e;function yM(e){const t=s3(e);return r3(e)(t.map(xM))}const ur={test:fM,parse:s3,createTransformer:r3,getAnimatableNone:yM};function Lf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function bM({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let r=0,a=0,c=0;if(!t)r=a=c=n;else{const h=n<.5?n*(1+t):n+t-n*t,g=2*n-h;r=Lf(g,h,e+1/3),a=Lf(g,h,e),c=Lf(g,h,e-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(c*255),alpha:i}}function _d(e,t){return n=>n>0?t:e}const wt=(e,t,n)=>e+(t-e)*n,kf=(e,t,n)=>{const i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},wM=[l1,jr,Va],vM=e=>wM.find(t=>t.test(e));function yy(e){const t=vM(e);if(!t)return!1;let n=t.parse(e);return t===Va&&(n=bM(n)),n}const by=(e,t)=>{const n=yy(e),i=yy(t);if(!n||!i)return _d(e,t);const r={...n};return a=>(r.red=kf(n.red,i.red,a),r.green=kf(n.green,i.green,a),r.blue=kf(n.blue,i.blue,a),r.alpha=wt(n.alpha,i.alpha,a),jr.transform(r))},c1=new Set(["none","hidden"]);function EM(e,t){return c1.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function AM(e,t){return n=>wt(e,t,n)}function um(e){return typeof e=="number"?AM:typeof e=="string"?om(e)?_d:Ot.test(e)?by:TM:Array.isArray(e)?a3:typeof e=="object"?Ot.test(e)?by:SM:_d}function a3(e,t){const n=[...e],i=n.length,r=e.map((a,c)=>um(a)(a,t[c]));return a=>{for(let c=0;c<i;c++)n[c]=r[c](a);return n}}function SM(e,t){const n={...e,...t},i={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(i[r]=um(e[r])(e[r],t[r]));return r=>{for(const a in i)n[a]=i[a](r);return n}}function CM(e,t){const n=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const a=t.types[r],c=e.indexes[a][i[a]],h=e.values[c]??0;n[r]=h,i[a]++}return n}const TM=(e,t)=>{const n=ur.createTransformer(t),i=ec(e),r=ec(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?c1.has(e)&&!r.values.length||c1.has(t)&&!i.values.length?EM(e,t):Dc(a3(CM(i,r),r.values),n):_d(e,t)};function o3(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?wt(e,t,n):um(e)(e,t)}const _M=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>pt.update(t,n),stop:()=>cr(t),now:()=>tn.isProcessing?tn.timestamp:Dn.now()}},l3=(e,t,n=10)=>{let i="";const r=Math.max(Math.round(t/n),2);for(let a=0;a<r;a++)i+=Math.round(e(a/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Nd=2e4;function dm(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Nd;)t+=n,i=e.next(t);return t>=Nd?1/0:t}function NM(e,t=100,n){const i=n({...e,keyframes:[0,t]}),r=Math.min(dm(i),Nd);return{type:"keyframes",ease:a=>i.next(r*a).value/t,duration:Vi(r)}}const IM=5;function c3(e,t,n){const i=Math.max(t-IM,0);return zE(n-e(i),t-i)}const Ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bf=.001;function MM({duration:e=Ct.duration,bounce:t=Ct.bounce,velocity:n=Ct.velocity,mass:i=Ct.mass}){let r,a,c=1-t;c=ps(Ct.minDamping,Ct.maxDamping,c),e=ps(Ct.minDuration,Ct.maxDuration,Vi(e)),c<1?(r=m=>{const b=m*c,w=b*e,E=b-n,A=u1(m,c),O=Math.exp(-w);return Bf-E/A*O},a=m=>{const w=m*c*e,E=w*n+n,A=Math.pow(c,2)*Math.pow(m,2)*e,O=Math.exp(-w),M=u1(Math.pow(m,2),c);return(-r(m)+Bf>0?-1:1)*((E-A)*O)/M}):(r=m=>{const b=Math.exp(-m*e),w=(m-n)*e+1;return-Bf+b*w},a=m=>{const b=Math.exp(-m*e),w=(n-m)*(e*e);return b*w});const h=5/e,g=RM(r,a,h);if(e=Fi(e),isNaN(g))return{stiffness:Ct.stiffness,damping:Ct.damping,duration:e};{const m=Math.pow(g,2)*i;return{stiffness:m,damping:c*2*Math.sqrt(i*m),duration:e}}}const DM=12;function RM(e,t,n){let i=n;for(let r=1;r<DM;r++)i=i-e(i)/t(i);return i}function u1(e,t){return e*Math.sqrt(1-t*t)}const OM=["duration","bounce"],jM=["stiffness","damping","mass"];function wy(e,t){return t.some(n=>e[n]!==void 0)}function LM(e){let t={velocity:Ct.velocity,stiffness:Ct.stiffness,damping:Ct.damping,mass:Ct.mass,isResolvedFromDuration:!1,...e};if(!wy(e,jM)&&wy(e,OM))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,a=2*ps(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:Ct.mass,stiffness:r,damping:a}}else{const n=MM(e);t={...t,...n,mass:Ct.mass},t.isResolvedFromDuration=!0}return t}function Id(e=Ct.visualDuration,t=Ct.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=n;const a=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:a},{stiffness:g,damping:m,mass:b,duration:w,velocity:E,isResolvedFromDuration:A}=LM({...n,velocity:-Vi(n.velocity||0)}),O=E||0,M=m/(2*Math.sqrt(g*b)),P=c-a,T=Vi(Math.sqrt(g/b)),_=Math.abs(P)<5;i||(i=_?Ct.restSpeed.granular:Ct.restSpeed.default),r||(r=_?Ct.restDelta.granular:Ct.restDelta.default);let C;if(M<1){const z=u1(T,M);C=D=>{const k=Math.exp(-M*T*D);return c-k*((O+M*T*P)/z*Math.sin(z*D)+P*Math.cos(z*D))}}else if(M===1)C=z=>c-Math.exp(-T*z)*(P+(O+T*P)*z);else{const z=T*Math.sqrt(M*M-1);C=D=>{const k=Math.exp(-M*T*D),V=Math.min(z*D,300);return c-k*((O+M*T*P)*Math.sinh(V)+z*P*Math.cosh(V))/z}}const L={calculatedDuration:A&&w||null,next:z=>{const D=C(z);if(A)h.done=z>=w;else{let k=z===0?O:0;M<1&&(k=z===0?Fi(O):c3(C,z,D));const V=Math.abs(k)<=i,U=Math.abs(c-D)<=r;h.done=V&&U}return h.value=h.done?c:D,h},toString:()=>{const z=Math.min(dm(L),Nd),D=l3(k=>L.next(z*k).value,z,30);return z+"ms "+D},toTransition:()=>{}};return L}Id.applyToOptions=e=>{const t=NM(e,100,Id);return e.ease=t.ease,e.duration=Fi(t.duration),e.type="keyframes",e};function d1({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:c,min:h,max:g,restDelta:m=.5,restSpeed:b}){const w=e[0],E={done:!1,value:w},A=V=>h!==void 0&&V<h||g!==void 0&&V>g,O=V=>h===void 0?g:g===void 0||Math.abs(h-V)<Math.abs(g-V)?h:g;let M=n*t;const P=w+M,T=c===void 0?P:c(P);T!==P&&(M=T-w);const _=V=>-M*Math.exp(-V/i),C=V=>T+_(V),L=V=>{const U=_(V),q=C(V);E.done=Math.abs(U)<=m,E.value=E.done?T:q};let z,D;const k=V=>{A(E.value)&&(z=V,D=Id({keyframes:[E.value,O(E.value)],velocity:c3(C,V,E.value),damping:r,stiffness:a,restDelta:m,restSpeed:b}))};return k(0),{calculatedDuration:null,next:V=>{let U=!1;return!D&&z===void 0&&(U=!0,L(V),k(V)),z!==void 0&&V>=z?D.next(V-z):(!U&&L(V),E)}}}function kM(e,t,n){const i=[],r=n||xs.mix||o3,a=e.length-1;for(let c=0;c<a;c++){let h=r(e[c],e[c+1]);if(t){const g=Array.isArray(t)?t[c]||ci:t;h=Dc(g,h)}i.push(h)}return i}function BM(e,t,{clamp:n=!0,ease:i,mixer:r}={}){const a=e.length;if(tm(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=kM(t,i,r),g=h.length,m=b=>{if(c&&b<e[0])return t[0];let w=0;if(g>1)for(;w<e.length-2&&!(b<e[w+1]);w++);const E=$l(e[w],e[w+1],b);return h[w](E)};return n?b=>m(ps(e[0],e[a-1],b)):m}function PM(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const r=$l(0,t,i);e.push(wt(n,1,r))}}function UM(e){const t=[0];return PM(t,e.length-1),t}function FM(e,t){return e.map(n=>n*t)}function VM(e,t){return e.map(()=>t||QE).splice(0,e.length-1)}function Ml({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const r=$I(i)?i.map(my):my(i),a={done:!1,value:t[0]},c=FM(n&&n.length===t.length?n:UM(t),e),h=BM(c,t,{ease:Array.isArray(r)?r:VM(t,r)});return{calculatedDuration:e,next:g=>(a.value=h(g),a.done=g>=e,a)}}const zM=e=>e!==null;function hm(e,{repeat:t,repeatType:n="loop"},i,r=1){const a=e.filter(zM),h=r<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!h||i===void 0?a[h]:i}const HM={decay:d1,inertia:d1,tween:Ml,keyframes:Ml,spring:Id};function u3(e){typeof e.type=="string"&&(e.type=HM[e.type])}class fm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const GM=e=>e/100;class gm extends fm{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,r;const{motionValue:n}=this.options;n&&n.updatedAt!==Dn.now()&&this.tick(Dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(i=this.options).onStop)==null||r.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;u3(t);const{type:n=Ml,repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:c=0}=t;let{keyframes:h}=t;const g=n||Ml;g!==Ml&&typeof h[0]!="number"&&(this.mixKeyframes=Dc(GM,o3(h[0],h[1])),h=[0,100]);const m=g({...t,keyframes:h});a==="mirror"&&(this.mirroredGenerator=g({...t,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=dm(m));const{calculatedDuration:b}=m;this.calculatedDuration=b,this.resolvedDuration=b+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:r,mixKeyframes:a,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:g}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:b,repeat:w,repeatType:E,repeatDelay:A,type:O,onUpdate:M,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const T=this.currentTime-m*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?T<0:T>r;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let C=this.currentTime,L=i;if(w){const V=Math.min(this.currentTime,r)/h;let U=Math.floor(V),q=V%1;!q&&V>=1&&(q=1),q===1&&U--,U=Math.min(U,w+1),!!(U%2)&&(E==="reverse"?(q=1-q,A&&(q-=A/h)):E==="mirror"&&(L=c)),C=ps(0,1,q)*h}const z=_?{done:!1,value:b[0]}:L.next(C);a&&(z.value=a(z.value));let{done:D}=z;!_&&g!==null&&(D=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return k&&O!==d1&&(z.value=hm(b,this.options,P,this.speed)),M&&M(z.value),k&&this.finish(),z}then(t,n){return this.finished.then(t,n)}get duration(){return Vi(this.calculatedDuration)}get time(){return Vi(this.currentTime)}set time(t){var n;t=Fi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Dn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Vi(this.currentTime))}play(){var r,a;if(this.isStopped)return;const{driver:t=_M,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(a=(r=this.options).onPlay)==null||a.call(r);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function YM(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Lr=e=>e*180/Math.PI,h1=e=>{const t=Lr(Math.atan2(e[1],e[0]));return f1(t)},qM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:h1,rotateZ:h1,skewX:e=>Lr(Math.atan(e[1])),skewY:e=>Lr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},f1=e=>(e=e%360,e<0&&(e+=360),e),vy=h1,Ey=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Ay=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),XM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ey,scaleY:Ay,scale:e=>(Ey(e)+Ay(e))/2,rotateX:e=>f1(Lr(Math.atan2(e[6],e[5]))),rotateY:e=>f1(Lr(Math.atan2(-e[2],e[0]))),rotateZ:vy,rotate:vy,skewX:e=>Lr(Math.atan(e[4])),skewY:e=>Lr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function g1(e){return e.includes("scale")?1:0}function m1(e,t){if(!e||e==="none")return g1(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=XM,r=n;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=qM,r=h}if(!r)return g1(t);const a=i[t],c=r[1].split(",").map(ZM);return typeof a=="function"?a(c):c[a]}const WM=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return m1(n,t)};function ZM(e){return parseFloat(e.trim())}const Ro=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oo=new Set(Ro),Sy=e=>e===Do||e===Ee,KM=new Set(["x","y","z"]),QM=Ro.filter(e=>!KM.has(e));function $M(e){const t=[];return QM.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Yr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>m1(t,"x"),y:(e,{transform:t})=>m1(t,"y")};Yr.translateX=Yr.x;Yr.translateY=Yr.y;const qr=new Set;let p1=!1,x1=!1,y1=!1;function d3(){if(x1){const e=Array.from(qr).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const r=$M(i);r.length&&(n.set(i,r),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([a,c])=>{var h;(h=i.getValue(a))==null||h.set(c)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}x1=!1,p1=!1,qr.forEach(e=>e.complete(y1)),qr.clear()}function h3(){qr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(x1=!0)})}function JM(){y1=!0,h3(),d3(),y1=!1}class mm{constructor(t,n,i,r,a,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=r,this.element=a,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(qr.add(this),p1||(p1=!0,pt.read(h3),pt.resolveKeyframes(d3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:r}=this;if(t[0]===null){const a=r==null?void 0:r.get(),c=t[t.length-1];if(a!==void 0)t[0]=a;else if(i&&n){const h=i.readValue(n,c);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=c),r&&a===void 0&&r.set(t[0])}YM(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),qr.delete(this)}cancel(){this.state==="scheduled"&&(qr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const eD=e=>e.startsWith("--");function tD(e,t,n){eD(t)?e.style.setProperty(t,n):e.style[t]=n}const nD=nm(()=>window.ScrollTimeline!==void 0),iD={};function sD(e,t){const n=nm(e);return()=>iD[t]??n()}const f3=sD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cl=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,Cy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cl([0,.65,.55,1]),circOut:cl([.55,0,1,.45]),backIn:cl([.31,.01,.66,-.59]),backOut:cl([.33,1.53,.69,.99])};function g3(e,t){if(e)return typeof e=="function"?f3()?l3(e,t):"ease-out":$E(e)?cl(e):Array.isArray(e)?e.map(n=>g3(n,t)||Cy.easeOut):Cy[e]}function rD(e,t,n,{delay:i=0,duration:r=300,repeat:a=0,repeatType:c="loop",ease:h="easeOut",times:g}={},m=void 0){const b={[t]:n};g&&(b.offset=g);const w=g3(h,r);Array.isArray(w)&&(b.easing=w);const E={delay:i,duration:r,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:a+1,direction:c==="reverse"?"alternate":"normal"};return m&&(E.pseudoElement=m),e.animate(b,E)}function m3(e){return typeof e=="function"&&"applyToOptions"in e}function aD({type:e,...t}){return m3(e)&&f3()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class oD extends fm{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:r,pseudoElement:a,allowFlatten:c=!1,finalKeyframe:h,onComplete:g}=t;this.isPseudoElement=!!a,this.allowFlatten=c,this.options=t,tm(typeof t.type!="string");const m=aD(t);this.animation=rD(n,i,r,m,a),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const b=hm(r,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(b):tD(n,i,b),this.animation.cancel()}g==null||g(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,i;const t=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Vi(Number(t))}get time(){return Vi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Fi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&nD()?(this.animation.timeline=t,ci):n(this)}}const p3={anticipate:WE,backInOut:XE,circInOut:KE};function lD(e){return e in p3}function cD(e){typeof e.ease=="string"&&lD(e.ease)&&(e.ease=p3[e.ease])}const Ty=10;class uD extends oD{constructor(t){cD(t),u3(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:r,element:a,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const h=new gm({...c,autoplay:!1}),g=Fi(this.finishedTime??this.time);n.setWithVelocity(h.sample(g-Ty).value,h.sample(g).value,Ty),h.stop()}}const _y=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ur.test(e)||e==="0")&&!e.startsWith("url("));function dD(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function hD(e,t,n,i){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],c=_y(r,t),h=_y(a,t);return!c||!h?!1:dD(e)||(n==="spring"||m3(n))&&i}const fD=new Set(["opacity","clipPath","filter","transform"]),gD=nm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function mD(e){var b;const{motionValue:t,name:n,repeatDelay:i,repeatType:r,damping:a,type:c}=e;if(!(((b=t==null?void 0:t.owner)==null?void 0:b.current)instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:m}=t.owner.getProps();return gD()&&n&&fD.has(n)&&(n!=="transform"||!m)&&!g&&!i&&r!=="mirror"&&a!==0&&c!=="inertia"}const pD=40;class xD extends fm{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:c="loop",keyframes:h,name:g,motionValue:m,element:b,...w}){var O;super(),this.stop=()=>{var M,P;this._animation&&(this._animation.stop(),(M=this.stopTimeline)==null||M.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=Dn.now();const E={autoplay:t,delay:n,type:i,repeat:r,repeatDelay:a,repeatType:c,name:g,motionValue:m,element:b,...w},A=(b==null?void 0:b.KeyframeResolver)||mm;this.keyframeResolver=new A(h,(M,P,T)=>this.onKeyframesResolved(M,P,E,!T),g,m,b),(O=this.keyframeResolver)==null||O.scheduleResolve()}onKeyframesResolved(t,n,i,r){this.keyframeResolver=void 0;const{name:a,type:c,velocity:h,delay:g,isHandoff:m,onUpdate:b}=i;this.resolvedAt=Dn.now(),hD(t,a,c,h)||((xs.instantAnimations||!g)&&(b==null||b(hm(t,i,n))),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const E={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>pD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},A=!m&&mD(E)?new uD({...E,element:E.motionValue.owner.current}):new gm(E);A.finished.then(()=>this.notifyFinished()).catch(ci),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),JM()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const yD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bD(e){const t=yD.exec(e);if(!t)return[,];const[,n,i,r]=t;return[`--${n??i}`,r]}function x3(e,t,n=1){const[i,r]=bD(e);if(!i)return;const a=window.getComputedStyle(t).getPropertyValue(i);if(a){const c=a.trim();return UE(c)?parseFloat(c):c}return om(r)?x3(r,t,n+1):r}function pm(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const y3=new Set(["width","height","top","left","right","bottom",...Ro]),wD={test:e=>e==="auto",parse:e=>e},b3=e=>t=>t.test(e),w3=[Do,Ee,zi,Os,dM,uM,wD],Ny=e=>w3.find(b3(e));function vD(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||VE(e):!0}const ED=new Set(["brightness","contrast","saturate","opacity"]);function AD(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(lm)||[];if(!i)return e;const r=n.replace(i,"");let a=ED.has(t)?1:0;return i!==n&&(a*=100),t+"("+a+r+")"}const SD=/\b([a-z-]*)\(.*?\)/gu,b1={...ur,getAnimatableNone:e=>{const t=e.match(SD);return t?t.map(AD).join(" "):e}},Iy={...Do,transform:Math.round},CD={rotate:Os,rotateX:Os,rotateY:Os,rotateZ:Os,scale:xu,scaleX:xu,scaleY:xu,scaleZ:xu,skew:Os,skewX:Os,skewY:Os,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Jl,originX:py,originY:py,originZ:Ee},xm={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...CD,zIndex:Iy,fillOpacity:Jl,strokeOpacity:Jl,numOctaves:Iy},TD={...xm,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:b1,WebkitFilter:b1},v3=e=>TD[e];function E3(e,t){let n=v3(e);return n!==b1&&(n=ur),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const _D=new Set(["auto","none","0"]);function ND(e,t,n){let i=0,r;for(;i<e.length&&!r;){const a=e[i];typeof a=="string"&&!_D.has(a)&&ec(a).values.length&&(r=e[i]),i++}if(r&&n)for(const a of t)e[a]=E3(n,r)}class ID extends mm{constructor(t,n,i,r,a){super(t,n,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<t.length;g++){let m=t[g];if(typeof m=="string"&&(m=m.trim(),om(m))){const b=x3(m,n.current);b!==void 0&&(t[g]=b),g===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!y3.has(i)||t.length!==2)return;const[r,a]=t,c=Ny(r),h=Ny(a);if(c!==h)if(Sy(c)&&Sy(h))for(let g=0;g<t.length;g++){const m=t[g];typeof m=="string"&&(t[g]=parseFloat(m))}else Yr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let r=0;r<t.length;r++)(t[r]===null||vD(t[r]))&&i.push(r);i.length&&ND(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yr[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(i,r).jump(r,!1)}measureEndState(){var h;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,c=i[a];i[a]=Yr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([g,m])=>{t.getValue(g).set(m)}),this.resolveNoneKeyframes()}}function MD(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const r=(n==null?void 0:n[e])??i.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const A3=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function S3(e){return FE(e)&&"offsetHeight"in e}const My=30,DD=e=>!isNaN(parseFloat(e));class RD{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{var c,h;const a=Dn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const g of this.dependents)g.dirty();r&&((h=this.events.renderRequest)==null||h.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Dn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=DD(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new im);const i=this.events[t].add(n);return t==="change"?()=>{i(),pt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>My)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,My);return zE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xo(e,t){return new RD(e,t)}const{schedule:ym}=JE(queueMicrotask,!1),pi={x:!1,y:!1};function C3(){return pi.x||pi.y}function OD(e){return e==="x"||e==="y"?pi[e]?null:(pi[e]=!0,()=>{pi[e]=!1}):pi.x||pi.y?null:(pi.x=pi.y=!0,()=>{pi.x=pi.y=!1})}function T3(e,t){const n=MD(e),i=new AbortController,r={passive:!0,...t,signal:i.signal};return[n,r,()=>i.abort()]}function Dy(e){return!(e.pointerType==="touch"||C3())}function jD(e,t,n={}){const[i,r,a]=T3(e,n),c=h=>{if(!Dy(h))return;const{target:g}=h,m=t(g,h);if(typeof m!="function"||!g)return;const b=w=>{Dy(w)&&(m(w),g.removeEventListener("pointerleave",b))};g.addEventListener("pointerleave",b,r)};return i.forEach(h=>{h.addEventListener("pointerenter",c,r)}),a}const _3=(e,t)=>t?e===t?!0:_3(e,t.parentElement):!1,bm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,LD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kD(e){return LD.has(e.tagName)||e.tabIndex!==-1}const Bu=new WeakSet;function Ry(e){return t=>{t.key==="Enter"&&e(t)}}function Pf(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const BD=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=Ry(()=>{if(Bu.has(n))return;Pf(n,"down");const r=Ry(()=>{Pf(n,"up")}),a=()=>Pf(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function Oy(e){return bm(e)&&!C3()}function PD(e,t,n={}){const[i,r,a]=T3(e,n),c=h=>{const g=h.currentTarget;if(!Oy(h))return;Bu.add(g);const m=t(g,h),b=(A,O)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",E),Bu.has(g)&&Bu.delete(g),Oy(A)&&typeof m=="function"&&m(A,{success:O})},w=A=>{b(A,g===window||g===document||n.useGlobalTarget||_3(g,A.target))},E=A=>{b(A,!1)};window.addEventListener("pointerup",w,r),window.addEventListener("pointercancel",E,r)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,r),S3(h)&&(h.addEventListener("focus",m=>BD(m,r)),!kD(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),a}function N3(e){return FE(e)&&"ownerSVGElement"in e}function UD(e){return N3(e)&&e.tagName==="svg"}const hn=e=>!!(e&&e.getVelocity),FD=[...w3,Ot,ur],VD=e=>FD.find(b3(e)),wm=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class zD extends j.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=S3(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function HD({children:e,isPresent:t,anchorX:n,root:i}){const r=j.useId(),a=j.useRef(null),c=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=j.useContext(wm);return j.useInsertionEffect(()=>{const{width:g,height:m,top:b,left:w,right:E}=c.current;if(t||!a.current||!g||!m)return;const A=n==="left"?`left: ${w}`:`right: ${E}`;a.current.dataset.motionPopId=r;const O=document.createElement("style");h&&(O.nonce=h);const M=i??document.head;return M.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${m}px !important;
            ${A}px !important;
            top: ${b}px !important;
          }
        `),()=>{M.removeChild(O),M.contains(O)&&M.removeChild(O)}},[t]),p.jsx(zD,{isPresent:t,childRef:a,sizeRef:c,children:j.cloneElement(e,{ref:a})})}const GD=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:a,mode:c,anchorX:h,root:g})=>{const m=Qg(YD),b=j.useId();let w=!0,E=j.useMemo(()=>(w=!1,{id:b,initial:t,isPresent:n,custom:r,onExitComplete:A=>{m.set(A,!0);for(const O of m.values())if(!O)return;i&&i()},register:A=>(m.set(A,!1),()=>m.delete(A))}),[n,m,i]);return a&&w&&(E={...E}),j.useMemo(()=>{m.forEach((A,O)=>m.set(O,!1))},[n]),j.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),c==="popLayout"&&(e=p.jsx(HD,{isPresent:n,anchorX:h,root:g,children:e})),p.jsx(dh.Provider,{value:E,children:e})};function YD(){return new Map}function I3(e=!0){const t=j.useContext(dh);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=t,a=j.useId();j.useEffect(()=>{if(e)return r(a)},[e]);const c=j.useCallback(()=>e&&i&&i(a),[a,i,e]);return!n&&i?[!1,c]:[!0]}const yu=e=>e.key||"";function jy(e){const t=[];return j.Children.forEach(e,n=>{j.isValidElement(n)&&t.push(n)}),t}const M3=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:a="sync",propagate:c=!1,anchorX:h="left",root:g})=>{const[m,b]=I3(c),w=j.useMemo(()=>jy(e),[e]),E=c&&!m?[]:w.map(yu),A=j.useRef(!0),O=j.useRef(w),M=Qg(()=>new Map),[P,T]=j.useState(w),[_,C]=j.useState(w);PE(()=>{A.current=!1,O.current=w;for(let D=0;D<_.length;D++){const k=yu(_[D]);E.includes(k)?M.delete(k):M.get(k)!==!0&&M.set(k,!1)}},[_,E.length,E.join("-")]);const L=[];if(w!==P){let D=[...w];for(let k=0;k<_.length;k++){const V=_[k],U=yu(V);E.includes(U)||(D.splice(k,0,V),L.push(V))}return a==="wait"&&L.length&&(D=L),C(jy(D)),T(w),null}const{forceRender:z}=j.useContext(Kg);return p.jsx(p.Fragment,{children:_.map(D=>{const k=yu(D),V=c&&!m?!1:w===_||E.includes(k),U=()=>{if(M.has(k))M.set(k,!0);else return;let q=!0;M.forEach(Y=>{Y||(q=!1)}),q&&(z==null||z(),C(O.current),c&&(b==null||b()),i&&i())};return p.jsx(GD,{isPresent:V,initial:!A.current||n?void 0:!1,custom:t,presenceAffectsLayout:r,mode:a,root:g,onExitComplete:V?void 0:U,anchorX:h,children:D},k)})})},D3=j.createContext({strict:!1}),Ly={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yo={};for(const e in Ly)yo[e]={isEnabled:t=>Ly[e].some(n=>!!t[n])};function qD(e){for(const t in e)yo[t]={...yo[t],...e[t]}}const XD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Md(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||XD.has(e)}let R3=e=>!Md(e);function WD(e){typeof e=="function"&&(R3=t=>t.startsWith("on")?!Md(t):e(t))}try{WD(require("@emotion/is-prop-valid").default)}catch{}function ZD(e,t,n){const i={};for(const r in e)r==="values"&&typeof e.values=="object"||(R3(r)||n===!0&&Md(r)||!t&&!Md(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}const hh=j.createContext({});function fh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function tc(e){return typeof e=="string"||Array.isArray(e)}const vm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Em=["initial",...vm];function gh(e){return fh(e.animate)||Em.some(t=>tc(e[t]))}function O3(e){return!!(gh(e)||e.variants)}function KD(e,t){if(gh(e)){const{initial:n,animate:i}=e;return{initial:n===!1||tc(n)?n:void 0,animate:tc(i)?i:void 0}}return e.inherit!==!1?t:{}}function QD(e){const{initial:t,animate:n}=KD(e,j.useContext(hh));return j.useMemo(()=>({initial:t,animate:n}),[ky(t),ky(n)])}function ky(e){return Array.isArray(e)?e.join(" "):e}const nc={};function $D(e){for(const t in e)nc[t]=e[t],am(t)&&(nc[t].isCSSVariable=!0)}function j3(e,{layout:t,layoutId:n}){return Oo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!nc[e]||e==="opacity")}const JD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eR=Ro.length;function tR(e,t,n){let i="",r=!0;for(let a=0;a<eR;a++){const c=Ro[a],h=e[c];if(h===void 0)continue;let g=!0;if(typeof h=="number"?g=h===(c.startsWith("scale")?1:0):g=parseFloat(h)===0,!g||n){const m=A3(h,xm[c]);if(!g){r=!1;const b=JD[c]||c;i+=`${b}(${m}) `}n&&(t[c]=m)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}function Am(e,t,n){const{style:i,vars:r,transformOrigin:a}=e;let c=!1,h=!1;for(const g in t){const m=t[g];if(Oo.has(g)){c=!0;continue}else if(am(g)){r[g]=m;continue}else{const b=A3(m,xm[g]);g.startsWith("origin")?(h=!0,a[g]=b):i[g]=b}}if(t.transform||(c||n?i.transform=tR(t,e.transform,n):i.transform&&(i.transform="none")),h){const{originX:g="50%",originY:m="50%",originZ:b=0}=a;i.transformOrigin=`${g} ${m} ${b}`}}const Sm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function L3(e,t,n){for(const i in t)!hn(t[i])&&!j3(i,n)&&(e[i]=t[i])}function nR({transformTemplate:e},t){return j.useMemo(()=>{const n=Sm();return Am(n,t,e),Object.assign({},n.vars,n.style)},[t])}function iR(e,t){const n=e.style||{},i={};return L3(i,n,e),Object.assign(i,nR(e,t)),i}function sR(e,t){const n={},i=iR(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const rR={offset:"stroke-dashoffset",array:"stroke-dasharray"},aR={offset:"strokeDashoffset",array:"strokeDasharray"};function oR(e,t,n=1,i=0,r=!0){e.pathLength=1;const a=r?rR:aR;e[a.offset]=Ee.transform(-i);const c=Ee.transform(t),h=Ee.transform(n);e[a.array]=`${c} ${h}`}function k3(e,{attrX:t,attrY:n,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:c=0,...h},g,m,b){if(Am(e,h,m),g){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:w,style:E}=e;w.transform&&(E.transform=w.transform,delete w.transform),(E.transform||w.transformOrigin)&&(E.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),E.transform&&(E.transformBox=(b==null?void 0:b.transformBox)??"fill-box",delete w.transformBox),t!==void 0&&(w.x=t),n!==void 0&&(w.y=n),i!==void 0&&(w.scale=i),r!==void 0&&oR(w,r,a,c,!1)}const B3=()=>({...Sm(),attrs:{}}),P3=e=>typeof e=="string"&&e.toLowerCase()==="svg";function lR(e,t,n,i){const r=j.useMemo(()=>{const a=B3();return k3(a,t,P3(i),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};L3(a,e.style,e),r.style={...a,...r.style}}return r}const cR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Cm(e){return typeof e!="string"||e.includes("-")?!1:!!(cR.indexOf(e)>-1||/[A-Z]/u.test(e))}function uR(e,t,n,{latestValues:i},r,a=!1){const h=(Cm(e)?lR:sR)(t,i,r,e),g=ZD(t,typeof e=="string",a),m=e!==j.Fragment?{...g,...h,ref:n}:{},{children:b}=t,w=j.useMemo(()=>hn(b)?b.get():b,[b]);return j.createElement(e,{...m,children:w})}function By(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function Tm(e,t,n,i){if(typeof t=="function"){const[r,a]=By(i);t=t(n!==void 0?n:e.custom,r,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,a]=By(i);t=t(n!==void 0?n:e.custom,r,a)}return t}function Pu(e){return hn(e)?e.get():e}function dR({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,r){return{latestValues:hR(n,i,r,e),renderState:t()}}function hR(e,t,n,i){const r={},a=i(e,{});for(const E in a)r[E]=Pu(a[E]);let{initial:c,animate:h}=e;const g=gh(e),m=O3(e);t&&m&&!g&&e.inherit!==!1&&(c===void 0&&(c=t.initial),h===void 0&&(h=t.animate));let b=n?n.initial===!1:!1;b=b||c===!1;const w=b?h:c;if(w&&typeof w!="boolean"&&!fh(w)){const E=Array.isArray(w)?w:[w];for(let A=0;A<E.length;A++){const O=Tm(e,E[A]);if(O){const{transitionEnd:M,transition:P,...T}=O;for(const _ in T){let C=T[_];if(Array.isArray(C)){const L=b?C.length-1:0;C=C[L]}C!==null&&(r[_]=C)}for(const _ in M)r[_]=M[_]}}}return r}const U3=e=>(t,n)=>{const i=j.useContext(hh),r=j.useContext(dh),a=()=>dR(e,t,i,r);return n?a():Qg(a)};function _m(e,t,n){var a;const{style:i}=e,r={};for(const c in i)(hn(i[c])||t.style&&hn(t.style[c])||j3(c,e)||((a=n==null?void 0:n.getValue(c))==null?void 0:a.liveStyle)!==void 0)&&(r[c]=i[c]);return r}const fR=U3({scrapeMotionValuesFromProps:_m,createRenderState:Sm});function F3(e,t,n){const i=_m(e,t,n);for(const r in e)if(hn(e[r])||hn(t[r])){const a=Ro.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=e[r]}return i}const gR=U3({scrapeMotionValuesFromProps:F3,createRenderState:B3}),mR=Symbol.for("motionComponentSymbol");function za(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function pR(e,t,n){return j.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):za(n)&&(n.current=i))},[t])}const Nm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xR="framerAppearId",V3="data-"+Nm(xR),z3=j.createContext({});function yR(e,t,n,i,r){var M,P;const{visualElement:a}=j.useContext(hh),c=j.useContext(D3),h=j.useContext(dh),g=j.useContext(wm).reducedMotion,m=j.useRef(null);i=i||c.renderer,!m.current&&i&&(m.current=i(e,{visualState:t,parent:a,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:g}));const b=m.current,w=j.useContext(z3);b&&!b.projection&&r&&(b.type==="html"||b.type==="svg")&&bR(m.current,n,r,w);const E=j.useRef(!1);j.useInsertionEffect(()=>{b&&E.current&&b.update(n,h)});const A=n[V3],O=j.useRef(!!A&&!((M=window.MotionHandoffIsComplete)!=null&&M.call(window,A))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,A)));return PE(()=>{b&&(E.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),O.current&&b.animationState&&b.animationState.animateChanges())}),j.useEffect(()=>{b&&(!O.current&&b.animationState&&b.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,A)}),O.current=!1))}),b}function bR(e,t,n,i){const{layoutId:r,layout:a,drag:c,dragConstraints:h,layoutScroll:g,layoutRoot:m,layoutCrossfade:b}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:H3(e.parent)),e.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!c||h&&za(h),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:b,layoutScroll:g,layoutRoot:m})}function H3(e){if(e)return e.options.allowProjection!==!1?e.projection:H3(e.parent)}function Uf(e,{forwardMotionProps:t=!1}={},n,i){n&&qD(n);const r=Cm(e)?gR:fR;function a(h,g){let m;const b={...j.useContext(wm),...h,layoutId:wR(h)},{isStatic:w}=b,E=QD(h),A=r(h,w);if(!w&&$g){vR();const O=ER(b);m=O.MeasureLayout,E.visualElement=yR(e,A,b,i,O.ProjectionNode)}return p.jsxs(hh.Provider,{value:E,children:[m&&E.visualElement?p.jsx(m,{visualElement:E.visualElement,...b}):null,uR(e,h,pR(A,E.visualElement,g),A,w,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=j.forwardRef(a);return c[mR]=e,c}function wR({layoutId:e}){const t=j.useContext(Kg).id;return t&&e!==void 0?t+"-"+e:e}function vR(e,t){j.useContext(D3).strict}function ER(e){const{drag:t,layout:n}=yo;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function AR(e,t){if(typeof Proxy>"u")return Uf;const n=new Map,i=(a,c)=>Uf(a,c,e,t),r=(a,c)=>i(a,c);return new Proxy(r,{get:(a,c)=>c==="create"?i:(n.has(c)||n.set(c,Uf(c,void 0,e,t)),n.get(c))})}function G3({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function SR({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function CR(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Ff(e){return e===void 0||e===1}function w1({scale:e,scaleX:t,scaleY:n}){return!Ff(e)||!Ff(t)||!Ff(n)}function Dr(e){return w1(e)||Y3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Y3(e){return Py(e.x)||Py(e.y)}function Py(e){return e&&e!=="0%"}function Dd(e,t,n){const i=e-n,r=t*i;return n+r}function Uy(e,t,n,i,r){return r!==void 0&&(e=Dd(e,r,i)),Dd(e,n,i)+t}function v1(e,t=0,n=1,i,r){e.min=Uy(e.min,t,n,i,r),e.max=Uy(e.max,t,n,i,r)}function q3(e,{x:t,y:n}){v1(e.x,t.translate,t.scale,t.originPoint),v1(e.y,n.translate,n.scale,n.originPoint)}const Fy=.999999999999,Vy=1.0000000000001;function TR(e,t,n,i=!1){const r=n.length;if(!r)return;t.x=t.y=1;let a,c;for(let h=0;h<r;h++){a=n[h],c=a.projectionDelta;const{visualElement:g}=a.options;g&&g.props.style&&g.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ga(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,q3(e,c)),i&&Dr(a.latestValues)&&Ga(e,a.latestValues))}t.x<Vy&&t.x>Fy&&(t.x=1),t.y<Vy&&t.y>Fy&&(t.y=1)}function Ha(e,t){e.min=e.min+t,e.max=e.max+t}function zy(e,t,n,i,r=.5){const a=wt(e.min,e.max,r);v1(e,t,n,a,i)}function Ga(e,t){zy(e.x,t.x,t.scaleX,t.scale,t.originX),zy(e.y,t.y,t.scaleY,t.scale,t.originY)}function X3(e,t){return G3(CR(e.getBoundingClientRect(),t))}function _R(e,t,n){const i=X3(e,n),{scroll:r}=t;return r&&(Ha(i.x,r.offset.x),Ha(i.y,r.offset.y)),i}const Hy=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ya=()=>({x:Hy(),y:Hy()}),Gy=()=>({min:0,max:0}),Mt=()=>({x:Gy(),y:Gy()}),E1={current:null},W3={current:!1};function NR(){if(W3.current=!0,!!$g)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>E1.current=e.matches;e.addEventListener("change",t),t()}else E1.current=!1}const IR=new WeakMap;function MR(e,t,n){for(const i in t){const r=t[i],a=n[i];if(hn(r))e.addValue(i,r);else if(hn(a))e.addValue(i,xo(r,{owner:e}));else if(a!==r)if(e.hasValue(i)){const c=e.getValue(i);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=e.getStaticValue(i);e.addValue(i,xo(c!==void 0?c:r,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const Yy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class DR{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Dn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,pt.render(this.render,!1,!0))};const{latestValues:g,renderState:m}=c;this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=gh(n),this.isVariantNode=O3(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:b,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in w){const A=w[E];g[E]!==void 0&&hn(A)&&A.set(g[E],!1)}}mount(t){this.current=t,IR.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),W3.current||NR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:E1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cr(this.notifyUpdate),cr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Oo.has(t);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",h=>{this.latestValues[t]=h,this.props.onUpdate&&pt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),a(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in yo){const n=yo[t];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[t]&&r&&i(this.props)&&(this.features[t]=new r(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Yy.length;i++){const r=Yy[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,c=t[a];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=MR(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=xo(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(UE(i)||VE(i))?i=parseFloat(i):!VD(i)&&ur.test(n)&&(i=E3(t,n)),this.setBaseTarget(t,hn(i)?i.get():i)),hn(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const c=Tm(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);c&&(i=c[t])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!hn(r)?r:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new im),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){ym.render(this.render)}}class Z3 extends DR{constructor(){super(...arguments),this.KeyframeResolver=ID}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function K3(e,{style:t,vars:n},i,r){const a=e.style;let c;for(c in t)a[c]=t[c];r==null||r.applyProjectionStyles(a,i);for(c in n)a.setProperty(c,n[c])}function RR(e){return window.getComputedStyle(e)}class OR extends Z3{constructor(){super(...arguments),this.type="html",this.renderInstance=K3}readValueFromInstance(t,n){var i;if(Oo.has(n))return(i=this.projection)!=null&&i.isProjecting?g1(n):WM(t,n);{const r=RR(t),a=(am(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return X3(t,n)}build(t,n,i){Am(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return _m(t,n,i)}}const Q3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jR(e,t,n,i){K3(e,t,void 0,i);for(const r in t.attrs)e.setAttribute(Q3.has(r)?r:Nm(r),t.attrs[r])}class LR extends Z3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Mt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Oo.has(n)){const i=v3(n);return i&&i.default||0}return n=Q3.has(n)?n:Nm(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return F3(t,n,i)}build(t,n,i){k3(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,r){jR(t,n,i,r)}mount(t){this.isSVGTag=P3(t.tagName),super.mount(t)}}const kR=(e,t)=>Cm(e)?new LR(t):new OR(t,{allowProjection:e!==j.Fragment});function ic(e,t,n){const i=e.getProps();return Tm(i,t,n!==void 0?n:i.custom,e)}const A1=e=>Array.isArray(e);function BR(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,xo(n))}function PR(e){return A1(e)?e[e.length-1]||0:e}function UR(e,t){const n=ic(e,t);let{transitionEnd:i={},transition:r={},...a}=n||{};a={...a,...i};for(const c in a){const h=PR(a[c]);BR(e,c,h)}}function FR(e){return!!(hn(e)&&e.add)}function S1(e,t){const n=e.getValue("willChange");if(FR(n))return n.add(t);if(!n&&xs.WillChange){const i=new xs.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function $3(e){return e.props[V3]}const VR=e=>e!==null;function zR(e,{repeat:t,repeatType:n="loop"},i){const r=e.filter(VR),a=t&&n!=="loop"&&t%2===1?0:r.length-1;return r[a]}const HR={type:"spring",stiffness:500,damping:25,restSpeed:10},GR=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),YR={type:"keyframes",duration:.8},qR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XR=(e,{keyframes:t})=>t.length>2?YR:Oo.has(e)?e.startsWith("scale")?GR(t[1]):HR:qR;function WR({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:c,repeatDelay:h,from:g,elapsed:m,...b}){return!!Object.keys(b).length}const Im=(e,t,n,i={},r,a)=>c=>{const h=pm(i,e)||{},g=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Fi(g);const b={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-m,onUpdate:E=>{t.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:a?void 0:r};WR(h)||Object.assign(b,XR(e,b)),b.duration&&(b.duration=Fi(b.duration)),b.repeatDelay&&(b.repeatDelay=Fi(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let w=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(b.duration=0,b.delay===0&&(w=!0)),(xs.instantAnimations||xs.skipAnimations)&&(w=!0,b.duration=0,b.delay=0),b.allowFlatten=!h.type&&!h.ease,w&&!a&&t.get()!==void 0){const E=zR(b.keyframes,h);if(E!==void 0){pt.update(()=>{b.onUpdate(E),b.onComplete()});return}}return h.isSync?new gm(b):new xD(b)};function ZR({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function J3(e,t,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:c,...h}=t;i&&(a=i);const g=[],m=r&&e.animationState&&e.animationState.getState()[r];for(const b in h){const w=e.getValue(b,e.latestValues[b]??null),E=h[b];if(E===void 0||m&&ZR(m,b))continue;const A={delay:n,...pm(a||{},b)},O=w.get();if(O!==void 0&&!w.isAnimating&&!Array.isArray(E)&&E===O&&!A.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const T=$3(e);if(T){const _=window.MotionHandoffAnimation(T,b,pt);_!==null&&(A.startTime=_,M=!0)}}S1(e,b),w.start(Im(b,w,E,e.shouldReduceMotion&&y3.has(b)?{type:!1}:A,e,M));const P=w.animation;P&&g.push(P)}return c&&Promise.all(g).then(()=>{pt.update(()=>{c&&UR(e,c)})}),g}function C1(e,t,n={}){var g;const i=ic(e,t,n.type==="exit"?(g=e.presenceContext)==null?void 0:g.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const a=i?()=>Promise.all(J3(e,i,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:b=0,staggerChildren:w,staggerDirection:E}=r;return KR(e,t,m,b,w,E,n)}:()=>Promise.resolve(),{when:h}=r;if(h){const[m,b]=h==="beforeChildren"?[a,c]:[c,a];return m().then(()=>b())}else return Promise.all([a(),c(n.delay)])}function KR(e,t,n=0,i=0,r=0,a=1,c){const h=[],g=e.variantChildren.size,m=(g-1)*r,b=typeof i=="function",w=b?E=>i(E,g):a===1?(E=0)=>E*r:(E=0)=>m-E*r;return Array.from(e.variantChildren).sort(QR).forEach((E,A)=>{E.notify("AnimationStart",t),h.push(C1(E,t,{...c,delay:n+(b?0:i)+w(A)}).then(()=>E.notify("AnimationComplete",t)))}),Promise.all(h)}function QR(e,t){return e.sortNodePosition(t)}function $R(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const r=t.map(a=>C1(e,a,n));i=Promise.all(r)}else if(typeof t=="string")i=C1(e,t,n);else{const r=typeof t=="function"?ic(e,t,n.custom):t;i=Promise.all(J3(e,r,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function eA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const JR=Em.length;function tA(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?tA(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<JR;n++){const i=Em[n],r=e.props[i];(tc(r)||r===!1)&&(t[i]=r)}return t}const eO=[...vm].reverse(),tO=vm.length;function nO(e){return t=>Promise.all(t.map(({animation:n,options:i})=>$R(e,n,i)))}function iO(e){let t=nO(e),n=qy(),i=!0;const r=g=>(m,b)=>{var E;const w=ic(e,b,g==="exit"?(E=e.presenceContext)==null?void 0:E.custom:void 0);if(w){const{transition:A,transitionEnd:O,...M}=w;m={...m,...M,...O}}return m};function a(g){t=g(e)}function c(g){const{props:m}=e,b=tA(e.parent)||{},w=[],E=new Set;let A={},O=1/0;for(let P=0;P<tO;P++){const T=eO[P],_=n[T],C=m[T]!==void 0?m[T]:b[T],L=tc(C),z=T===g?_.isActive:null;z===!1&&(O=P);let D=C===b[T]&&C!==m[T]&&L;if(D&&i&&e.manuallyAnimateOnMount&&(D=!1),_.protectedKeys={...A},!_.isActive&&z===null||!C&&!_.prevProp||fh(C)||typeof C=="boolean")continue;const k=sO(_.prevProp,C);let V=k||T===g&&_.isActive&&!D&&L||P>O&&L,U=!1;const q=Array.isArray(C)?C:[C];let Y=q.reduce(r(T),{});z===!1&&(Y={});const{prevResolvedValues:$={}}=_,ie={...$,...Y},de=se=>{V=!0,E.has(se)&&(U=!0,E.delete(se)),_.needsAnimating[se]=!0;const me=e.getValue(se);me&&(me.liveStyle=!1)};for(const se in ie){const me=Y[se],Oe=$[se];if(A.hasOwnProperty(se))continue;let te=!1;A1(me)&&A1(Oe)?te=!eA(me,Oe):te=me!==Oe,te?me!=null?de(se):E.add(se):me!==void 0&&E.has(se)?de(se):_.protectedKeys[se]=!0}_.prevProp=C,_.prevResolvedValues=Y,_.isActive&&(A={...A,...Y}),i&&e.blockInitialAnimation&&(V=!1),V&&(!(D&&k)||U)&&w.push(...q.map(se=>({animation:se,options:{type:T}})))}if(E.size){const P={};if(typeof m.initial!="boolean"){const T=ic(e,Array.isArray(m.initial)?m.initial[0]:m.initial);T&&T.transition&&(P.transition=T.transition)}E.forEach(T=>{const _=e.getBaseTarget(T),C=e.getValue(T);C&&(C.liveStyle=!0),P[T]=_??null}),w.push({animation:P})}let M=!!w.length;return i&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(M=!1),i=!1,M?t(w):Promise.resolve()}function h(g,m){var w;if(n[g].isActive===m)return Promise.resolve();(w=e.variantChildren)==null||w.forEach(E=>{var A;return(A=E.animationState)==null?void 0:A.setActive(g,m)}),n[g].isActive=m;const b=c(g);for(const E in n)n[E].protectedKeys={};return b}return{animateChanges:c,setActive:h,setAnimateFunction:a,getState:()=>n,reset:()=>{n=qy(),i=!0}}}function sO(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!eA(t,e):!1}function Tr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qy(){return{animate:Tr(!0),whileInView:Tr(),whileHover:Tr(),whileTap:Tr(),whileDrag:Tr(),whileFocus:Tr(),exit:Tr()}}class pr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class rO extends pr{constructor(t){super(t),t.animationState||(t.animationState=iO(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();fh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let aO=0;class oO extends pr{constructor(){super(...arguments),this.id=aO++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const lO={animation:{Feature:rO},exit:{Feature:oO}};function sc(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function jc(e){return{point:{x:e.pageX,y:e.pageY}}}const cO=e=>t=>bm(t)&&e(t,jc(t));function Dl(e,t,n,i){return sc(e,t,cO(n),i)}const nA=1e-4,uO=1-nA,dO=1+nA,iA=.01,hO=0-iA,fO=0+iA;function yn(e){return e.max-e.min}function gO(e,t,n){return Math.abs(e-t)<=n}function Xy(e,t,n,i=.5){e.origin=i,e.originPoint=wt(t.min,t.max,e.origin),e.scale=yn(n)/yn(t),e.translate=wt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=uO&&e.scale<=dO||isNaN(e.scale))&&(e.scale=1),(e.translate>=hO&&e.translate<=fO||isNaN(e.translate))&&(e.translate=0)}function Rl(e,t,n,i){Xy(e.x,t.x,n.x,i?i.originX:void 0),Xy(e.y,t.y,n.y,i?i.originY:void 0)}function Wy(e,t,n){e.min=n.min+t.min,e.max=e.min+yn(t)}function mO(e,t,n){Wy(e.x,t.x,n.x),Wy(e.y,t.y,n.y)}function Zy(e,t,n){e.min=t.min-n.min,e.max=e.min+yn(t)}function Ol(e,t,n){Zy(e.x,t.x,n.x),Zy(e.y,t.y,n.y)}function ti(e){return[e("x"),e("y")]}const sA=({current:e})=>e?e.ownerDocument.defaultView:null,Ky=(e,t)=>Math.abs(e-t);function pO(e,t){const n=Ky(e.x,t.x),i=Ky(e.y,t.y);return Math.sqrt(n**2+i**2)}class rA{constructor(t,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=zf(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,O=pO(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!O)return;const{point:M}=E,{timestamp:P}=tn;this.history.push({...M,timestamp:P});const{onStart:T,onMove:_}=this.handlers;A||(T&&T(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,E)},this.handlePointerMove=(E,A)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Vf(A,this.transformPagePoint),pt.update(this.updatePoint,!0)},this.handlePointerUp=(E,A)=>{this.end();const{onEnd:O,onSessionEnd:M,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=zf(E.type==="pointercancel"?this.lastMoveEventInfo:Vf(A,this.transformPagePoint),this.history);this.startEvent&&O&&O(E,T),M&&M(E,T)},!bm(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=r||window;const h=jc(t),g=Vf(h,this.transformPagePoint),{point:m}=g,{timestamp:b}=tn;this.history=[{...m,timestamp:b}];const{onSessionStart:w}=n;w&&w(t,zf(g,this.history)),this.removeListeners=Dc(Dl(this.contextWindow,"pointermove",this.handlePointerMove),Dl(this.contextWindow,"pointerup",this.handlePointerUp),Dl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),cr(this.updatePoint)}}function Vf(e,t){return t?{point:t(e.point)}:e}function Qy(e,t){return{x:e.x-t.x,y:e.y-t.y}}function zf({point:e},t){return{point:e,delta:Qy(e,aA(t)),offset:Qy(e,xO(t)),velocity:yO(t,.1)}}function xO(e){return e[0]}function aA(e){return e[e.length-1]}function yO(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=aA(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>Fi(t)));)n--;if(!i)return{x:0,y:0};const a=Vi(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const c={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function bO(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?wt(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?wt(n,e,i.max):Math.min(e,n)),e}function $y(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function wO(e,{top:t,left:n,bottom:i,right:r}){return{x:$y(e.x,n,r),y:$y(e.y,t,i)}}function Jy(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function vO(e,t){return{x:Jy(e.x,t.x),y:Jy(e.y,t.y)}}function EO(e,t){let n=.5;const i=yn(e),r=yn(t);return r>i?n=$l(t.min,t.max-i,e.min):i>r&&(n=$l(e.min,e.max-r,t.min)),ps(0,1,n)}function AO(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const T1=.35;function SO(e=T1){return e===!1?e=0:e===!0&&(e=T1),{x:e2(e,"left","right"),y:e2(e,"top","bottom")}}function e2(e,t,n){return{min:t2(e,t),max:t2(e,n)}}function t2(e,t){return typeof e=="number"?e:e[t]||0}const CO=new WeakMap;class TO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=w=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(jc(w).point)},c=(w,E)=>{const{drag:A,dragPropagation:O,onDragStart:M}=this.getProps();if(A&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OD(A),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ti(T=>{let _=this.getAxisMotionValue(T).get()||0;if(zi.test(_)){const{projection:C}=this.visualElement;if(C&&C.layout){const L=C.layout.layoutBox[T];L&&(_=yn(L)*(parseFloat(_)/100))}}this.originPoint[T]=_}),M&&pt.postRender(()=>M(w,E)),S1(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},h=(w,E)=>{this.latestPointerEvent=w,this.latestPanInfo=E;const{dragPropagation:A,dragDirectionLock:O,onDirectionLock:M,onDrag:P}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:T}=E;if(O&&this.currentDirection===null){this.currentDirection=_O(T),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",E.point,T),this.updateAxis("y",E.point,T),this.visualElement.render(),P&&P(w,E)},g=(w,E)=>{this.latestPointerEvent=w,this.latestPanInfo=E,this.stop(w,E),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>ti(w=>{var E;return this.getAnimationState(w)==="paused"&&((E=this.getAxisMotionValue(w).animation)==null?void 0:E.play())}),{dragSnapToOrigin:b}=this.getProps();this.panSession=new rA(t,{onSessionStart:a,onStart:c,onMove:h,onSessionEnd:g,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:i,contextWindow:sA(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,r=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!i)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&pt.postRender(()=>h(i,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:r}=this.getProps();if(!i||!bu(t,r,this.currentDirection))return;const a=this.getAxisMotionValue(t);let c=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(c=bO(c,this.constraints[t],this.elastic[t])),a.set(c)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,r=this.constraints;t&&za(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=wO(i.layoutBox,t):this.constraints=!1,this.elastic=SO(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ti(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=AO(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!za(t))return!1;const i=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=_R(i,r.root,this.visualElement.getTransformPagePoint());let c=vO(r.layout.layoutBox,a);if(n){const h=n(SR(c));this.hasMutatedConstraints=!!h,h&&(c=G3(h))}return c}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),g=this.constraints||{},m=ti(b=>{if(!bu(b,n,this.currentDirection))return;let w=g&&g[b]||{};c&&(w={min:0,max:0});const E=r?200:1e6,A=r?40:1e7,O={type:"inertia",velocity:i?t[b]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(b,O)});return Promise.all(m).then(h)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return S1(this.visualElement,t),i.start(Im(t,i,0,n,this.visualElement,!1))}stopAnimation(){ti(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ti(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){ti(n=>{const{drag:i}=this.getProps();if(!bu(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:c,max:h}=r.layout.layoutBox[n];a.set(t[n]-wt(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!za(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ti(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const g=h.get();r[c]=EO({min:g,max:g},this.constraints[c])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ti(c=>{if(!bu(c,t,null))return;const h=this.getAxisMotionValue(c),{min:g,max:m}=this.constraints[c];h.set(wt(g,m,r[c]))})}addListeners(){if(!this.visualElement.current)return;CO.set(this.visualElement,this);const t=this.visualElement.current,n=Dl(t,"pointerdown",g=>{const{drag:m,dragListener:b=!0}=this.getProps();m&&b&&this.start(g)}),i=()=>{const{dragConstraints:g}=this.getProps();za(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),pt.read(i);const c=sc(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",({delta:g,hasLayoutChanged:m})=>{this.isDragging&&m&&(ti(b=>{const w=this.getAxisMotionValue(b);w&&(this.originPoint[b]+=g[b].translate,w.set(w.get()+g[b].translate))}),this.visualElement.render())});return()=>{c(),n(),a(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:c=T1,dragMomentum:h=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:c,dragMomentum:h}}}function bu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function _O(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class NO extends pr{constructor(t){super(t),this.removeGroupControls=ci,this.removeListeners=ci,this.controls=new TO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ci}unmount(){this.removeGroupControls(),this.removeListeners()}}const n2=e=>(t,n)=>{e&&pt.postRender(()=>e(t,n))};class IO extends pr{constructor(){super(...arguments),this.removePointerDownListener=ci}onPointerDown(t){this.session=new rA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:n2(t),onStart:n2(n),onMove:i,onEnd:(a,c)=>{delete this.session,r&&pt.postRender(()=>r(a,c))}}}mount(){this.removePointerDownListener=Dl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Uu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function i2(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const nl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ee.test(e))e=parseFloat(e);else return e;const n=i2(e,t.target.x),i=i2(e,t.target.y);return`${n}% ${i}%`}},MO={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,r=ur.parse(e);if(r.length>5)return i;const a=ur.createTransformer(e),c=typeof r[0]!="number"?1:0,h=n.x.scale*t.x,g=n.y.scale*t.y;r[0+c]/=h,r[1+c]/=g;const m=wt(h,g,.5);return typeof r[2+c]=="number"&&(r[2+c]/=m),typeof r[3+c]=="number"&&(r[3+c]/=m),a(r)}};let s2=!1;class DO extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=t;$D(RO),a&&(n.group&&n.group.add(a),i&&i.register&&r&&i.register(a),s2&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Uu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:r,isPresent:a}=this.props,{projection:c}=i;return c&&(c.isPresent=a,s2=!0,r||t.layoutDependency!==n||n===void 0||t.isPresent!==a?c.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?c.promote():c.relegate()||pt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ym.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function oA(e){const[t,n]=I3(),i=j.useContext(Kg);return p.jsx(DO,{...e,layoutGroup:i,switchLayoutGroup:j.useContext(z3),isPresent:t,safeToRemove:n})}const RO={borderRadius:{...nl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nl,borderTopRightRadius:nl,borderBottomLeftRadius:nl,borderBottomRightRadius:nl,boxShadow:MO};function OO(e,t,n){const i=hn(e)?e:xo(e);return i.start(Im("",i,t,n)),i.animation}const jO=(e,t)=>e.depth-t.depth;class LO{constructor(){this.children=[],this.isDirty=!1}add(t){Jg(this.children,t),this.isDirty=!0}remove(t){em(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(jO),this.isDirty=!1,this.children.forEach(t)}}function kO(e,t){const n=Dn.now(),i=({timestamp:r})=>{const a=r-n;a>=t&&(cr(i),e(a-t))};return pt.setup(i,!0),()=>cr(i)}const lA=["TopLeft","TopRight","BottomLeft","BottomRight"],BO=lA.length,r2=e=>typeof e=="string"?parseFloat(e):e,a2=e=>typeof e=="number"||Ee.test(e);function PO(e,t,n,i,r,a){r?(e.opacity=wt(0,n.opacity??1,UO(i)),e.opacityExit=wt(t.opacity??1,0,FO(i))):a&&(e.opacity=wt(t.opacity??1,n.opacity??1,i));for(let c=0;c<BO;c++){const h=`border${lA[c]}Radius`;let g=o2(t,h),m=o2(n,h);if(g===void 0&&m===void 0)continue;g||(g=0),m||(m=0),g===0||m===0||a2(g)===a2(m)?(e[h]=Math.max(wt(r2(g),r2(m),i),0),(zi.test(m)||zi.test(g))&&(e[h]+="%")):e[h]=m}(t.rotate||n.rotate)&&(e.rotate=wt(t.rotate||0,n.rotate||0,i))}function o2(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const UO=cA(0,.5,ZE),FO=cA(.5,.95,ci);function cA(e,t,n){return i=>i<e?0:i>t?1:n($l(e,t,i))}function l2(e,t){e.min=t.min,e.max=t.max}function ei(e,t){l2(e.x,t.x),l2(e.y,t.y)}function c2(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function u2(e,t,n,i,r){return e-=t,e=Dd(e,1/n,i),r!==void 0&&(e=Dd(e,1/r,i)),e}function VO(e,t=0,n=1,i=.5,r,a=e,c=e){if(zi.test(t)&&(t=parseFloat(t),t=wt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let h=wt(a.min,a.max,i);e===a&&(h-=t),e.min=u2(e.min,t,n,h,r),e.max=u2(e.max,t,n,h,r)}function d2(e,t,[n,i,r],a,c){VO(e,t[n],t[i],t[r],t.scale,a,c)}const zO=["x","scaleX","originX"],HO=["y","scaleY","originY"];function h2(e,t,n,i){d2(e.x,t,zO,n?n.x:void 0,i?i.x:void 0),d2(e.y,t,HO,n?n.y:void 0,i?i.y:void 0)}function f2(e){return e.translate===0&&e.scale===1}function uA(e){return f2(e.x)&&f2(e.y)}function g2(e,t){return e.min===t.min&&e.max===t.max}function GO(e,t){return g2(e.x,t.x)&&g2(e.y,t.y)}function m2(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function dA(e,t){return m2(e.x,t.x)&&m2(e.y,t.y)}function p2(e){return yn(e.x)/yn(e.y)}function x2(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class YO{constructor(){this.members=[]}add(t){Jg(this.members,t),t.scheduleRender()}remove(t){if(em(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qO(e,t,n){let i="";const r=e.x.translate/t.x,a=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((r||a||c)&&(i=`translate3d(${r}px, ${a}px, ${c}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:b,rotateX:w,rotateY:E,skewX:A,skewY:O}=n;m&&(i=`perspective(${m}px) ${i}`),b&&(i+=`rotate(${b}deg) `),w&&(i+=`rotateX(${w}deg) `),E&&(i+=`rotateY(${E}deg) `),A&&(i+=`skewX(${A}deg) `),O&&(i+=`skewY(${O}deg) `)}const h=e.x.scale*t.x,g=e.y.scale*t.y;return(h!==1||g!==1)&&(i+=`scale(${h}, ${g})`),i||"none"}const Hf=["","X","Y","Z"],XO=1e3;let WO=0;function Gf(e,t,n,i){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function hA(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=$3(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",pt,!(r||a))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&hA(i)}function fA({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(c={},h=t==null?void 0:t()){this.id=WO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(QO),this.nodes.forEach(t7),this.nodes.forEach(n7),this.nodes.forEach($O)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new LO)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new im),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const g=this.eventHandlers.get(c);g&&g.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=N3(c)&&!UD(c),this.instance=c;const{layoutId:h,layout:g,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||h)&&(this.isLayoutDirty=!0),e){let b,w=0;const E=()=>this.root.updateBlockedByResize=!1;pt.read(()=>{w=window.innerWidth}),e(c,()=>{const A=window.innerWidth;A!==w&&(w=A,this.root.updateBlockedByResize=!0,b&&b(),b=kO(E,250),Uu.hasAnimatedSinceResize&&(Uu.hasAnimatedSinceResize=!1,this.nodes.forEach(w2)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||g)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:w,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||m.getDefaultTransition()||o7,{onLayoutAnimationStart:M,onLayoutAnimationComplete:P}=m.getProps(),T=!this.targetLayout||!dA(this.targetLayout,A),_=!w&&E;if(this.options.layoutRoot||this.resumeFrom||_||w&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...pm(O,"layout"),onPlay:M,onComplete:P};(m.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(b,_)}else w||w2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(i7),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const w=this.path[b];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:h,layout:g}=this.options;if(h===void 0&&!g)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(y2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(b2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(e7),this.nodes.forEach(ZO),this.nodes.forEach(KO)):this.nodes.forEach(b2),this.clearAllSnapshots();const h=Dn.now();tn.delta=ps(0,1e3/60,h-tn.timestamp),tn.timestamp=h,tn.isProcessing=!0,Of.update.process(tn),Of.preRender.process(tn),Of.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ym.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JO),this.sharedNodes.forEach(s7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const g=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:g,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!uA(this.projectionDelta),g=this.getTransformTemplate(),m=g?g(this.latestValues,""):void 0,b=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||Dr(this.latestValues)||b)&&(r(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let g=this.removeElementScroll(h);return c&&(g=this.removeTransform(g)),l7(g),{animationId:this.root.animationId,measuredBox:h,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return Mt();const h=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(c7))){const{scroll:b}=this.root;b&&(Ha(h.x,b.offset.x),Ha(h.y,b.offset.y))}return h}removeElementScroll(c){var g;const h=Mt();if(ei(h,c),(g=this.scroll)!=null&&g.wasRoot)return h;for(let m=0;m<this.path.length;m++){const b=this.path[m],{scroll:w,options:E}=b;b!==this.root&&w&&E.layoutScroll&&(w.wasRoot&&ei(h,c),Ha(h.x,w.offset.x),Ha(h.y,w.offset.y))}return h}applyTransform(c,h=!1){const g=Mt();ei(g,c);for(let m=0;m<this.path.length;m++){const b=this.path[m];!h&&b.options.layoutScroll&&b.scroll&&b!==b.root&&Ga(g,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),Dr(b.latestValues)&&Ga(g,b.latestValues)}return Dr(this.latestValues)&&Ga(g,this.latestValues),g}removeTransform(c){const h=Mt();ei(h,c);for(let g=0;g<this.path.length;g++){const m=this.path[g];if(!m.instance||!Dr(m.latestValues))continue;w1(m.latestValues)&&m.updateSnapshot();const b=Mt(),w=m.measurePageBox();ei(b,w),h2(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,b)}return Dr(this.latestValues)&&h2(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==h;if(!(c||g&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:w}=this.options;if(!(!this.layout||!(b||w))){if(this.resolvedRelativeTargetAt=tn.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),Ol(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Mt(),this.targetWithTransforms=Mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ei(this.target,this.layout.layoutBox),q3(this.target,this.targetDelta)):ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),Ol(this.relativeTargetOrigin,this.target,A.target),ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||w1(this.parent.latestValues)||Y3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var O;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let g=!0;if((this.isProjectionDirty||(O=this.parent)!=null&&O.isProjectionDirty)&&(g=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(g=!1),g)return;const{layout:m,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||b))return;ei(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,E=this.treeScale.y;TR(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Mt());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(c2(this.prevProjectionDelta.x,this.projectionDelta.x),c2(this.prevProjectionDelta.y,this.projectionDelta.y)),Rl(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==E||!x2(this.projectionDelta.x,this.prevProjectionDelta.x)||!x2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ya(),this.projectionDelta=Ya(),this.projectionDeltaWithTransform=Ya()}setAnimationOrigin(c,h=!1){const g=this.snapshot,m=g?g.latestValues:{},b={...this.latestValues},w=Ya();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=Mt(),A=g?g.source:void 0,O=this.layout?this.layout.source:void 0,M=A!==O,P=this.getStack(),T=!P||P.members.length<=1,_=!!(M&&!T&&this.options.crossfade===!0&&!this.path.some(a7));this.animationProgress=0;let C;this.mixTargetDelta=L=>{const z=L/1e3;v2(w.x,c.x,z),v2(w.y,c.y,z),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ol(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),r7(this.relativeTarget,this.relativeTargetOrigin,E,z),C&&GO(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Mt()),ei(C,this.relativeTarget)),M&&(this.animationValues=b,PO(b,m,this.latestValues,z,_,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,g,m;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(m=(g=this.resumingFrom)==null?void 0:g.currentAnimation)==null||m.stop(),this.pendingAnimation&&(cr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pt.update(()=>{Uu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xo(0)),this.currentAnimation=OO(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:b=>{this.mixTargetDelta(b),c.onUpdate&&c.onUpdate(b)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(XO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:g,layout:m,latestValues:b}=c;if(!(!h||!g||!m)){if(this!==c&&this.layout&&m&&gA(this.options.animationType,this.layout.layoutBox,m.layoutBox)){g=this.target||Mt();const w=yn(this.layout.layoutBox.x);g.x.min=c.target.x.min,g.x.max=g.x.min+w;const E=yn(this.layout.layoutBox.y);g.y.min=c.target.y.min,g.y.max=g.y.min+E}ei(h,g),Ga(h,b),Rl(this.projectionDeltaWithTransform,this.layoutCorrected,h,b)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new YO),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:g}={}){const m=this.getStack();m&&m.promote(this,g),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:g}=c;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(h=!0),!h)return;const m={};g.z&&Gf("z",c,m,this.animationValues);for(let b=0;b<Hf.length;b++)Gf(`rotate${Hf[b]}`,c,m,this.animationValues),Gf(`skew${Hf[b]}`,c,m,this.animationValues);c.render();for(const b in m)c.setStaticValue(b,m[b]),this.animationValues&&(this.animationValues[b]=m[b]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Pu(h==null?void 0:h.pointerEvents)||"",c.transform=g?g(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Pu(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Dr(this.latestValues)&&(c.transform=g?g({},""):"none",this.hasProjected=!1);return}c.visibility="";const b=m.animationValues||m.latestValues;this.applyTransformsToTarget();let w=qO(this.projectionDeltaWithTransform,this.treeScale,b);g&&(w=g(b,w)),c.transform=w;const{x:E,y:A}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${A.origin*100}% 0`,m.animationValues?c.opacity=m===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:c.opacity=m===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const O in nc){if(b[O]===void 0)continue;const{correct:M,applyTo:P,isCSSVariable:T}=nc[O],_=w==="none"?b[O]:M(b[O],m);if(P){const C=P.length;for(let L=0;L<C;L++)c[P[L]]=_}else T?this.options.visualElement.renderState.vars[O]=_:c[O]=_}this.options.layoutId&&(c.pointerEvents=m===this?Pu(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(y2),this.root.sharedNodes.clear()}}}function ZO(e){e.updateLayout()}function KO(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=e.layout,{animationType:a}=e.options,c=t.source!==e.layout.source;a==="size"?ti(w=>{const E=c?t.measuredBox[w]:t.layoutBox[w],A=yn(E);E.min=i[w].min,E.max=E.min+A}):gA(a,t.layoutBox,i)&&ti(w=>{const E=c?t.measuredBox[w]:t.layoutBox[w],A=yn(i[w]);E.max=E.min+A,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[w].max=e.relativeTarget[w].min+A)});const h=Ya();Rl(h,i,t.layoutBox);const g=Ya();c?Rl(g,e.applyTransform(r,!0),t.measuredBox):Rl(g,i,t.layoutBox);const m=!uA(h);let b=!1;if(!e.resumeFrom){const w=e.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:E,layout:A}=w;if(E&&A){const O=Mt();Ol(O,t.layoutBox,E.layoutBox);const M=Mt();Ol(M,i,A.layoutBox),dA(O,M)||(b=!0),w.options.layoutRoot&&(e.relativeTarget=M,e.relativeTargetOrigin=O,e.relativeParent=w)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:g,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:b})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function QO(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $O(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function JO(e){e.clearSnapshot()}function y2(e){e.clearMeasurements()}function b2(e){e.isLayoutDirty=!1}function e7(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function w2(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function t7(e){e.resolveTargetDelta()}function n7(e){e.calcProjection()}function i7(e){e.resetSkewAndRotation()}function s7(e){e.removeLeadSnapshot()}function v2(e,t,n){e.translate=wt(t.translate,0,n),e.scale=wt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function E2(e,t,n,i){e.min=wt(t.min,n.min,i),e.max=wt(t.max,n.max,i)}function r7(e,t,n,i){E2(e.x,t.x,n.x,i),E2(e.y,t.y,n.y,i)}function a7(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const o7={duration:.45,ease:[.4,0,.1,1]},A2=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),S2=A2("applewebkit/")&&!A2("chrome/")?Math.round:ci;function C2(e){e.min=S2(e.min),e.max=S2(e.max)}function l7(e){C2(e.x),C2(e.y)}function gA(e,t,n){return e==="position"||e==="preserve-aspect"&&!gO(p2(t),p2(n),.2)}function c7(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const u7=fA({attachResizeListener:(e,t)=>sc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yf={current:void 0},mA=fA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Yf.current){const e=new u7({});e.mount(window),e.setOptions({layoutScroll:!0}),Yf.current=e}return Yf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),d7={pan:{Feature:IO},drag:{Feature:NO,ProjectionNode:mA,MeasureLayout:oA}};function T2(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,a=i[r];a&&pt.postRender(()=>a(t,jc(t)))}class h7 extends pr{mount(){const{current:t}=this.node;t&&(this.unmount=jD(t,(n,i)=>(T2(this.node,i,"Start"),r=>T2(this.node,r,"End"))))}unmount(){}}class f7 extends pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dc(sc(this.node.current,"focus",()=>this.onFocus()),sc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _2(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),a=i[r];a&&pt.postRender(()=>a(t,jc(t)))}class g7 extends pr{mount(){const{current:t}=this.node;t&&(this.unmount=PD(t,(n,i)=>(_2(this.node,i,"Start"),(r,{success:a})=>_2(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _1=new WeakMap,qf=new WeakMap,m7=e=>{const t=_1.get(e.target);t&&t(e)},p7=e=>{e.forEach(m7)};function x7({root:e,...t}){const n=e||document;qf.has(n)||qf.set(n,{});const i=qf.get(n),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(p7,{root:e,...t})),i[r]}function y7(e,t,n){const i=x7(t);return _1.set(e,n),i.observe(e),()=>{_1.delete(e),i.unobserve(e)}}const b7={some:0,all:1};class w7 extends pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:a}=t,c={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:b7[r]},h=g=>{const{isIntersecting:m}=g;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:b,onViewportLeave:w}=this.node.getProps(),E=m?b:w;E&&E(g)};return y7(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(v7(t,n))&&this.startObserver()}unmount(){}}function v7({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const E7={inView:{Feature:w7},tap:{Feature:g7},focus:{Feature:f7},hover:{Feature:h7}},A7={layout:{ProjectionNode:mA,MeasureLayout:oA}},S7={...lO,...E7,...d7,...A7},Fn=AR(S7,kR);function C7(){const[e,t]=j.useState([]),[n,i]=j.useState(""),[r,a]=j.useState(null),[c,h]=j.useState(!1),[g,m]=j.useState({showCompany:!0,showTime:!0,autoHide:!0,hideDelay:5e3,backgroundColor:"#1e40af",textColor:"#ffffff"});j.useEffect(()=>{b()},[]),j.useEffect(()=>{if(n){const A=ue.channel("check-ins").on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendees",filter:`event_id=eq.${n}`},O=>{O.new.checked_in&&!O.old.checked_in&&a({id:O.new.id,name:O.new.name,company:O.new.company,check_in_time:O.new.check_in_time})}).subscribe();return()=>{A.unsubscribe()}}},[n]),j.useEffect(()=>{if(r&&g.autoHide){const A=setTimeout(()=>{a(null)},g.hideDelay);return()=>clearTimeout(A)}},[r,g.autoHide,g.hideDelay]);const b=async()=>{try{const{data:A,error:O}=await ue.from("events").select("id, name, company:companies(name)").order("created_at",{ascending:!1});if(O)throw O;if(A){const M=A.map(P=>({...P,company:Array.isArray(P.company)?P.company[0]:P.company}));t(M)}}catch(A){console.error("Error fetching events:",A)}},w=()=>{c?document.exitFullscreen():document.documentElement.requestFullscreen(),h(!c)},E=()=>p.jsx("div",{className:"h-full flex items-center justify-center relative",style:{backgroundColor:g.backgroundColor,color:g.textColor},children:p.jsx(M3,{children:r?p.jsx(Fn.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",duration:.8},className:"text-center",children:p.jsxs(Fn.div,{initial:{y:20},animate:{y:0},className:"mb-8",children:[p.jsx("h1",{className:"text-6xl md:text-8xl font-bold mb-4",children:"Welcome!"}),p.jsx("div",{className:"text-4xl md:text-6xl font-semibold mb-2",children:r.name}),g.showCompany&&r.company&&p.jsx("div",{className:"text-2xl md:text-4xl opacity-80",children:r.company}),g.showTime&&p.jsx("div",{className:"text-xl md:text-2xl opacity-60 mt-4",children:new Date(r.check_in_time).toLocaleTimeString()})]})}):p.jsxs(Fn.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[p.jsx(Rn,{className:"h-32 w-32 mx-auto mb-8 opacity-50"}),p.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:"Welcome to the Event"}),p.jsx("p",{className:"text-xl md:text-2xl opacity-80",children:"Waiting for check-ins..."})]})})});return c?p.jsxs("div",{className:"fixed inset-0 z-50",children:[p.jsx(E,{}),p.jsx("button",{onClick:w,className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white p-2 rounded-lg hover:bg-opacity-70 transition-colors",children:"Exit Fullscreen"})]}):p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome Monitor"}),p.jsx("p",{className:"text-gray-600 mt-2",children:"Display latest check-ins on external monitor"})]}),p.jsxs("button",{onClick:w,disabled:!n,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[p.jsx(V6,{className:"h-5 w-5 mr-2"}),"Fullscreen"]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[p.jsx(gE,{className:"h-6 w-6 mr-2"}),"Settings"]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event"}),p.jsxs("select",{value:n,onChange:A=>i(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"",children:"Select an event"}),e.map(A=>p.jsxs("option",{value:A.id,children:[A.name," (",A.company.name,")"]},A.id))]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",checked:g.showCompany,onChange:A=>m({...g,showCompany:A.target.checked}),className:"mr-2"}),p.jsx("span",{className:"text-sm",children:"Show Company"})]}),p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",checked:g.showTime,onChange:A=>m({...g,showTime:A.target.checked}),className:"mr-2"}),p.jsx("span",{className:"text-sm",children:"Show Check-in Time"})]}),p.jsxs("label",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",checked:g.autoHide,onChange:A=>m({...g,autoHide:A.target.checked}),className:"mr-2"}),p.jsx("span",{className:"text-sm",children:"Auto Hide"})]})]}),g.autoHide&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hide Delay (seconds)"}),p.jsx("input",{type:"number",value:g.hideDelay/1e3,onChange:A=>m({...g,hideDelay:parseInt(A.target.value)*1e3}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",max:"30"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Color"}),p.jsx("input",{type:"color",value:g.backgroundColor,onChange:A=>m({...g,backgroundColor:A.target.value}),className:"w-full h-10 border border-gray-300 rounded-md"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text Color"}),p.jsx("input",{type:"color",value:g.textColor,onChange:A=>m({...g,textColor:A.target.value}),className:"w-full h-10 border border-gray-300 rounded-md"})]})]})]}),p.jsx("div",{className:"lg:col-span-2",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[p.jsx(Ed,{className:"h-6 w-6 mr-2"}),"Preview"]}),p.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden",children:n?p.jsx(E,{}):p.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:p.jsxs("div",{className:"text-center",children:[p.jsx(Ed,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),p.jsx("p",{children:"Select an event to see preview"})]})})}),p.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[p.jsx("p",{children:"• This preview shows how the welcome screen will appear"}),p.jsx("p",{children:'• Click "Fullscreen" to display on external monitor'}),p.jsx("p",{children:"• New check-ins will automatically appear in real-time"})]})]})})]})]})}function T7({userCompany:e}){const[t,n]=j.useState([]),[i,r]=j.useState(""),[a,c]=j.useState([]),[h,g]=j.useState(!1),[m,b]=j.useState(null),[w,E]=j.useState([]),[A,O]=j.useState(""),[M,P]=j.useState(!1);j.useEffect(()=>{T()},[]),j.useEffect(()=>{i&&_()},[i]);const T=async()=>{try{let V=ue.from("events").select(`
          id,
          name,
          company_id,
          company:companies(name)
        `);e&&(V=V.eq("company_id",e.company_id));const{data:U,error:q}=await V.order("created_at",{ascending:!1});if(q)throw q;const Y=(U==null?void 0:U.map($=>({...$,company:Array.isArray($.company)?$.company[0]:$.company})))||[];n(Y),e&&Y&&Y.length>0&&r(Y[0].id)}catch(V){le.error("Error fetching events: "+V.message)}},_=async()=>{try{const{data:V,error:U}=await ue.from("attendees").select("id, name, company").eq("event_id",i).eq("checked_in",!0);if(U)throw U;c(V)}catch(V){le.error("Error fetching attendees: "+V.message)}},C=()=>{if(a.length===0){le.error("No checked-in attendees available for draw");return}const V=a.filter($=>!w.find(ie=>ie.id===$.id));if(V.length===0){le.error("All attendees have already won!");return}g(!0),b(null);let U=0;const q=30,Y=setInterval(()=>{const $=V[Math.floor(Math.random()*V.length)];if(O($.name),U++,U>=q){clearInterval(Y);const ie=V[Math.floor(Math.random()*V.length)];b(ie),O(ie.name),g(!1),le.success(`🎉 ${ie.name} wins!`)}},100)},L=()=>{m&&(E([...w,m]),b(null),O(""))},z=()=>{b(null),O(""),g(!1),E([])},D=()=>{M?document.exitFullscreen():document.documentElement.requestFullscreen(),P(!M)},k=()=>p.jsxs("div",{className:"h-full bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-700 flex items-center justify-center relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0",children:[...Array(20)].map((V,U)=>p.jsx(Fn.div,{className:"absolute w-2 h-2 bg-white rounded-full opacity-30",animate:{x:[0,Math.random()*100-50],y:[0,Math.random()*100-50],scale:[0,1,0]},transition:{duration:3,repeat:1/0,delay:Math.random()*2},style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`}},U))}),p.jsx("div",{className:"text-center text-white z-10",children:p.jsxs(M3,{mode:"wait",children:[!h&&!m&&p.jsxs(Fn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"space-y-8",children:[p.jsx(ll,{className:"h-32 w-32 mx-auto mb-8"}),p.jsx("h1",{className:"text-6xl md:text-8xl font-bold mb-4",children:"Lucky Draw"}),p.jsx("p",{className:"text-2xl md:text-3xl opacity-80",children:"Ready to pick a winner?"})]}),h&&p.jsxs(Fn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8",children:[p.jsx(Fn.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:p.jsx(n5,{className:"h-24 w-24 mx-auto mb-8"})}),p.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-8",children:"Drawing..."}),p.jsx(Fn.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-3xl md:text-5xl font-semibold bg-white bg-opacity-20 rounded-lg p-6",children:A},A)]}),m&&p.jsxs(Fn.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{opacity:0},className:"space-y-8",children:[p.jsx(Fn.div,{animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:p.jsx(Zx,{className:"h-32 w-32 mx-auto mb-8 text-yellow-300"})}),p.jsx(Fn.h1,{className:"text-4xl md:text-6xl font-bold mb-4",animate:{scale:[1,1.05,1]},transition:{duration:1,repeat:1/0},children:"🎉 WINNER! 🎉"}),p.jsx(Fn.div,{initial:{y:20},animate:{y:0},className:"text-4xl md:text-6xl font-bold bg-white bg-opacity-20 rounded-lg p-8",children:m.name}),m.company&&p.jsx(Fn.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-2xl md:text-3xl opacity-80",children:m.company})]})]})})]});return M?p.jsxs("div",{className:"fixed inset-0 z-50",children:[p.jsx(k,{}),p.jsxs("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-4",children:[!h&&!m&&p.jsx("button",{onClick:C,className:"bg-white text-purple-600 px-8 py-4 rounded-lg font-bold text-xl hover:bg-gray-100 transition-colors",children:"Start Draw"}),m&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:L,className:"bg-green-600 text-white px-8 py-4 rounded-lg font-bold text-xl hover:bg-green-700 transition-colors",children:"Confirm Winner"}),p.jsx("button",{onClick:C,className:"bg-blue-600 text-white px-8 py-4 rounded-lg font-bold text-xl hover:bg-blue-700 transition-colors",children:"Draw Again"})]}),p.jsx("button",{onClick:D,className:"bg-gray-600 text-white px-6 py-4 rounded-lg hover:bg-gray-700 transition-colors",children:"Exit"})]})]}):p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lucky Draw"}),p.jsx("p",{className:"text-gray-600 mt-2",children:"Random winner selection from checked-in attendees"})]}),p.jsxs("button",{onClick:D,disabled:!i,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[p.jsx(ll,{className:"h-5 w-5 mr-2"}),"Fullscreen Draw"]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[p.jsx(ll,{className:"h-6 w-6 mr-2"}),"Draw Controls"]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e&&t.length<=1?"Event":"Select Event"}),e&&t.length===1?p.jsx("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:t[0].name}):p.jsxs("select",{value:i,onChange:V=>r(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[!e&&p.jsx("option",{value:"",children:"Select an event"}),t.map(V=>p.jsx("option",{value:V.id,children:e?V.name:`${V.name} (${V.company.name})`},V.id))]})]}),i&&p.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[p.jsxs("div",{className:"flex items-center text-purple-700 mb-2",children:[p.jsx(Rn,{className:"h-5 w-5 mr-2"}),p.jsx("span",{className:"font-medium",children:"Eligible Participants"})]}),p.jsx("div",{className:"text-2xl font-bold text-purple-900",children:a.filter(V=>!w.find(U=>U.id===V.id)).length}),p.jsxs("div",{className:"text-sm text-purple-600",children:[a.length," total checked-in • ",w.length," already won"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("button",{onClick:C,disabled:!i||h||a.length===0,className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[p.jsx(fE,{className:"h-5 w-5 mr-2"}),h?"Drawing...":"Start Lucky Draw"]}),m&&p.jsx("button",{onClick:L,className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Confirm Winner"}),p.jsxs("button",{onClick:z,className:"w-full bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center",children:[p.jsx(Z6,{className:"h-4 w-4 mr-2"}),"Reset All"]})]})]})]}),p.jsxs("div",{className:"lg:col-span-2",children:[p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Preview"}),p.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden",children:i?p.jsx(k,{}):p.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:p.jsxs("div",{className:"text-center",children:[p.jsx(ll,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),p.jsx("p",{children:"Select an event to see preview"})]})})})]}),w.length>0&&p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-6",children:[p.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[p.jsx(Zx,{className:"h-6 w-6 mr-2 text-yellow-500"}),"Previous Winners"]}),p.jsx("div",{className:"space-y-2",children:w.map((V,U)=>p.jsxs("div",{className:"flex items-center p-3 bg-yellow-50 rounded-lg",children:[p.jsx("div",{className:"w-8 h-8 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3",children:U+1}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:V.name}),V.company&&p.jsx("div",{className:"text-sm text-gray-600",children:V.company})]})]},V.id))})]})]})]})]})}function _7({userCompany:e}){const[t,n]=j.useState([]),[i,r]=j.useState(""),[a,c]=j.useState([]),[h,g]=j.useState(0),[m,b]=j.useState(!1),[w,E]=j.useState(""),[A,O]=j.useState(!1);j.useEffect(()=>{M()},[]),j.useEffect(()=>{i&&(P(),T())},[i]),j.useEffect(()=>{let D;return m&&a.length>0&&(D=setInterval(()=>{g(k=>(k+1)%a.length)},3e3)),()=>clearInterval(D)},[m,a.length]);const M=async()=>{try{let D=ue.from("events").select(`
          id,
          name,
          company_id,
          company:companies(name)
        `);e&&(D=D.eq("company_id",e.company_id));const{data:k,error:V}=await D.order("created_at",{ascending:!1});if(V)throw V;const U=k.map(q=>({...q,company:Array.isArray(q.company)?q.company[0]:q.company}));n(U),e&&U&&U.length>0&&r(U[0].id)}catch(D){le.error("Error fetching events: "+D.message)}},P=async()=>{try{O(!0);const{data:D,error:k}=await ue.from("gallery_photos").select("*").eq("event_id",i).order("created_at",{ascending:!1});if(k)throw k;c(D)}catch(D){le.error("Error fetching photos: "+D.message)}finally{O(!1)}},T=async()=>{try{const D=`${window.location.origin}/public/gallery/${i}`,k=await Yi.toDataURL(D);E(k)}catch(D){console.error("Error generating QR code:",D)}},_=async D=>{if(confirm("Are you sure you want to delete this photo?"))try{const{error:k}=await ue.from("gallery_photos").delete().eq("id",D);if(k)throw k;le.success("Photo deleted successfully"),P()}catch(k){le.error("Error deleting photo: "+k.message)}},C=()=>{const D=[...a].sort(()=>Math.random()-.5);c(D),g(0)},L=(D,k)=>{const V=document.createElement("a");V.href=D,V.download=`gallery-photo-${k+1}.jpg`,V.click()},z=()=>{var D,k,V;return p.jsx("div",{className:"h-full bg-black flex items-center justify-center relative",children:a.length>0?p.jsxs("div",{className:"relative w-full h-full",children:[p.jsx("img",{src:(D=a[h])==null?void 0:D.photo_url,alt:"Gallery",className:"w-full h-full object-contain"}),p.jsxs("div",{className:"absolute bottom-8 left-8 text-white bg-black bg-opacity-50 rounded-lg p-4",children:[p.jsx("div",{className:"text-lg font-semibold",children:((k=a[h])==null?void 0:k.attendee_name)||"Anonymous"}),p.jsx("div",{className:"text-sm opacity-80",children:new Date((V=a[h])==null?void 0:V.created_at).toLocaleString()})]}),p.jsxs("div",{className:"absolute bottom-8 right-8 text-white bg-black bg-opacity-50 rounded-lg px-4 py-2",children:[h+1," / ",a.length]})]}):p.jsxs("div",{className:"text-white text-center",children:[p.jsx(ir,{className:"h-24 w-24 mx-auto mb-4 opacity-50"}),p.jsx("h2",{className:"text-2xl font-bold mb-2",children:"No Photos Yet"}),p.jsx("p",{className:"opacity-80",children:"Waiting for attendees to upload photos..."})]})})};return p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Event Gallery"}),p.jsx("p",{className:"text-gray-600 mt-2",children:"Manage photo uploads and slideshow display"})]}),p.jsxs("div",{className:"flex space-x-3",children:[p.jsxs("button",{onClick:C,disabled:a.length===0,className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors flex items-center disabled:opacity-50",children:[p.jsx(e5,{className:"h-5 w-5 mr-2"}),"Shuffle"]}),p.jsx("button",{onClick:()=>b(!m),disabled:a.length===0,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:m?"Stop Slideshow":"Start Slideshow"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[p.jsx(Qr,{className:"h-6 w-6 mr-2"}),"Gallery Setup"]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e&&t.length<=1?"Event":"Select Event"}),e&&t.length===1?p.jsx("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:t[0].name}):p.jsxs("select",{value:i,onChange:D=>r(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[!e&&p.jsx("option",{value:"",children:"Select an event"}),t.map(D=>p.jsx("option",{value:D.id,children:e?D.name:`${D.name} (${D.company.name})`},D.id))]})]}),i&&w&&p.jsxs("div",{className:"text-center",children:[p.jsx("h3",{className:"font-medium mb-2",children:"Upload QR Code"}),p.jsx("img",{src:w,alt:"Gallery QR Code",className:"w-48 h-48 mx-auto border rounded-lg"}),p.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Attendees scan this to upload photos"}),p.jsx("button",{onClick:()=>navigator.clipboard.writeText(`${window.location.origin}/public/gallery/${i}`),className:"mt-2 text-blue-600 hover:text-blue-700 text-sm",children:"Copy Upload Link"})]}),i&&p.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[p.jsx("div",{className:"text-blue-700 font-medium mb-1",children:"Gallery Stats"}),p.jsx("div",{className:"text-2xl font-bold text-blue-900",children:a.length}),p.jsx("div",{className:"text-sm text-blue-600",children:"Photos uploaded"})]})]})]}),p.jsxs("div",{className:"lg:col-span-2",children:[p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[p.jsx(ir,{className:"h-6 w-6 mr-2"}),"Gallery Display"]}),p.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden mb-4",children:i?p.jsx(z,{}):p.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:p.jsxs("div",{className:"text-center",children:[p.jsx(ir,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),p.jsx("p",{children:"Select an event to see gallery"})]})})}),a.length>0&&p.jsxs("div",{className:"flex justify-center space-x-2",children:[p.jsx("button",{onClick:()=>g(Math.max(0,h-1)),className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 transition-colors",children:"Previous"}),p.jsxs("span",{className:"px-3 py-1 bg-gray-100 rounded",children:[h+1," / ",a.length]}),p.jsx("button",{onClick:()=>g(Math.min(a.length-1,h+1)),className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 transition-colors",children:"Next"})]})]}),a.length>0&&p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-6",children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Photos"}),A?p.jsx("div",{className:"flex items-center justify-center h-32",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:a.map((D,k)=>p.jsxs("div",{className:"relative group",children:[p.jsx("img",{src:D.photo_url,alt:"Gallery",className:"w-full h-24 object-cover rounded-lg cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>g(k)}),p.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all rounded-lg flex items-center justify-center",children:p.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex space-x-2",children:[p.jsx("button",{onClick:()=>L(D.photo_url,k),className:"text-white hover:text-blue-300 transition-colors",children:p.jsx(Vg,{className:"h-4 w-4"})}),p.jsx("button",{onClick:()=>_(D.id),className:"text-white hover:text-red-300 transition-colors",children:p.jsx($r,{className:"h-4 w-4"})})]})}),D.attendee_name&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 text-white text-xs p-1 rounded-b-lg truncate",children:D.attendee_name})]},D.id))})]})]})]})]})}function N7({userCompany:e}){const[t,n]=j.useState([]),[i,r]=j.useState(""),[a,c]=j.useState([]),[h,g]=j.useState(10),[m,b]=j.useState(8),[w,E]=j.useState(!1),[A,O]=j.useState(null),[M,P]=j.useState({table_number:"",seat_number:""});j.useEffect(()=>{T()},[]),j.useEffect(()=>{i&&_()},[i]);const T=async()=>{try{let Y=ue.from("events").select(`
          id,
          name,
          company_id,
          company:companies(name)
        `);e&&(Y=Y.eq("company_id",e.company_id));const{data:$,error:ie}=await Y.order("created_at",{ascending:!1});if(ie)throw ie;const de=($==null?void 0:$.map(Z=>({...Z,company:Array.isArray(Z.company)?Z.company[0]:Z.company})))||[];n(de),e&&de&&de.length>0&&r(de[0].id)}catch(Y){le.error("Error fetching events: "+Y.message)}},_=async()=>{try{const{data:Y,error:$}=await ue.from("attendees").select("*").eq("event_id",i).order("name");if($)throw $;c(Y)}catch(Y){le.error("Error fetching attendees: "+Y.message)}},C=async Y=>{if(Y.preventDefault(),!!A)try{const{error:$}=await ue.from("attendees").update({table_number:parseInt(M.table_number),seat_number:parseInt(M.seat_number)}).eq("id",A.id);if($)throw $;le.success("Seat assigned successfully"),E(!1),O(null),P({table_number:"",seat_number:""}),_()}catch($){le.error("Error assigning seat: "+$.message)}},L=async()=>{if(confirm("This will automatically assign seats to all unassigned attendees. Continue?"))try{const Y=a.filter(de=>!de.table_number);let $=1,ie=1;for(const de of Y){const{error:Z}=await ue.from("attendees").update({table_number:$,seat_number:ie}).eq("id",de.id);if(Z)throw Z;ie++,ie>m&&(ie=1,$++)}le.success("Seats assigned automatically"),_()}catch(Y){le.error("Error auto-assigning seats: "+Y.message)}},z=async()=>{if(confirm("This will clear all seat assignments. Continue?"))try{const{error:Y}=await ue.from("attendees").update({table_number:null,seat_number:null}).eq("event_id",i);if(Y)throw Y;le.success("All seat assignments cleared"),_()}catch(Y){le.error("Error clearing seats: "+Y.message)}},D=()=>{const Y=a.filter(J=>J.table_number).map(J=>({Name:J.name,Email:J.email,Company:J.company,Table:J.table_number,Seat:J.seat_number})),$=[Object.keys(Y[0]||{}).join(","),...Y.map(J=>Object.values(J).join(","))].join(`
`),ie=new Blob([$],{type:"text/csv"}),de=URL.createObjectURL(ie),Z=document.createElement("a");Z.href=de,Z.download=`seating-chart-${i}.csv`,Z.click(),URL.revokeObjectURL(de)},k=Y=>{var $,ie;O(Y),P({table_number:(($=Y.table_number)==null?void 0:$.toString())||"",seat_number:((ie=Y.seat_number)==null?void 0:ie.toString())||""}),E(!0)},V=Y=>a.filter($=>$.table_number===Y).sort(($,ie)=>($.seat_number||0)-(ie.seat_number||0)),U=a.filter(Y=>Y.table_number).length,q=a.length-U;return p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Seating Arrangement"}),p.jsx("p",{className:"text-gray-600 mt-2",children:"Manage table assignments for event attendees"})]}),p.jsxs("div",{className:"flex space-x-3",children:[p.jsxs("button",{onClick:D,disabled:U===0,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center disabled:opacity-50",children:[p.jsx(Vg,{className:"h-5 w-5 mr-2"}),"Export Chart"]}),p.jsxs("button",{onClick:L,disabled:q===0,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:[p.jsx(Rn,{className:"h-5 w-5 mr-2"}),"Auto Assign"]}),p.jsxs("button",{onClick:z,disabled:U===0,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[p.jsx($r,{className:"h-5 w-5 mr-2"}),"Clear All"]})]})]}),p.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e&&t.length<=1?"Event":"Select Event"}),e&&t.length===1?p.jsx("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:t[0].name}):p.jsxs("select",{value:i,onChange:Y=>r(Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[!e&&p.jsx("option",{value:"",children:"Select an event"}),t.map(Y=>p.jsx("option",{value:Y.id,children:e?Y.name:`${Y.name} (${Y.company.name})`},Y.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Tables"}),p.jsx("input",{type:"number",value:h,onChange:Y=>g(parseInt(Y.target.value)||1),min:"1",max:"50",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seats per Table"}),p.jsx("input",{type:"number",value:m,onChange:Y=>b(parseInt(Y.target.value)||1),min:"1",max:"20",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assignment Status"}),p.jsxs("div",{className:"text-sm",children:[p.jsxs("div",{className:"text-green-600",children:["Assigned: ",U]}),p.jsxs("div",{className:"text-orange-600",children:["Unassigned: ",q]})]})]})]})}),i&&p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[p.jsx(Rn,{className:"h-6 w-6 mr-2"}),"Unassigned Attendees (",q,")"]}),p.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[a.filter(Y=>!Y.table_number).map(Y=>p.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:Y.name}),p.jsx("div",{className:"text-sm text-gray-600",children:Y.company})]}),p.jsx("button",{onClick:()=>k(Y),className:"text-blue-600 hover:text-blue-700",children:p.jsx(Kl,{className:"h-4 w-4"})})]},Y.id)),q===0&&p.jsxs("div",{className:"text-center py-8 text-gray-500",children:[p.jsx(Rn,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),p.jsx("p",{children:"All attendees have been assigned"})]})]})]}),p.jsx("div",{className:"lg:col-span-2",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[p.jsx(Ic,{className:"h-6 w-6 mr-2"}),"Seating Chart"]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:Array.from({length:h},(Y,$)=>$+1).map(Y=>{const $=V(Y);return p.jsxs("div",{className:"border rounded-lg p-4",children:[p.jsxs("h3",{className:"font-medium text-gray-900 mb-3 text-center",children:["Table ",Y]}),p.jsx("div",{className:"space-y-2",children:Array.from({length:m},(ie,de)=>de+1).map(ie=>{const de=$.find(Z=>Z.seat_number===ie);return p.jsxs("div",{className:`p-2 rounded text-sm ${de?"bg-blue-100 border border-blue-300":"bg-gray-50 border border-gray-200"}`,children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("span",{className:"font-medium",children:["Seat ",ie]}),de&&p.jsx("button",{onClick:()=>k(de),className:"text-blue-600 hover:text-blue-700",children:p.jsx(ah,{className:"h-3 w-3"})})]}),de&&p.jsxs("div",{className:"mt-1",children:[p.jsx("div",{className:"font-medium text-gray-900",children:de.name}),p.jsx("div",{className:"text-xs text-gray-600",children:de.company})]})]},ie)})})]},Y)})})]})})]}),w&&A&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[p.jsx("h2",{className:"text-xl font-bold mb-4",children:"Assign Seat"}),p.jsxs("div",{className:"mb-4",children:[p.jsx("h3",{className:"font-medium text-gray-900",children:A.name}),p.jsx("p",{className:"text-sm text-gray-600",children:A.company})]}),p.jsxs("form",{onSubmit:C,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Table Number *"}),p.jsxs("select",{value:M.table_number,onChange:Y=>P({...M,table_number:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[p.jsx("option",{value:"",children:"Select table"}),Array.from({length:h},(Y,$)=>$+1).map(Y=>p.jsxs("option",{value:Y,children:["Table ",Y]},Y))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seat Number *"}),p.jsxs("select",{value:M.seat_number,onChange:Y=>P({...M,seat_number:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:!M.table_number,children:[p.jsx("option",{value:"",children:"Select seat"}),M.table_number&&Array.from({length:m},(Y,$)=>$+1).map(Y=>{const $=a.some(ie=>ie.table_number===parseInt(M.table_number)&&ie.seat_number===Y&&ie.id!==A.id);return p.jsxs("option",{value:Y,disabled:$,children:["Seat ",Y," ",$?"(Occupied)":""]},Y)})]})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx("button",{type:"button",onClick:()=>{E(!1),O(null),P({table_number:"",seat_number:""})},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),p.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Assign Seat"})]})]})]})})]})}function I7(){const[e,t]=j.useState([]),[n,i]=j.useState([]),[r,a]=j.useState(new Date().getFullYear()),[c,h]=j.useState(!0);j.useEffect(()=>{g(),m()},[r]);const g=async()=>{try{h(!0);const{data:M,error:P}=await ue.from("events").select(`
          id,
          created_at,
          company_id
        `).gte("created_at",`${r}-01-01`).lt("created_at",`${r+1}-01-01`);if(P)throw P;const T=(M==null?void 0:M.map(k=>k.id))||[],{data:_,error:C}=await ue.from("attendees").select("id, event_id, checked_in, created_at").in("event_id",T);if(C)throw C;const{data:L,error:z}=await ue.from("companies").select("id, created_at").gte("created_at",`${r}-01-01`).lt("created_at",`${r+1}-01-01`);if(z)throw z;const D=[];for(let k=0;k<12;k++){const V=new Date(r,k,1),U=new Date(r,k+1,0),q=(M==null?void 0:M.filter(ie=>{const de=new Date(ie.created_at);return de>=V&&de<=U}))||[],Y=(_==null?void 0:_.filter(ie=>{const de=new Date(ie.created_at);return de>=V&&de<=U}))||[],$=(L==null?void 0:L.filter(ie=>{const de=new Date(ie.created_at);return de>=V&&de<=U}))||[];D.push({month:V.toLocaleDateString("en-US",{month:"short"}),events:q.length,attendees:Y.length,checkedIn:Y.filter(ie=>ie.checked_in).length,companies:$.length})}t(D)}catch(M){le.error("Error fetching monthly progress: "+M.message)}finally{h(!1)}},m=async()=>{try{const{data:M,error:P}=await ue.from("companies").select(`
          id,
          name,
          events!inner(
            id,
            attendees(id, checked_in)
          )
        `);if(P)throw P;const T=(M==null?void 0:M.map(_=>{const C=_.events||[],L=C.flatMap(z=>z.attendees||[]);return{id:_.id,name:_.name,events:C.length,attendees:L.length,checkedIn:L.filter(z=>z.checked_in).length}}))||[];i(T.sort((_,C)=>C.attendees-_.attendees))}catch(M){console.error("Error fetching company progress:",M)}},b=e.reduce((M,P)=>M+P.events,0),w=e.reduce((M,P)=>M+P.attendees,0),E=e.reduce((M,P)=>M+P.checkedIn,0),A=e.reduce((M,P)=>M+P.companies,0),O=Math.max(...e.map(M=>Math.max(M.events,M.attendees/10,M.checkedIn/10)));return p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Monthly Progress"}),p.jsx("p",{className:"text-gray-600 mt-2",children:"Track monthly performance and growth"})]}),p.jsx("div",{children:p.jsx("select",{value:r,onChange:M=>a(parseInt(M.target.value)),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:5},(M,P)=>new Date().getFullYear()-P).map(M=>p.jsx("option",{value:M,children:M},M))})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[p.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(or,{className:"h-8 w-8 text-blue-600 mr-3"}),p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b}),p.jsx("div",{className:"text-sm text-gray-600",children:"Total Events"})]})]})}),p.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(Rn,{className:"h-8 w-8 text-green-600 mr-3"}),p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-bold text-gray-900",children:w}),p.jsx("div",{className:"text-sm text-gray-600",children:"Total Attendees"})]})]})}),p.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(a5,{className:"h-8 w-8 text-purple-600 mr-3"}),p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-bold text-gray-900",children:E}),p.jsx("div",{className:"text-sm text-gray-600",children:"Checked In"})]})]})}),p.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(Hr,{className:"h-8 w-8 text-orange-600 mr-3"}),p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-bold text-gray-900",children:A}),p.jsx("div",{className:"text-sm text-gray-600",children:"New Companies"})]})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[p.jsx(Fg,{className:"h-6 w-6 mr-2"}),"Monthly Trends (",r,")"]}),c?p.jsx("div",{className:"flex items-center justify-center h-64",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):p.jsx("div",{className:"space-y-4",children:e.map((M,P)=>p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"font-medium",children:M.month}),p.jsxs("span",{className:"text-gray-600",children:[M.events," events • ",M.attendees," attendees"]})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-16 text-xs text-gray-600",children:"Events"}),p.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:p.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${O>0?M.events/O*100:0}%`}})}),p.jsx("div",{className:"w-8 text-xs text-right",children:M.events})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-16 text-xs text-gray-600",children:"Attendees"}),p.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:p.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${O>0?M.attendees/10/O*100:0}%`}})}),p.jsx("div",{className:"w-8 text-xs text-right",children:M.attendees})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-16 text-xs text-gray-600",children:"Check-ins"}),p.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:p.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${O>0?M.checkedIn/10/O*100:0}%`}})}),p.jsx("div",{className:"w-8 text-xs text-right",children:M.checkedIn})]})]})]},P))})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[p.jsx(Hr,{className:"h-6 w-6 mr-2"}),"Company Performance"]}),p.jsxs("div",{className:"space-y-4",children:[n.slice(0,10).map((M,P)=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3",children:P+1}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:M.name}),p.jsxs("div",{className:"text-sm text-gray-600",children:[M.events," events • ",M.attendees," attendees"]})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"text-lg font-bold text-gray-900",children:M.checkedIn}),p.jsx("div",{className:"text-xs text-gray-600",children:"checked in"})]})]},M.id)),n.length===0&&p.jsxs("div",{className:"text-center py-8 text-gray-500",children:[p.jsx(Hr,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),p.jsx("p",{children:"No company data available"})]})]})]})]})]})}function M7({userCompany:e}){const[t,n]=j.useState([]),[i,r]=j.useState(""),[a,c]=j.useState([]),[h,g]=j.useState(""),[m,b]=j.useState([]),[w,E]=j.useState(!1),[A,O]=j.useState(!1),[M,P]=j.useState(null),[T,_]=j.useState(""),[C,L]=j.useState({title:"",description:""}),[z,D]=j.useState({title:"",photo_url:""});j.useEffect(()=>{k()},[]),j.useEffect(()=>{i&&V()},[i]),j.useEffect(()=>{h&&(U(),q())},[h]);const k=async()=>{try{let te=ue.from("events").select(`
          id,
          name,
          company_id,
          company:companies(name)
        `);e&&(te=te.eq("company_id",e.company_id));const{data:be,error:Pe}=await te.order("created_at",{ascending:!1});if(Pe)throw Pe;const dt=(be==null?void 0:be.map(ke=>({...ke,company:Array.isArray(ke.company)?ke.company[0]:ke.company})))||[];n(dt),e&&dt&&dt.length>0&&r(dt[0].id)}catch(te){le.error("Error fetching events: "+te.message)}},V=async()=>{try{const{data:te,error:be}=await ue.from("voting_sessions").select("*").eq("event_id",i).order("created_at",{ascending:!1});if(be)throw be;c(te)}catch(te){le.error("Error fetching voting sessions: "+te.message)}},U=async()=>{try{const{data:te,error:be}=await ue.from("voting_photos").select("*").eq("voting_session_id",h).order("created_at",{ascending:!1});if(be)throw be;const Pe=await Promise.all(te.map(async dt=>{const{data:ke}=await ue.from("votes").select("id").eq("voting_photo_id",dt.id);return{...dt,vote_count:(ke==null?void 0:ke.length)||0}}));b(Pe)}catch(te){le.error("Error fetching photos: "+te.message)}},q=async()=>{try{const te=`${window.location.origin}/public/voting/${h}`,be=await Yi.toDataURL(te);_(be)}catch(te){console.error("Error generating QR code:",te)}},Y=async te=>{te.preventDefault();try{if(M){const{error:be}=await ue.from("voting_sessions").update({title:C.title,description:C.description||null}).eq("id",M.id);if(be)throw be;le.success("Voting session updated successfully")}else{const{error:be}=await ue.from("voting_sessions").insert([{event_id:i,title:C.title,description:C.description||null}]);if(be)throw be;le.success("Voting session created successfully")}J(),V()}catch(be){le.error("Error saving voting session: "+be.message)}},$=async te=>{te.preventDefault();try{const{error:be}=await ue.from("voting_photos").insert([{voting_session_id:h,title:z.title,photo_url:z.photo_url}]);if(be)throw be;le.success("Photo added successfully"),se(),U()}catch(be){le.error("Error adding photo: "+be.message)}},ie=async(te,be)=>{try{be&&await ue.from("voting_sessions").update({is_active:!1}).eq("event_id",i);const{error:Pe}=await ue.from("voting_sessions").update({is_active:be}).eq("id",te);if(Pe)throw Pe;le.success(`Voting session ${be?"activated":"deactivated"}`),V()}catch(Pe){le.error("Error updating session status: "+Pe.message)}},de=async te=>{if(confirm("Are you sure you want to delete this voting session? This will also delete all photos and votes."))try{const{error:be}=await ue.from("voting_sessions").delete().eq("id",te);if(be)throw be;le.success("Voting session deleted successfully"),V(),h===te&&(g(""),b([]))}catch(be){le.error("Error deleting session: "+be.message)}},Z=async te=>{if(confirm("Are you sure you want to delete this photo? This will also delete all votes for it."))try{const{error:be}=await ue.from("voting_photos").delete().eq("id",te);if(be)throw be;le.success("Photo deleted successfully"),U()}catch(be){le.error("Error deleting photo: "+be.message)}},J=()=>{L({title:"",description:""}),P(null),E(!1)},se=()=>{D({title:"",photo_url:""}),O(!1)},me=te=>{P(te),L({title:te.title,description:te.description||""}),E(!0)},Oe=async te=>{var Pe;const be=(Pe=te.target.files)==null?void 0:Pe[0];if(be){if(be.size>10*1024*1024){le.error("File size must be less than 10MB");return}if(!be.type.startsWith("image/")){le.error("Please select an image file");return}try{const dt=new FileReader;dt.onload=ke=>{var xe;const Ci=(xe=ke.target)==null?void 0:xe.result;D({...z,photo_url:Ci})},dt.readAsDataURL(be)}catch(dt){le.error("Error uploading file: "+dt.message)}}};return p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Voting Administration"}),p.jsx("p",{className:"text-gray-600 mt-2",children:"Manage voting sessions and photos"})]}),p.jsxs("button",{onClick:()=>E(!0),disabled:!i,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:[p.jsx(Kl,{className:"h-5 w-5 mr-2"}),"New Voting Session"]})]}),p.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e&&t.length<=1?"Event":"Select Event"}),e&&t.length===1?p.jsx("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:t[0].name}):p.jsxs("select",{value:i,onChange:te=>r(te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[!e&&p.jsx("option",{value:"",children:"Select an event"}),t.map(te=>p.jsx("option",{value:te.id,children:e?te.name:`${te.name} (${te.company.name})`},te.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Voting Session"}),p.jsxs("select",{value:h,onChange:te=>g(te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[p.jsx("option",{value:"",children:"Select a voting session"}),a.map(te=>p.jsxs("option",{value:te.id,children:[te.title," ",te.is_active&&"(Active)"]},te.id))]})]})]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[p.jsx(Gr,{className:"h-6 w-6 mr-2"}),"Voting Sessions"]}),p.jsxs("div",{className:"space-y-3",children:[a.map(te=>p.jsxs("div",{className:`p-4 border rounded-lg ${te.is_active?"border-green-500 bg-green-50":"border-gray-200"}`,children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-gray-900",children:te.title}),te.description&&p.jsx("p",{className:"text-sm text-gray-600",children:te.description})]}),p.jsxs("div",{className:"flex space-x-1",children:[p.jsx("button",{onClick:()=>ie(te.id,!te.is_active),className:`p-1 rounded ${te.is_active?"text-red-600 hover:text-red-700":"text-green-600 hover:text-green-700"}`,children:te.is_active?p.jsx(G6,{className:"h-4 w-4"}):p.jsx(fE,{className:"h-4 w-4"})}),p.jsx("button",{onClick:()=>me(te),className:"text-gray-400 hover:text-blue-600 transition-colors",children:p.jsx(ah,{className:"h-4 w-4"})}),p.jsx("button",{onClick:()=>de(te.id),className:"text-gray-400 hover:text-red-600 transition-colors",children:p.jsx($r,{className:"h-4 w-4"})})]})]}),p.jsxs("div",{className:"text-xs text-gray-500",children:["Created ",new Date(te.created_at).toLocaleDateString()]})]},te.id)),a.length===0&&i&&p.jsxs("div",{className:"text-center py-8 text-gray-500",children:[p.jsx(Gr,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),p.jsx("p",{children:"No voting sessions yet"})]})]})]}),p.jsx("div",{className:"lg:col-span-2",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[p.jsx(ir,{className:"h-6 w-6 mr-2"}),"Voting Photos"]}),p.jsxs("button",{onClick:()=>O(!0),disabled:!h,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center disabled:opacity-50",children:[p.jsx(Kl,{className:"h-5 w-5 mr-2"}),"Add Photo"]})]}),h&&T&&p.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Voting QR Code"}),p.jsx("p",{className:"text-sm text-blue-700",children:"Share this QR code for attendees to vote"})]}),p.jsx("img",{src:T,alt:"Voting QR Code",className:"w-24 h-24 border rounded-lg"})]})}),m.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(te=>p.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[p.jsx("img",{src:te.photo_url,alt:te.title,className:"w-full h-48 object-cover"}),p.jsxs("div",{className:"p-4",children:[p.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:te.title}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("span",{className:"text-sm text-gray-600",children:[te.vote_count," votes"]}),p.jsx("button",{onClick:()=>Z(te.id),className:"text-red-600 hover:text-red-700",children:p.jsx($r,{className:"h-4 w-4"})})]})]})]},te.id))}):h?p.jsxs("div",{className:"text-center py-12 text-gray-500",children:[p.jsx(ir,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),p.jsx("p",{children:"No photos added yet"}),p.jsx("p",{className:"text-sm",children:"Add photos for attendees to vote on"})]}):p.jsxs("div",{className:"text-center py-12 text-gray-500",children:[p.jsx(Gr,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),p.jsx("p",{children:"Select a voting session to manage photos"})]})]})})]}),w&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[p.jsx("h2",{className:"text-xl font-bold mb-4",children:M?"Edit Voting Session":"Create Voting Session"}),p.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),p.jsx("input",{type:"text",value:C.title,onChange:te=>L({...C,title:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter voting session title",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),p.jsx("textarea",{value:C.description,onChange:te=>L({...C,description:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Enter description (optional)"})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx("button",{type:"button",onClick:J,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),p.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:M?"Update Session":"Create Session"})]})]})]})}),A&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[p.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add Voting Photo"}),p.jsxs("form",{onSubmit:$,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photo Title *"}),p.jsx("input",{type:"text",value:z.title,onChange:te=>D({...z,title:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter photo title",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Photo *"}),p.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:z.photo_url?p.jsxs("div",{className:"space-y-2",children:[p.jsx("img",{src:z.photo_url,alt:"Preview",className:"max-w-full h-32 object-contain mx-auto rounded"}),p.jsx("button",{type:"button",onClick:()=>D({...z,photo_url:""}),className:"text-blue-600 hover:text-blue-700 text-sm",children:"Choose Different Photo"})]}):p.jsxs("div",{children:[p.jsx(zg,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),p.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Click to upload photo"}),p.jsx("input",{type:"file",accept:"image/*",onChange:Oe,className:"hidden",id:"photo-upload"}),p.jsx("label",{htmlFor:"photo-upload",className:"inline-block bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:"Select Photo"})]})})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx("button",{type:"button",onClick:se,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),p.jsx("button",{type:"submit",disabled:!z.photo_url,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:"Add Photo"})]})]})]})})]})}function D7(){const{eventId:e}=Ac(),[t,n]=j.useState(null),[i,r]=j.useState(!1),[a,c]=j.useState(!1),[h,g]=j.useState(""),[m,b]=j.useState(null),[w,E]=j.useState(null);j.useEffect(()=>{e&&A()},[e]);const A=async()=>{try{const{data:T,error:_}=await ue.from("events").select(`
          id,
          name,
          description,
          company:companies(name)
        `).eq("id",e).single();if(_)throw _;const C={...T,company:Array.isArray(T.company)?T.company[0]??{name:""}:T.company};n(C)}catch{le.error("Event not found")}},O=T=>{var C;const _=(C=T.target.files)==null?void 0:C[0];if(_){if(_.size>10*1024*1024){le.error("File size must be less than 10MB");return}if(!_.type.startsWith("image/")){le.error("Please select an image file");return}b(_);const L=URL.createObjectURL(_);E(L)}},M=async()=>{if(!(!m||!t)){r(!0);try{const T=new FileReader;T.onload=async _=>{var z;const C=(z=_.target)==null?void 0:z.result,{error:L}=await ue.from("gallery_photos").insert([{event_id:t.id,attendee_name:h.trim()||null,photo_url:C}]);if(L)throw L;le.success("Photo uploaded successfully!"),c(!0),b(null),E(null),g("")},T.readAsDataURL(m)}catch(T){le.error("Error uploading photo: "+T.message)}finally{r(!1)}}},P=()=>{c(!1),b(null),E(null),g("")};return t?a?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:p.jsx("div",{className:"max-w-md w-full text-center",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[p.jsx(nr,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Photo Uploaded!"}),p.jsxs("p",{className:"text-gray-600 mb-6",children:["Thank you for sharing your moment from ",t.name]}),p.jsx("button",{onClick:P,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Upload Another Photo"})]})})}):p.jsx("div",{className:"min-h-screen bg-gray-50 py-4 md:py-12 px-4",children:p.jsx("div",{className:"max-w-2xl mx-auto",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[p.jsxs("div",{className:"bg-blue-600 text-white px-4 md:px-6 py-6 md:py-8 text-center",children:[p.jsx(vd,{className:"h-12 w-12 mx-auto mb-4"}),p.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Share Your Photo"}),p.jsx("p",{className:"text-blue-100",children:t.name}),p.jsx("p",{className:"text-blue-200 text-sm",children:t.company.name})]}),p.jsxs("div",{className:"px-4 md:px-6 py-6 md:py-8",children:[p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name (Optional)"}),p.jsx("input",{type:"text",value:h,onChange:T=>g(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your name"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Photo"}),p.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 md:p-6 text-center hover:border-blue-400 transition-colors",children:w?p.jsxs("div",{className:"space-y-4",children:[p.jsx("img",{src:w,alt:"Preview",className:"max-w-full h-48 md:h-64 object-contain mx-auto rounded-lg"}),p.jsx("button",{onClick:()=>{b(null),E(null)},className:"text-blue-600 hover:text-blue-700 text-sm",children:"Choose Different Photo"})]}):p.jsxs("div",{children:[p.jsx(ir,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600 mb-2",children:"Click to select a photo"}),p.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG up to 10MB"}),p.jsx("input",{type:"file",accept:"image/*",onChange:O,className:"hidden",id:"photo-upload"}),p.jsx("label",{htmlFor:"photo-upload",className:"mt-4 inline-block bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:"Select Photo"})]})})]}),m&&p.jsxs("button",{onClick:M,disabled:i,className:"w-full bg-green-600 text-white py-2 md:py-3 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center disabled:opacity-50 text-sm md:text-base",children:[p.jsx(zg,{className:"h-5 w-5 mr-2"}),i?"Uploading...":"Upload Photo"]})]}),p.jsxs("div",{className:"mt-8 text-center text-sm text-gray-600",children:[p.jsx("p",{children:"• Your photo will be added to the event gallery"}),p.jsx("p",{children:"• Photos may be displayed during the event"}),p.jsx("p",{children:"• By uploading, you consent to public display"})]})]})]})})}):p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}function R7(){const{eventId:e}=Ac(),t=Ec(),[n,i]=j.useState(null),[r,a]=j.useState(!0),[c,h]=j.useState(!1),[g,m]=j.useState({name:"",email:"",phone:"",identification_number:"",staff_id:""});j.useEffect(()=>{e&&b()},[e]);const b=async()=>{try{const{data:E,error:A}=await ue.from("events").select("*").eq("id",e).single();if(A)throw A;i(E)}catch{le.error("Event not found"),t("/")}finally{a(!1)}},w=async E=>{if(E.preventDefault(),!(!n||!g.name.trim()||!g.identification_number.trim())){h(!0);try{const A=crypto.randomUUID(),O=`${A}|${n.id}|${g.name}`,M=await Yi.toDataURL(O,{width:200,margin:1,errorCorrectionLevel:"L"}),{error:P}=await ue.from("attendees").insert([{id:A,event_id:n.id,name:g.name,email:g.email||null,phone:g.phone||null,identification_number:g.identification_number,staff_id:g.staff_id||null,qr_code:M}]);if(P)throw P;le.success("Registration successful!"),t(`/public/ticket/${A}`)}catch(A){le.error("Registration failed: "+A.message)}finally{h(!1)}}};return r?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n?p.jsx("div",{className:"min-h-screen bg-gray-50 py-4 md:py-12 px-4 sm:px-6 lg:px-8",children:p.jsx("div",{className:"max-w-2xl mx-auto",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[p.jsxs("div",{className:"bg-blue-600 text-white px-4 md:px-6 py-6 md:py-8",children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-4",children:n.name}),n.description&&p.jsx("p",{className:"text-blue-100 mb-4",children:n.description}),p.jsxs("div",{className:"space-y-2",children:[n.date&&p.jsxs("div",{className:"flex items-center text-blue-100",children:[p.jsx(or,{className:"h-5 w-5 mr-2"}),p.jsx("span",{className:"text-sm md:text-base",children:new Date(n.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),n.location&&p.jsxs("div",{className:"flex items-center text-blue-100",children:[p.jsx(Ic,{className:"h-5 w-5 mr-2"}),p.jsx("span",{className:"text-sm md:text-base",children:n.location})]})]})]}),p.jsxs("div",{className:"px-4 md:px-6 py-6 md:py-8",children:[p.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-6",children:"Register for Event"}),p.jsxs("form",{onSubmit:w,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),p.jsx("input",{type:"text",id:"name",required:!0,value:g.name,onChange:E=>m({...g,name:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your full name"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"identification_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Identification Number *"}),p.jsx("input",{type:"text",id:"identification_number",required:!0,value:g.identification_number,onChange:E=>m({...g,identification_number:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your identification number"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"staff_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"Staff ID"}),p.jsx("input",{type:"text",id:"staff_id",value:g.staff_id,onChange:E=>m({...g,staff_id:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your staff ID (optional)"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",value:g.email,onChange:E=>m({...g,email:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),p.jsx("input",{type:"tel",id:"phone",value:g.phone,onChange:E=>m({...g,phone:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your phone number"})]}),p.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 font-medium text-sm md:text-base",children:c?"Registering...":"Register Now"})]})]})]})})}):p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Event Not Found"}),p.jsx("p",{className:"text-gray-600",children:"The event you're looking for doesn't exist."})]})})}function O7(){const{attendeeId:e}=Ac(),[t,n]=j.useState(null),[i,r]=j.useState(!0);j.useEffect(()=>{e&&a()},[e]);const a=async()=>{try{const{data:c,error:h}=await ue.from("attendees").select(`
          *,
          event:events (
            name,
            description,
            date,
            location
          )
        `).eq("id",e).single();if(h)throw h;n(c)}catch{le.error("Ticket not found")}finally{r(!1)}};return i?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?p.jsx("div",{className:"min-h-screen bg-gray-50 py-4 md:py-12 px-4 sm:px-6 lg:px-8",children:p.jsx("div",{className:"max-w-md mx-auto",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[p.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-4 md:px-6 py-6 md:py-8 text-center",children:[p.jsx(Qr,{className:"h-12 w-12 mx-auto mb-4"}),p.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Event Ticket"}),t.checked_in&&p.jsxs("div",{className:"mt-4 flex items-center justify-center text-green-200",children:[p.jsx(nr,{className:"h-5 w-5 mr-2"}),p.jsx("span",{children:"Checked In"})]})]}),p.jsxs("div",{className:"px-4 md:px-6 py-6 border-b border-gray-200",children:[p.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 mb-3",children:t.event.name}),t.event.description&&p.jsx("p",{className:"text-gray-600 mb-4",children:t.event.description}),p.jsxs("div",{className:"space-y-2",children:[t.event.date&&p.jsxs("div",{className:"flex items-center text-gray-600",children:[p.jsx(or,{className:"h-4 w-4 mr-2"}),p.jsx("span",{className:"text-sm",children:new Date(t.event.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.event.location&&p.jsxs("div",{className:"flex items-center text-gray-600",children:[p.jsx(Ic,{className:"h-4 w-4 mr-2"}),p.jsx("span",{className:"text-sm",children:t.event.location})]})]})]}),p.jsxs("div",{className:"px-4 md:px-6 py-6 border-b border-gray-200",children:[p.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Attendee Information"}),p.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[p.jsxs("div",{children:[p.jsx("strong",{children:"Name:"})," ",t.name]}),p.jsxs("div",{children:[p.jsx("strong",{children:"ID Number:"})," ",t.identification_number]}),t.staff_id&&p.jsxs("div",{children:[p.jsx("strong",{children:"Staff ID:"})," ",t.staff_id]}),t.email&&p.jsxs("div",{children:[p.jsx("strong",{children:"Email:"})," ",t.email]}),t.phone&&p.jsxs("div",{children:[p.jsx("strong",{children:"Phone:"})," ",t.phone]})]})]}),p.jsxs("div",{className:"px-4 md:px-6 py-6 md:py-8 text-center",children:[p.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Check-in QR Code"}),t.qr_code&&p.jsx("div",{className:"flex justify-center",children:p.jsx("img",{src:t.qr_code,alt:"QR Code for check-in",className:"w-40 h-40 md:w-48 md:h-48 border border-gray-200 rounded-lg"})}),p.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Present this QR code at the event for check-in"})]}),t.checked_in&&t.check_in_time&&p.jsx("div",{className:"bg-green-50 px-4 md:px-6 py-4",children:p.jsxs("div",{className:"flex items-center justify-center text-green-800",children:[p.jsx(nr,{className:"h-5 w-5 mr-2"}),p.jsxs("span",{className:"text-sm font-medium",children:["Checked in at ",new Date(t.check_in_time).toLocaleString()]})]})})]})})}):p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ticket Not Found"}),p.jsx("p",{className:"text-gray-600",children:"The ticket you're looking for doesn't exist."})]})})}function j7(){const{eventId:e}=Ac(),[t,n]=j.useState(null),[i,r]=j.useState(!1),[a,c]=j.useState(!1),[h,g]=j.useState(""),[m,b]=j.useState(null),[w,E]=j.useState(null);j.useEffect(()=>{e&&A()},[e]);const A=async()=>{try{const{data:T,error:_}=await ue.from("events").select(`
          id,
          name,
          description,
          company:companies(name)
        `).eq("id",e).single();if(_)throw _;const C={...T,company:Array.isArray(T.company)?T.company[0]??{name:""}:T.company};n(C)}catch{le.error("Event not found")}},O=T=>{var C;const _=(C=T.target.files)==null?void 0:C[0];if(_){if(_.size>10*1024*1024){le.error("File size must be less than 10MB");return}if(!_.type.startsWith("image/")){le.error("Please select an image file");return}b(_);const L=URL.createObjectURL(_);E(L)}},M=async()=>{if(!(!m||!t)){r(!0);try{const T=new FileReader;T.onload=async _=>{var z;const C=(z=_.target)==null?void 0:z.result,{error:L}=await ue.from("gallery_photos").insert([{event_id:t.id,attendee_name:h.trim()||null,photo_url:C}]);if(L)throw L;le.success("Photo uploaded successfully!"),c(!0),b(null),E(null),g("")},T.readAsDataURL(m)}catch(T){le.error("Error uploading photo: "+T.message)}finally{r(!1)}}},P=()=>{c(!1),b(null),E(null),g("")};return t?a?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:p.jsx("div",{className:"max-w-md w-full text-center",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[p.jsx(nr,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Photo Uploaded!"}),p.jsxs("p",{className:"text-gray-600 mb-6",children:["Thank you for sharing your moment from ",t.name]}),p.jsx("button",{onClick:P,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Upload Another Photo"})]})})}):p.jsx("div",{className:"min-h-screen bg-gray-50 py-4 md:py-12 px-4",children:p.jsx("div",{className:"max-w-2xl mx-auto",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[p.jsxs("div",{className:"bg-blue-600 text-white px-4 md:px-6 py-6 md:py-8 text-center",children:[p.jsx(vd,{className:"h-12 w-12 mx-auto mb-4"}),p.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Share Your Photo"}),p.jsx("p",{className:"text-blue-100",children:t.name}),p.jsx("p",{className:"text-blue-200 text-sm",children:t.company.name})]}),p.jsxs("div",{className:"px-4 md:px-6 py-6 md:py-8",children:[p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name (Optional)"}),p.jsx("input",{type:"text",value:h,onChange:T=>g(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your name"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Photo"}),p.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 md:p-6 text-center hover:border-blue-400 transition-colors",children:w?p.jsxs("div",{className:"space-y-4",children:[p.jsx("img",{src:w,alt:"Preview",className:"max-w-full h-48 md:h-64 object-contain mx-auto rounded-lg"}),p.jsx("button",{onClick:()=>{b(null),E(null)},className:"text-blue-600 hover:text-blue-700 text-sm",children:"Choose Different Photo"})]}):p.jsxs("div",{children:[p.jsx(ir,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600 mb-2",children:"Click to select a photo"}),p.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG up to 10MB"}),p.jsx("input",{type:"file",accept:"image/*",onChange:O,className:"hidden",id:"photo-upload"}),p.jsx("label",{htmlFor:"photo-upload",className:"mt-4 inline-block bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:"Select Photo"})]})})]}),m&&p.jsxs("button",{onClick:M,disabled:i,className:"w-full bg-green-600 text-white py-2 md:py-3 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center disabled:opacity-50 text-sm md:text-base",children:[p.jsx(zg,{className:"h-5 w-5 mr-2"}),i?"Uploading...":"Upload Photo"]})]}),p.jsxs("div",{className:"mt-8 text-center text-sm text-gray-600",children:[p.jsx("p",{children:"• Your photo will be added to the event gallery"}),p.jsx("p",{children:"• Photos may be displayed during the event"}),p.jsx("p",{children:"• By uploading, you consent to public display"})]})]})]})})}):p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}function L7(){const{sessionId:e}=Ac(),[t,n]=j.useState(null),[i,r]=j.useState([]),[a,c]=j.useState(null),[h,g]=j.useState(0),[m,b]=j.useState(!1),[w,E]=j.useState(!0),[A,O]=j.useState(!1),[M,P]=j.useState(!1),[T,_]=j.useState(""),[C,L]=j.useState(!0);j.useEffect(()=>{e&&z()},[e]),j.useEffect(()=>{if(e&&a){D(),k();const q=ue.channel("votes").on("postgres_changes",{event:"*",schema:"public",table:"votes"},()=>{D()}).subscribe();return()=>{q.unsubscribe()}}},[e,a]);const z=async()=>{var q,Y,$,ie;try{const{data:de,error:Z}=await ue.from("voting_sessions").select(`
        id,
        title,
        description,
        event:events(
          id,
          name,
          company:companies(name)
        )
      `).eq("id",e).eq("is_active",!0).single();if(Z||!de)throw Z;const J={id:de.id,title:de.title,description:de.description,event:{id:(q=de.event[0])==null?void 0:q.id,name:(Y=de.event[0])==null?void 0:Y.name,company:Array.isArray(($=de.event[0])==null?void 0:$.company)?de.event[0].company[0]:(ie=de.event[0])==null?void 0:ie.company}};n(J)}catch{le.error("Voting session not found or not active")}finally{E(!1)}},D=async()=>{if(a)try{const{data:q,error:Y}=await ue.from("voting_photos").select("*").eq("voting_session_id",e).order("created_at",{ascending:!1});if(Y)throw Y;const $=await Promise.all(q.map(async Z=>{const{data:J}=await ue.from("votes").select("id, attendee_id").eq("voting_photo_id",Z.id),se=(J==null?void 0:J.some(me=>me.attendee_id===a.id))||!1;return{...Z,vote_count:(J==null?void 0:J.length)||0,user_voted:se}})),ie=$.reduce((Z,J)=>Z+J.vote_count,0);g(ie);const de=$.map(Z=>({...Z,vote_percentage:ie>0?Z.vote_count/ie*100:0}));r(de)}catch(q){console.error("Error fetching photos:",q)}},k=async()=>{if(!(!a||i.length===0))try{const{data:q,error:Y}=await ue.from("votes").select("id").eq("attendee_id",a.id).in("voting_photo_id",i.map($=>$.id));if(Y)throw Y;b(((q==null?void 0:q.length)||0)>0)}catch(q){console.error("Error checking vote status:",q)}},V=async q=>{if(q.preventDefault(),!!T.trim())try{E(!0);const{data:Y,error:$}=await ue.from("attendees").select("id, name, identification_number, event_id").eq("identification_number",T.trim()).single();if($||!Y){le.error("Attendee not found. Please check your identification number.");return}if(t&&Y.event_id!==t.event.id){le.error("You are not registered for this event.");return}c(Y),L(!1),le.success(`Welcome, ${Y.name}!`)}catch(Y){le.error("Error logging in: "+Y.message)}finally{E(!1)}},U=async q=>{if(!(!a||A))try{O(!0);const{data:Y}=await ue.from("votes").select("id").eq("attendee_id",a.id).in("voting_photo_id",i.map(ie=>ie.id));if(Y&&Y.length>0){le.error("You have already voted in this session"),b(!0);return}const{error:$}=await ue.from("votes").insert([{voting_photo_id:q,attendee_id:a.id}]);if($)throw $;le.success("Vote cast successfully!"),b(!0),P(!0),D()}catch(Y){le.error("Error casting vote: "+Y.message)}finally{O(!1)}};return w?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):t?C?p.jsx("div",{className:"min-h-screen bg-gray-50 py-4 md:py-12 px-4",children:p.jsx("div",{className:"max-w-md mx-auto",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 md:p-8",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx(Gr,{className:"h-16 w-16 text-purple-600 mx-auto mb-4"}),p.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-2",children:"Join Voting"}),p.jsx("h2",{className:"text-lg md:text-xl text-purple-600 mb-2",children:t.title}),p.jsx("p",{className:"text-gray-600",children:t.event.name}),p.jsx("p",{className:"text-sm text-gray-500",children:t.event.company.name})]}),p.jsxs("form",{onSubmit:V,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Identification Number"}),p.jsx("input",{type:"text",value:T,onChange:q=>_(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter your identification number",required:!0})]}),p.jsx("button",{type:"submit",disabled:w,className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:w?"Verifying...":"Join Voting"})]}),t.description&&p.jsx("div",{className:"mt-6 p-4 bg-purple-50 rounded-lg",children:p.jsx("p",{className:"text-sm text-purple-700",children:t.description})})]})})}):p.jsx("div",{className:"min-h-screen bg-gray-50 py-4 md:py-8 px-4",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsx("div",{className:"bg-white rounded-lg shadow-lg p-4 md:p-6 mb-6",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:t.title}),p.jsx("p",{className:"text-base md:text-lg text-purple-600 mb-2",children:t.event.name}),p.jsx("p",{className:"text-gray-600",children:t.event.company.name}),t.description&&p.jsx("p",{className:"text-gray-600 mt-2",children:t.description}),p.jsxs("div",{className:"mt-4 flex flex-col md:flex-row items-center justify-center space-y-2 md:space-y-0 md:space-x-4 text-sm text-gray-500",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Rn,{className:"h-4 w-4 mr-1"}),p.jsxs("span",{children:["Welcome, ",a==null?void 0:a.name]})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(Fg,{className:"h-4 w-4 mr-1"}),p.jsxs("span",{children:[h," total votes"]})]})]})]})}),m&&p.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(nr,{className:"h-5 w-5 text-green-600 mr-2"}),p.jsx("span",{className:"text-green-800 font-medium",children:"Thank you for voting!"})]})}),m&&p.jsx("div",{className:"text-center mb-6",children:p.jsx("button",{onClick:()=>P(!M),className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:M?"Hide Results":"Show Results"})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:i.map(q=>p.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[p.jsx("img",{src:q.photo_url,alt:q.title,className:"w-full h-48 md:h-64 object-cover"}),p.jsxs("div",{className:"p-4 md:p-6",children:[p.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-900 mb-4",children:q.title}),m?M?p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Votes"}),p.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[q.vote_count," (",q.vote_percentage.toFixed(1),"%)"]})]}),p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 md:h-3",children:p.jsx("div",{className:`h-2 md:h-3 rounded-full transition-all duration-500 ${q.user_voted?"bg-green-500":"bg-purple-500"}`,style:{width:`${q.vote_percentage}%`}})}),q.user_voted&&p.jsxs("div",{className:"flex items-center text-green-600 text-sm",children:[p.jsx(nr,{className:"h-4 w-4 mr-1"}),p.jsx("span",{children:"You voted for this"})]})]}):p.jsxs("div",{className:"text-center py-2 md:py-3 text-gray-500",children:[p.jsx(nr,{className:"h-8 w-8 mx-auto mb-2"}),p.jsx("p",{children:"Vote cast successfully!"})]}):p.jsxs("button",{onClick:()=>U(q.id),disabled:A,className:"w-full bg-purple-600 text-white py-2 md:py-3 px-4 rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 flex items-center justify-center text-sm md:text-base",children:[p.jsx(Gr,{className:"h-5 w-5 mr-2"}),A?"Voting...":"Vote for This"]})]})]},q.id))}),i.length===0&&p.jsxs("div",{className:"text-center py-12",children:[p.jsx(Gr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Photos Available"}),p.jsx("p",{className:"text-gray-600",children:"No photos have been added to this voting session yet."})]})]})}):p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Voting Session Not Found"}),p.jsx("p",{className:"text-gray-600",children:"The voting session may have ended or doesn't exist."})]})})}function k7(){const[e,t]=j.useState(null),[n,i]=j.useState(null),[r,a]=j.useState(!0),[c,h]=j.useState(!0);j.useEffect(()=>{if("https://crafetbtwgaitpxgmspp.supabase.co".includes("your-project")||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNyYWZldGJ0d2dhaXRweGdtc3BwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5ODI5NzUsImV4cCI6MjA2ODU1ODk3NX0.QtegjiZH6LCn7ZlXrUehp7JJuk51_y28TyqMzO4N9wo".includes("your-anon-key")){h(!1),a(!1);return}ue.auth.getSession().then(({data:{session:E}})=>{t((E==null?void 0:E.user)??null),a(!1)}).catch(()=>{h(!1),a(!1)});const{data:{subscription:w}}=ue.auth.onAuthStateChange((E,A)=>{t((A==null?void 0:A.user)??null),A!=null&&A.user?g(A.user.id):i(null)});return()=>w.unsubscribe()},[]);const g=async m=>{try{const{data:b,error:w}=await ue.from("company_users").select(`
          *,
          company:companies(*)
        `).eq("id",m).maybeSingle();if(w){console.error("Error fetching user company:",w);return}i(b)}catch(b){console.error("Error fetching user company:",b)}};return c?r?p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):p.jsx(s_,{children:p.jsxs("div",{className:"App",children:[p.jsx(iN,{position:"top-right"}),p.jsxs(Cx,{children:[p.jsx(Ut,{path:"/public/register/:eventId",element:p.jsx(R7,{})}),p.jsx(Ut,{path:"/public/ticket/:attendeeId",element:p.jsx(O7,{})}),p.jsx(Ut,{path:"/public/gallery/:eventId",element:p.jsx(j7,{})}),p.jsx(Ut,{path:"/public/voting/:sessionId",element:p.jsx(L7,{})}),p.jsx(Ut,{path:"/auth",element:e?p.jsx(bf,{to:"/admin"}):p.jsx(p5,{})}),p.jsx(Ut,{path:"/admin/*",element:e?p.jsx(m5,{userCompany:n,children:p.jsxs(Cx,{children:[p.jsx(Ut,{path:"/",element:p.jsx(x5,{})}),p.jsx(Ut,{path:"/events",element:p.jsx(rI,{userCompany:n})}),p.jsx(Ut,{path:"/progress",element:p.jsx(I7,{})}),p.jsx(Ut,{path:"/attendees",element:p.jsx(aI,{userCompany:n})}),p.jsx(Ut,{path:"/checkin",element:p.jsx(YI,{})}),p.jsx(Ut,{path:"/welcome-monitor",element:p.jsx(C7,{})}),p.jsx(Ut,{path:"/lucky-draw",element:p.jsx(T7,{userCompany:n})}),p.jsx(Ut,{path:"/gallery",element:p.jsx(_7,{userCompany:n})}),p.jsx(Ut,{path:"/seating",element:p.jsx(N7,{userCompany:n})}),p.jsx(Ut,{path:"/voting",element:p.jsx(M7,{userCompany:n})}),p.jsx(Ut,{path:"/voting-monitor",element:p.jsx(D7,{})})]})}):p.jsx(bf,{to:"/auth"})}),p.jsx(Ut,{path:"/",element:p.jsx(bf,{to:e?"/admin":"/auth"})})]})]})}):p.jsx(g5,{})}q4.createRoot(document.getElementById("root")).render(p.jsx(hS.StrictMode,{children:p.jsx(k7,{})}));
