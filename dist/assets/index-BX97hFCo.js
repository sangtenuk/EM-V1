var N6=Object.defineProperty;var _6=(e,t,n)=>t in e?N6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pu=(e,t,n)=>_6(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var gn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function S6(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Jy={exports:{}},Cc={},Zy={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=Symbol.for("react.element"),P6=Symbol.for("react.portal"),T6=Symbol.for("react.fragment"),R6=Symbol.for("react.strict_mode"),M6=Symbol.for("react.profiler"),I6=Symbol.for("react.provider"),L6=Symbol.for("react.context"),O6=Symbol.for("react.forward_ref"),$6=Symbol.for("react.suspense"),U6=Symbol.for("react.memo"),V6=Symbol.for("react.lazy"),Um=Symbol.iterator;function z6(e){return e===null||typeof e!="object"?null:(e=Um&&e[Um]||e["@@iterator"],typeof e=="function"?e:null)}var e9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t9=Object.assign,n9={};function Ai(e,t,n){this.props=e,this.context=t,this.refs=n9,this.updater=n||e9}Ai.prototype.isReactComponent={};Ai.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ai.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function r9(){}r9.prototype=Ai.prototype;function ph(e,t,n){this.props=e,this.context=t,this.refs=n9,this.updater=n||e9}var gh=ph.prototype=new r9;gh.constructor=ph;t9(gh,Ai.prototype);gh.isPureReactComponent=!0;var Vm=Array.isArray,s9=Object.prototype.hasOwnProperty,yh={current:null},o9={key:!0,ref:!0,__self:!0,__source:!0};function i9(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)s9.call(t,r)&&!o9.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),x=0;x<l;x++)c[x]=arguments[x+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ol,type:e,key:i,ref:a,props:s,_owner:yh.current}}function q6(e,t){return{$$typeof:ol,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vh(e){return typeof e=="object"&&e!==null&&e.$$typeof===ol}function W6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var zm=/\/+/g;function Tu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?W6(""+e.key):t.toString(36)}function y0(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ol:case P6:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Tu(a,0):r,Vm(s)?(n="",e!=null&&(n=e.replace(zm,"$&/")+"/"),y0(s,t,n,"",function(x){return x})):s!=null&&(vh(s)&&(s=q6(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(zm,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Vm(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Tu(i,l);a+=y0(i,t,n,c,s)}else if(c=z6(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Tu(i,l++),a+=y0(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ql(e,t,n){if(e==null)return e;var r=[],s=0;return y0(e,r,"","",function(i){return t.call(n,i,s++)}),r}function K6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yn={current:null},v0={transition:null},H6={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:v0,ReactCurrentOwner:yh};function a9(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:ql,forEach:function(e,t,n){ql(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ql(e,function(){t++}),t},toArray:function(e){return ql(e,function(t){return t})||[]},only:function(e){if(!vh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ze.Component=Ai;Ze.Fragment=T6;Ze.Profiler=M6;Ze.PureComponent=ph;Ze.StrictMode=R6;Ze.Suspense=$6;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H6;Ze.act=a9;Ze.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=t9({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=yh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)s9.call(t,c)&&!o9.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var x=0;x<c;x++)l[x]=arguments[x+2];r.children=l}return{$$typeof:ol,type:e.type,key:s,ref:i,props:r,_owner:a}};Ze.createContext=function(e){return e={$$typeof:L6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I6,_context:e},e.Consumer=e};Ze.createElement=i9;Ze.createFactory=function(e){var t=i9.bind(null,e);return t.type=e,t};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(e){return{$$typeof:O6,render:e}};Ze.isValidElement=vh;Ze.lazy=function(e){return{$$typeof:V6,_payload:{_status:-1,_result:e},_init:K6}};Ze.memo=function(e,t){return{$$typeof:U6,type:e,compare:t===void 0?null:t}};Ze.startTransition=function(e){var t=v0.transition;v0.transition={};try{e()}finally{v0.transition=t}};Ze.unstable_act=a9;Ze.useCallback=function(e,t){return yn.current.useCallback(e,t)};Ze.useContext=function(e){return yn.current.useContext(e)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(e){return yn.current.useDeferredValue(e)};Ze.useEffect=function(e,t){return yn.current.useEffect(e,t)};Ze.useId=function(){return yn.current.useId()};Ze.useImperativeHandle=function(e,t,n){return yn.current.useImperativeHandle(e,t,n)};Ze.useInsertionEffect=function(e,t){return yn.current.useInsertionEffect(e,t)};Ze.useLayoutEffect=function(e,t){return yn.current.useLayoutEffect(e,t)};Ze.useMemo=function(e,t){return yn.current.useMemo(e,t)};Ze.useReducer=function(e,t,n){return yn.current.useReducer(e,t,n)};Ze.useRef=function(e){return yn.current.useRef(e)};Ze.useState=function(e){return yn.current.useState(e)};Ze.useSyncExternalStore=function(e,t,n){return yn.current.useSyncExternalStore(e,t,n)};Ze.useTransition=function(){return yn.current.useTransition()};Ze.version="18.3.1";Zy.exports=Ze;var B=Zy.exports;const Eh=bc(B);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G6=B,Q6=Symbol.for("react.element"),Y6=Symbol.for("react.fragment"),X6=Object.prototype.hasOwnProperty,J6=G6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z6={key:!0,ref:!0,__self:!0,__source:!0};function l9(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)X6.call(t,r)&&!Z6.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Q6,type:e,key:i,ref:a,props:s,_owner:J6.current}}Cc.Fragment=Y6;Cc.jsx=l9;Cc.jsxs=l9;Jy.exports=Cc;var o=Jy.exports,Lx={},c9={exports:{}},Ln={},u9={exports:{}},x9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,V){var te=T.length;T.push(V);e:for(;0<te;){var L=te-1>>>1,W=T[L];if(0<s(W,V))T[L]=V,T[te]=W,te=L;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var V=T[0],te=T.pop();if(te!==V){T[0]=te;e:for(var L=0,W=T.length,ce=W>>>1;L<ce;){var he=2*(L+1)-1,je=T[he],we=he+1,ke=T[we];if(0>s(je,te))we<W&&0>s(ke,je)?(T[L]=ke,T[we]=te,L=we):(T[L]=je,T[he]=te,L=he);else if(we<W&&0>s(ke,te))T[L]=ke,T[we]=te,L=we;else break e}}return V}function s(T,V){var te=T.sortIndex-V.sortIndex;return te!==0?te:T.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],x=[],d=1,f=null,m=3,y=!1,C=!1,A=!1,j=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var V=n(x);V!==null;){if(V.callback===null)r(x);else if(V.startTime<=T)r(x),V.sortIndex=V.expirationTime,t(c,V);else break;V=n(x)}}function b(T){if(A=!1,g(T),!C)if(n(c)!==null)C=!0,R(F);else{var V=n(x);V!==null&&P(b,V.startTime-T)}}function F(T,V){C=!1,A&&(A=!1,v(S),S=-1),y=!0;var te=m;try{for(g(V),f=n(c);f!==null&&(!(f.expirationTime>V)||T&&!M());){var L=f.callback;if(typeof L=="function"){f.callback=null,m=f.priorityLevel;var W=L(f.expirationTime<=V);V=e.unstable_now(),typeof W=="function"?f.callback=W:f===n(c)&&r(c),g(V)}else r(c);f=n(c)}if(f!==null)var ce=!0;else{var he=n(x);he!==null&&P(b,he.startTime-V),ce=!1}return ce}finally{f=null,m=te,y=!1}}var k=!1,N=null,S=-1,O=5,$=-1;function M(){return!(e.unstable_now()-$<O)}function G(){if(N!==null){var T=e.unstable_now();$=T;var V=!0;try{V=N(!0,T)}finally{V?K():(k=!1,N=null)}}else k=!1}var K;if(typeof E=="function")K=function(){E(G)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Z=H.port2;H.port1.onmessage=G,K=function(){Z.postMessage(null)}}else K=function(){j(G,0)};function R(T){N=T,k||(k=!0,K())}function P(T,V){S=j(function(){T(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){C||y||(C=!0,R(F))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var te=m;m=V;try{return T()}finally{m=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,V){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var te=m;m=T;try{return V()}finally{m=te}},e.unstable_scheduleCallback=function(T,V,te){var L=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?L+te:L):te=L,T){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=te+W,T={id:d++,callback:V,priorityLevel:T,startTime:te,expirationTime:W,sortIndex:-1},te>L?(T.sortIndex=te,t(x,T),n(c)===null&&T===n(x)&&(A?(v(S),S=-1):A=!0,P(b,te-L))):(T.sortIndex=W,t(c,T),C||y||(C=!0,R(F))),T},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(T){var V=m;return function(){var te=m;m=V;try{return T.apply(this,arguments)}finally{m=te}}}})(x9);u9.exports=x9;var e2=u9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t2=B,In=e2;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d9=new Set,_a={};function yo(e,t){li(e,t),li(e+"Capture",t)}function li(e,t){for(_a[e]=t,e=0;e<t.length;e++)d9.add(t[e])}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ox=Object.prototype.hasOwnProperty,n2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qm={},Wm={};function r2(e){return Ox.call(Wm,e)?!0:Ox.call(qm,e)?!1:n2.test(e)?Wm[e]=!0:(qm[e]=!0,!1)}function s2(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function o2(e,t,n,r){if(t===null||typeof t>"u"||s2(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vn(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Zt[e]=new vn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Zt[t]=new vn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Zt[e]=new vn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Zt[e]=new vn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Zt[e]=new vn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Zt[e]=new vn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Zt[e]=new vn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Zt[e]=new vn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Zt[e]=new vn(e,5,!1,e.toLowerCase(),null,!1,!1)});var bh=/[\-:]([a-z])/g;function Ch(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bh,Ch);Zt[t]=new vn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bh,Ch);Zt[t]=new vn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bh,Ch);Zt[t]=new vn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Zt[e]=new vn(e,1,!1,e.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Zt[e]=new vn(e,1,!1,e.toLowerCase(),null,!0,!0)});function wh(e,t,n,r){var s=Zt.hasOwnProperty(t)?Zt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(o2(t,n,s,r)&&(n=null),r||s===null?r2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xr=t2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wl=Symbol.for("react.element"),Lo=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),Bh=Symbol.for("react.strict_mode"),$x=Symbol.for("react.profiler"),h9=Symbol.for("react.provider"),f9=Symbol.for("react.context"),Ah=Symbol.for("react.forward_ref"),Ux=Symbol.for("react.suspense"),Vx=Symbol.for("react.suspense_list"),Dh=Symbol.for("react.memo"),cs=Symbol.for("react.lazy"),m9=Symbol.for("react.offscreen"),Km=Symbol.iterator;function Qi(e){return e===null||typeof e!="object"?null:(e=Km&&e[Km]||e["@@iterator"],typeof e=="function"?e:null)}var jt=Object.assign,Ru;function aa(e){if(Ru===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ru=t&&t[1]||""}return`
`+Ru+e}var Mu=!1;function Iu(e,t){if(!e||Mu)return"";Mu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var r=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){r=x}e.call(t.prototype)}else{try{throw Error()}catch(x){r=x}e()}}catch(x){if(x&&r&&typeof x.stack=="string"){for(var s=x.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Mu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?aa(e):""}function i2(e){switch(e.tag){case 5:return aa(e.type);case 16:return aa("Lazy");case 13:return aa("Suspense");case 19:return aa("SuspenseList");case 0:case 2:case 15:return e=Iu(e.type,!1),e;case 11:return e=Iu(e.type.render,!1),e;case 1:return e=Iu(e.type,!0),e;default:return""}}function zx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Oo:return"Fragment";case Lo:return"Portal";case $x:return"Profiler";case Bh:return"StrictMode";case Ux:return"Suspense";case Vx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case f9:return(e.displayName||"Context")+".Consumer";case h9:return(e._context.displayName||"Context")+".Provider";case Ah:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dh:return t=e.displayName||null,t!==null?t:zx(e.type)||"Memo";case cs:t=e._payload,e=e._init;try{return zx(e(t))}catch{}}return null}function a2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zx(t);case 8:return t===Bh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ks(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function p9(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function l2(e){var t=p9(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kl(e){e._valueTracker||(e._valueTracker=l2(e))}function g9(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=p9(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function L0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qx(e,t){var n=t.checked;return jt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Hm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ks(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function y9(e,t){t=t.checked,t!=null&&wh(e,"checked",t,!1)}function Wx(e,t){y9(e,t);var n=ks(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kx(e,t.type,n):t.hasOwnProperty("defaultValue")&&Kx(e,t.type,ks(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Kx(e,t,n){(t!=="number"||L0(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var la=Array.isArray;function ni(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ks(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Hx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return jt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ge(92));if(la(n)){if(1<n.length)throw Error(ge(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ks(n)}}function v9(e,t){var n=ks(t.value),r=ks(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ym(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function E9(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?E9(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hl,b9=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hl=Hl||document.createElement("div"),Hl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c2=["Webkit","ms","Moz","O"];Object.keys(ha).forEach(function(e){c2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ha[t]=ha[e]})});function C9(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ha.hasOwnProperty(e)&&ha[e]?(""+t).trim():t+"px"}function w9(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=C9(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var u2=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qx(e,t){if(t){if(u2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function Yx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xx=null;function Fh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jx=null,ri=null,si=null;function Xm(e){if(e=ll(e)){if(typeof Jx!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=Fc(t),Jx(e.stateNode,e.type,t))}}function B9(e){ri?si?si.push(e):si=[e]:ri=e}function A9(){if(ri){var e=ri,t=si;if(si=ri=null,Xm(e),t)for(e=0;e<t.length;e++)Xm(t[e])}}function D9(e,t){return e(t)}function F9(){}var Lu=!1;function k9(e,t,n){if(Lu)return e(t,n);Lu=!0;try{return D9(e,t,n)}finally{Lu=!1,(ri!==null||si!==null)&&(F9(),A9())}}function Pa(e,t){var n=e.stateNode;if(n===null)return null;var r=Fc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ge(231,t,typeof n));return n}var Zx=!1;if(zr)try{var Yi={};Object.defineProperty(Yi,"passive",{get:function(){Zx=!0}}),window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch{Zx=!1}function x2(e,t,n,r,s,i,a,l,c){var x=Array.prototype.slice.call(arguments,3);try{t.apply(n,x)}catch(d){this.onError(d)}}var fa=!1,O0=null,$0=!1,ed=null,d2={onError:function(e){fa=!0,O0=e}};function h2(e,t,n,r,s,i,a,l,c){fa=!1,O0=null,x2.apply(d2,arguments)}function f2(e,t,n,r,s,i,a,l,c){if(h2.apply(this,arguments),fa){if(fa){var x=O0;fa=!1,O0=null}else throw Error(ge(198));$0||($0=!0,ed=x)}}function vo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function j9(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jm(e){if(vo(e)!==e)throw Error(ge(188))}function m2(e){var t=e.alternate;if(!t){if(t=vo(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Jm(s),e;if(i===r)return Jm(s),t;i=i.sibling}throw Error(ge(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(ge(189))}}if(n.alternate!==r)throw Error(ge(190))}if(n.tag!==3)throw Error(ge(188));return n.stateNode.current===n?e:t}function N9(e){return e=m2(e),e!==null?_9(e):null}function _9(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_9(e);if(t!==null)return t;e=e.sibling}return null}var S9=In.unstable_scheduleCallback,Zm=In.unstable_cancelCallback,p2=In.unstable_shouldYield,g2=In.unstable_requestPaint,Mt=In.unstable_now,y2=In.unstable_getCurrentPriorityLevel,kh=In.unstable_ImmediatePriority,P9=In.unstable_UserBlockingPriority,U0=In.unstable_NormalPriority,v2=In.unstable_LowPriority,T9=In.unstable_IdlePriority,wc=null,Br=null;function E2(e){if(Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot(wc,e,void 0,(e.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:w2,b2=Math.log,C2=Math.LN2;function w2(e){return e>>>=0,e===0?32:31-(b2(e)/C2|0)|0}var Gl=64,Ql=4194304;function ca(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function V0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=ca(l):(i&=a,i!==0&&(r=ca(i)))}else a=n&~s,a!==0?r=ca(a):i!==0&&(r=ca(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ar(t),s=1<<n,r|=e[n],t&=~s;return r}function B2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A2(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ar(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=B2(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function td(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function R9(){var e=Gl;return Gl<<=1,!(Gl&4194240)&&(Gl=64),e}function Ou(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function il(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ar(t),e[t]=n}function D2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ar(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function jh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ar(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ct=0;function M9(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var I9,Nh,L9,O9,$9,nd=!1,Yl=[],vs=null,Es=null,bs=null,Ta=new Map,Ra=new Map,ds=[],F2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ep(e,t){switch(e){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":Ta.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ra.delete(t.pointerId)}}function Xi(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ll(t),t!==null&&Nh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function k2(e,t,n,r,s){switch(t){case"focusin":return vs=Xi(vs,e,t,n,r,s),!0;case"dragenter":return Es=Xi(Es,e,t,n,r,s),!0;case"mouseover":return bs=Xi(bs,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ta.set(i,Xi(Ta.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ra.set(i,Xi(Ra.get(i)||null,e,t,n,r,s)),!0}return!1}function U9(e){var t=to(e.target);if(t!==null){var n=vo(t);if(n!==null){if(t=n.tag,t===13){if(t=j9(n),t!==null){e.blockedOn=t,$9(e.priority,function(){L9(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function E0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xx=r,n.target.dispatchEvent(r),Xx=null}else return t=ll(n),t!==null&&Nh(t),e.blockedOn=n,!1;t.shift()}return!0}function tp(e,t,n){E0(e)&&n.delete(t)}function j2(){nd=!1,vs!==null&&E0(vs)&&(vs=null),Es!==null&&E0(Es)&&(Es=null),bs!==null&&E0(bs)&&(bs=null),Ta.forEach(tp),Ra.forEach(tp)}function Ji(e,t){e.blockedOn===t&&(e.blockedOn=null,nd||(nd=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,j2)))}function Ma(e){function t(s){return Ji(s,e)}if(0<Yl.length){Ji(Yl[0],e);for(var n=1;n<Yl.length;n++){var r=Yl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(vs!==null&&Ji(vs,e),Es!==null&&Ji(Es,e),bs!==null&&Ji(bs,e),Ta.forEach(t),Ra.forEach(t),n=0;n<ds.length;n++)r=ds[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ds.length&&(n=ds[0],n.blockedOn===null);)U9(n),n.blockedOn===null&&ds.shift()}var oi=Xr.ReactCurrentBatchConfig,z0=!0;function N2(e,t,n,r){var s=ct,i=oi.transition;oi.transition=null;try{ct=1,_h(e,t,n,r)}finally{ct=s,oi.transition=i}}function _2(e,t,n,r){var s=ct,i=oi.transition;oi.transition=null;try{ct=4,_h(e,t,n,r)}finally{ct=s,oi.transition=i}}function _h(e,t,n,r){if(z0){var s=rd(e,t,n,r);if(s===null)Qu(e,t,r,q0,n),ep(e,r);else if(k2(s,e,t,n,r))r.stopPropagation();else if(ep(e,r),t&4&&-1<F2.indexOf(e)){for(;s!==null;){var i=ll(s);if(i!==null&&I9(i),i=rd(e,t,n,r),i===null&&Qu(e,t,r,q0,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Qu(e,t,r,null,n)}}var q0=null;function rd(e,t,n,r){if(q0=null,e=Fh(r),e=to(e),e!==null)if(t=vo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=j9(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return q0=e,null}function V9(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y2()){case kh:return 1;case P9:return 4;case U0:case v2:return 16;case T9:return 536870912;default:return 16}default:return 16}}var ps=null,Sh=null,b0=null;function z9(){if(b0)return b0;var e,t=Sh,n=t.length,r,s="value"in ps?ps.value:ps.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return b0=s.slice(e,1<r?1-r:void 0)}function C0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xl(){return!0}function np(){return!1}function On(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xl:np,this.isPropagationStopped=np,this}return jt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),t}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ph=On(Di),al=jt({},Di,{view:0,detail:0}),S2=On(al),$u,Uu,Zi,Bc=jt({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Th,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zi&&(Zi&&e.type==="mousemove"?($u=e.screenX-Zi.screenX,Uu=e.screenY-Zi.screenY):Uu=$u=0,Zi=e),$u)},movementY:function(e){return"movementY"in e?e.movementY:Uu}}),rp=On(Bc),P2=jt({},Bc,{dataTransfer:0}),T2=On(P2),R2=jt({},al,{relatedTarget:0}),Vu=On(R2),M2=jt({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),I2=On(M2),L2=jt({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O2=On(L2),$2=jt({},Di,{data:0}),sp=On($2),U2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=z2[e])?!!t[e]:!1}function Th(){return q2}var W2=jt({},al,{key:function(e){if(e.key){var t=U2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=C0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?V2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Th,charCode:function(e){return e.type==="keypress"?C0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?C0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),K2=On(W2),H2=jt({},Bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),op=On(H2),G2=jt({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Th}),Q2=On(G2),Y2=jt({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),X2=On(Y2),J2=jt({},Bc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Z2=On(J2),e5=[9,13,27,32],Rh=zr&&"CompositionEvent"in window,ma=null;zr&&"documentMode"in document&&(ma=document.documentMode);var t5=zr&&"TextEvent"in window&&!ma,q9=zr&&(!Rh||ma&&8<ma&&11>=ma),ip=" ",ap=!1;function W9(e,t){switch(e){case"keyup":return e5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K9(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $o=!1;function n5(e,t){switch(e){case"compositionend":return K9(t);case"keypress":return t.which!==32?null:(ap=!0,ip);case"textInput":return e=t.data,e===ip&&ap?null:e;default:return null}}function r5(e,t){if($o)return e==="compositionend"||!Rh&&W9(e,t)?(e=z9(),b0=Sh=ps=null,$o=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return q9&&t.locale!=="ko"?null:t.data;default:return null}}var s5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!s5[e.type]:t==="textarea"}function H9(e,t,n,r){B9(r),t=W0(t,"onChange"),0<t.length&&(n=new Ph("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var pa=null,Ia=null;function o5(e){sv(e,0)}function Ac(e){var t=zo(e);if(g9(t))return e}function i5(e,t){if(e==="change")return t}var G9=!1;if(zr){var zu;if(zr){var qu="oninput"in document;if(!qu){var cp=document.createElement("div");cp.setAttribute("oninput","return;"),qu=typeof cp.oninput=="function"}zu=qu}else zu=!1;G9=zu&&(!document.documentMode||9<document.documentMode)}function up(){pa&&(pa.detachEvent("onpropertychange",Q9),Ia=pa=null)}function Q9(e){if(e.propertyName==="value"&&Ac(Ia)){var t=[];H9(t,Ia,e,Fh(e)),k9(o5,t)}}function a5(e,t,n){e==="focusin"?(up(),pa=t,Ia=n,pa.attachEvent("onpropertychange",Q9)):e==="focusout"&&up()}function l5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ac(Ia)}function c5(e,t){if(e==="click")return Ac(t)}function u5(e,t){if(e==="input"||e==="change")return Ac(t)}function x5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xr=typeof Object.is=="function"?Object.is:x5;function La(e,t){if(xr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ox.call(t,s)||!xr(e[s],t[s]))return!1}return!0}function xp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dp(e,t){var n=xp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xp(n)}}function Y9(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Y9(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function X9(){for(var e=window,t=L0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=L0(e.document)}return t}function Mh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function d5(e){var t=X9(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Y9(n.ownerDocument.documentElement,n)){if(r!==null&&Mh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=dp(n,i);var a=dp(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var h5=zr&&"documentMode"in document&&11>=document.documentMode,Uo=null,sd=null,ga=null,od=!1;function hp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;od||Uo==null||Uo!==L0(r)||(r=Uo,"selectionStart"in r&&Mh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ga&&La(ga,r)||(ga=r,r=W0(sd,"onSelect"),0<r.length&&(t=new Ph("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Uo)))}function Jl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vo={animationend:Jl("Animation","AnimationEnd"),animationiteration:Jl("Animation","AnimationIteration"),animationstart:Jl("Animation","AnimationStart"),transitionend:Jl("Transition","TransitionEnd")},Wu={},J9={};zr&&(J9=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Dc(e){if(Wu[e])return Wu[e];if(!Vo[e])return e;var t=Vo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in J9)return Wu[e]=t[n];return e}var Z9=Dc("animationend"),ev=Dc("animationiteration"),tv=Dc("animationstart"),nv=Dc("transitionend"),rv=new Map,fp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ps(e,t){rv.set(e,t),yo(t,[e])}for(var Ku=0;Ku<fp.length;Ku++){var Hu=fp[Ku],f5=Hu.toLowerCase(),m5=Hu[0].toUpperCase()+Hu.slice(1);Ps(f5,"on"+m5)}Ps(Z9,"onAnimationEnd");Ps(ev,"onAnimationIteration");Ps(tv,"onAnimationStart");Ps("dblclick","onDoubleClick");Ps("focusin","onFocus");Ps("focusout","onBlur");Ps(nv,"onTransitionEnd");li("onMouseEnter",["mouseout","mouseover"]);li("onMouseLeave",["mouseout","mouseover"]);li("onPointerEnter",["pointerout","pointerover"]);li("onPointerLeave",["pointerout","pointerover"]);yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p5=new Set("cancel close invalid load scroll toggle".split(" ").concat(ua));function mp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,f2(r,t,void 0,e),e.currentTarget=null}function sv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,x=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;mp(s,l,x),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,x=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;mp(s,l,x),i=c}}}if($0)throw e=ed,$0=!1,ed=null,e}function mt(e,t){var n=t[ud];n===void 0&&(n=t[ud]=new Set);var r=e+"__bubble";n.has(r)||(ov(t,e,2,!1),n.add(r))}function Gu(e,t,n){var r=0;t&&(r|=4),ov(n,e,r,t)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function Oa(e){if(!e[Zl]){e[Zl]=!0,d9.forEach(function(n){n!=="selectionchange"&&(p5.has(n)||Gu(n,!1,e),Gu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zl]||(t[Zl]=!0,Gu("selectionchange",!1,t))}}function ov(e,t,n,r){switch(V9(t)){case 1:var s=N2;break;case 4:s=_2;break;default:s=_h}n=s.bind(null,t,n,e),s=void 0,!Zx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Qu(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=to(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}k9(function(){var x=i,d=Fh(n),f=[];e:{var m=rv.get(e);if(m!==void 0){var y=Ph,C=e;switch(e){case"keypress":if(C0(n)===0)break e;case"keydown":case"keyup":y=K2;break;case"focusin":C="focus",y=Vu;break;case"focusout":C="blur",y=Vu;break;case"beforeblur":case"afterblur":y=Vu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=T2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Q2;break;case Z9:case ev:case tv:y=I2;break;case nv:y=X2;break;case"scroll":y=S2;break;case"wheel":y=Z2;break;case"copy":case"cut":case"paste":y=O2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=op}var A=(t&4)!==0,j=!A&&e==="scroll",v=A?m!==null?m+"Capture":null:m;A=[];for(var E=x,g;E!==null;){g=E;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,v!==null&&(b=Pa(E,v),b!=null&&A.push($a(E,b,g)))),j)break;E=E.return}0<A.length&&(m=new y(m,C,null,n,d),f.push({event:m,listeners:A}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==Xx&&(C=n.relatedTarget||n.fromElement)&&(to(C)||C[qr]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=x,C=C?to(C):null,C!==null&&(j=vo(C),C!==j||C.tag!==5&&C.tag!==6)&&(C=null)):(y=null,C=x),y!==C)){if(A=rp,b="onMouseLeave",v="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(A=op,b="onPointerLeave",v="onPointerEnter",E="pointer"),j=y==null?m:zo(y),g=C==null?m:zo(C),m=new A(b,E+"leave",y,n,d),m.target=j,m.relatedTarget=g,b=null,to(d)===x&&(A=new A(v,E+"enter",C,n,d),A.target=g,A.relatedTarget=j,b=A),j=b,y&&C)t:{for(A=y,v=C,E=0,g=A;g;g=jo(g))E++;for(g=0,b=v;b;b=jo(b))g++;for(;0<E-g;)A=jo(A),E--;for(;0<g-E;)v=jo(v),g--;for(;E--;){if(A===v||v!==null&&A===v.alternate)break t;A=jo(A),v=jo(v)}A=null}else A=null;y!==null&&pp(f,m,y,A,!1),C!==null&&j!==null&&pp(f,j,C,A,!0)}}e:{if(m=x?zo(x):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var F=i5;else if(lp(m))if(G9)F=u5;else{F=l5;var k=a5}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(F=c5);if(F&&(F=F(e,x))){H9(f,F,n,d);break e}k&&k(e,m,x),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&Kx(m,"number",m.value)}switch(k=x?zo(x):window,e){case"focusin":(lp(k)||k.contentEditable==="true")&&(Uo=k,sd=x,ga=null);break;case"focusout":ga=sd=Uo=null;break;case"mousedown":od=!0;break;case"contextmenu":case"mouseup":case"dragend":od=!1,hp(f,n,d);break;case"selectionchange":if(h5)break;case"keydown":case"keyup":hp(f,n,d)}var N;if(Rh)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else $o?W9(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(q9&&n.locale!=="ko"&&($o||S!=="onCompositionStart"?S==="onCompositionEnd"&&$o&&(N=z9()):(ps=d,Sh="value"in ps?ps.value:ps.textContent,$o=!0)),k=W0(x,S),0<k.length&&(S=new sp(S,e,null,n,d),f.push({event:S,listeners:k}),N?S.data=N:(N=K9(n),N!==null&&(S.data=N)))),(N=t5?n5(e,n):r5(e,n))&&(x=W0(x,"onBeforeInput"),0<x.length&&(d=new sp("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:x}),d.data=N))}sv(f,t)})}function $a(e,t,n){return{instance:e,listener:t,currentTarget:n}}function W0(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Pa(e,n),i!=null&&r.unshift($a(e,i,s)),i=Pa(e,t),i!=null&&r.push($a(e,i,s))),e=e.return}return r}function jo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pp(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,x=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&x!==null&&(l=x,s?(c=Pa(n,i),c!=null&&a.unshift($a(n,c,l))):s||(c=Pa(n,i),c!=null&&a.push($a(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var g5=/\r\n?/g,y5=/\u0000|\uFFFD/g;function gp(e){return(typeof e=="string"?e:""+e).replace(g5,`
`).replace(y5,"")}function e0(e,t,n){if(t=gp(t),gp(e)!==t&&n)throw Error(ge(425))}function K0(){}var id=null,ad=null;function ld(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cd=typeof setTimeout=="function"?setTimeout:void 0,v5=typeof clearTimeout=="function"?clearTimeout:void 0,yp=typeof Promise=="function"?Promise:void 0,E5=typeof queueMicrotask=="function"?queueMicrotask:typeof yp<"u"?function(e){return yp.resolve(null).then(e).catch(b5)}:cd;function b5(e){setTimeout(function(){throw e})}function Yu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ma(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ma(t)}function Cs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fi=Math.random().toString(36).slice(2),br="__reactFiber$"+Fi,Ua="__reactProps$"+Fi,qr="__reactContainer$"+Fi,ud="__reactEvents$"+Fi,C5="__reactListeners$"+Fi,w5="__reactHandles$"+Fi;function to(e){var t=e[br];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qr]||n[br]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vp(e);e!==null;){if(n=e[br])return n;e=vp(e)}return t}e=n,n=e.parentNode}return null}function ll(e){return e=e[br]||e[qr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function Fc(e){return e[Ua]||null}var xd=[],qo=-1;function Ts(e){return{current:e}}function gt(e){0>qo||(e.current=xd[qo],xd[qo]=null,qo--)}function dt(e,t){qo++,xd[qo]=e.current,e.current=t}var js={},cn=Ts(js),Fn=Ts(!1),ho=js;function ci(e,t){var n=e.type.contextTypes;if(!n)return js;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function kn(e){return e=e.childContextTypes,e!=null}function H0(){gt(Fn),gt(cn)}function Ep(e,t,n){if(cn.current!==js)throw Error(ge(168));dt(cn,t),dt(Fn,n)}function iv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(ge(108,a2(e)||"Unknown",s));return jt({},n,r)}function G0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||js,ho=cn.current,dt(cn,e),dt(Fn,Fn.current),!0}function bp(e,t,n){var r=e.stateNode;if(!r)throw Error(ge(169));n?(e=iv(e,t,ho),r.__reactInternalMemoizedMergedChildContext=e,gt(Fn),gt(cn),dt(cn,e)):gt(Fn),dt(Fn,n)}var Ir=null,kc=!1,Xu=!1;function av(e){Ir===null?Ir=[e]:Ir.push(e)}function B5(e){kc=!0,av(e)}function Rs(){if(!Xu&&Ir!==null){Xu=!0;var e=0,t=ct;try{var n=Ir;for(ct=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ir=null,kc=!1}catch(s){throw Ir!==null&&(Ir=Ir.slice(e+1)),S9(kh,Rs),s}finally{ct=t,Xu=!1}}return null}var Wo=[],Ko=0,Q0=null,Y0=0,qn=[],Wn=0,fo=null,Lr=1,Or="";function Ys(e,t){Wo[Ko++]=Y0,Wo[Ko++]=Q0,Q0=e,Y0=t}function lv(e,t,n){qn[Wn++]=Lr,qn[Wn++]=Or,qn[Wn++]=fo,fo=e;var r=Lr;e=Or;var s=32-ar(r)-1;r&=~(1<<s),n+=1;var i=32-ar(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Lr=1<<32-ar(t)+s|n<<s|r,Or=i+e}else Lr=1<<i|n<<s|r,Or=e}function Ih(e){e.return!==null&&(Ys(e,1),lv(e,1,0))}function Lh(e){for(;e===Q0;)Q0=Wo[--Ko],Wo[Ko]=null,Y0=Wo[--Ko],Wo[Ko]=null;for(;e===fo;)fo=qn[--Wn],qn[Wn]=null,Or=qn[--Wn],qn[Wn]=null,Lr=qn[--Wn],qn[Wn]=null}var Mn=null,Tn=null,Ct=!1,or=null;function cv(e,t){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Cp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mn=e,Tn=Cs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mn=e,Tn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fo!==null?{id:Lr,overflow:Or}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mn=e,Tn=null,!0):!1;default:return!1}}function dd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hd(e){if(Ct){var t=Tn;if(t){var n=t;if(!Cp(e,t)){if(dd(e))throw Error(ge(418));t=Cs(n.nextSibling);var r=Mn;t&&Cp(e,t)?cv(r,n):(e.flags=e.flags&-4097|2,Ct=!1,Mn=e)}}else{if(dd(e))throw Error(ge(418));e.flags=e.flags&-4097|2,Ct=!1,Mn=e}}}function wp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mn=e}function t0(e){if(e!==Mn)return!1;if(!Ct)return wp(e),Ct=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ld(e.type,e.memoizedProps)),t&&(t=Tn)){if(dd(e))throw uv(),Error(ge(418));for(;t;)cv(e,t),t=Cs(t.nextSibling)}if(wp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Tn=Cs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Tn=null}}else Tn=Mn?Cs(e.stateNode.nextSibling):null;return!0}function uv(){for(var e=Tn;e;)e=Cs(e.nextSibling)}function ui(){Tn=Mn=null,Ct=!1}function Oh(e){or===null?or=[e]:or.push(e)}var A5=Xr.ReactCurrentBatchConfig;function ea(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ge(309));var r=n.stateNode}if(!r)throw Error(ge(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(ge(284));if(!n._owner)throw Error(ge(290,e))}return e}function n0(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bp(e){var t=e._init;return t(e._payload)}function xv(e){function t(v,E){if(e){var g=v.deletions;g===null?(v.deletions=[E],v.flags|=16):g.push(E)}}function n(v,E){if(!e)return null;for(;E!==null;)t(v,E),E=E.sibling;return null}function r(v,E){for(v=new Map;E!==null;)E.key!==null?v.set(E.key,E):v.set(E.index,E),E=E.sibling;return v}function s(v,E){return v=Ds(v,E),v.index=0,v.sibling=null,v}function i(v,E,g){return v.index=g,e?(g=v.alternate,g!==null?(g=g.index,g<E?(v.flags|=2,E):g):(v.flags|=2,E)):(v.flags|=1048576,E)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,E,g,b){return E===null||E.tag!==6?(E=sx(g,v.mode,b),E.return=v,E):(E=s(E,g),E.return=v,E)}function c(v,E,g,b){var F=g.type;return F===Oo?d(v,E,g.props.children,b,g.key):E!==null&&(E.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===cs&&Bp(F)===E.type)?(b=s(E,g.props),b.ref=ea(v,E,g),b.return=v,b):(b=j0(g.type,g.key,g.props,null,v.mode,b),b.ref=ea(v,E,g),b.return=v,b)}function x(v,E,g,b){return E===null||E.tag!==4||E.stateNode.containerInfo!==g.containerInfo||E.stateNode.implementation!==g.implementation?(E=ox(g,v.mode,b),E.return=v,E):(E=s(E,g.children||[]),E.return=v,E)}function d(v,E,g,b,F){return E===null||E.tag!==7?(E=co(g,v.mode,b,F),E.return=v,E):(E=s(E,g),E.return=v,E)}function f(v,E,g){if(typeof E=="string"&&E!==""||typeof E=="number")return E=sx(""+E,v.mode,g),E.return=v,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Wl:return g=j0(E.type,E.key,E.props,null,v.mode,g),g.ref=ea(v,null,E),g.return=v,g;case Lo:return E=ox(E,v.mode,g),E.return=v,E;case cs:var b=E._init;return f(v,b(E._payload),g)}if(la(E)||Qi(E))return E=co(E,v.mode,g,null),E.return=v,E;n0(v,E)}return null}function m(v,E,g,b){var F=E!==null?E.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return F!==null?null:l(v,E,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Wl:return g.key===F?c(v,E,g,b):null;case Lo:return g.key===F?x(v,E,g,b):null;case cs:return F=g._init,m(v,E,F(g._payload),b)}if(la(g)||Qi(g))return F!==null?null:d(v,E,g,b,null);n0(v,g)}return null}function y(v,E,g,b,F){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(g)||null,l(E,v,""+b,F);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wl:return v=v.get(b.key===null?g:b.key)||null,c(E,v,b,F);case Lo:return v=v.get(b.key===null?g:b.key)||null,x(E,v,b,F);case cs:var k=b._init;return y(v,E,g,k(b._payload),F)}if(la(b)||Qi(b))return v=v.get(g)||null,d(E,v,b,F,null);n0(E,b)}return null}function C(v,E,g,b){for(var F=null,k=null,N=E,S=E=0,O=null;N!==null&&S<g.length;S++){N.index>S?(O=N,N=null):O=N.sibling;var $=m(v,N,g[S],b);if($===null){N===null&&(N=O);break}e&&N&&$.alternate===null&&t(v,N),E=i($,E,S),k===null?F=$:k.sibling=$,k=$,N=O}if(S===g.length)return n(v,N),Ct&&Ys(v,S),F;if(N===null){for(;S<g.length;S++)N=f(v,g[S],b),N!==null&&(E=i(N,E,S),k===null?F=N:k.sibling=N,k=N);return Ct&&Ys(v,S),F}for(N=r(v,N);S<g.length;S++)O=y(N,v,S,g[S],b),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?S:O.key),E=i(O,E,S),k===null?F=O:k.sibling=O,k=O);return e&&N.forEach(function(M){return t(v,M)}),Ct&&Ys(v,S),F}function A(v,E,g,b){var F=Qi(g);if(typeof F!="function")throw Error(ge(150));if(g=F.call(g),g==null)throw Error(ge(151));for(var k=F=null,N=E,S=E=0,O=null,$=g.next();N!==null&&!$.done;S++,$=g.next()){N.index>S?(O=N,N=null):O=N.sibling;var M=m(v,N,$.value,b);if(M===null){N===null&&(N=O);break}e&&N&&M.alternate===null&&t(v,N),E=i(M,E,S),k===null?F=M:k.sibling=M,k=M,N=O}if($.done)return n(v,N),Ct&&Ys(v,S),F;if(N===null){for(;!$.done;S++,$=g.next())$=f(v,$.value,b),$!==null&&(E=i($,E,S),k===null?F=$:k.sibling=$,k=$);return Ct&&Ys(v,S),F}for(N=r(v,N);!$.done;S++,$=g.next())$=y(N,v,S,$.value,b),$!==null&&(e&&$.alternate!==null&&N.delete($.key===null?S:$.key),E=i($,E,S),k===null?F=$:k.sibling=$,k=$);return e&&N.forEach(function(G){return t(v,G)}),Ct&&Ys(v,S),F}function j(v,E,g,b){if(typeof g=="object"&&g!==null&&g.type===Oo&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Wl:e:{for(var F=g.key,k=E;k!==null;){if(k.key===F){if(F=g.type,F===Oo){if(k.tag===7){n(v,k.sibling),E=s(k,g.props.children),E.return=v,v=E;break e}}else if(k.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===cs&&Bp(F)===k.type){n(v,k.sibling),E=s(k,g.props),E.ref=ea(v,k,g),E.return=v,v=E;break e}n(v,k);break}else t(v,k);k=k.sibling}g.type===Oo?(E=co(g.props.children,v.mode,b,g.key),E.return=v,v=E):(b=j0(g.type,g.key,g.props,null,v.mode,b),b.ref=ea(v,E,g),b.return=v,v=b)}return a(v);case Lo:e:{for(k=g.key;E!==null;){if(E.key===k)if(E.tag===4&&E.stateNode.containerInfo===g.containerInfo&&E.stateNode.implementation===g.implementation){n(v,E.sibling),E=s(E,g.children||[]),E.return=v,v=E;break e}else{n(v,E);break}else t(v,E);E=E.sibling}E=ox(g,v.mode,b),E.return=v,v=E}return a(v);case cs:return k=g._init,j(v,E,k(g._payload),b)}if(la(g))return C(v,E,g,b);if(Qi(g))return A(v,E,g,b);n0(v,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,E!==null&&E.tag===6?(n(v,E.sibling),E=s(E,g),E.return=v,v=E):(n(v,E),E=sx(g,v.mode,b),E.return=v,v=E),a(v)):n(v,E)}return j}var xi=xv(!0),dv=xv(!1),X0=Ts(null),J0=null,Ho=null,$h=null;function Uh(){$h=Ho=J0=null}function Vh(e){var t=X0.current;gt(X0),e._currentValue=t}function fd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ii(e,t){J0=e,$h=Ho=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bn=!0),e.firstContext=null)}function Yn(e){var t=e._currentValue;if($h!==e)if(e={context:e,memoizedValue:t,next:null},Ho===null){if(J0===null)throw Error(ge(308));Ho=e,J0.dependencies={lanes:0,firstContext:e}}else Ho=Ho.next=e;return t}var no=null;function zh(e){no===null?no=[e]:no.push(e)}function hv(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,zh(t)):(n.next=s.next,s.next=n),t.interleaved=n,Wr(e,r)}function Wr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var us=!1;function qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $r(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ws(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,rt&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Wr(e,n)}return s=r.interleaved,s===null?(t.next=t,zh(r)):(t.next=s.next,s.next=t),r.interleaved=t,Wr(e,n)}function w0(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jh(e,n)}}function Ap(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Z0(e,t,n,r){var s=e.updateQueue;us=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,x=c.next;c.next=null,a===null?i=x:a.next=x,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=x:l.next=x,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=x=c=null,l=i;do{var m=l.lane,y=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=e,A=l;switch(m=t,y=n,A.tag){case 1:if(C=A.payload,typeof C=="function"){f=C.call(y,f,m);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=A.payload,m=typeof C=="function"?C.call(y,f,m):C,m==null)break e;f=jt({},f,m);break e;case 2:us=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(x=d=y,c=f):d=d.next=y,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=x,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);po|=a,e.lanes=a,e.memoizedState=f}}function Dp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ge(191,s));s.call(r)}}}var cl={},Ar=Ts(cl),Va=Ts(cl),za=Ts(cl);function ro(e){if(e===cl)throw Error(ge(174));return e}function Wh(e,t){switch(dt(za,t),dt(Va,e),dt(Ar,cl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gx(t,e)}gt(Ar),dt(Ar,t)}function di(){gt(Ar),gt(Va),gt(za)}function mv(e){ro(za.current);var t=ro(Ar.current),n=Gx(t,e.type);t!==n&&(dt(Va,e),dt(Ar,n))}function Kh(e){Va.current===e&&(gt(Ar),gt(Va))}var Dt=Ts(0);function ec(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ju=[];function Hh(){for(var e=0;e<Ju.length;e++)Ju[e]._workInProgressVersionPrimary=null;Ju.length=0}var B0=Xr.ReactCurrentDispatcher,Zu=Xr.ReactCurrentBatchConfig,mo=0,kt=null,$t=null,Wt=null,tc=!1,ya=!1,qa=0,D5=0;function rn(){throw Error(ge(321))}function Gh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xr(e[n],t[n]))return!1;return!0}function Qh(e,t,n,r,s,i){if(mo=i,kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B0.current=e===null||e.memoizedState===null?N5:_5,e=n(r,s),ya){i=0;do{if(ya=!1,qa=0,25<=i)throw Error(ge(301));i+=1,Wt=$t=null,t.updateQueue=null,B0.current=S5,e=n(r,s)}while(ya)}if(B0.current=nc,t=$t!==null&&$t.next!==null,mo=0,Wt=$t=kt=null,tc=!1,t)throw Error(ge(300));return e}function Yh(){var e=qa!==0;return qa=0,e}function Er(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?kt.memoizedState=Wt=e:Wt=Wt.next=e,Wt}function Xn(){if($t===null){var e=kt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var t=Wt===null?kt.memoizedState:Wt.next;if(t!==null)Wt=t,$t=e;else{if(e===null)throw Error(ge(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Wt===null?kt.memoizedState=Wt=e:Wt=Wt.next=e}return Wt}function Wa(e,t){return typeof t=="function"?t(e):t}function ex(e){var t=Xn(),n=t.queue;if(n===null)throw Error(ge(311));n.lastRenderedReducer=e;var r=$t,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,x=i;do{var d=x.lane;if((mo&d)===d)c!==null&&(c=c.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),r=x.hasEagerState?x.eagerState:e(r,x.action);else{var f={lane:d,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,kt.lanes|=d,po|=d}x=x.next}while(x!==null&&x!==i);c===null?a=r:c.next=l,xr(r,t.memoizedState)||(Bn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,kt.lanes|=i,po|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function tx(e){var t=Xn(),n=t.queue;if(n===null)throw Error(ge(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);xr(i,t.memoizedState)||(Bn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function pv(){}function gv(e,t){var n=kt,r=Xn(),s=t(),i=!xr(r.memoizedState,s);if(i&&(r.memoizedState=s,Bn=!0),r=r.queue,Xh(Ev.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,Ka(9,vv.bind(null,n,r,s,t),void 0,null),Kt===null)throw Error(ge(349));mo&30||yv(n,t,s)}return s}function yv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=kt.updateQueue,t===null?(t={lastEffect:null,stores:null},kt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vv(e,t,n,r){t.value=n,t.getSnapshot=r,bv(t)&&Cv(e)}function Ev(e,t,n){return n(function(){bv(t)&&Cv(e)})}function bv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xr(e,n)}catch{return!0}}function Cv(e){var t=Wr(e,1);t!==null&&lr(t,e,1,-1)}function Fp(e){var t=Er();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:e},t.queue=e,e=e.dispatch=j5.bind(null,kt,e),[t.memoizedState,e]}function Ka(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=kt.updateQueue,t===null?(t={lastEffect:null,stores:null},kt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function wv(){return Xn().memoizedState}function A0(e,t,n,r){var s=Er();kt.flags|=e,s.memoizedState=Ka(1|t,n,void 0,r===void 0?null:r)}function jc(e,t,n,r){var s=Xn();r=r===void 0?null:r;var i=void 0;if($t!==null){var a=$t.memoizedState;if(i=a.destroy,r!==null&&Gh(r,a.deps)){s.memoizedState=Ka(t,n,i,r);return}}kt.flags|=e,s.memoizedState=Ka(1|t,n,i,r)}function kp(e,t){return A0(8390656,8,e,t)}function Xh(e,t){return jc(2048,8,e,t)}function Bv(e,t){return jc(4,2,e,t)}function Av(e,t){return jc(4,4,e,t)}function Dv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fv(e,t,n){return n=n!=null?n.concat([e]):null,jc(4,4,Dv.bind(null,t,e),n)}function Jh(){}function kv(e,t){var n=Xn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function jv(e,t){var n=Xn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Nv(e,t,n){return mo&21?(xr(n,t)||(n=R9(),kt.lanes|=n,po|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bn=!0),e.memoizedState=n)}function F5(e,t){var n=ct;ct=n!==0&&4>n?n:4,e(!0);var r=Zu.transition;Zu.transition={};try{e(!1),t()}finally{ct=n,Zu.transition=r}}function _v(){return Xn().memoizedState}function k5(e,t,n){var r=As(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Sv(e))Pv(t,n);else if(n=hv(e,t,n,r),n!==null){var s=pn();lr(n,e,r,s),Tv(n,t,r)}}function j5(e,t,n){var r=As(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sv(e))Pv(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,xr(l,a)){var c=t.interleaved;c===null?(s.next=s,zh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=hv(e,t,s,r),n!==null&&(s=pn(),lr(n,e,r,s),Tv(n,t,r))}}function Sv(e){var t=e.alternate;return e===kt||t!==null&&t===kt}function Pv(e,t){ya=tc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Tv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jh(e,n)}}var nc={readContext:Yn,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},N5={readContext:Yn,useCallback:function(e,t){return Er().memoizedState=[e,t===void 0?null:t],e},useContext:Yn,useEffect:kp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,A0(4194308,4,Dv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return A0(4194308,4,e,t)},useInsertionEffect:function(e,t){return A0(4,2,e,t)},useMemo:function(e,t){var n=Er();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Er();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=k5.bind(null,kt,e),[r.memoizedState,e]},useRef:function(e){var t=Er();return e={current:e},t.memoizedState=e},useState:Fp,useDebugValue:Jh,useDeferredValue:function(e){return Er().memoizedState=e},useTransition:function(){var e=Fp(!1),t=e[0];return e=F5.bind(null,e[1]),Er().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=kt,s=Er();if(Ct){if(n===void 0)throw Error(ge(407));n=n()}else{if(n=t(),Kt===null)throw Error(ge(349));mo&30||yv(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,kp(Ev.bind(null,r,i,e),[e]),r.flags|=2048,Ka(9,vv.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Er(),t=Kt.identifierPrefix;if(Ct){var n=Or,r=Lr;n=(r&~(1<<32-ar(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=qa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=D5++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_5={readContext:Yn,useCallback:kv,useContext:Yn,useEffect:Xh,useImperativeHandle:Fv,useInsertionEffect:Bv,useLayoutEffect:Av,useMemo:jv,useReducer:ex,useRef:wv,useState:function(){return ex(Wa)},useDebugValue:Jh,useDeferredValue:function(e){var t=Xn();return Nv(t,$t.memoizedState,e)},useTransition:function(){var e=ex(Wa)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:pv,useSyncExternalStore:gv,useId:_v,unstable_isNewReconciler:!1},S5={readContext:Yn,useCallback:kv,useContext:Yn,useEffect:Xh,useImperativeHandle:Fv,useInsertionEffect:Bv,useLayoutEffect:Av,useMemo:jv,useReducer:tx,useRef:wv,useState:function(){return tx(Wa)},useDebugValue:Jh,useDeferredValue:function(e){var t=Xn();return $t===null?t.memoizedState=e:Nv(t,$t.memoizedState,e)},useTransition:function(){var e=tx(Wa)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:pv,useSyncExternalStore:gv,useId:_v,unstable_isNewReconciler:!1};function nr(e,t){if(e&&e.defaultProps){t=jt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function md(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:jt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Nc={isMounted:function(e){return(e=e._reactInternals)?vo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pn(),s=As(e),i=$r(r,s);i.payload=t,n!=null&&(i.callback=n),t=ws(e,i,s),t!==null&&(lr(t,e,s,r),w0(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pn(),s=As(e),i=$r(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ws(e,i,s),t!==null&&(lr(t,e,s,r),w0(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pn(),r=As(e),s=$r(n,r);s.tag=2,t!=null&&(s.callback=t),t=ws(e,s,r),t!==null&&(lr(t,e,r,n),w0(t,e,r))}};function jp(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!La(n,r)||!La(s,i):!0}function Rv(e,t,n){var r=!1,s=js,i=t.contextType;return typeof i=="object"&&i!==null?i=Yn(i):(s=kn(t)?ho:cn.current,r=t.contextTypes,i=(r=r!=null)?ci(e,s):js),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Np(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Nc.enqueueReplaceState(t,t.state,null)}function pd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},qh(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Yn(i):(i=kn(t)?ho:cn.current,s.context=ci(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(md(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Nc.enqueueReplaceState(s,s.state,null),Z0(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function hi(e,t){try{var n="",r=t;do n+=i2(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function nx(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var P5=typeof WeakMap=="function"?WeakMap:Map;function Mv(e,t,n){n=$r(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sc||(sc=!0,Fd=r),gd(e,t)},n}function Iv(e,t,n){n=$r(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){gd(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){gd(e,t),typeof r!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function _p(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new P5;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=H5.bind(null,e,t,n),t.then(e,e))}function Sp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$r(-1,1),t.tag=2,ws(n,t,1))),n.lanes|=1),e)}var T5=Xr.ReactCurrentOwner,Bn=!1;function hn(e,t,n,r){t.child=e===null?dv(t,null,n,r):xi(t,e.child,n,r)}function Tp(e,t,n,r,s){n=n.render;var i=t.ref;return ii(t,s),r=Qh(e,t,n,r,i,s),n=Yh(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kr(e,t,s)):(Ct&&n&&Ih(t),t.flags|=1,hn(e,t,r,s),t.child)}function Rp(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!af(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Lv(e,t,i,r,s)):(e=j0(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:La,n(a,r)&&e.ref===t.ref)return Kr(e,t,s)}return t.flags|=1,e=Ds(i,r),e.ref=t.ref,e.return=t,t.child=e}function Lv(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(La(i,r)&&e.ref===t.ref)if(Bn=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Bn=!0);else return t.lanes=e.lanes,Kr(e,t,s)}return yd(e,t,n,r,s)}function Ov(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(Qo,Pn),Pn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,dt(Qo,Pn),Pn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,dt(Qo,Pn),Pn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,dt(Qo,Pn),Pn|=r;return hn(e,t,s,n),t.child}function $v(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yd(e,t,n,r,s){var i=kn(n)?ho:cn.current;return i=ci(t,i),ii(t,s),n=Qh(e,t,n,r,i,s),r=Yh(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kr(e,t,s)):(Ct&&r&&Ih(t),t.flags|=1,hn(e,t,n,s),t.child)}function Mp(e,t,n,r,s){if(kn(n)){var i=!0;G0(t)}else i=!1;if(ii(t,s),t.stateNode===null)D0(e,t),Rv(t,n,r),pd(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,x=n.contextType;typeof x=="object"&&x!==null?x=Yn(x):(x=kn(n)?ho:cn.current,x=ci(t,x));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==x)&&Np(t,a,r,x),us=!1;var m=t.memoizedState;a.state=m,Z0(t,r,a,s),c=t.memoizedState,l!==r||m!==c||Fn.current||us?(typeof d=="function"&&(md(t,n,d,r),c=t.memoizedState),(l=us||jp(t,n,l,r,m,c,x))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=x,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,fv(e,t),l=t.memoizedProps,x=t.type===t.elementType?l:nr(t.type,l),a.props=x,f=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Yn(c):(c=kn(n)?ho:cn.current,c=ci(t,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&Np(t,a,r,c),us=!1,m=t.memoizedState,a.state=m,Z0(t,r,a,s);var C=t.memoizedState;l!==f||m!==C||Fn.current||us?(typeof y=="function"&&(md(t,n,y,r),C=t.memoizedState),(x=us||jp(t,n,x,r,m,C,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,C,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,C,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),a.props=r,a.state=C,a.context=c,r=x):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return vd(e,t,n,r,i,s)}function vd(e,t,n,r,s,i){$v(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&bp(t,n,!1),Kr(e,t,i);r=t.stateNode,T5.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,l,i)):hn(e,t,l,i),t.memoizedState=r.state,s&&bp(t,n,!0),t.child}function Uv(e){var t=e.stateNode;t.pendingContext?Ep(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ep(e,t.context,!1),Wh(e,t.containerInfo)}function Ip(e,t,n,r,s){return ui(),Oh(s),t.flags|=256,hn(e,t,n,r),t.child}var Ed={dehydrated:null,treeContext:null,retryLane:0};function bd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vv(e,t,n){var r=t.pendingProps,s=Dt.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),dt(Dt,s&1),e===null)return hd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Pc(a,r,0,null),e=co(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=bd(n),t.memoizedState=Ed,e):Zh(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return R5(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ds(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ds(l,i):(i=co(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?bd(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Ed,r}return i=e.child,e=i.sibling,r=Ds(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Zh(e,t){return t=Pc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function r0(e,t,n,r){return r!==null&&Oh(r),xi(t,e.child,null,n),e=Zh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function R5(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=nx(Error(ge(422))),r0(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Pc({mode:"visible",children:r.children},s,0,null),i=co(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&xi(t,e.child,null,a),t.child.memoizedState=bd(a),t.memoizedState=Ed,i);if(!(t.mode&1))return r0(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ge(419)),r=nx(i,r,void 0),r0(e,t,a,r)}if(l=(a&e.childLanes)!==0,Bn||l){if(r=Kt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Wr(e,s),lr(r,e,s,-1))}return of(),r=nx(Error(ge(421))),r0(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=G5.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Tn=Cs(s.nextSibling),Mn=t,Ct=!0,or=null,e!==null&&(qn[Wn++]=Lr,qn[Wn++]=Or,qn[Wn++]=fo,Lr=e.id,Or=e.overflow,fo=t),t=Zh(t,r.children),t.flags|=4096,t)}function Lp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fd(e.return,t,n)}function rx(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function zv(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(hn(e,t,r.children,n),r=Dt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lp(e,n,t);else if(e.tag===19)Lp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(dt(Dt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ec(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),rx(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ec(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}rx(t,!0,n,null,i);break;case"together":rx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function D0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),po|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,n=Ds(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ds(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function M5(e,t,n){switch(t.tag){case 3:Uv(t),ui();break;case 5:mv(t);break;case 1:kn(t.type)&&G0(t);break;case 4:Wh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;dt(X0,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(dt(Dt,Dt.current&1),t.flags|=128,null):n&t.child.childLanes?Vv(e,t,n):(dt(Dt,Dt.current&1),e=Kr(e,t,n),e!==null?e.sibling:null);dt(Dt,Dt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return zv(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),dt(Dt,Dt.current),r)break;return null;case 22:case 23:return t.lanes=0,Ov(e,t,n)}return Kr(e,t,n)}var qv,Cd,Wv,Kv;qv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cd=function(){};Wv=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ro(Ar.current);var i=null;switch(n){case"input":s=qx(e,s),r=qx(e,r),i=[];break;case"select":s=jt({},s,{value:void 0}),r=jt({},r,{value:void 0}),i=[];break;case"textarea":s=Hx(e,s),r=Hx(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=K0)}Qx(n,r);var a;n=null;for(x in s)if(!r.hasOwnProperty(x)&&s.hasOwnProperty(x)&&s[x]!=null)if(x==="style"){var l=s[x];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(_a.hasOwnProperty(x)?i||(i=[]):(i=i||[]).push(x,null));for(x in r){var c=r[x];if(l=s!=null?s[x]:void 0,r.hasOwnProperty(x)&&c!==l&&(c!=null||l!=null))if(x==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(x,n)),n=c;else x==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(x,c)):x==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(x,""+c):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(_a.hasOwnProperty(x)?(c!=null&&x==="onScroll"&&mt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(x,c))}n&&(i=i||[]).push("style",n);var x=i;(t.updateQueue=x)&&(t.flags|=4)}};Kv=function(e,t,n,r){n!==r&&(t.flags|=4)};function ta(e,t){if(!Ct)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function sn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function I5(e,t,n){var r=t.pendingProps;switch(Lh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(t),null;case 1:return kn(t.type)&&H0(),sn(t),null;case 3:return r=t.stateNode,di(),gt(Fn),gt(cn),Hh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(t0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,or!==null&&(Nd(or),or=null))),Cd(e,t),sn(t),null;case 5:Kh(t);var s=ro(za.current);if(n=t.type,e!==null&&t.stateNode!=null)Wv(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ge(166));return sn(t),null}if(e=ro(Ar.current),t0(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[br]=t,r[Ua]=i,e=(t.mode&1)!==0,n){case"dialog":mt("cancel",r),mt("close",r);break;case"iframe":case"object":case"embed":mt("load",r);break;case"video":case"audio":for(s=0;s<ua.length;s++)mt(ua[s],r);break;case"source":mt("error",r);break;case"img":case"image":case"link":mt("error",r),mt("load",r);break;case"details":mt("toggle",r);break;case"input":Hm(r,i),mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},mt("invalid",r);break;case"textarea":Qm(r,i),mt("invalid",r)}Qx(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&e0(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&e0(r.textContent,l,e),s=["children",""+l]):_a.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&mt("scroll",r)}switch(n){case"input":Kl(r),Gm(r,i,!0);break;case"textarea":Kl(r),Ym(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=K0)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=E9(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[br]=t,e[Ua]=r,qv(e,t,!1,!1),t.stateNode=e;e:{switch(a=Yx(n,r),n){case"dialog":mt("cancel",e),mt("close",e),s=r;break;case"iframe":case"object":case"embed":mt("load",e),s=r;break;case"video":case"audio":for(s=0;s<ua.length;s++)mt(ua[s],e);s=r;break;case"source":mt("error",e),s=r;break;case"img":case"image":case"link":mt("error",e),mt("load",e),s=r;break;case"details":mt("toggle",e),s=r;break;case"input":Hm(e,r),s=qx(e,r),mt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=jt({},r,{value:void 0}),mt("invalid",e);break;case"textarea":Qm(e,r),s=Hx(e,r),mt("invalid",e);break;default:s=r}Qx(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?w9(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&b9(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Sa(e,c):typeof c=="number"&&Sa(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_a.hasOwnProperty(i)?c!=null&&i==="onScroll"&&mt("scroll",e):c!=null&&wh(e,i,c,a))}switch(n){case"input":Kl(e),Gm(e,r,!1);break;case"textarea":Kl(e),Ym(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ks(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ni(e,!!r.multiple,i,!1):r.defaultValue!=null&&ni(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=K0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sn(t),null;case 6:if(e&&t.stateNode!=null)Kv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ge(166));if(n=ro(za.current),ro(Ar.current),t0(t)){if(r=t.stateNode,n=t.memoizedProps,r[br]=t,(i=r.nodeValue!==n)&&(e=Mn,e!==null))switch(e.tag){case 3:e0(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&e0(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[br]=t,t.stateNode=r}return sn(t),null;case 13:if(gt(Dt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ct&&Tn!==null&&t.mode&1&&!(t.flags&128))uv(),ui(),t.flags|=98560,i=!1;else if(i=t0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ge(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ge(317));i[br]=t}else ui(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sn(t),i=!1}else or!==null&&(Nd(or),or=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Dt.current&1?Vt===0&&(Vt=3):of())),t.updateQueue!==null&&(t.flags|=4),sn(t),null);case 4:return di(),Cd(e,t),e===null&&Oa(t.stateNode.containerInfo),sn(t),null;case 10:return Vh(t.type._context),sn(t),null;case 17:return kn(t.type)&&H0(),sn(t),null;case 19:if(gt(Dt),i=t.memoizedState,i===null)return sn(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)ta(i,!1);else{if(Vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ec(e),a!==null){for(t.flags|=128,ta(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return dt(Dt,Dt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Mt()>fi&&(t.flags|=128,r=!0,ta(i,!1),t.lanes=4194304)}else{if(!r)if(e=ec(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ta(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ct)return sn(t),null}else 2*Mt()-i.renderingStartTime>fi&&n!==1073741824&&(t.flags|=128,r=!0,ta(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Mt(),t.sibling=null,n=Dt.current,dt(Dt,r?n&1|2:n&1),t):(sn(t),null);case 22:case 23:return sf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Pn&1073741824&&(sn(t),t.subtreeFlags&6&&(t.flags|=8192)):sn(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function L5(e,t){switch(Lh(t),t.tag){case 1:return kn(t.type)&&H0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return di(),gt(Fn),gt(cn),Hh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Kh(t),null;case 13:if(gt(Dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));ui()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return gt(Dt),null;case 4:return di(),null;case 10:return Vh(t.type._context),null;case 22:case 23:return sf(),null;case 24:return null;default:return null}}var s0=!1,an=!1,O5=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Go(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_t(e,t,r)}else n.current=null}function wd(e,t,n){try{n()}catch(r){_t(e,t,r)}}var Op=!1;function $5(e,t){if(id=z0,e=X9(),Mh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,x=0,d=0,f=e,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===e)break t;if(m===n&&++x===s&&(l=a),m===i&&++d===r&&(c=a),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ad={focusedElem:e,selectionRange:n},z0=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){t=Se;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var A=C.memoizedProps,j=C.memoizedState,v=t.stateNode,E=v.getSnapshotBeforeUpdate(t.elementType===t.type?A:nr(t.type,A),j);v.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(b){_t(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}return C=Op,Op=!1,C}function va(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&wd(t,n,i)}s=s.next}while(s!==r)}}function _c(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Hv(e){var t=e.alternate;t!==null&&(e.alternate=null,Hv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[br],delete t[Ua],delete t[ud],delete t[C5],delete t[w5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gv(e){return e.tag===5||e.tag===3||e.tag===4}function $p(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ad(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=K0));else if(r!==4&&(e=e.child,e!==null))for(Ad(e,t,n),e=e.sibling;e!==null;)Ad(e,t,n),e=e.sibling}function Dd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Dd(e,t,n),e=e.sibling;e!==null;)Dd(e,t,n),e=e.sibling}var Yt=null,rr=!1;function os(e,t,n){for(n=n.child;n!==null;)Qv(e,t,n),n=n.sibling}function Qv(e,t,n){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount(wc,n)}catch{}switch(n.tag){case 5:an||Go(n,t);case 6:var r=Yt,s=rr;Yt=null,os(e,t,n),Yt=r,rr=s,Yt!==null&&(rr?(e=Yt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(rr?(e=Yt,n=n.stateNode,e.nodeType===8?Yu(e.parentNode,n):e.nodeType===1&&Yu(e,n),Ma(e)):Yu(Yt,n.stateNode));break;case 4:r=Yt,s=rr,Yt=n.stateNode.containerInfo,rr=!0,os(e,t,n),Yt=r,rr=s;break;case 0:case 11:case 14:case 15:if(!an&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&wd(n,t,a),s=s.next}while(s!==r)}os(e,t,n);break;case 1:if(!an&&(Go(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){_t(n,t,l)}os(e,t,n);break;case 21:os(e,t,n);break;case 22:n.mode&1?(an=(r=an)||n.memoizedState!==null,os(e,t,n),an=r):os(e,t,n);break;default:os(e,t,n)}}function Up(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new O5),t.forEach(function(r){var s=Q5.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Zn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Yt=l.stateNode,rr=!1;break e;case 3:Yt=l.stateNode.containerInfo,rr=!0;break e;case 4:Yt=l.stateNode.containerInfo,rr=!0;break e}l=l.return}if(Yt===null)throw Error(ge(160));Qv(i,a,s),Yt=null,rr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(x){_t(s,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yv(t,e),t=t.sibling}function Yv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zn(t,e),vr(e),r&4){try{va(3,e,e.return),_c(3,e)}catch(A){_t(e,e.return,A)}try{va(5,e,e.return)}catch(A){_t(e,e.return,A)}}break;case 1:Zn(t,e),vr(e),r&512&&n!==null&&Go(n,n.return);break;case 5:if(Zn(t,e),vr(e),r&512&&n!==null&&Go(n,n.return),e.flags&32){var s=e.stateNode;try{Sa(s,"")}catch(A){_t(e,e.return,A)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&y9(s,i),Yx(l,a);var x=Yx(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?w9(s,f):d==="dangerouslySetInnerHTML"?b9(s,f):d==="children"?Sa(s,f):wh(s,d,f,x)}switch(l){case"input":Wx(s,i);break;case"textarea":v9(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?ni(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?ni(s,!!i.multiple,i.defaultValue,!0):ni(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ua]=i}catch(A){_t(e,e.return,A)}}break;case 6:if(Zn(t,e),vr(e),r&4){if(e.stateNode===null)throw Error(ge(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(A){_t(e,e.return,A)}}break;case 3:if(Zn(t,e),vr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ma(t.containerInfo)}catch(A){_t(e,e.return,A)}break;case 4:Zn(t,e),vr(e);break;case 13:Zn(t,e),vr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nf=Mt())),r&4&&Up(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(an=(x=an)||d,Zn(t,e),an=x):Zn(t,e),vr(e),r&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!d&&e.mode&1)for(Se=e,d=e.child;d!==null;){for(f=Se=d;Se!==null;){switch(m=Se,y=m.child,m.tag){case 0:case 11:case 14:case 15:va(4,m,m.return);break;case 1:Go(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(A){_t(r,n,A)}}break;case 5:Go(m,m.return);break;case 22:if(m.memoizedState!==null){zp(f);continue}}y!==null?(y.return=m,Se=y):zp(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,x?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=C9("display",a))}catch(A){_t(e,e.return,A)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=x?"":f.memoizedProps}catch(A){_t(e,e.return,A)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zn(t,e),vr(e),r&4&&Up(e);break;case 21:break;default:Zn(t,e),vr(e)}}function vr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Gv(n)){var r=n;break e}n=n.return}throw Error(ge(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Sa(s,""),r.flags&=-33);var i=$p(e);Dd(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=$p(e);Ad(e,l,a);break;default:throw Error(ge(161))}}catch(c){_t(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function U5(e,t,n){Se=e,Xv(e)}function Xv(e,t,n){for(var r=(e.mode&1)!==0;Se!==null;){var s=Se,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||s0;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||an;l=s0;var x=an;if(s0=a,(an=c)&&!x)for(Se=s;Se!==null;)a=Se,c=a.child,a.tag===22&&a.memoizedState!==null?qp(s):c!==null?(c.return=a,Se=c):qp(s);for(;i!==null;)Se=i,Xv(i),i=i.sibling;Se=s,s0=l,an=x}Vp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Se=i):Vp(e)}}function Vp(e){for(;Se!==null;){var t=Se;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:an||_c(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!an)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:nr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Dp(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Dp(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var d=x.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ma(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}an||t.flags&512&&Bd(t)}catch(m){_t(t,t.return,m)}}if(t===e){Se=null;break}if(n=t.sibling,n!==null){n.return=t.return,Se=n;break}Se=t.return}}function zp(e){for(;Se!==null;){var t=Se;if(t===e){Se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Se=n;break}Se=t.return}}function qp(e){for(;Se!==null;){var t=Se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_c(4,t)}catch(c){_t(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){_t(t,s,c)}}var i=t.return;try{Bd(t)}catch(c){_t(t,i,c)}break;case 5:var a=t.return;try{Bd(t)}catch(c){_t(t,a,c)}}}catch(c){_t(t,t.return,c)}if(t===e){Se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Se=l;break}Se=t.return}}var V5=Math.ceil,rc=Xr.ReactCurrentDispatcher,ef=Xr.ReactCurrentOwner,Hn=Xr.ReactCurrentBatchConfig,rt=0,Kt=null,Lt=null,Jt=0,Pn=0,Qo=Ts(0),Vt=0,Ha=null,po=0,Sc=0,tf=0,Ea=null,Cn=null,nf=0,fi=1/0,Rr=null,sc=!1,Fd=null,Bs=null,o0=!1,gs=null,oc=0,ba=0,kd=null,F0=-1,k0=0;function pn(){return rt&6?Mt():F0!==-1?F0:F0=Mt()}function As(e){return e.mode&1?rt&2&&Jt!==0?Jt&-Jt:A5.transition!==null?(k0===0&&(k0=R9()),k0):(e=ct,e!==0||(e=window.event,e=e===void 0?16:V9(e.type)),e):1}function lr(e,t,n,r){if(50<ba)throw ba=0,kd=null,Error(ge(185));il(e,n,r),(!(rt&2)||e!==Kt)&&(e===Kt&&(!(rt&2)&&(Sc|=n),Vt===4&&hs(e,Jt)),jn(e,r),n===1&&rt===0&&!(t.mode&1)&&(fi=Mt()+500,kc&&Rs()))}function jn(e,t){var n=e.callbackNode;A2(e,t);var r=V0(e,e===Kt?Jt:0);if(r===0)n!==null&&Zm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Zm(n),t===1)e.tag===0?B5(Wp.bind(null,e)):av(Wp.bind(null,e)),E5(function(){!(rt&6)&&Rs()}),n=null;else{switch(M9(r)){case 1:n=kh;break;case 4:n=P9;break;case 16:n=U0;break;case 536870912:n=T9;break;default:n=U0}n=o8(n,Jv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Jv(e,t){if(F0=-1,k0=0,rt&6)throw Error(ge(327));var n=e.callbackNode;if(ai()&&e.callbackNode!==n)return null;var r=V0(e,e===Kt?Jt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ic(e,r);else{t=r;var s=rt;rt|=2;var i=e8();(Kt!==e||Jt!==t)&&(Rr=null,fi=Mt()+500,lo(e,t));do try{W5();break}catch(l){Zv(e,l)}while(!0);Uh(),rc.current=i,rt=s,Lt!==null?t=0:(Kt=null,Jt=0,t=Vt)}if(t!==0){if(t===2&&(s=td(e),s!==0&&(r=s,t=jd(e,s))),t===1)throw n=Ha,lo(e,0),hs(e,r),jn(e,Mt()),n;if(t===6)hs(e,r);else{if(s=e.current.alternate,!(r&30)&&!z5(s)&&(t=ic(e,r),t===2&&(i=td(e),i!==0&&(r=i,t=jd(e,i))),t===1))throw n=Ha,lo(e,0),hs(e,r),jn(e,Mt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(ge(345));case 2:Xs(e,Cn,Rr);break;case 3:if(hs(e,r),(r&130023424)===r&&(t=nf+500-Mt(),10<t)){if(V0(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){pn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=cd(Xs.bind(null,e,Cn,Rr),t);break}Xs(e,Cn,Rr);break;case 4:if(hs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-ar(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=Mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*V5(r/1960))-r,10<r){e.timeoutHandle=cd(Xs.bind(null,e,Cn,Rr),r);break}Xs(e,Cn,Rr);break;case 5:Xs(e,Cn,Rr);break;default:throw Error(ge(329))}}}return jn(e,Mt()),e.callbackNode===n?Jv.bind(null,e):null}function jd(e,t){var n=Ea;return e.current.memoizedState.isDehydrated&&(lo(e,t).flags|=256),e=ic(e,t),e!==2&&(t=Cn,Cn=n,t!==null&&Nd(t)),e}function Nd(e){Cn===null?Cn=e:Cn.push.apply(Cn,e)}function z5(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!xr(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hs(e,t){for(t&=~tf,t&=~Sc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ar(t),r=1<<n;e[n]=-1,t&=~r}}function Wp(e){if(rt&6)throw Error(ge(327));ai();var t=V0(e,0);if(!(t&1))return jn(e,Mt()),null;var n=ic(e,t);if(e.tag!==0&&n===2){var r=td(e);r!==0&&(t=r,n=jd(e,r))}if(n===1)throw n=Ha,lo(e,0),hs(e,t),jn(e,Mt()),n;if(n===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xs(e,Cn,Rr),jn(e,Mt()),null}function rf(e,t){var n=rt;rt|=1;try{return e(t)}finally{rt=n,rt===0&&(fi=Mt()+500,kc&&Rs())}}function go(e){gs!==null&&gs.tag===0&&!(rt&6)&&ai();var t=rt;rt|=1;var n=Hn.transition,r=ct;try{if(Hn.transition=null,ct=1,e)return e()}finally{ct=r,Hn.transition=n,rt=t,!(rt&6)&&Rs()}}function sf(){Pn=Qo.current,gt(Qo)}function lo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,v5(n)),Lt!==null)for(n=Lt.return;n!==null;){var r=n;switch(Lh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&H0();break;case 3:di(),gt(Fn),gt(cn),Hh();break;case 5:Kh(r);break;case 4:di();break;case 13:gt(Dt);break;case 19:gt(Dt);break;case 10:Vh(r.type._context);break;case 22:case 23:sf()}n=n.return}if(Kt=e,Lt=e=Ds(e.current,null),Jt=Pn=t,Vt=0,Ha=null,tf=Sc=po=0,Cn=Ea=null,no!==null){for(t=0;t<no.length;t++)if(n=no[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}no=null}return e}function Zv(e,t){do{var n=Lt;try{if(Uh(),B0.current=nc,tc){for(var r=kt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}tc=!1}if(mo=0,Wt=$t=kt=null,ya=!1,qa=0,ef.current=null,n===null||n.return===null){Vt=1,Ha=t,Lt=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=Jt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var x=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Sp(a);if(y!==null){y.flags&=-257,Pp(y,a,l,i,t),y.mode&1&&_p(i,x,t),t=y,c=x;var C=t.updateQueue;if(C===null){var A=new Set;A.add(c),t.updateQueue=A}else C.add(c);break e}else{if(!(t&1)){_p(i,x,t),of();break e}c=Error(ge(426))}}else if(Ct&&l.mode&1){var j=Sp(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Pp(j,a,l,i,t),Oh(hi(c,l));break e}}i=c=hi(c,l),Vt!==4&&(Vt=2),Ea===null?Ea=[i]:Ea.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Mv(i,c,t);Ap(i,v);break e;case 1:l=c;var E=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Bs===null||!Bs.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Iv(i,l,t);Ap(i,b);break e}}i=i.return}while(i!==null)}n8(n)}catch(F){t=F,Lt===n&&n!==null&&(Lt=n=n.return);continue}break}while(!0)}function e8(){var e=rc.current;return rc.current=nc,e===null?nc:e}function of(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Kt===null||!(po&268435455)&&!(Sc&268435455)||hs(Kt,Jt)}function ic(e,t){var n=rt;rt|=2;var r=e8();(Kt!==e||Jt!==t)&&(Rr=null,lo(e,t));do try{q5();break}catch(s){Zv(e,s)}while(!0);if(Uh(),rt=n,rc.current=r,Lt!==null)throw Error(ge(261));return Kt=null,Jt=0,Vt}function q5(){for(;Lt!==null;)t8(Lt)}function W5(){for(;Lt!==null&&!p2();)t8(Lt)}function t8(e){var t=s8(e.alternate,e,Pn);e.memoizedProps=e.pendingProps,t===null?n8(e):Lt=t,ef.current=null}function n8(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=L5(n,t),n!==null){n.flags&=32767,Lt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vt=6,Lt=null;return}}else if(n=I5(n,t,Pn),n!==null){Lt=n;return}if(t=t.sibling,t!==null){Lt=t;return}Lt=t=e}while(t!==null);Vt===0&&(Vt=5)}function Xs(e,t,n){var r=ct,s=Hn.transition;try{Hn.transition=null,ct=1,K5(e,t,n,r)}finally{Hn.transition=s,ct=r}return null}function K5(e,t,n,r){do ai();while(gs!==null);if(rt&6)throw Error(ge(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(D2(e,i),e===Kt&&(Lt=Kt=null,Jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||o0||(o0=!0,o8(U0,function(){return ai(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Hn.transition,Hn.transition=null;var a=ct;ct=1;var l=rt;rt|=4,ef.current=null,$5(e,n),Yv(n,e),d5(ad),z0=!!id,ad=id=null,e.current=n,U5(n),g2(),rt=l,ct=a,Hn.transition=i}else e.current=n;if(o0&&(o0=!1,gs=e,oc=s),i=e.pendingLanes,i===0&&(Bs=null),E2(n.stateNode),jn(e,Mt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sc)throw sc=!1,e=Fd,Fd=null,e;return oc&1&&e.tag!==0&&ai(),i=e.pendingLanes,i&1?e===kd?ba++:(ba=0,kd=e):ba=0,Rs(),null}function ai(){if(gs!==null){var e=M9(oc),t=Hn.transition,n=ct;try{if(Hn.transition=null,ct=16>e?16:e,gs===null)var r=!1;else{if(e=gs,gs=null,oc=0,rt&6)throw Error(ge(331));var s=rt;for(rt|=4,Se=e.current;Se!==null;){var i=Se,a=i.child;if(Se.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var x=l[c];for(Se=x;Se!==null;){var d=Se;switch(d.tag){case 0:case 11:case 15:va(8,d,i)}var f=d.child;if(f!==null)f.return=d,Se=f;else for(;Se!==null;){d=Se;var m=d.sibling,y=d.return;if(Hv(d),d===x){Se=null;break}if(m!==null){m.return=y,Se=m;break}Se=y}}}var C=i.alternate;if(C!==null){var A=C.child;if(A!==null){C.child=null;do{var j=A.sibling;A.sibling=null,A=j}while(A!==null)}}Se=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Se=a;else e:for(;Se!==null;){if(i=Se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:va(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Se=v;break e}Se=i.return}}var E=e.current;for(Se=E;Se!==null;){a=Se;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,Se=g;else e:for(a=E;Se!==null;){if(l=Se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_c(9,l)}}catch(F){_t(l,l.return,F)}if(l===a){Se=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Se=b;break e}Se=l.return}}if(rt=s,Rs(),Br&&typeof Br.onPostCommitFiberRoot=="function")try{Br.onPostCommitFiberRoot(wc,e)}catch{}r=!0}return r}finally{ct=n,Hn.transition=t}}return!1}function Kp(e,t,n){t=hi(n,t),t=Mv(e,t,1),e=ws(e,t,1),t=pn(),e!==null&&(il(e,1,t),jn(e,t))}function _t(e,t,n){if(e.tag===3)Kp(e,e,n);else for(;t!==null;){if(t.tag===3){Kp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bs===null||!Bs.has(r))){e=hi(n,e),e=Iv(t,e,1),t=ws(t,e,1),e=pn(),t!==null&&(il(t,1,e),jn(t,e));break}}t=t.return}}function H5(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=pn(),e.pingedLanes|=e.suspendedLanes&n,Kt===e&&(Jt&n)===n&&(Vt===4||Vt===3&&(Jt&130023424)===Jt&&500>Mt()-nf?lo(e,0):tf|=n),jn(e,t)}function r8(e,t){t===0&&(e.mode&1?(t=Ql,Ql<<=1,!(Ql&130023424)&&(Ql=4194304)):t=1);var n=pn();e=Wr(e,t),e!==null&&(il(e,t,n),jn(e,n))}function G5(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),r8(e,n)}function Q5(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ge(314))}r!==null&&r.delete(t),r8(e,n)}var s8;s8=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fn.current)Bn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Bn=!1,M5(e,t,n);Bn=!!(e.flags&131072)}else Bn=!1,Ct&&t.flags&1048576&&lv(t,Y0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;D0(e,t),e=t.pendingProps;var s=ci(t,cn.current);ii(t,n),s=Qh(null,t,r,e,s,n);var i=Yh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kn(r)?(i=!0,G0(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qh(t),s.updater=Nc,t.stateNode=s,s._reactInternals=t,pd(t,r,e,n),t=vd(null,t,r,!0,i,n)):(t.tag=0,Ct&&i&&Ih(t),hn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(D0(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=X5(r),e=nr(r,e),s){case 0:t=yd(null,t,r,e,n);break e;case 1:t=Mp(null,t,r,e,n);break e;case 11:t=Tp(null,t,r,e,n);break e;case 14:t=Rp(null,t,r,nr(r.type,e),n);break e}throw Error(ge(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nr(r,s),yd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nr(r,s),Mp(e,t,r,s,n);case 3:e:{if(Uv(t),e===null)throw Error(ge(387));r=t.pendingProps,i=t.memoizedState,s=i.element,fv(e,t),Z0(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=hi(Error(ge(423)),t),t=Ip(e,t,r,n,s);break e}else if(r!==s){s=hi(Error(ge(424)),t),t=Ip(e,t,r,n,s);break e}else for(Tn=Cs(t.stateNode.containerInfo.firstChild),Mn=t,Ct=!0,or=null,n=dv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ui(),r===s){t=Kr(e,t,n);break e}hn(e,t,r,n)}t=t.child}return t;case 5:return mv(t),e===null&&hd(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,ld(r,s)?a=null:i!==null&&ld(r,i)&&(t.flags|=32),$v(e,t),hn(e,t,a,n),t.child;case 6:return e===null&&hd(t),null;case 13:return Vv(e,t,n);case 4:return Wh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xi(t,null,r,n):hn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nr(r,s),Tp(e,t,r,s,n);case 7:return hn(e,t,t.pendingProps,n),t.child;case 8:return hn(e,t,t.pendingProps.children,n),t.child;case 12:return hn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,dt(X0,r._currentValue),r._currentValue=a,i!==null)if(xr(i.value,a)){if(i.children===s.children&&!Fn.current){t=Kr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=$r(-1,n&-n),c.tag=2;var x=i.updateQueue;if(x!==null){x=x.shared;var d=x.pending;d===null?c.next=c:(c.next=d.next,d.next=c),x.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),fd(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(ge(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),fd(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}hn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ii(t,n),s=Yn(s),r=r(s),t.flags|=1,hn(e,t,r,n),t.child;case 14:return r=t.type,s=nr(r,t.pendingProps),s=nr(r.type,s),Rp(e,t,r,s,n);case 15:return Lv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:nr(r,s),D0(e,t),t.tag=1,kn(r)?(e=!0,G0(t)):e=!1,ii(t,n),Rv(t,r,s),pd(t,r,s,n),vd(null,t,r,!0,e,n);case 19:return zv(e,t,n);case 22:return Ov(e,t,n)}throw Error(ge(156,t.tag))};function o8(e,t){return S9(e,t)}function Y5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(e,t,n,r){return new Y5(e,t,n,r)}function af(e){return e=e.prototype,!(!e||!e.isReactComponent)}function X5(e){if(typeof e=="function")return af(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ah)return 11;if(e===Dh)return 14}return 2}function Ds(e,t){var n=e.alternate;return n===null?(n=Kn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function j0(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")af(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Oo:return co(n.children,s,i,t);case Bh:a=8,s|=8;break;case $x:return e=Kn(12,n,t,s|2),e.elementType=$x,e.lanes=i,e;case Ux:return e=Kn(13,n,t,s),e.elementType=Ux,e.lanes=i,e;case Vx:return e=Kn(19,n,t,s),e.elementType=Vx,e.lanes=i,e;case m9:return Pc(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case h9:a=10;break e;case f9:a=9;break e;case Ah:a=11;break e;case Dh:a=14;break e;case cs:a=16,r=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=Kn(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function co(e,t,n,r){return e=Kn(7,e,r,t),e.lanes=n,e}function Pc(e,t,n,r){return e=Kn(22,e,r,t),e.elementType=m9,e.lanes=n,e.stateNode={isHidden:!1},e}function sx(e,t,n){return e=Kn(6,e,null,t),e.lanes=n,e}function ox(e,t,n){return t=Kn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function J5(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ou(0),this.expirationTimes=Ou(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ou(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lf(e,t,n,r,s,i,a,l,c){return e=new J5(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Kn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qh(i),e}function Z5(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function i8(e){if(!e)return js;e=e._reactInternals;e:{if(vo(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var n=e.type;if(kn(n))return iv(e,n,t)}return t}function a8(e,t,n,r,s,i,a,l,c){return e=lf(n,r,!0,e,s,i,a,l,c),e.context=i8(null),n=e.current,r=pn(),s=As(n),i=$r(r,s),i.callback=t??null,ws(n,i,s),e.current.lanes=s,il(e,s,r),jn(e,r),e}function Tc(e,t,n,r){var s=t.current,i=pn(),a=As(s);return n=i8(n),t.context===null?t.context=n:t.pendingContext=n,t=$r(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ws(s,t,a),e!==null&&(lr(e,s,a,i),w0(e,s,a)),a}function ac(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cf(e,t){Hp(e,t),(e=e.alternate)&&Hp(e,t)}function eb(){return null}var l8=typeof reportError=="function"?reportError:function(e){console.error(e)};function uf(e){this._internalRoot=e}Rc.prototype.render=uf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));Tc(e,t,null,null)};Rc.prototype.unmount=uf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;go(function(){Tc(null,e,null,null)}),t[qr]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var t=O9();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ds.length&&t!==0&&t<ds[n].priority;n++);ds.splice(n,0,e),n===0&&U9(e)}};function xf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gp(){}function tb(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var x=ac(a);i.call(x)}}var a=a8(t,r,e,0,null,!1,!1,"",Gp);return e._reactRootContainer=a,e[qr]=a.current,Oa(e.nodeType===8?e.parentNode:e),go(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var x=ac(c);l.call(x)}}var c=lf(e,0,!1,null,null,!1,!1,"",Gp);return e._reactRootContainer=c,e[qr]=c.current,Oa(e.nodeType===8?e.parentNode:e),go(function(){Tc(t,c,n,r)}),c}function Ic(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=ac(a);l.call(c)}}Tc(t,a,e,s)}else a=tb(n,t,e,s,r);return ac(a)}I9=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ca(t.pendingLanes);n!==0&&(jh(t,n|1),jn(t,Mt()),!(rt&6)&&(fi=Mt()+500,Rs()))}break;case 13:go(function(){var r=Wr(e,1);if(r!==null){var s=pn();lr(r,e,1,s)}}),cf(e,1)}};Nh=function(e){if(e.tag===13){var t=Wr(e,134217728);if(t!==null){var n=pn();lr(t,e,134217728,n)}cf(e,134217728)}};L9=function(e){if(e.tag===13){var t=As(e),n=Wr(e,t);if(n!==null){var r=pn();lr(n,e,t,r)}cf(e,t)}};O9=function(){return ct};$9=function(e,t){var n=ct;try{return ct=e,t()}finally{ct=n}};Jx=function(e,t,n){switch(t){case"input":if(Wx(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Fc(r);if(!s)throw Error(ge(90));g9(r),Wx(r,s)}}}break;case"textarea":v9(e,n);break;case"select":t=n.value,t!=null&&ni(e,!!n.multiple,t,!1)}};D9=rf;F9=go;var nb={usingClientEntryPoint:!1,Events:[ll,zo,Fc,B9,A9,rf]},na={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rb={bundleType:na.bundleType,version:na.version,rendererPackageName:na.rendererPackageName,rendererConfig:na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=N9(e),e===null?null:e.stateNode},findFiberByHostInstance:na.findFiberByHostInstance||eb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var i0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!i0.isDisabled&&i0.supportsFiber)try{wc=i0.inject(rb),Br=i0}catch{}}Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nb;Ln.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xf(t))throw Error(ge(200));return Z5(e,t,null,n)};Ln.createRoot=function(e,t){if(!xf(e))throw Error(ge(299));var n=!1,r="",s=l8;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=lf(e,1,!1,null,null,n,!1,r,s),e[qr]=t.current,Oa(e.nodeType===8?e.parentNode:e),new uf(t)};Ln.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=N9(t),e=e===null?null:e.stateNode,e};Ln.flushSync=function(e){return go(e)};Ln.hydrate=function(e,t,n){if(!Mc(t))throw Error(ge(200));return Ic(null,e,t,!0,n)};Ln.hydrateRoot=function(e,t,n){if(!xf(e))throw Error(ge(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=l8;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=a8(t,null,e,1,n??null,s,!1,i,a),e[qr]=t.current,Oa(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Rc(t)};Ln.render=function(e,t,n){if(!Mc(t))throw Error(ge(200));return Ic(null,e,t,!1,n)};Ln.unmountComponentAtNode=function(e){if(!Mc(e))throw Error(ge(40));return e._reactRootContainer?(go(function(){Ic(null,null,e,!1,function(){e._reactRootContainer=null,e[qr]=null})}),!0):!1};Ln.unstable_batchedUpdates=rf;Ln.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Mc(n))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return Ic(e,t,n,!1,r)};Ln.version="18.3.1-next-f1338f8080-20240426";function c8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c8)}catch(e){console.error(e)}}c8(),c9.exports=Ln;var sb=c9.exports,Qp=sb;Lx.createRoot=Qp.createRoot,Lx.hydrateRoot=Qp.hydrateRoot;/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yp="popstate";function ob(e={}){function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return _d("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ga(s)}return ab(t,n,null,e)}function Bt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ib(){return Math.random().toString(36).substring(2,10)}function Xp(e,t){return{usr:e.state,key:e.key,idx:t}}function _d(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ki(t):t,state:n,key:t&&t.key||r||ib()}}function Ga({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ki(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function ab(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l="POP",c=null,x=d();x==null&&(x=0,a.replaceState({...a.state,idx:x},""));function d(){return(a.state||{idx:null}).idx}function f(){l="POP";let j=d(),v=j==null?null:j-x;x=j,c&&c({action:l,location:A.location,delta:v})}function m(j,v){l="PUSH";let E=_d(A.location,j,v);x=d()+1;let g=Xp(E,x),b=A.createHref(E);try{a.pushState(g,"",b)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(b)}i&&c&&c({action:l,location:A.location,delta:1})}function y(j,v){l="REPLACE";let E=_d(A.location,j,v);x=d();let g=Xp(E,x),b=A.createHref(E);a.replaceState(g,"",b),i&&c&&c({action:l,location:A.location,delta:0})}function C(j){return lb(j)}let A={get action(){return l},get location(){return e(s,a)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Yp,f),c=j,()=>{s.removeEventListener(Yp,f),c=null}},createHref(j){return t(s,j)},createURL:C,encodeLocation(j){let v=C(j);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:y,go(j){return a.go(j)}};return A}function lb(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Ga(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function u8(e,t,n="/"){return cb(e,t,n,!1)}function cb(e,t,n,r){let s=typeof t=="string"?ki(t):t,i=Hr(s.pathname||"/",n);if(i==null)return null;let a=x8(e);ub(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let x=bb(i);l=vb(a[c],x,r)}return l}function x8(e,t=[],n=[],r=""){let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Bt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let x=Ur([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Bt(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),x8(i.children,t,d,x)),!(i.path==null&&!i.index)&&t.push({path:x,score:gb(x,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of d8(i.path))s(i,a,c)}),t}function d8(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=d8(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function ub(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:yb(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var xb=/^:[\w-]+$/,db=3,hb=2,fb=1,mb=10,pb=-2,Jp=e=>e==="*";function gb(e,t){let n=e.split("/"),r=n.length;return n.some(Jp)&&(r+=pb),t&&(r+=hb),n.filter(s=>!Jp(s)).reduce((s,i)=>s+(xb.test(i)?db:i===""?fb:mb),r)}function yb(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function vb(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],x=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=lc({path:c.relativePath,caseSensitive:c.caseSensitive,end:x},d),m=c.route;if(!f&&x&&n&&!r[r.length-1].route.index&&(f=lc({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Ur([i,f.pathname]),pathnameBase:Ab(Ur([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Ur([i,f.pathnameBase]))}return a}function lc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Eb(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((x,{paramName:d,isOptional:f},m)=>{if(d==="*"){let C=l[m]||"";a=i.slice(0,i.length-C.length).replace(/(.)\/+$/,"$1")}const y=l[m];return f&&!y?x[d]=void 0:x[d]=(y||"").replace(/%2F/g,"/"),x},{}),pathname:i,pathnameBase:a,pattern:e}}function Eb(e,t=!1,n=!0){dr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function bb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Hr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Cb(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ki(e):e;return{pathname:n?n.startsWith("/")?n:wb(n,t):t,search:Db(r),hash:Fb(s)}}function wb(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ix(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bb(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function df(e){let t=Bb(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function hf(e,t,n,r=!1){let s;typeof e=="string"?s=ki(e):(s={...e},Bt(!s.pathname||!s.pathname.includes("?"),ix("?","pathname","search",s)),Bt(!s.pathname||!s.pathname.includes("#"),ix("#","pathname","hash",s)),Bt(!s.search||!s.search.includes("#"),ix("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=Cb(s,l),x=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(x||d)&&(c.pathname+="/"),c}var Ur=e=>e.join("/").replace(/\/\/+/g,"/"),Ab=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Db=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Fb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var h8=["POST","PUT","PATCH","DELETE"];new Set(h8);var jb=["GET",...h8];new Set(jb);var ji=B.createContext(null);ji.displayName="DataRouter";var Lc=B.createContext(null);Lc.displayName="DataRouterState";B.createContext(!1);var f8=B.createContext({isTransitioning:!1});f8.displayName="ViewTransition";var Nb=B.createContext(new Map);Nb.displayName="Fetchers";var _b=B.createContext(null);_b.displayName="Await";var hr=B.createContext(null);hr.displayName="Navigation";var ul=B.createContext(null);ul.displayName="Location";var fr=B.createContext({outlet:null,matches:[],isDataRoute:!1});fr.displayName="Route";var ff=B.createContext(null);ff.displayName="RouteError";function Sb(e,{relative:t}={}){Bt(Ni(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=B.useContext(hr),{hash:s,pathname:i,search:a}=xl(e,{relative:t}),l=i;return n!=="/"&&(l=i==="/"?n:Ur([n,i])),r.createHref({pathname:l,search:a,hash:s})}function Ni(){return B.useContext(ul)!=null}function Jr(){return Bt(Ni(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(ul).location}var m8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p8(e){B.useContext(hr).static||B.useLayoutEffect(e)}function _i(){let{isDataRoute:e}=B.useContext(fr);return e?Wb():Pb()}function Pb(){Bt(Ni(),"useNavigate() may be used only in the context of a <Router> component.");let e=B.useContext(ji),{basename:t,navigator:n}=B.useContext(hr),{matches:r}=B.useContext(fr),{pathname:s}=Jr(),i=JSON.stringify(df(r)),a=B.useRef(!1);return p8(()=>{a.current=!0}),B.useCallback((c,x={})=>{if(dr(a.current,m8),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=hf(c,JSON.parse(i),s,x.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ur([t,d.pathname])),(x.replace?n.replace:n.push)(d,x.state,x)},[t,n,i,s,e])}B.createContext(null);function Si(){let{matches:e}=B.useContext(fr),t=e[e.length-1];return t?t.params:{}}function xl(e,{relative:t}={}){let{matches:n}=B.useContext(fr),{pathname:r}=Jr(),s=JSON.stringify(df(n));return B.useMemo(()=>hf(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function Tb(e,t){return g8(e,t)}function g8(e,t,n,r){var v;Bt(Ni(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=B.useContext(hr),{matches:i}=B.useContext(fr),a=i[i.length-1],l=a?a.params:{},c=a?a.pathname:"/",x=a?a.pathnameBase:"/",d=a&&a.route;{let E=d&&d.path||"";y8(c,!d||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let f=Jr(),m;if(t){let E=typeof t=="string"?ki(t):t;Bt(x==="/"||((v=E.pathname)==null?void 0:v.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${E.pathname}" was given in the \`location\` prop.`),m=E}else m=f;let y=m.pathname||"/",C=y;if(x!=="/"){let E=x.replace(/^\//,"").split("/");C="/"+y.replace(/^\//,"").split("/").slice(E.length).join("/")}let A=u8(e,{pathname:C});dr(d||A!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),dr(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=Ob(A&&A.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:Ur([x,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?x:Ur([x,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return t&&j?B.createElement(ul.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},j):j}function Rb(){let e=qb(),t=kb(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:i},"ErrorBoundary")," or"," ",B.createElement("code",{style:i},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),n?B.createElement("pre",{style:s},n):null,a)}var Mb=B.createElement(Rb,null),Ib=class extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?B.createElement(fr.Provider,{value:this.props.routeContext},B.createElement(ff.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Lb({routeContext:e,match:t,children:n}){let r=B.useContext(ji);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(fr.Provider,{value:e},n)}function Ob(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,i=n==null?void 0:n.errors;if(i!=null){let c=s.findIndex(x=>x.route.id&&(i==null?void 0:i[x.route.id])!==void 0);Bt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let x=s[c];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(l=c),x.route.id){let{loaderData:d,errors:f}=n,m=x.route.loader&&!d.hasOwnProperty(x.route.id)&&(!f||f[x.route.id]===void 0);if(x.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,x,d)=>{let f,m=!1,y=null,C=null;n&&(f=i&&x.route.id?i[x.route.id]:void 0,y=x.route.errorElement||Mb,a&&(l<0&&d===0?(y8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,C=null):l===d&&(m=!0,C=x.route.hydrateFallbackElement||null)));let A=t.concat(s.slice(0,d+1)),j=()=>{let v;return f?v=y:m?v=C:x.route.Component?v=B.createElement(x.route.Component,null):x.route.element?v=x.route.element:v=c,B.createElement(Lb,{match:x,routeContext:{outlet:c,matches:A,isDataRoute:n!=null},children:v})};return n&&(x.route.ErrorBoundary||x.route.errorElement||d===0)?B.createElement(Ib,{location:n.location,revalidation:n.revalidation,component:y,error:f,children:j(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):j()},null)}function mf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $b(e){let t=B.useContext(ji);return Bt(t,mf(e)),t}function Ub(e){let t=B.useContext(Lc);return Bt(t,mf(e)),t}function Vb(e){let t=B.useContext(fr);return Bt(t,mf(e)),t}function pf(e){let t=Vb(e),n=t.matches[t.matches.length-1];return Bt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function zb(){return pf("useRouteId")}function qb(){var r;let e=B.useContext(ff),t=Ub("useRouteError"),n=pf("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Wb(){let{router:e}=$b("useNavigate"),t=pf("useNavigate"),n=B.useRef(!1);return p8(()=>{n.current=!0}),B.useCallback(async(s,i={})=>{dr(n.current,m8),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var Zp={};function y8(e,t,n){!t&&!Zp[e]&&(Zp[e]=!0,dr(!1,n))}B.memo(Kb);function Kb({routes:e,future:t,state:n}){return g8(e,void 0,n,t)}function ax({to:e,replace:t,state:n,relative:r}){Bt(Ni(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=B.useContext(hr);dr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=B.useContext(fr),{pathname:a}=Jr(),l=_i(),c=hf(e,df(i),a,r==="path"),x=JSON.stringify(c);return B.useEffect(()=>{l(JSON.parse(x),{replace:t,state:n,relative:r})},[l,x,r,t,n]),null}function bt(e){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hb({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Bt(!Ni(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=B.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof n=="string"&&(n=ki(n));let{pathname:c="/",search:x="",hash:d="",state:f=null,key:m="default"}=n,y=B.useMemo(()=>{let C=Hr(c,a);return C==null?null:{location:{pathname:C,search:x,hash:d,state:f,key:m},navigationType:r}},[a,c,x,d,f,m,r]);return dr(y!=null,`<Router basename="${a}"> is not able to match the URL "${c}${x}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:B.createElement(hr.Provider,{value:l},B.createElement(ul.Provider,{children:t,value:y}))}function eg({children:e,location:t}){return Tb(Sd(e),t)}function Sd(e,t=[]){let n=[];return B.Children.forEach(e,(r,s)=>{if(!B.isValidElement(r))return;let i=[...t,s];if(r.type===B.Fragment){n.push.apply(n,Sd(r.props.children,i));return}Bt(r.type===bt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Sd(r.props.children,i)),n.push(a)}),n}var N0="get",_0="application/x-www-form-urlencoded";function Oc(e){return e!=null&&typeof e.tagName=="string"}function Gb(e){return Oc(e)&&e.tagName.toLowerCase()==="button"}function Qb(e){return Oc(e)&&e.tagName.toLowerCase()==="form"}function Yb(e){return Oc(e)&&e.tagName.toLowerCase()==="input"}function Xb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Jb(e,t){return e.button===0&&(!t||t==="_self")&&!Xb(e)}var a0=null;function Zb(){if(a0===null)try{new FormData(document.createElement("form"),0),a0=!1}catch{a0=!0}return a0}var eC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lx(e){return e!=null&&!eC.has(e)?(dr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_0}"`),null):e}function tC(e,t){let n,r,s,i,a;if(Qb(e)){let l=e.getAttribute("action");r=l?Hr(l,t):null,n=e.getAttribute("method")||N0,s=lx(e.getAttribute("enctype"))||_0,i=new FormData(e)}else if(Gb(e)||Yb(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?Hr(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||N0,s=lx(e.getAttribute("formenctype"))||lx(l.getAttribute("enctype"))||_0,i=new FormData(l,e),!Zb()){let{name:x,type:d,value:f}=e;if(d==="image"){let m=x?`${x}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else x&&i.append(x,f)}}else{if(Oc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=N0,r=null,s=_0,a=e}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gf(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nC(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Hr(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function rC(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function oC(e,t,n){let r=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let a=await rC(i,n);return a.links?a.links():[]}return[]}));return cC(r.flat(1).filter(sC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function tg(e,t,n,r,s,i){let a=(c,x)=>n[x]?c.route.id!==n[x].route.id:!0,l=(c,x)=>{var d;return n[x].pathname!==c.pathname||((d=n[x].route.path)==null?void 0:d.endsWith("*"))&&n[x].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,x)=>a(c,x)||l(c,x)):i==="data"?t.filter((c,x)=>{var f;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,x)||l(c,x))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function iC(e,t,{includeHydrateFallback:n}={}){return aC(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function aC(e){return[...new Set(e)]}function lC(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function cC(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let i=JSON.stringify(lC(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function v8(){let e=B.useContext(ji);return gf(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function uC(){let e=B.useContext(Lc);return gf(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var yf=B.createContext(void 0);yf.displayName="FrameworkContext";function E8(){let e=B.useContext(yf);return gf(e,"You must render this element inside a <HydratedRouter> element"),e}function xC(e,t){let n=B.useContext(yf),[r,s]=B.useState(!1),[i,a]=B.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:x,onMouseLeave:d,onTouchStart:f}=t,m=B.useRef(null);B.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let A=v=>{v.forEach(E=>{a(E.isIntersecting)})},j=new IntersectionObserver(A,{threshold:.5});return m.current&&j.observe(m.current),()=>{j.disconnect()}}},[e]),B.useEffect(()=>{if(r){let A=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(A)}}},[r]);let y=()=>{s(!0)},C=()=>{s(!1),a(!1)};return n?e!=="intent"?[i,m,{}]:[i,m,{onFocus:ra(l,y),onBlur:ra(c,C),onMouseEnter:ra(x,y),onMouseLeave:ra(d,C),onTouchStart:ra(f,y)}]:[!1,m,{}]}function ra(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function dC({page:e,...t}){let{router:n}=v8(),r=B.useMemo(()=>u8(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?B.createElement(fC,{page:e,matches:r,...t}):null}function hC(e){let{manifest:t,routeModules:n}=E8(),[r,s]=B.useState([]);return B.useEffect(()=>{let i=!1;return oC(e,t,n).then(a=>{i||s(a)}),()=>{i=!0}},[e,t,n]),r}function fC({page:e,matches:t,...n}){let r=Jr(),{manifest:s,routeModules:i}=E8(),{basename:a}=v8(),{loaderData:l,matches:c}=uC(),x=B.useMemo(()=>tg(e,t,c,s,r,"data"),[e,t,c,s,r]),d=B.useMemo(()=>tg(e,t,c,s,r,"assets"),[e,t,c,s,r]),f=B.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let C=new Set,A=!1;if(t.forEach(v=>{var g;let E=s.routes[v.route.id];!E||!E.hasLoader||(!x.some(b=>b.route.id===v.route.id)&&v.route.id in l&&((g=i[v.route.id])!=null&&g.shouldRevalidate)||E.hasClientLoader?A=!0:C.add(v.route.id))}),C.size===0)return[];let j=nC(e,a,"data");return A&&C.size>0&&j.searchParams.set("_routes",t.filter(v=>C.has(v.route.id)).map(v=>v.route.id).join(",")),[j.pathname+j.search]},[a,l,r,s,x,t,e,i]),m=B.useMemo(()=>iC(d,s),[d,s]),y=hC(d);return B.createElement(B.Fragment,null,f.map(C=>B.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),m.map(C=>B.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),y.map(({key:C,link:A})=>B.createElement("link",{key:C,...A})))}function mC(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var b8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{b8&&(window.__reactRouterVersion="7.7.0")}catch{}function pC({basename:e,children:t,window:n}){let r=B.useRef();r.current==null&&(r.current=ob({window:n,v5Compat:!0}));let s=r.current,[i,a]=B.useState({action:s.action,location:s.location}),l=B.useCallback(c=>{B.startTransition(()=>a(c))},[a]);return B.useLayoutEffect(()=>s.listen(l),[s,l]),B.createElement(Hb,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var C8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bn=B.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:a,state:l,target:c,to:x,preventScrollReset:d,viewTransition:f,...m},y){let{basename:C}=B.useContext(hr),A=typeof x=="string"&&C8.test(x),j,v=!1;if(typeof x=="string"&&A&&(j=x,b8))try{let O=new URL(window.location.href),$=x.startsWith("//")?new URL(O.protocol+x):new URL(x),M=Hr($.pathname,C);$.origin===O.origin&&M!=null?x=M+$.search+$.hash:v=!0}catch{dr(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=Sb(x,{relative:s}),[g,b,F]=xC(r,m),k=EC(x,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function N(O){t&&t(O),O.defaultPrevented||k(O)}let S=B.createElement("a",{...m,...F,href:j||E,onClick:v||i?t:N,ref:mC(y,b),target:c,"data-discover":!A&&n==="render"?"true":void 0});return g&&!A?B.createElement(B.Fragment,null,S,B.createElement(dC,{page:E})):S});bn.displayName="Link";var gC=B.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:a,viewTransition:l,children:c,...x},d){let f=xl(a,{relative:x.relative}),m=Jr(),y=B.useContext(Lc),{navigator:C,basename:A}=B.useContext(hr),j=y!=null&&AC(f)&&l===!0,v=C.encodeLocation?C.encodeLocation(f).pathname:f.pathname,E=m.pathname,g=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(E=E.toLowerCase(),g=g?g.toLowerCase():null,v=v.toLowerCase()),g&&A&&(g=Hr(g,A)||g);const b=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let F=E===v||!s&&E.startsWith(v)&&E.charAt(b)==="/",k=g!=null&&(g===v||!s&&g.startsWith(v)&&g.charAt(v.length)==="/"),N={isActive:F,isPending:k,isTransitioning:j},S=F?t:void 0,O;typeof r=="function"?O=r(N):O=[r,F?"active":null,k?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let $=typeof i=="function"?i(N):i;return B.createElement(bn,{...x,"aria-current":S,className:O,ref:d,style:$,to:a,viewTransition:l},typeof c=="function"?c(N):c)});gC.displayName="NavLink";var yC=B.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:a=N0,action:l,onSubmit:c,relative:x,preventScrollReset:d,viewTransition:f,...m},y)=>{let C=wC(),A=BC(l,{relative:x}),j=a.toLowerCase()==="get"?"get":"post",v=typeof l=="string"&&C8.test(l),E=g=>{if(c&&c(g),g.defaultPrevented)return;g.preventDefault();let b=g.nativeEvent.submitter,F=(b==null?void 0:b.getAttribute("formmethod"))||a;C(b||g.currentTarget,{fetcherKey:t,method:F,navigate:n,replace:s,state:i,relative:x,preventScrollReset:d,viewTransition:f})};return B.createElement("form",{ref:y,method:j,action:A,onSubmit:r?c:E,...m,"data-discover":!v&&e==="render"?"true":void 0})});yC.displayName="Form";function vC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w8(e){let t=B.useContext(ji);return Bt(t,vC(e)),t}function EC(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a}={}){let l=_i(),c=Jr(),x=xl(e,{relative:i});return B.useCallback(d=>{if(Jb(d,t)){d.preventDefault();let f=n!==void 0?n:Ga(c)===Ga(x);l(e,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:a})}},[c,l,x,n,r,t,e,s,i,a])}var bC=0,CC=()=>`__${String(++bC)}__`;function wC(){let{router:e}=w8("useSubmit"),{basename:t}=B.useContext(hr),n=zb();return B.useCallback(async(r,s={})=>{let{action:i,method:a,encType:l,formData:c,body:x}=tC(r,t);if(s.navigate===!1){let d=s.fetcherKey||CC();await e.fetch(d,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:x,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:x,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function BC(e,{relative:t}={}){let{basename:n}=B.useContext(hr),r=B.useContext(fr);Bt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...xl(e||".",{relative:t})},a=Jr();if(e==null){i.search=a.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ur([n,i.pathname])),Ga(i)}function AC(e,t={}){let n=B.useContext(f8);Bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=w8("useViewTransitionState"),s=xl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Hr(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Hr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return lc(s.pathname,a)!=null||lc(s.pathname,i)!=null}let DC={data:""},FC=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||DC,kC=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,jC=/\/\*[^]*?\*\/|  +/g,ng=/\n+/g,fs=(e,t)=>{let n="",r="",s="";for(let i in e){let a=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+a+";":r+=i[1]=="f"?fs(a,i):i+"{"+fs(a,i[1]=="k"?"":t)+"}":typeof a=="object"?r+=fs(a,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=fs.p?fs.p(i,a):i+":"+a+";")}return n+(t&&s?t+"{"+s+"}":s)+r},Pr={},B8=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+B8(e[n]);return t}return e},NC=(e,t,n,r,s)=>{let i=B8(e),a=Pr[i]||(Pr[i]=(c=>{let x=0,d=11;for(;x<c.length;)d=101*d+c.charCodeAt(x++)>>>0;return"go"+d})(i));if(!Pr[a]){let c=i!==e?e:(x=>{let d,f,m=[{}];for(;d=kC.exec(x.replace(jC,""));)d[4]?m.shift():d[3]?(f=d[3].replace(ng," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(ng," ").trim();return m[0]})(e);Pr[a]=fs(s?{["@keyframes "+a]:c}:c,n?"":"."+a)}let l=n&&Pr.g?Pr.g:null;return n&&(Pr.g=Pr[a]),((c,x,d,f)=>{f?x.data=x.data.replace(f,c):x.data.indexOf(c)===-1&&(x.data=d?c+x.data:x.data+c)})(Pr[a],t,r,l),a},_C=(e,t,n)=>e.reduce((r,s,i)=>{let a=t[i];if(a&&a.call){let l=a(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":fs(l,""):l===!1?"":l}return r+s+(a??"")},"");function $c(e){let t=this||{},n=e.call?e(t.p):e;return NC(n.unshift?n.raw?_C(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,FC(t.target),t.g,t.o,t.k)}let A8,Pd,Td;$c.bind({g:1});let Gr=$c.bind({k:1});function SC(e,t,n,r){fs.p=t,A8=e,Pd=n,Td=r}function Ms(e,t){let n=this||{};return function(){let r=arguments;function s(i,a){let l=Object.assign({},i),c=l.className||s.className;n.p=Object.assign({theme:Pd&&Pd()},l),n.o=/ *go\d+/.test(c),l.className=$c.apply(n,r)+(c?" "+c:"");let x=e;return e[0]&&(x=l.as||e,delete l.as),Td&&x[0]&&Td(l),A8(x,l)}return s}}var PC=e=>typeof e=="function",cc=(e,t)=>PC(e)?e(t):e,TC=(()=>{let e=0;return()=>(++e).toString()})(),D8=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),RC=20,F8=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,RC)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return F8(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},S0=[],so={toasts:[],pausedAt:void 0},Eo=e=>{so=F8(so,e),S0.forEach(t=>{t(so)})},MC={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},IC=(e={})=>{let[t,n]=B.useState(so),r=B.useRef(so);B.useEffect(()=>(r.current!==so&&n(so),S0.push(n),()=>{let i=S0.indexOf(n);i>-1&&S0.splice(i,1)}),[]);let s=t.toasts.map(i=>{var a,l,c;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((a=e[i.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||MC[i.type],style:{...e.style,...(c=e[i.type])==null?void 0:c.style,...i.style}}});return{...t,toasts:s}},LC=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||TC()}),dl=e=>(t,n)=>{let r=LC(t,e,n);return Eo({type:2,toast:r}),r.id},fn=(e,t)=>dl("blank")(e,t);fn.error=dl("error");fn.success=dl("success");fn.loading=dl("loading");fn.custom=dl("custom");fn.dismiss=e=>{Eo({type:3,toastId:e})};fn.remove=e=>Eo({type:4,toastId:e});fn.promise=(e,t,n)=>{let r=fn.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?cc(t.success,s):void 0;return i?fn.success(i,{id:r,...n,...n==null?void 0:n.success}):fn.dismiss(r),s}).catch(s=>{let i=t.error?cc(t.error,s):void 0;i?fn.error(i,{id:r,...n,...n==null?void 0:n.error}):fn.dismiss(r)}),e};var OC=(e,t)=>{Eo({type:1,toast:{id:e,height:t}})},$C=()=>{Eo({type:5,time:Date.now()})},Ca=new Map,UC=1e3,VC=(e,t=UC)=>{if(Ca.has(e))return;let n=setTimeout(()=>{Ca.delete(e),Eo({type:4,toastId:e})},t);Ca.set(e,n)},zC=e=>{let{toasts:t,pausedAt:n}=IC(e);B.useEffect(()=>{if(n)return;let i=Date.now(),a=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&fn.dismiss(l.id);return}return setTimeout(()=>fn.dismiss(l.id),c)});return()=>{a.forEach(l=>l&&clearTimeout(l))}},[t,n]);let r=B.useCallback(()=>{n&&Eo({type:6,time:Date.now()})},[n]),s=B.useCallback((i,a)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:x}=a||{},d=t.filter(y=>(y.position||x)===(i.position||x)&&y.height),f=d.findIndex(y=>y.id===i.id),m=d.filter((y,C)=>C<f&&y.visible).length;return d.filter(y=>y.visible).slice(...l?[m+1]:[0,m]).reduce((y,C)=>y+(C.height||0)+c,0)},[t]);return B.useEffect(()=>{t.forEach(i=>{if(i.dismissed)VC(i.id,i.removeDelay);else{let a=Ca.get(i.id);a&&(clearTimeout(a),Ca.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:OC,startPause:$C,endPause:r,calculateOffset:s}}},qC=Gr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,WC=Gr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,KC=Gr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,HC=Ms("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${qC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${WC} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${KC} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,GC=Gr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,QC=Ms("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${GC} 1s linear infinite;
`,YC=Gr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,XC=Gr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,JC=Ms("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${XC} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ZC=Ms("div")`
  position: absolute;
`,ew=Ms("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,tw=Gr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,nw=Ms("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${tw} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,rw=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?B.createElement(nw,null,t):t:n==="blank"?null:B.createElement(ew,null,B.createElement(QC,{...r}),n!=="loading"&&B.createElement(ZC,null,n==="error"?B.createElement(HC,{...r}):B.createElement(JC,{...r})))},sw=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ow=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,iw="0%{opacity:0;} 100%{opacity:1;}",aw="0%{opacity:1;} 100%{opacity:0;}",lw=Ms("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,cw=Ms("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,uw=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=D8()?[iw,aw]:[sw(n),ow(n)];return{animation:t?`${Gr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Gr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},xw=B.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?uw(e.position||t||"top-center",e.visible):{opacity:0},i=B.createElement(rw,{toast:e}),a=B.createElement(cw,{...e.ariaProps},cc(e.message,e));return B.createElement(lw,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:a}):B.createElement(B.Fragment,null,i,a))});SC(B.createElement);var dw=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=B.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return B.createElement("div",{ref:i,className:t,style:n},s)},hw=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:D8()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},fw=$c`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,l0=16,mw=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:a})=>{let{toasts:l,handlers:c}=zC(n);return B.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:l0,left:l0,right:l0,bottom:l0,pointerEvents:"none",...i},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(x=>{let d=x.position||t,f=c.calculateOffset(x,{reverseOrder:e,gutter:r,defaultPosition:t}),m=hw(d,f);return B.createElement(dw,{id:x.id,key:x.id,onHeightUpdate:c.updateHeight,className:x.visible?fw:"",style:m},x.type==="custom"?cc(x.message,x):s?s(x):B.createElement(xw,{toast:x,position:d}))}))},Q=fn;const pw="modulepreload",gw=function(e,t){return new URL(e,t).href},rg={},hl=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(x=>{if(x=gw(x,r),x in rg)return;rg[x]=!0;const d=x.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!r)for(let C=a.length-1;C>=0;C--){const A=a[C];if(A.href===x&&(!d||A.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${x}"]${f}`))return;const y=document.createElement("link");if(y.rel=d?"stylesheet":pw,d||(y.as="script"),y.crossOrigin="",y.href=x,c&&y.setAttribute("nonce",c),document.head.appendChild(y),d)return new Promise((C,A)=>{y.addEventListener("load",C),y.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${x}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},yw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hl(async()=>{const{default:r}=await Promise.resolve().then(()=>Pi);return{default:r}},[],import.meta.url).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class vf extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class vw extends vf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class sg extends vf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class og extends vf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Rd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Rd||(Rd={}));var Ew=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{x(r.next(d))}catch(f){a(f)}}function c(d){try{x(r.throw(d))}catch(f){a(f)}}function x(d){d.done?i(d.value):s(d.value).then(l,c)}x((r=r.apply(e,t||[])).next())})};class bw{constructor(t,{headers:n={},customFetch:r,region:s=Rd.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=yw(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Ew(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let l={},{region:c}=n;c||(c=this.region);const x=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,x.searchParams.set("forceFunctionRegion",c));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(x.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(A=>{throw new vw(A)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new sg(f);if(!f.ok)throw new og(f);let y=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),C;return y==="application/json"?C=yield f.json():y==="application/octet-stream"?C=yield f.blob():y==="text/event-stream"?C=f:y==="multipart/form-data"?C=yield f.formData():C=yield f.text(),{data:C,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof og||s instanceof sg?s.context:void 0}}})}}var wn={},Ef={},Uc={},fl={},Vc={},zc={},Cw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mi=Cw();const ww=mi.fetch,k8=mi.fetch.bind(mi),j8=mi.Headers,Bw=mi.Request,Aw=mi.Response,Pi=Object.freeze(Object.defineProperty({__proto__:null,Headers:j8,Request:Bw,Response:Aw,default:k8,fetch:ww},Symbol.toStringTag,{value:"Module"})),Dw=S6(Pi);var qc={};Object.defineProperty(qc,"__esModule",{value:!0});let Fw=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};qc.default=Fw;var N8=gn&&gn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zc,"__esModule",{value:!0});const kw=N8(Dw),jw=N8(qc);let Nw=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=kw.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c;let x=null,d=null,f=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const A=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),j=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");A&&j&&j.length>1&&(f=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(x={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const A=await i.text();try{x=JSON.parse(A),Array.isArray(x)&&i.status===404&&(d=[],x=null,m=200,y="OK")}catch{i.status===404&&A===""?(m=204,y="No Content"):x={message:A}}if(x&&this.isMaybeSingle&&(!((c=x==null?void 0:x.details)===null||c===void 0)&&c.includes("0 rows"))&&(x=null,m=200,y="OK"),x&&this.shouldThrowOnError)throw new jw.default(x)}return{error:x,data:d,count:f,status:m,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};zc.default=Nw;var _w=gn&&gn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vc,"__esModule",{value:!0});const Sw=_w(zc);let Pw=class extends Sw.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),x=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${x}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Vc.default=Pw;var Tw=gn&&gn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fl,"__esModule",{value:!0});const Rw=Tw(Vc);let Mw=class extends Rw.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};fl.default=Mw;var Iw=gn&&gn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uc,"__esModule",{value:!0});const sa=Iw(fl);let Lw=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new sa.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new sa.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((x,d)=>x.concat(Object.keys(d)),[]);if(c.length>0){const x=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",x.join(","))}}return new sa.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new sa.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new sa.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Uc.default=Lw;var Wc={},Kc={};Object.defineProperty(Kc,"__esModule",{value:!0});Kc.version=void 0;Kc.version="0.0.0-automated";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.DEFAULT_HEADERS=void 0;const Ow=Kc;Wc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ow.version}`};var _8=gn&&gn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ef,"__esModule",{value:!0});const $w=_8(Uc),Uw=_8(fl),Vw=Wc;let zw=class S8{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Vw.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new $w.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new S8(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=n);const x=Object.assign({},this.headers);return i&&(x.Prefer=`count=${i}`),new Uw.default({method:a,url:l,headers:x,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Ef.default=zw;var Ti=gn&&gn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wn,"__esModule",{value:!0});wn.PostgrestError=wn.PostgrestBuilder=wn.PostgrestTransformBuilder=wn.PostgrestFilterBuilder=wn.PostgrestQueryBuilder=wn.PostgrestClient=void 0;const P8=Ti(Ef);wn.PostgrestClient=P8.default;const T8=Ti(Uc);wn.PostgrestQueryBuilder=T8.default;const R8=Ti(fl);wn.PostgrestFilterBuilder=R8.default;const M8=Ti(Vc);wn.PostgrestTransformBuilder=M8.default;const I8=Ti(zc);wn.PostgrestBuilder=I8.default;const L8=Ti(qc);wn.PostgrestError=L8.default;var qw=wn.default={PostgrestClient:P8.default,PostgrestQueryBuilder:T8.default,PostgrestFilterBuilder:R8.default,PostgrestTransformBuilder:M8.default,PostgrestBuilder:I8.default,PostgrestError:L8.default};const{PostgrestClient:Ww,PostgrestQueryBuilder:n_,PostgrestFilterBuilder:r_,PostgrestTransformBuilder:s_,PostgrestBuilder:o_,PostgrestError:i_}=qw;function Kw(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Hw=Kw(),Gw="2.11.15",Qw=`realtime-js/${Gw}`,Yw="1.0.0",O8=1e4,Xw=1e3;var wa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wa||(wa={}));var on;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(on||(on={}));var sr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(sr||(sr={}));var Md;(function(e){e.websocket="websocket"})(Md||(Md={}));var eo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(eo||(eo={}));class Jw{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(t.slice(a,a+s));a=a+s;const c=r.decode(t.slice(a,a+i));a=a+i;const x=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:x}}}class $8{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xt||(xt={}));const ig=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,a)=>(i[a]=Zw(a,e,t,s),i),{})},Zw=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?U8(i,a):Id(a)},U8=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return r4(t,n)}switch(e){case xt.bool:return e4(t);case xt.float4:case xt.float8:case xt.int2:case xt.int4:case xt.int8:case xt.numeric:case xt.oid:return t4(t);case xt.json:case xt.jsonb:return n4(t);case xt.timestamp:return s4(t);case xt.abstime:case xt.date:case xt.daterange:case xt.int4range:case xt.int8range:case xt.money:case xt.reltime:case xt.text:case xt.time:case xt.timestamptz:case xt.timetz:case xt.tsrange:case xt.tstzrange:return Id(t);default:return Id(t)}},Id=e=>e,e4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},t4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},n4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},r4=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>U8(t,l))}return e},s4=e=>typeof e=="string"?e.replace(" ","T"):e,V8=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class cx{constructor(t,n,r={},s=O8){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ag;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ag||(ag={}));class Ba{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ba.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Ba.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ba.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(i,(x,d)=>{a[x]||(c[x]=d)}),this.map(a,(x,d)=>{const f=i[x];if(f){const m=d.map(j=>j.presence_ref),y=f.map(j=>j.presence_ref),C=d.filter(j=>y.indexOf(j.presence_ref)<0),A=f.filter(j=>m.indexOf(j.presence_ref)<0);C.length>0&&(l[x]=C),A.length>0&&(c[x]=A)}else l[x]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var x;const d=(x=t[l])!==null&&x!==void 0?x:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(y=>y.presence_ref),m=d.filter(y=>f.indexOf(y.presence_ref)<0);t[l].unshift(...m)}r(l,d,c)}),this.map(a,(l,c)=>{let x=t[l];if(!x)return;const d=c.map(f=>f.presence_ref);x=x.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=x,s(l,x,c),x.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(lg||(lg={}));var cg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cg||(cg={}));var Mr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Mr||(Mr={}));class bf{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=on.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new cx(this,sr.join,this.params,this.timeout),this.rejoinTimer=new $8(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=on.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=on.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=on.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ba(this),this.broadcastEndpointURL=V8(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==on.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Mr.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Mr.CLOSED));const c={},x={broadcast:i,presence:a,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:x},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Mr.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,C=[];for(let A=0;A<y;A++){const j=m[A],{filter:{event:v,schema:E,table:g,filter:b}}=j,F=d&&d[A];if(F&&F.event===v&&F.schema===E&&F.table===g&&F.filter===b)C.push(Object.assign(Object.assign({},j),{id:F.id}));else{this.unsubscribe(),this.state=on.errored,t==null||t(Mr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(Mr.SUBSCRIBED);return}}).receive("error",d=>{this.state=on.errored,t==null||t(Mr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Mr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=x.body)===null||s===void 0?void 0:s.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const x=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),x.receive("ok",()=>i("ok")),x.receive("error",()=>i("error")),x.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=on.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new cx(this,sr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new cx(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:x,join:d}=sr;if(r&&[l,c,x,d].indexOf(a)>=0&&r!==this._joinRef())return;let m=this._onMessage(a,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var C,A,j;return((C=y.filter)===null||C===void 0?void 0:C.event)==="*"||((j=(A=y.filter)===null||A===void 0?void 0:A.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===a}).map(y=>y.callback(m,r)):(i=this.bindings[a])===null||i===void 0||i.filter(y=>{var C,A,j,v,E,g;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const b=y.id,F=(C=y.filter)===null||C===void 0?void 0:C.event;return b&&((A=n.ids)===null||A===void 0?void 0:A.includes(b))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const b=(E=(v=y==null?void 0:y.filter)===null||v===void 0?void 0:v.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return b==="*"||b===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof m=="object"&&"ids"in m){const C=m.data,{schema:A,table:j,commit_timestamp:v,type:E,errors:g}=C;m=Object.assign(Object.assign({},{schema:A,table:j,commit_timestamp:v,eventType:E,new:{},old:{},errors:g}),this._getPayloadRecords(C))}y.callback(m,r)})}_isClosed(){return this.state===on.closed}_isJoined(){return this.state===on.joined}_isJoining(){return this.state===on.joining}_isLeaving(){return this.state===on.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&bf.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(sr.close,{},t)}_onError(t){this._on(sr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=on.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ig(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ig(t.columns,t.old_record)),n}}const ug=()=>{},o4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class i4{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=O8,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ug,this.ref=0,this.logger=ug,this.conn=null,this.sendBuffer=[],this.serializer=new Jw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>hl(async()=>{const{default:c}=await Promise.resolve().then(()=>Pi);return{default:c}},void 0,import.meta.url).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${Md.websocket}`,this.httpEndpoint=V8(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,a)=>a(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $8(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Hw),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Yw}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case wa.connecting:return eo.Connecting;case wa.open:return eo.Open;case wa.closing:return eo.Closing;default:return eo.Closed}}isConnected(){return this.connectionState()===eo.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new bf(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Qw};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(sr.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Xw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:a}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(sr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([o4],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Cf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function qt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class a4 extends Cf{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ld extends Cf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var l4=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{x(r.next(d))}catch(f){a(f)}}function c(d){try{x(r.throw(d))}catch(f){a(f)}}function x(d){d.done?i(d.value):s(d.value).then(l,c)}x((r=r.apply(e,t||[])).next())})};const z8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hl(async()=>{const{default:r}=await Promise.resolve().then(()=>Pi);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},c4=()=>l4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hl(()=>Promise.resolve().then(()=>Pi),void 0,import.meta.url)).Response:Response}),Od=e=>{if(Array.isArray(e))return e.map(n=>Od(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Od(r)}),t};var bo=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{x(r.next(d))}catch(f){a(f)}}function c(d){try{x(r.throw(d))}catch(f){a(f)}}function x(d){d.done?i(d.value):s(d.value).then(l,c)}x((r=r.apply(e,t||[])).next())})};const ux=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),u4=(e,t,n)=>bo(void 0,void 0,void 0,function*(){const r=yield c4();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new a4(ux(s),e.status||500))}).catch(s=>{t(new Ld(ux(s),s))}):t(new Ld(ux(e),e))}),x4=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ml(e,t,n,r,s,i){return bo(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,x4(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>u4(c,l,r))})})}function uc(e,t,n,r){return bo(this,void 0,void 0,function*(){return ml(e,"GET",t,n,r)})}function xs(e,t,n,r,s){return bo(this,void 0,void 0,function*(){return ml(e,"POST",t,r,s,n)})}function d4(e,t,n,r,s){return bo(this,void 0,void 0,function*(){return ml(e,"PUT",t,r,s,n)})}function h4(e,t,n,r){return bo(this,void 0,void 0,function*(){return ml(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function q8(e,t,n,r,s){return bo(this,void 0,void 0,function*(){return ml(e,"DELETE",t,r,s,n)})}var En=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{x(r.next(d))}catch(f){a(f)}}function c(d){try{x(r.throw(d))}catch(f){a(f)}}function x(d){d.done?i(d.value):s(d.value).then(l,c)}x((r=r.apply(e,t||[])).next())})};const f4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class m4{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=z8(s)}uploadOrUpdate(t,n,r,s){return En(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},xg),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const x=this._removeEmptyFolders(n),d=this._getFinalPath(x),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),m=yield f.json();return f.ok?{data:{path:x,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(qt(i))return{data:null,error:i};throw i}})}upload(t,n,r){return En(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return En(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const x=Object.assign({upsert:xg.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(x.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",x.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",x.cacheControl)):(c=r,d["cache-control"]=`max-age=${x.cacheControl}`,d["content-type"]=x.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield f.json();return f.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(qt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return En(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield xs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new Cf("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(qt(r))return{data:null,error:r};throw r}})}update(t,n,r){return En(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return En(this,void 0,void 0,function*(){try{return{data:yield xs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(qt(s))return{data:null,error:s};throw s}})}copy(t,n,r){return En(this,void 0,void 0,function*(){try{return{data:{path:(yield xs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(qt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return En(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield xs(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(qt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return En(this,void 0,void 0,function*(){try{const s=yield xs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(qt(s))return{data:null,error:s};throw s}})}download(t,n){return En(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield uc(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(qt(l))return{data:null,error:l};throw l}})}info(t){return En(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield uc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Od(r),error:null}}catch(r){if(qt(r))return{data:null,error:r};throw r}})}exists(t){return En(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield h4(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(qt(r)&&r instanceof Ld){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let x=s.join("&");return x!==""&&(x=`?${x}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${x}`)}}}remove(t){return En(this,void 0,void 0,function*(){try{return{data:yield q8(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(qt(n))return{data:null,error:n};throw n}})}list(t,n,r){return En(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},f4),n),{prefix:t||""});return{data:yield xs(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(qt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const p4="2.7.1",g4={"X-Client-Info":`storage-js/${p4}`};var No=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{x(r.next(d))}catch(f){a(f)}}function c(d){try{x(r.throw(d))}catch(f){a(f)}}function x(d){d.done?i(d.value):s(d.value).then(l,c)}x((r=r.apply(e,t||[])).next())})};class y4{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},g4),n),this.fetch=z8(r)}listBuckets(){return No(this,void 0,void 0,function*(){try{return{data:yield uc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(qt(t))return{data:null,error:t};throw t}})}getBucket(t){return No(this,void 0,void 0,function*(){try{return{data:yield uc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(qt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return No(this,void 0,void 0,function*(){try{return{data:yield xs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(qt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return No(this,void 0,void 0,function*(){try{return{data:yield d4(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(qt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return No(this,void 0,void 0,function*(){try{return{data:yield xs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(qt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return No(this,void 0,void 0,function*(){try{return{data:yield q8(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(qt(n))return{data:null,error:n};throw n}})}}class v4 extends y4{constructor(t,n={},r){super(t,n,r)}from(t){return new m4(this.url,this.headers,t,this.fetch)}}const E4="2.52.0";let xa="";typeof Deno<"u"?xa="deno":typeof document<"u"?xa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xa="react-native":xa="node";const b4={"X-Client-Info":`supabase-js-${xa}/${E4}`},C4={headers:b4},w4={schema:"public"},B4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},A4={};var D4=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{x(r.next(d))}catch(f){a(f)}}function c(d){try{x(r.throw(d))}catch(f){a(f)}}function x(d){d.done?i(d.value):s(d.value).then(l,c)}x((r=r.apply(e,t||[])).next())})};const F4=e=>{let t;return e?t=e:typeof fetch>"u"?t=k8:t=fetch,(...n)=>t(...n)},k4=()=>typeof Headers>"u"?j8:Headers,j4=(e,t,n)=>{const r=F4(n),s=k4();return(i,a)=>D4(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let x=new s(a==null?void 0:a.headers);return x.has("apikey")||x.set("apikey",e),x.has("Authorization")||x.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},a),{headers:x}))})};var N4=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{x(r.next(d))}catch(f){a(f)}}function c(d){try{x(r.throw(d))}catch(f){a(f)}}function x(d){d.done?i(d.value):s(d.value).then(l,c)}x((r=r.apply(e,t||[])).next())})};function _4(e){return e.endsWith("/")?e:e+"/"}function S4(e,t){var n,r;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:x,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},x),i),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>N4(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const W8="2.71.1",Ro=30*1e3,$d=3,xx=$d*Ro,P4="http://localhost:9999",T4="supabase.auth.token",R4={"X-Client-Info":`gotrue-js/${W8}`},Ud="X-Supabase-Api-Version",K8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},M4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,I4=10*60*1e3;class wf extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class L4 extends wf{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function O4(e){return Ke(e)&&e.name==="AuthApiError"}class H8 extends wf{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Is extends wf{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class as extends Is{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $4(e){return Ke(e)&&e.name==="AuthSessionMissingError"}class c0 extends Is{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class u0 extends Is{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class x0 extends Is{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function U4(e){return Ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class dg extends Is{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vd extends Is{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function dx(e){return Ke(e)&&e.name==="AuthRetryableFetchError"}class hg extends Is{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class zd extends Is{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const xc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fg=` 	
\r=`.split(""),V4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<fg.length;t+=1)e[fg[t].charCodeAt(0)]=-2;for(let t=0;t<xc.length;t+=1)e[xc[t].charCodeAt(0)]=t;return e})();function mg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(xc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(xc[r]),t.queuedBits-=6}}function G8(e,t,n){const r=V4[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pg(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{W4(a,r,n)};for(let a=0;a<e.length;a+=1)G8(e.charCodeAt(a),s,i);return t.join("")}function z4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function q4(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}z4(r,t)}}function W4(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function K4(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)G8(e.charCodeAt(s),n,r);return new Uint8Array(t)}function H4(e){const t=[];return q4(e,n=>t.push(n)),new Uint8Array(t)}function G4(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>mg(s,n,r)),mg(null,n,r),t.join("")}function Q4(e){return Math.round(Date.now()/1e3)+e}function Y4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const er=()=>typeof window<"u"&&typeof document<"u",Hs={tested:!1,writable:!1},Q8=()=>{if(!er())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hs.tested)return Hs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Hs.tested=!0,Hs.writable=!0}catch{Hs.tested=!0,Hs.writable=!1}return Hs.writable};function X4(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Y8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>hl(async()=>{const{default:r}=await Promise.resolve().then(()=>Pi);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},J4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Mo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Gs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},is=async(e,t)=>{await e.removeItem(t)};class Hc{constructor(){this.promise=new Hc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Hc.promiseConstructor=Promise;function hx(e){const t=e.split(".");if(t.length!==3)throw new zd("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!M4.test(t[r]))throw new zd("JWT not in base64url format");return{header:JSON.parse(pg(t[0])),payload:JSON.parse(pg(t[1])),signature:K4(t[2]),raw:{header:t[0],payload:t[1]}}}async function Z4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function e7(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function t7(e){return("0"+e.toString(16)).substr(-2)}function n7(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,t7).join("")}async function r7(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function s7(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await r7(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _o(e,t,n=!1){const r=n7();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Mo(e,`${t}-code-verifier`,s);const i=await s7(r);return[i,r===i?"plain":"s256"]}const o7=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function i7(e){const t=e.headers.get(Ud);if(!t||!t.match(o7))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function a7(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function l7(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const c7=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function So(e){if(!c7.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fx(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gg(e){return JSON.parse(JSON.stringify(e))}var u7=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Js=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),x7=[502,503,504];async function yg(e){var t;if(!J4(e))throw new Vd(Js(e),0);if(x7.includes(e.status))throw new Vd(Js(e),e.status);let n;try{n=await e.json()}catch(i){throw new H8(Js(i),i)}let r;const s=i7(e);if(s&&s.getTime()>=K8["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new hg(Js(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new as}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new hg(Js(n),e.status,n.weak_password.reasons);throw new L4(Js(n),e.status||500,r)}const d7=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Je(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ud]||(i[Ud]=K8["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await h7(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function h7(e,t,n,r,s,i){const a=d7(t,r,s,i);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new Vd(Js(c),0)}if(l.ok||await yg(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await yg(c)}}function Tr(e){var t;let n=null;g7(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Q4(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function vg(e){const t=Tr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ms(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function f7(e){return{data:e,error:null}}function m7(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=u7(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function p7(e){return e}function g7(e){return e.access_token&&e.refresh_token&&e.expires_in}const mx=["global","local","others"];var y7=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class v7{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Y8(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=mx[0]){if(mx.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mx.join(", ")}`);try{return await Je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ms})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=y7(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:m7,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ms})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,l,c;try{const x={nextPage:null,lastPage:0,total:0},d=await Je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:p7});if(d.error)throw d.error;const f=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(C=>{const A=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(C.split(";")[1].split("=")[1]);x[`${j}Page`]=A}),x.total=parseInt(m)),{data:Object.assign(Object.assign({},f),x),error:null}}catch(x){if(Ke(x))return{data:{users:[]},error:x};throw x}}async getUserById(t){So(t);try{return await Je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ms})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){So(t);try{return await Je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ms})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){So(t);try{return await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ms})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){So(t.userId);try{const{data:n,error:r}=await Je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _deleteFactor(t){So(t.userId),So(t.id);try{return{data:await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}}function Eg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function E7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Po={debug:!!(globalThis&&Q8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class X8 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class b7 extends X8{}async function C7(e,t,n){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Po.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new b7(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Po.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}E7();const w7={url:P4,storageKey:T4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:R4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function bg(e,t,n){return await n()}const To={};class Qa{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qa.nextInstanceID,Qa.nextInstanceID+=1,this.instanceID>0&&er()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},w7),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new v7({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Y8(s.fetch),this.lock=s.lock||bg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:er()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=C7:this.lock=bg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Q8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Eg(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Eg(this.memoryStorage)),er()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=To[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){To[this.storageKey]=Object.assign(Object.assign({},To[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=To[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){To[this.storageKey]=Object.assign(Object.assign({},To[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${W8}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=X4(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),er()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),U4(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ke(n)?{error:n}:{error:new H8("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Tr}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,x=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:x,session:c},error:null}}catch(i){if(Ke(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:f,options:m}=t;let y=null,C=null;this.flowType==="pkce"&&([y,C]=await _o(this.storage,this.storageKey)),i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:C},xform:Tr})}else if("phone"in t){const{phone:d,password:f,options:m}=t;i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Tr})}else throw new u0("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,x=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:x,session:c},error:null}}catch(i){if(Ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:l}=t;n=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:vg})}else if("phone"in t){const{phone:i,password:a,options:l}=t;n=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:vg})}else throw new u0("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new c0}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,a,l,c,x,d,f,m,y;let C,A;if("message"in t)C=t.message,A=t.signature;else{const{chain:j,wallet:v,statement:E,options:g}=t;let b;if(er())if(typeof v=="object")b=v;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=v}const F=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),E?{statement:E}:null));let N;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")N=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)N=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)C=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),A=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${F.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((x=g==null?void 0:g.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(C),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=k}}try{const{data:j,error:v}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:G4(A)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Tr});if(v)throw v;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new c0}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:v})}catch(j){if(Ke(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const n=await Gs(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Tr});if(await is(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new c0}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(Ke(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,l=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Tr}),{data:c,error:x}=l;return x?{data:{user:null,session:null},error:x}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new c0}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:x})}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let x=null,d=null;this.flowType==="pkce"&&([x,d]=await _o(this.storage,this.storageKey));const{error:f}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:x,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:x,error:d}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:x==null?void 0:x.message_id},error:d}}throw new u0("You must provide either an email or phone number.")}catch(l){if(Ke(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await Je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Tr});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,x=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:x,session:c},error:null}}catch(s){if(Ke(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await _o(this.storage,this.storageKey)),await Je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:f7})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new as;const{error:s}=await Je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ke(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await Je(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:l}=await Je(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new u0("You must provide either an email or phone number and a type")}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<xx:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Gs(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=fx()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,x,d)=>(!a&&x==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,x,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ms}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new as}:await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ms})})}catch(n){if(Ke(n))return $4(n)&&(await this._removeSession(),await is(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new as;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await _o(this.storage,this.storageKey));const{data:x,error:d}=await Je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:ms});if(d)throw d;return a.user=x.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new as;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=hx(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ke(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new as;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!er())throw new x0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new x0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new dg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new x0("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new dg("No code detected.");const{data:E,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:x}=t;if(!i||!l||!a||!x)throw new x0("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const y=m-d;y*1e3<=Ro&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const C=m-f;d-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,m,d):d-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,m,d);const{data:A,error:j}=await this._getUser(i);if(j)throw j;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:m,refresh_token:a,token_type:x,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(Ke(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Gs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(O4(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await is(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Y4(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await _o(this.storage,this.storageKey,!0));try{return await Je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,c,x,d;const{data:f,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Je(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(x=f.session)===null||x===void 0?void 0:x.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return er()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ke(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await Je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await e7(async s=>(s>0&&await Z4(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Tr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&dx(i)&&Date.now()+a-r<Ro})}catch(r){if(this._debug(n,"error",r),Ke(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),er()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Gs(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Gs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Mo(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:fx()}else if(s&&!s.user&&!s.user){const a=await Gs(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await is(this.storage,this.storageKey+"-user"),await Mo(this.storage,this.storageKey,s)):s.user=fx()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<xx;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${xx}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),dx(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new as;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Hc;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new as;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Ke(i)){const a={session:null,error:i};return dx(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Mo(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=gg(s);await Mo(this.storage,this.storageKey,i)}else{const s=gg(n);await Mo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await is(this.storage,this.storageKey),await is(this.storage,this.storageKey+"-code-verifier"),await is(this.storage,this.storageKey+"-user"),this.userStorage&&await is(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&er()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ro);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Ro);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ro}ms, refresh threshold is ${$d} ticks`),s<=$d&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof X8)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!er()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await _o(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:x}=await Je(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return x?{data:null,error:x}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:l}=await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=hx(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+I4>s)return r;const{data:i,error:a}=await Je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:C}=await this.getSession();if(C||!y.session)return{data:null,error:C};r=y.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=hx(r);n!=null&&n.allowExpired||a7(i.exp);const x=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!x){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:a},error:null}}const d=l7(s.alg),f=await crypto.subtle.importKey("jwk",x,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,H4(`${l}.${c}`)))throw new zd("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}}Qa.nextInstanceID=0;const B7=Qa;class A7 extends B7{constructor(t){super(t)}}var D7=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{x(r.next(d))}catch(f){a(f)}}function c(d){try{x(r.throw(d))}catch(f){a(f)}}function x(d){d.done?i(d.value):s(d.value).then(l,c)}x((r=r.apply(e,t||[])).next())})};class F7{constructor(t,n,r){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=_4(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const x=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:w4,realtime:A4,auth:Object.assign(Object.assign({},B4),{storageKey:x}),global:C4},f=S4(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=j4(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Ww(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new bw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new v4(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return D7(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:a,lock:l,debug:c},x,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new A7({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),x),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new i4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const k7=(e,t,n)=>new F7(e,t,n),J8="https://yoxgdfyhxbqeofslxtdc.supabase.co",j7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlveGdkZnloeGJxZW9mc2x4dGRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI4NzczOTUsImV4cCI6MjA2ODQ1MzM5NX0.E8aI_9cPmbwBErsZQaA0LJw2eHj94lIdrFE6qoanC7o",le=k7(J8,j7,{auth:{persistSession:!0,autoRefreshToken:!0}}),Ut=(e,t="images")=>e?e.startsWith("http://")||e.startsWith("https://")||e.startsWith("blob:")||e.startsWith("data:")?e:`${J8}/storage/v1/object/public/${t}/${e}`:"";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_7=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Cg=e=>{const t=_7(e);return t.charAt(0).toUpperCase()+t.slice(1)},Z8=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),S7=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=B.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>B.createElement("svg",{ref:c,...P7,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Z8("lucide",s),...!i&&!S7(l)&&{"aria-hidden":"true"},...l},[...a.map(([x,d])=>B.createElement(x,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(e,t)=>{const n=B.forwardRef(({className:r,...s},i)=>B.createElement(T7,{ref:i,iconNode:t,className:Z8(`lucide-${N7(Cg(e))}`,`lucide-${e}`,r),...s}));return n.displayName=Cg(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],M7=Pe("activity",R7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],L7=Pe("align-center",I7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],$7=Pe("align-left",O7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],V7=Pe("align-right",U7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],q7=Pe("arrow-down",z7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],px=Pe("arrow-right",W7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],H7=Pe("arrow-up",K7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Q7=Pe("award",G7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Rn=Pe("building-2",Y7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Rt=Pe("calendar",X7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ir=Pe("camera",J7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Fs=Pe("chart-column",Z7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],tB=Pe("circle-alert",eB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Vr=Pe("circle-check-big",nB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],eE=Pe("clock",rB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],oB=Pe("copy",sB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],aB=Pe("database",iB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Gc=Pe("download",lB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],uB=Pe("external-link",cB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dB=Pe("eye",xB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],oo=Pe("gift",hB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],mB=Pe("globe",fB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],wg=Pe("grid-3x3",pB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],cr=Pe("image",gB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Bg=Pe("lock-open",yB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],gx=Pe("lock",vB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ag=Pe("log-out",EB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],An=Pe("map-pin",bB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],wB=Pe("maximize-2",CB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],AB=Pe("maximize",BB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],FB=Pe("menu",DB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],jB=Pe("minimize-2",kB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M5 12h14",key:"1ays0h"}]],_B=Pe("minus",NB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],pi=Pe("monitor",SB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],TB=Pe("mouse-pointer",PB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],MB=Pe("move",RB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],LB=Pe("pause",IB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],qd=Pe("play",OB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cr=Pe("plus",$B);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],ur=Pe("qr-code",UB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],tE=Pe("refresh-cw",VB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],qB=Pe("rocket",zB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],P0=Pe("rotate-ccw",WB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],Dg=Pe("rotate-cw",KB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Yo=Pe("search",HB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bf=Pe("settings",GB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],nE=Pe("shuffle",QB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Ya=Pe("sparkles",YB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],pl=Pe("square-pen",XB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ZB=Pe("star",JB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],t3=Pe("table",e3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],rE=Pe("target",n3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ns=Pe("trash-2",r3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Io=Pe("trending-up",s3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],oa=Pe("trophy",o3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Qc=Pe("upload",i3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dc=Pe("user-check",a3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Fg=Pe("user-plus",l3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pt=Pe("users",c3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]],Gn=Pe("vote",u3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],d3=Pe("wifi",x3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gi=Pe("x",h3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],m3=Pe("zap",f3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],g3=Pe("zoom-in",p3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],v3=Pe("zoom-out",y3);function E3(){return console.log("DemoNotice component rendered"),o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"max-w-2xl w-full",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:o.jsx(aB,{className:"h-12 w-12 text-blue-600"})})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Event Management System"}),o.jsx("p",{className:"text-gray-600",children:"A comprehensive solution for managing events, attendees, and more"})]}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-8",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(tB,{className:"h-6 w-6 text-yellow-600 mr-3 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Database Configuration Required"}),o.jsx("p",{className:"text-yellow-700 mb-4",children:"This application requires a Supabase database to function. To get started:"}),o.jsxs("ol",{className:"list-decimal list-inside text-yellow-700 space-y-2 text-sm",children:[o.jsxs("li",{children:["Create a free account at ",o.jsx("a",{href:"https://supabase.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"supabase.com"})]}),o.jsx("li",{children:"Create a new project"}),o.jsx("li",{children:"Get your project URL and anon key from the API settings"}),o.jsx("li",{children:"Configure the environment variables in your deployment"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:" Features"}),o.jsxs("ul",{className:"text-gray-600 space-y-2 text-sm",children:[o.jsx("li",{children:" Company & Event Management"}),o.jsx("li",{children:" Attendee Registration & Check-in"}),o.jsx("li",{children:" QR Code Generation"}),o.jsx("li",{children:" Seating Arrangements"}),o.jsx("li",{children:" Photo Gallery & Voting"}),o.jsx("li",{children:" Lucky Draw System"}),o.jsx("li",{children:" Real-time Monitoring"})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:" Tech Stack"}),o.jsxs("ul",{className:"text-gray-600 space-y-2 text-sm",children:[o.jsx("li",{children:" React + TypeScript"}),o.jsx("li",{children:" Tailwind CSS"}),o.jsx("li",{children:" Supabase (Database & Auth)"}),o.jsx("li",{children:" QR Code Generation"}),o.jsx("li",{children:" Real-time Updates"}),o.jsx("li",{children:" Responsive Design"}),o.jsx("li",{children:" PWA Ready"})]})]})]}),o.jsx("div",{className:"text-center",children:o.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[o.jsx(Bf,{className:"h-8 w-8 text-blue-600 mx-auto mb-3"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to Deploy?"}),o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Set up your Supabase database and configure the environment variables to start using this application."}),o.jsxs("div",{className:"text-xs text-gray-500",children:[o.jsx("p",{children:"Environment variables needed:"}),o.jsx("p",{className:"font-mono bg-gray-100 px-2 py-1 rounded mt-1",children:"VITE_SUPABASE_URL, VITE_SUPABASE_ANON_KEY"})]})]})})]})})})}const b3={},kg=e=>{let t;const n=new Set,r=(d,f)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const y=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(C=>C(t,y))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>x,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(b3?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},x=t=e(r,s,c);return c},C3=e=>e?kg(e):kg;var sE={exports:{}},oE={},iE={exports:{}},aE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yi=B;function w3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var B3=typeof Object.is=="function"?Object.is:w3,A3=yi.useState,D3=yi.useEffect,F3=yi.useLayoutEffect,k3=yi.useDebugValue;function j3(e,t){var n=t(),r=A3({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return F3(function(){s.value=n,s.getSnapshot=t,yx(s)&&i({inst:s})},[e,n,t]),D3(function(){return yx(s)&&i({inst:s}),e(function(){yx(s)&&i({inst:s})})},[e]),k3(n),n}function yx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!B3(e,n)}catch{return!0}}function N3(e,t){return t()}var _3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?N3:j3;aE.useSyncExternalStore=yi.useSyncExternalStore!==void 0?yi.useSyncExternalStore:_3;iE.exports=aE;var S3=iE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yc=B,P3=S3;function T3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var R3=typeof Object.is=="function"?Object.is:T3,M3=P3.useSyncExternalStore,I3=Yc.useRef,L3=Yc.useEffect,O3=Yc.useMemo,$3=Yc.useDebugValue;oE.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=I3(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=O3(function(){function c(y){if(!x){if(x=!0,d=y,y=r(y),s!==void 0&&a.hasValue){var C=a.value;if(s(C,y))return f=C}return f=y}if(C=f,R3(d,y))return C;var A=r(y);return s!==void 0&&s(C,A)?(d=y,C):(d=y,f=A)}var x=!1,d,f,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,r,s]);var l=M3(e,i[0],i[1]);return L3(function(){a.hasValue=!0,a.value=l},[l]),$3(l),l};sE.exports=oE;var U3=sE.exports;const V3=bc(U3),lE={},{useDebugValue:z3}=Eh,{useSyncExternalStoreWithSelector:q3}=V3;let jg=!1;const W3=e=>e;function K3(e,t=W3,n){(lE?"production":void 0)!=="production"&&n&&!jg&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),jg=!0);const r=q3(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return z3(r),r}const Ng=e=>{(lE?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?C3(e):e,n=(r,s)=>K3(t,r,s);return Object.assign(n,t),n},cE=e=>e?Ng(e):Ng,H3=()=>{const e=localStorage.getItem("hybridMode");return e==="offline"||e==="online"||e==="hybrid"?e:"online"},Af=cE(e=>({mode:H3(),setMode:t=>{localStorage.setItem("hybridMode",t),e({mode:t})}})),_g=[{key:"events",label:"Events",icon:Rt,color:"text-green-600",route:"/admin/events"},{key:"attendees",label:"Attendees",icon:pt,color:"text-blue-600",route:"/admin/attendees"},{key:"companies",label:"Companies",icon:Rn,color:"text-purple-600",route:"/admin/companies"},{key:"checkin",label:"Check-in",icon:ur,color:"text-indigo-600",route:"/admin/checkin"},{key:"gallery",label:"Gallery",icon:cr,color:"text-teal-600",route:"/admin/gallery"},{key:"voting",label:"Voting",icon:Gn,color:"text-violet-600",route:"/admin/voting"},{key:"luckydraw",label:"Lucky Draw",icon:oo,color:"text-orange-600",route:"/admin/lucky-draw"},{key:"seating",label:"Seating",icon:An,color:"text-pink-600",route:"/admin/seating"}];function G3({userCompany:e}){const[t,n]=B.useState(!1),[r,s]=B.useState(""),[i,a]=B.useState([]),[l,c]=B.useState(!1),x=B.useRef(null),d=B.useRef(null),f=_i();B.useEffect(()=>{const A=j=>{x.current&&!x.current.contains(j.target)&&n(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]),B.useEffect(()=>{t&&d.current&&d.current.focus()},[t]),B.useEffect(()=>{r.trim()?m():a([])},[r]);const m=async()=>{c(!0);const A=r.toLowerCase().trim(),j=[];try{if(A.length>=2){let v=le.from("events").select("id, name, company:companies(name)").ilike("name",`%${A}%`);e&&(v=v.eq("company_id",e.company_id));const{data:E}=await v;E&&E.forEach(g=>{var F,k;const b=Array.isArray(g.company)?(F=g.company[0])==null?void 0:F.name:(k=g.company)==null?void 0:k.name;j.push({id:g.id,type:"event",title:g.name,subtitle:`Event  ${b||"Unknown Company"}`,route:"/admin/events",icon:Rt,color:"text-green-600"})})}if(A.length>=2){let v=le.from("attendees").select("id, name, event:events(name, company:companies(name))").ilike("name",`%${A}%`);e&&(v=v.eq("event.company_id",e.company_id));const{data:E}=await v;E&&E.forEach(g=>{var F,k;const b=Array.isArray(g.event)?(F=g.event[0])==null?void 0:F.name:(k=g.event)==null?void 0:k.name;j.push({id:g.id,type:"attendee",title:g.name,subtitle:`Attendee  ${b||"Unknown Event"}`,route:"/admin/attendees",icon:pt,color:"text-blue-600"})})}if(!e&&A.length>=2){const{data:v}=await le.from("companies").select("id, name").ilike("name",`%${A}%`);v&&v.forEach(E=>{j.push({id:E.id,type:"company",title:E.name,subtitle:"Company",route:"/admin/companies",icon:Rn,color:"text-purple-600"})})}_g.forEach(v=>{v.label.toLowerCase().includes(A)&&j.push({id:v.key,type:"section",title:v.label,subtitle:"Navigation Section",route:v.route,icon:v.icon,color:v.color})}),a(j.slice(0,10))}catch(v){Q.error("Search error: "+v.message)}finally{c(!1)}},y=A=>{f(A.route),n(!1),s("")},C=A=>{A.key==="Escape"&&(n(!1),s(""))};return o.jsxs("div",{className:"relative",ref:x,children:[o.jsxs("button",{onClick:()=>n(!0),className:"flex items-center px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[o.jsx(Yo,{className:"h-5 w-5 mr-2"}),o.jsx("span",{className:"hidden md:inline",children:"Search..."})]}),t&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-center pt-20",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl mx-4 max-h-[80vh] overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Yo,{className:"h-5 w-5 text-gray-400 mr-3"}),o.jsx("input",{ref:d,type:"text",value:r,onChange:A=>s(A.target.value),onKeyDown:C,placeholder:"Search events, attendees, companies, or sections...",className:"flex-1 outline-none text-lg"}),o.jsx("button",{onClick:()=>n(!1),className:"ml-3 p-1 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(gi,{className:"h-5 w-5 text-gray-400"})})]})}),o.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:l?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"text-gray-500 mt-2",children:"Searching..."})]}):i.length>0?o.jsx("div",{className:"p-2",children:i.map((A,j)=>{const v=A.icon;return o.jsx("button",{onClick:()=>y(A),className:"w-full text-left p-3 hover:bg-gray-50 rounded-lg transition-colors group",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`p-2 rounded-lg mr-3 ${A.color} bg-gray-100 group-hover:bg-gray-200`,children:o.jsx(v,{className:"h-5 w-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-gray-900",children:A.title}),o.jsx("div",{className:"text-sm text-gray-500",children:A.subtitle})]}),o.jsx("div",{className:"text-xs text-gray-400 group-hover:text-gray-600",children:A.type})]})},`${A.type}-${A.id}-${j}`)})}):r?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(Yo,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),o.jsxs("p",{className:"text-gray-500",children:['No results found for "',r,'"']}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try different keywords"})]}):o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(Yo,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"Start typing to search..."}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Search events, attendees, companies, or sections"})]})}),!r&&o.jsxs("div",{className:"p-4 border-t border-gray-200",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Quick Actions"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:_g.map(A=>{const j=A.icon;return o.jsxs("button",{onClick:()=>y({id:A.key,title:A.label,route:A.route,icon:A.icon,color:A.color}),className:"flex items-center p-2 hover:bg-gray-50 rounded-lg transition-colors text-left",children:[o.jsx(j,{className:`h-4 w-4 mr-2 ${A.color}`}),o.jsx("span",{className:"text-sm font-medium",children:A.label})]},A.key)})})]})]})})]})}const Q3=[{name:"Dashboard",href:"/admin",icon:Fs,color:"from-purple-500 to-pink-500"},{name:"Companies",href:"/admin/companies",icon:Rn,color:"from-blue-500 to-cyan-500"},{name:"Events",href:"/admin/events",icon:Rt,color:"from-green-500 to-emerald-500"},{name:"Attendees",href:"/admin/attendees",icon:pt,color:"from-orange-500 to-red-500"},{name:"Check-in",href:"/admin/checkin",icon:ur,color:"from-indigo-500 to-purple-500"},{name:"QR Generator",href:"/admin/qr-generator",icon:ur,color:"from-emerald-500 to-green-500"},{name:"Seating",href:"/admin/seating",icon:An,color:"from-pink-500 to-rose-500"},{name:"Voting",href:"/admin/voting",icon:Gn,color:"from-violet-500 to-purple-500"},{name:"Lucky Draw",href:"/admin/lucky-draw",icon:oo,color:"from-yellow-500 to-orange-500"},{name:"Gallery",href:"/admin/gallery",icon:cr,color:"from-teal-500 to-cyan-500"},{name:"Welcome Monitor",href:"/admin/welcome-monitor",icon:pi,color:"from-blue-500 to-indigo-500"},{name:"Voting Monitor",href:"/admin/voting-monitor",icon:pi,color:"from-purple-500 to-indigo-500"}];function Y3({children:e,userCompany:t}){const n=Jr(),r=_i(),{mode:s,setMode:i}=Af(),[a,l]=B.useState(!1),c=async()=>{await le.auth.signOut(),r("/")},x=()=>{l(!1)};return o.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[a&&o.jsx("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden",onClick:x}),o.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-72 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${a?"translate-x-0":"-translate-x-full"}`,children:o.jsxs("div",{className:"flex h-full flex-col bg-white border-r border-gray-200 shadow-lg",children:[o.jsxs("div",{className:"flex h-20 items-center justify-between border-b border-gray-200 bg-blue-600 px-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ya,{className:"h-8 w-8 text-white mr-2"}),o.jsxs("div",{children:[o.jsx("a",{href:"/",children:o.jsx("h1",{className:"text-xl font-bold text-white",children:"EventPro"})}),t&&o.jsx("p",{className:"text-xs text-blue-100 truncate font-medium",children:t.company.name}),o.jsxs("h6",{className:"text-xs text-blue-100 truncate font-small",children:["powered by ",o.jsx("i",{children:"sangtenuk"})]})]})]}),o.jsx("button",{onClick:x,className:"lg:hidden p-2 text-white hover:bg-blue-700 rounded-lg transition-colors",children:o.jsx(gi,{className:"h-5 w-5"})})]}),!t&&o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-white",children:[o.jsx("label",{htmlFor:"hybrid-mode-select",className:"block text-xs font-bold text-gray-700 mb-1",children:"Data Mode"}),o.jsxs("select",{id:"hybrid-mode-select",value:s,onChange:d=>i(d.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md text-gray-900 text-xs",children:[o.jsx("option",{value:"online",children:"Online (Supabase)"}),o.jsx("option",{value:"offline",children:"Offline (Local Only)"}),o.jsx("option",{value:"hybrid",children:"Hybrid (Sync)"})]})]}),o.jsx("div",{className:"px-4 py-2 border-b border-gray-200",children:o.jsx(G3,{userCompany:t})}),o.jsx("nav",{className:"flex-1 space-y-2 p-4 overflow-y-auto",children:Q3.filter(d=>!(t&&d.href==="/admin/companies")).map(d=>{const f=d.icon,m=n.pathname===d.href||d.href!=="/admin"&&n.pathname.startsWith(d.href);return o.jsxs(bn,{to:d.href,onClick:x,className:`group flex items-center px-4 py-3 text-sm font-semibold rounded-xl transition-all duration-300 ${m?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[o.jsx("div",{className:`p-2 rounded-lg mr-3 transition-colors ${m?"bg-white bg-opacity-20":"bg-gray-100 group-hover:bg-white"}`,children:o.jsx(f,{className:`h-5 w-5 ${m?"text-white":"text-gray-600 group-hover:text-gray-800"}`})}),o.jsx("span",{className:"truncate",children:d.name})]},d.name)})}),o.jsx("div",{className:"p-4 border-t border-gray-200/50",children:o.jsxs("button",{onClick:c,className:"flex items-center w-full px-4 py-3 text-sm font-semibold text-gray-700 rounded-xl hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 hover:text-red-600 transition-all duration-300 group",children:[o.jsx("div",{className:"p-2 rounded-lg mr-3 bg-gray-100 group-hover:bg-red-100 transition-all duration-300",children:o.jsx(Ag,{className:"h-5 w-5 text-gray-600 group-hover:text-red-600"})}),"Sign Out"]})})]})}),o.jsx("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-30 bg-white shadow-lg border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:()=>l(!0),className:"p-2 mr-3 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(FB,{className:"h-5 w-5"})}),o.jsx(Ya,{className:"h-6 w-6 text-blue-600 mr-2"}),o.jsxs("div",{children:[o.jsx("a",{href:"/",children:o.jsx("h1",{className:"text-lg font-bold text-blue-600",children:"EventPro"})}),t&&o.jsx("p",{className:"text-xs text-blue-600 font-medium truncate",children:t.company.name})]})]}),o.jsxs("button",{onClick:c,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-lg hover:bg-red-50 hover:text-red-600 transition-all duration-300",children:[o.jsx(Ag,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})}),o.jsx("div",{className:"flex-1 lg:ml-30",children:o.jsx("main",{className:"flex-1 p-4 md:p-8 pt-20 lg:pt-8",children:e})})]})}function X3(){const[e,t]=B.useState(""),[n,r]=B.useState(""),[s,i]=B.useState(!1),[a,l]=B.useState(!1),c=_i(),x=async d=>{d.preventDefault(),i(!0);try{if(a){const{error:f}=await le.auth.signUp({email:e,password:n});if(f)throw f;Q.success("Account created successfully!")}else{const{error:f}=await le.auth.signInWithPassword({email:e,password:n});if(f)throw f;c("/admin")}}catch(f){Q.error(f.message)}finally{i(!1)}};return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:a?"Create your account":"Sign in to your account"}),o.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Event Management System"})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),o.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"relative block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Email address",value:e,onChange:d=>t(d.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),o.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"relative block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Password",value:n,onChange:d=>r(d.target.value)})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Loading...":a?"Sign up":"Sign in"})}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>l(!a),className:"text-blue-600 hover:text-blue-500 text-sm",children:a?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})]})})}var uE={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(gn,function(){var n=function(u,h){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,w){p.__proto__=w}||function(p,w){for(var D in w)Object.prototype.hasOwnProperty.call(w,D)&&(p[D]=w[D])})(u,h)},r=function(){return(r=Object.assign||function(u){for(var h,p=1,w=arguments.length;p<w;p++)for(var D in h=arguments[p])Object.prototype.hasOwnProperty.call(h,D)&&(u[D]=h[D]);return u}).apply(this,arguments)};function s(u,h,p){for(var w,D=0,_=h.length;D<_;D++)!w&&D in h||((w=w||Array.prototype.slice.call(h,0,D))[D]=h[D]);return u.concat(w||Array.prototype.slice.call(h))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:gn,a=Object.keys,l=Array.isArray;function c(u,h){return typeof h!="object"||a(h).forEach(function(p){u[p]=h[p]}),u}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var x=Object.getPrototypeOf,d={}.hasOwnProperty;function f(u,h){return d.call(u,h)}function m(u,h){typeof h=="function"&&(h=h(x(u))),(typeof Reflect>"u"?a:Reflect.ownKeys)(h).forEach(function(p){C(u,p,h[p])})}var y=Object.defineProperty;function C(u,h,p,w){y(u,h,c(p&&f(p,"get")&&typeof p.get=="function"?{get:p.get,set:p.set,configurable:!0}:{value:p,configurable:!0,writable:!0},w))}function A(u){return{from:function(h){return u.prototype=Object.create(h.prototype),C(u.prototype,"constructor",u),{extend:m.bind(null,u.prototype)}}}}var j=Object.getOwnPropertyDescriptor,v=[].slice;function E(u,h,p){return v.call(u,h,p)}function g(u,h){return h(u)}function b(u){if(!u)throw new Error("Assertion Failed")}function F(u){i.setImmediate?setImmediate(u):setTimeout(u,0)}function k(u,h){if(typeof h=="string"&&f(u,h))return u[h];if(!h)return u;if(typeof h!="string"){for(var p=[],w=0,D=h.length;w<D;++w){var _=k(u,h[w]);p.push(_)}return p}var I=h.indexOf(".");if(I!==-1){var U=u[h.substr(0,I)];return U==null?void 0:k(U,h.substr(I+1))}}function N(u,h,p){if(u&&h!==void 0&&!("isFrozen"in Object&&Object.isFrozen(u)))if(typeof h!="string"&&"length"in h){b(typeof p!="string"&&"length"in p);for(var w=0,D=h.length;w<D;++w)N(u,h[w],p[w])}else{var _,I,U=h.indexOf(".");U!==-1?(_=h.substr(0,U),(I=h.substr(U+1))===""?p===void 0?l(u)&&!isNaN(parseInt(_))?u.splice(_,1):delete u[_]:u[_]=p:N(U=!(U=u[_])||!f(u,_)?u[_]={}:U,I,p)):p===void 0?l(u)&&!isNaN(parseInt(h))?u.splice(h,1):delete u[h]:u[h]=p}}function S(u){var h,p={};for(h in u)f(u,h)&&(p[h]=u[h]);return p}var O=[].concat;function $(u){return O.apply([],u)}var $e="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat($([8,16,32,64].map(function(u){return["Int","Uint","Float"].map(function(h){return h+u+"Array"})}))).filter(function(u){return i[u]}),M=new Set($e.map(function(u){return i[u]})),G=null;function K(u){return G=new WeakMap,u=function h(p){if(!p||typeof p!="object")return p;var w=G.get(p);if(w)return w;if(l(p)){w=[],G.set(p,w);for(var D=0,_=p.length;D<_;++D)w.push(h(p[D]))}else if(M.has(p.constructor))w=p;else{var I,U=x(p);for(I in w=U===Object.prototype?{}:Object.create(U),G.set(p,w),p)f(p,I)&&(w[I]=h(p[I]))}return w}(u),G=null,u}var H={}.toString;function Z(u){return H.call(u).slice(8,-1)}var R=typeof Symbol<"u"?Symbol.iterator:"@@iterator",P=typeof R=="symbol"?function(u){var h;return u!=null&&(h=u[R])&&h.apply(u)}:function(){return null};function T(u,h){return h=u.indexOf(h),0<=h&&u.splice(h,1),0<=h}var V={};function te(u){var h,p,w,D;if(arguments.length===1){if(l(u))return u.slice();if(this===V&&typeof u=="string")return[u];if(D=P(u)){for(p=[];!(w=D.next()).done;)p.push(w.value);return p}if(u==null)return[u];if(typeof(h=u.length)!="number")return[u];for(p=new Array(h);h--;)p[h]=u[h];return p}for(h=arguments.length,p=new Array(h);h--;)p[h]=arguments[h];return p}var L=typeof Symbol<"u"?function(u){return u[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ee=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Un=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ee),W={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ce(u,h){this.name=u,this.message=h}function he(u,h){return u+". Errors: "+Object.keys(h).map(function(p){return h[p].toString()}).filter(function(p,w,D){return D.indexOf(p)===w}).join(`
`)}function je(u,h,p,w){this.failures=h,this.failedKeys=w,this.successCount=p,this.message=he(u,h)}function we(u,h){this.name="BulkError",this.failures=Object.keys(h).map(function(p){return h[p]}),this.failuresByPos=h,this.message=he(u,this.failures)}A(ce).from(Error).extend({toString:function(){return this.name+": "+this.message}}),A(je).from(ce),A(we).from(ce);var ke=Un.reduce(function(u,h){return u[h]=h+"Error",u},{}),Ge=ce,me=Un.reduce(function(u,h){var p=h+"Error";function w(D,_){this.name=p,D?typeof D=="string"?(this.message="".concat(D).concat(_?`
 `+_:""),this.inner=_||null):typeof D=="object"&&(this.message="".concat(D.name," ").concat(D.message),this.inner=D):(this.message=W[h]||p,this.inner=null)}return A(w).from(Ge),u[h]=w,u},{});me.Syntax=SyntaxError,me.Type=TypeError,me.Range=RangeError;var ze=Ee.reduce(function(u,h){return u[h+"Error"]=me[h],u},{}),st=Un.reduce(function(u,h){return["Syntax","Type","Range"].indexOf(h)===-1&&(u[h+"Error"]=me[h]),u},{});function Re(){}function at(u){return u}function Ot(u,h){return u==null||u===at?h:function(p){return h(u(p))}}function ht(u,h){return function(){u.apply(this,arguments),h.apply(this,arguments)}}function Ht(u,h){return u===Re?h:function(){var p=u.apply(this,arguments);p!==void 0&&(arguments[0]=p);var w=this.onsuccess,D=this.onerror;this.onsuccess=null,this.onerror=null;var _=h.apply(this,arguments);return w&&(this.onsuccess=this.onsuccess?ht(w,this.onsuccess):w),D&&(this.onerror=this.onerror?ht(D,this.onerror):D),_!==void 0?_:p}}function un(u,h){return u===Re?h:function(){u.apply(this,arguments);var p=this.onsuccess,w=this.onerror;this.onsuccess=this.onerror=null,h.apply(this,arguments),p&&(this.onsuccess=this.onsuccess?ht(p,this.onsuccess):p),w&&(this.onerror=this.onerror?ht(w,this.onerror):w)}}function Gt(u,h){return u===Re?h:function(p){var w=u.apply(this,arguments);c(p,w);var D=this.onsuccess,_=this.onerror;return this.onsuccess=null,this.onerror=null,p=h.apply(this,arguments),D&&(this.onsuccess=this.onsuccess?ht(D,this.onsuccess):D),_&&(this.onerror=this.onerror?ht(_,this.onerror):_),w===void 0?p===void 0?void 0:p:c(w,p)}}function ae(u,h){return u===Re?h:function(){return h.apply(this,arguments)!==!1&&u.apply(this,arguments)}}function Ce(u,h){return u===Re?h:function(){var p=u.apply(this,arguments);if(p&&typeof p.then=="function"){for(var w=this,D=arguments.length,_=new Array(D);D--;)_[D]=arguments[D];return p.then(function(){return h.apply(w,_)})}return h.apply(this,arguments)}}st.ModifyError=je,st.DexieError=ce,st.BulkError=we;var Ie=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Oe(u){Ie=u}var yt={},de=100,$e=typeof Promise>"u"?[]:function(){var u=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[u,x(u),u];var h=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[h,x(h),u]}(),Ee=$e[0],Un=$e[1],$e=$e[2],Un=Un&&Un.then,Le=Ee&&Ee.constructor,nt=!!$e,He=function(u,h){$s.push([u,h]),Nn&&(queueMicrotask(ut),Nn=!1)},Qt=!0,Nn=!0,Jn=[],Co=[],Li=at,pr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Re,pgp:!1,env:{},finalize:Re},Te=pr,$s=[],Nr=0,wo=[];function z(u){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var h=this._PSD=Te;if(typeof u!="function"){if(u!==yt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&De(this,this._value))}this._state=null,this._value=null,++h.ref,function p(w,D){try{D(function(_){if(w._state===null){if(_===w)throw new TypeError("A promise cannot be resolved with itself.");var I=w._lib&&lt();_&&typeof _.then=="function"?p(w,function(U,Y){_ instanceof z?_._then(U,Y):_.then(U,Y)}):(w._state=!0,w._value=_,Me(w)),I&&At()}},De.bind(null,w))}catch(_){De(w,_)}}(this,u)}var pe={get:function(){var u=Te,h=Bl;function p(w,D){var _=this,I=!u.global&&(u!==Te||h!==Bl),U=I&&!es(),Y=new z(function(J,re){qe(_,new Ne(hm(w,u,I,U),hm(D,u,I,U),J,re,u))});return this._consoleTask&&(Y._consoleTask=this._consoleTask),Y}return p.prototype=yt,p},set:function(u){C(this,"then",u&&u.prototype===yt?pe:{get:function(){return u},set:pe.set})}};function Ne(u,h,p,w,D){this.onFulfilled=typeof u=="function"?u:null,this.onRejected=typeof h=="function"?h:null,this.resolve=p,this.reject=w,this.psd=D}function De(u,h){var p,w;Co.push(h),u._state===null&&(p=u._lib&&lt(),h=Li(h),u._state=!1,u._value=h,w=u,Jn.some(function(D){return D._value===w._value})||Jn.push(w),Me(u),p&&At())}function Me(u){var h=u._listeners;u._listeners=[];for(var p=0,w=h.length;p<w;++p)qe(u,h[p]);var D=u._PSD;--D.ref||D.finalize(),Nr===0&&(++Nr,He(function(){--Nr==0&&xn()},[]))}function qe(u,h){if(u._state!==null){var p=u._state?h.onFulfilled:h.onRejected;if(p===null)return(u._state?h.resolve:h.reject)(u._value);++h.psd.ref,++Nr,He(it,[p,u,h])}else u._listeners.push(h)}function it(u,h,p){try{var w,D=h._value;!h._state&&Co.length&&(Co=[]),w=Ie&&h._consoleTask?h._consoleTask.run(function(){return u(D)}):u(D),h._state||Co.indexOf(D)!==-1||function(_){for(var I=Jn.length;I;)if(Jn[--I]._value===_._value)return Jn.splice(I,1)}(h),p.resolve(w)}catch(_){p.reject(_)}finally{--Nr==0&&xn(),--p.psd.ref||p.psd.finalize()}}function ut(){Us(pr,function(){lt()&&At()})}function lt(){var u=Qt;return Nn=Qt=!1,u}function At(){var u,h,p;do for(;0<$s.length;)for(u=$s,$s=[],p=u.length,h=0;h<p;++h){var w=u[h];w[0].apply(null,w[1])}while(0<$s.length);Nn=Qt=!0}function xn(){var u=Jn;Jn=[],u.forEach(function(w){w._PSD.onunhandled.call(null,w._value,w)});for(var h=wo.slice(0),p=h.length;p;)h[--p]()}function vt(u){return new z(yt,!1,u)}function Xe(u,h){var p=Te;return function(){var w=lt(),D=Te;try{return ts(p,!0),u.apply(this,arguments)}catch(_){h&&h(_)}finally{ts(D,!1),w&&At()}}}m(z.prototype,{then:pe,_then:function(u,h){qe(this,new Ne(null,null,u,h,Te))},catch:function(u){if(arguments.length===1)return this.then(null,u);var h=u,p=arguments[1];return typeof h=="function"?this.then(null,function(w){return(w instanceof h?p:vt)(w)}):this.then(null,function(w){return(w&&w.name===h?p:vt)(w)})},finally:function(u){return this.then(function(h){return z.resolve(u()).then(function(){return h})},function(h){return z.resolve(u()).then(function(){return vt(h)})})},timeout:function(u,h){var p=this;return u<1/0?new z(function(w,D){var _=setTimeout(function(){return D(new me.Timeout(h))},u);p.then(w,D).finally(clearTimeout.bind(null,_))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&C(z.prototype,Symbol.toStringTag,"Dexie.Promise"),pr.env=dm(),m(z,{all:function(){var u=te.apply(null,arguments).map(Al);return new z(function(h,p){u.length===0&&h([]);var w=u.length;u.forEach(function(D,_){return z.resolve(D).then(function(I){u[_]=I,--w||h(u)},p)})})},resolve:function(u){return u instanceof z?u:u&&typeof u.then=="function"?new z(function(h,p){u.then(h,p)}):new z(yt,!0,u)},reject:vt,race:function(){var u=te.apply(null,arguments).map(Al);return new z(function(h,p){u.map(function(w){return z.resolve(w).then(h,p)})})},PSD:{get:function(){return Te},set:function(u){return Te=u}},totalEchoes:{get:function(){return Bl}},newPSD:Zr,usePSD:Us,scheduler:{get:function(){return He},set:function(u){He=u}},rejectionMapper:{get:function(){return Li},set:function(u){Li=u}},follow:function(u,h){return new z(function(p,w){return Zr(function(D,_){var I=Te;I.unhandleds=[],I.onunhandled=_,I.finalize=ht(function(){var U,Y=this;U=function(){Y.unhandleds.length===0?D():_(Y.unhandleds[0])},wo.push(function J(){U(),wo.splice(wo.indexOf(J),1)}),++Nr,He(function(){--Nr==0&&xn()},[])},I.finalize),u()},h,p,w)})}}),Le&&(Le.allSettled&&C(z,"allSettled",function(){var u=te.apply(null,arguments).map(Al);return new z(function(h){u.length===0&&h([]);var p=u.length,w=new Array(p);u.forEach(function(D,_){return z.resolve(D).then(function(I){return w[_]={status:"fulfilled",value:I}},function(I){return w[_]={status:"rejected",reason:I}}).then(function(){return--p||h(w)})})})}),Le.any&&typeof AggregateError<"u"&&C(z,"any",function(){var u=te.apply(null,arguments).map(Al);return new z(function(h,p){u.length===0&&p(new AggregateError([]));var w=u.length,D=new Array(w);u.forEach(function(_,I){return z.resolve(_).then(function(U){return h(U)},function(U){D[I]=U,--w||p(new AggregateError(D))})})})}),Le.withResolvers&&(z.withResolvers=Le.withResolvers));var Et={awaits:0,echoes:0,id:0},Oi=0,Cl=[],wl=0,Bl=0,l6=0;function Zr(u,h,p,w){var D=Te,_=Object.create(D);return _.parent=D,_.ref=0,_.global=!1,_.id=++l6,pr.env,_.env=nt?{Promise:z,PromiseProp:{value:z,configurable:!0,writable:!0},all:z.all,race:z.race,allSettled:z.allSettled,any:z.any,resolve:z.resolve,reject:z.reject}:{},h&&c(_,h),++D.ref,_.finalize=function(){--this.parent.ref||this.parent.finalize()},w=Us(_,u,p,w),_.ref===0&&_.finalize(),w}function Bo(){return Et.id||(Et.id=++Oi),++Et.awaits,Et.echoes+=de,Et.id}function es(){return!!Et.awaits&&(--Et.awaits==0&&(Et.id=0),Et.echoes=Et.awaits*de,!0)}function Al(u){return Et.echoes&&u&&u.constructor===Le?(Bo(),u.then(function(h){return es(),h},function(h){return es(),St(h)})):u}function c6(){var u=Cl[Cl.length-1];Cl.pop(),ts(u,!1)}function ts(u,h){var p,w=Te;(h?!Et.echoes||wl++&&u===Te:!wl||--wl&&u===Te)||queueMicrotask(h?(function(D){++Bl,Et.echoes&&--Et.echoes!=0||(Et.echoes=Et.awaits=Et.id=0),Cl.push(Te),ts(D,!0)}).bind(null,u):c6),u!==Te&&(Te=u,w===pr&&(pr.env=dm()),nt&&(p=pr.env.Promise,h=u.env,(w.global||u.global)&&(Object.defineProperty(i,"Promise",h.PromiseProp),p.all=h.all,p.race=h.race,p.resolve=h.resolve,p.reject=h.reject,h.allSettled&&(p.allSettled=h.allSettled),h.any&&(p.any=h.any))))}function dm(){var u=i.Promise;return nt?{Promise:u,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:u.all,race:u.race,allSettled:u.allSettled,any:u.any,resolve:u.resolve,reject:u.reject}:{}}function Us(u,h,p,w,D){var _=Te;try{return ts(u,!0),h(p,w,D)}finally{ts(_,!1)}}function hm(u,h,p,w){return typeof u!="function"?u:function(){var D=Te;p&&Bo(),ts(h,!0);try{return u.apply(this,arguments)}finally{ts(D,!1),w&&queueMicrotask(es)}}}function ou(u){Promise===Le&&Et.echoes===0?wl===0?u():enqueueNativeMicroTask(u):setTimeout(u,0)}(""+Un).indexOf("[native code]")===-1&&(Bo=es=Re);var St=z.reject,Vs="",_r="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",fm="String expected.",Ao=[],Dl="__dbnames",iu="readonly",au="readwrite";function zs(u,h){return u?h?function(){return u.apply(this,arguments)&&h.apply(this,arguments)}:u:h}var mm={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Fl(u){return typeof u!="string"||/\./.test(u)?function(h){return h}:function(h){return h[u]===void 0&&u in h&&delete(h=K(h))[u],h}}function pm(){throw me.Type()}function tt(u,h){try{var p=gm(u),w=gm(h);if(p!==w)return p==="Array"?1:w==="Array"?-1:p==="binary"?1:w==="binary"?-1:p==="string"?1:w==="string"?-1:p==="Date"?1:w!=="Date"?NaN:-1;switch(p){case"number":case"Date":case"string":return h<u?1:u<h?-1:0;case"binary":return function(D,_){for(var I=D.length,U=_.length,Y=I<U?I:U,J=0;J<Y;++J)if(D[J]!==_[J])return D[J]<_[J]?-1:1;return I===U?0:I<U?-1:1}(ym(u),ym(h));case"Array":return function(D,_){for(var I=D.length,U=_.length,Y=I<U?I:U,J=0;J<Y;++J){var re=tt(D[J],_[J]);if(re!==0)return re}return I===U?0:I<U?-1:1}(u,h)}}catch{}return NaN}function gm(u){var h=typeof u;return h!="object"?h:ArrayBuffer.isView(u)?"binary":(u=Z(u),u==="ArrayBuffer"?"binary":u)}function ym(u){return u instanceof Uint8Array?u:ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):new Uint8Array(u)}var vm=(ft.prototype._trans=function(u,h,p){var w=this._tx||Te.trans,D=this.name,_=Ie&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(u==="readonly"?"read":"write"," ").concat(this.name));function I(J,re,q){if(!q.schema[D])throw new me.NotFound("Table "+D+" not part of transaction");return h(q.idbtrans,q)}var U=lt();try{var Y=w&&w.db._novip===this.db._novip?w===Te.trans?w._promise(u,I,p):Zr(function(){return w._promise(u,I,p)},{trans:w,transless:Te.transless||Te}):function J(re,q,oe,X){if(re.idbdb&&(re._state.openComplete||Te.letThrough||re._vip)){var ne=re._createTransaction(q,oe,re._dbSchema);try{ne.create(),re._state.PR1398_maxLoop=3}catch(se){return se.name===ke.InvalidState&&re.isOpen()&&0<--re._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),re.close({disableAutoOpen:!1}),re.open().then(function(){return J(re,q,oe,X)})):St(se)}return ne._promise(q,function(se,ee){return Zr(function(){return Te.trans=ne,X(se,ee,ne)})}).then(function(se){if(q==="readwrite")try{ne.idbtrans.commit()}catch{}return q==="readonly"?se:ne._completion.then(function(){return se})})}if(re._state.openComplete)return St(new me.DatabaseClosed(re._state.dbOpenError));if(!re._state.isBeingOpened){if(!re._state.autoOpen)return St(new me.DatabaseClosed);re.open().catch(Re)}return re._state.dbReadyPromise.then(function(){return J(re,q,oe,X)})}(this.db,u,[this.name],I);return _&&(Y._consoleTask=_,Y=Y.catch(function(J){return console.trace(J),St(J)})),Y}finally{U&&At()}},ft.prototype.get=function(u,h){var p=this;return u&&u.constructor===Object?this.where(u).first(h):u==null?St(new me.Type("Invalid argument to Table.get()")):this._trans("readonly",function(w){return p.core.get({trans:w,key:u}).then(function(D){return p.hook.reading.fire(D)})}).then(h)},ft.prototype.where=function(u){if(typeof u=="string")return new this.db.WhereClause(this,u);if(l(u))return new this.db.WhereClause(this,"[".concat(u.join("+"),"]"));var h=a(u);if(h.length===1)return this.where(h[0]).equals(u[h[0]]);var p=this.schema.indexes.concat(this.schema.primKey).filter(function(U){if(U.compound&&h.every(function(J){return 0<=U.keyPath.indexOf(J)})){for(var Y=0;Y<h.length;++Y)if(h.indexOf(U.keyPath[Y])===-1)return!1;return!0}return!1}).sort(function(U,Y){return U.keyPath.length-Y.keyPath.length})[0];if(p&&this.db._maxKey!==Vs){var _=p.keyPath.slice(0,h.length);return this.where(_).equals(_.map(function(Y){return u[Y]}))}!p&&Ie&&console.warn("The query ".concat(JSON.stringify(u)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(h.join("+"),"]"));var w=this.schema.idxByName;function D(U,Y){return tt(U,Y)===0}var I=h.reduce(function(q,Y){var J=q[0],re=q[1],q=w[Y],oe=u[Y];return[J||q,J||!q?zs(re,q&&q.multi?function(X){return X=k(X,Y),l(X)&&X.some(function(ne){return D(oe,ne)})}:function(X){return D(oe,k(X,Y))}):re]},[null,null]),_=I[0],I=I[1];return _?this.where(_.name).equals(u[_.keyPath]).filter(I):p?this.filter(I):this.where(h).equals("")},ft.prototype.filter=function(u){return this.toCollection().and(u)},ft.prototype.count=function(u){return this.toCollection().count(u)},ft.prototype.offset=function(u){return this.toCollection().offset(u)},ft.prototype.limit=function(u){return this.toCollection().limit(u)},ft.prototype.each=function(u){return this.toCollection().each(u)},ft.prototype.toArray=function(u){return this.toCollection().toArray(u)},ft.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ft.prototype.orderBy=function(u){return new this.db.Collection(new this.db.WhereClause(this,l(u)?"[".concat(u.join("+"),"]"):u))},ft.prototype.reverse=function(){return this.toCollection().reverse()},ft.prototype.mapToClass=function(u){var h,p=this.db,w=this.name;function D(){return h!==null&&h.apply(this,arguments)||this}(this.schema.mappedClass=u).prototype instanceof pm&&(function(Y,J){if(typeof J!="function"&&J!==null)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function re(){this.constructor=Y}n(Y,J),Y.prototype=J===null?Object.create(J):(re.prototype=J.prototype,new re)}(D,h=u),Object.defineProperty(D.prototype,"db",{get:function(){return p},enumerable:!1,configurable:!0}),D.prototype.table=function(){return w},u=D);for(var _=new Set,I=u.prototype;I;I=x(I))Object.getOwnPropertyNames(I).forEach(function(Y){return _.add(Y)});function U(Y){if(!Y)return Y;var J,re=Object.create(u.prototype);for(J in Y)if(!_.has(J))try{re[J]=Y[J]}catch{}return re}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=U,this.hook("reading",U),u},ft.prototype.defineClass=function(){return this.mapToClass(function(u){c(this,u)})},ft.prototype.add=function(u,h){var p=this,w=this.schema.primKey,D=w.auto,_=w.keyPath,I=u;return _&&D&&(I=Fl(_)(u)),this._trans("readwrite",function(U){return p.core.mutate({trans:U,type:"add",keys:h!=null?[h]:null,values:[I]})}).then(function(U){return U.numFailures?z.reject(U.failures[0]):U.lastResult}).then(function(U){if(_)try{N(u,_,U)}catch{}return U})},ft.prototype.update=function(u,h){return typeof u!="object"||l(u)?this.where(":id").equals(u).modify(h):(u=k(u,this.schema.primKey.keyPath),u===void 0?St(new me.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(u).modify(h))},ft.prototype.put=function(u,h){var p=this,w=this.schema.primKey,D=w.auto,_=w.keyPath,I=u;return _&&D&&(I=Fl(_)(u)),this._trans("readwrite",function(U){return p.core.mutate({trans:U,type:"put",values:[I],keys:h!=null?[h]:null})}).then(function(U){return U.numFailures?z.reject(U.failures[0]):U.lastResult}).then(function(U){if(_)try{N(u,_,U)}catch{}return U})},ft.prototype.delete=function(u){var h=this;return this._trans("readwrite",function(p){return h.core.mutate({trans:p,type:"delete",keys:[u]})}).then(function(p){return p.numFailures?z.reject(p.failures[0]):void 0})},ft.prototype.clear=function(){var u=this;return this._trans("readwrite",function(h){return u.core.mutate({trans:h,type:"deleteRange",range:mm})}).then(function(h){return h.numFailures?z.reject(h.failures[0]):void 0})},ft.prototype.bulkGet=function(u){var h=this;return this._trans("readonly",function(p){return h.core.getMany({keys:u,trans:p}).then(function(w){return w.map(function(D){return h.hook.reading.fire(D)})})})},ft.prototype.bulkAdd=function(u,h,p){var w=this,D=Array.isArray(h)?h:void 0,_=(p=p||(D?void 0:h))?p.allKeys:void 0;return this._trans("readwrite",function(I){var J=w.schema.primKey,U=J.auto,J=J.keyPath;if(J&&D)throw new me.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(D&&D.length!==u.length)throw new me.InvalidArgument("Arguments objects and keys must have the same length");var Y=u.length,J=J&&U?u.map(Fl(J)):u;return w.core.mutate({trans:I,type:"add",keys:D,values:J,wantResults:_}).then(function(ne){var q=ne.numFailures,oe=ne.results,X=ne.lastResult,ne=ne.failures;if(q===0)return _?oe:X;throw new we("".concat(w.name,".bulkAdd(): ").concat(q," of ").concat(Y," operations failed"),ne)})})},ft.prototype.bulkPut=function(u,h,p){var w=this,D=Array.isArray(h)?h:void 0,_=(p=p||(D?void 0:h))?p.allKeys:void 0;return this._trans("readwrite",function(I){var J=w.schema.primKey,U=J.auto,J=J.keyPath;if(J&&D)throw new me.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(D&&D.length!==u.length)throw new me.InvalidArgument("Arguments objects and keys must have the same length");var Y=u.length,J=J&&U?u.map(Fl(J)):u;return w.core.mutate({trans:I,type:"put",keys:D,values:J,wantResults:_}).then(function(ne){var q=ne.numFailures,oe=ne.results,X=ne.lastResult,ne=ne.failures;if(q===0)return _?oe:X;throw new we("".concat(w.name,".bulkPut(): ").concat(q," of ").concat(Y," operations failed"),ne)})})},ft.prototype.bulkUpdate=function(u){var h=this,p=this.core,w=u.map(function(I){return I.key}),D=u.map(function(I){return I.changes}),_=[];return this._trans("readwrite",function(I){return p.getMany({trans:I,keys:w,cache:"clone"}).then(function(U){var Y=[],J=[];u.forEach(function(q,oe){var X=q.key,ne=q.changes,se=U[oe];if(se){for(var ee=0,ie=Object.keys(ne);ee<ie.length;ee++){var ue=ie[ee],xe=ne[ue];if(ue===h.schema.primKey.keyPath){if(tt(xe,X)!==0)throw new me.Constraint("Cannot update primary key in bulkUpdate()")}else N(se,ue,xe)}_.push(oe),Y.push(X),J.push(se)}});var re=Y.length;return p.mutate({trans:I,type:"put",keys:Y,values:J,updates:{keys:w,changeSpecs:D}}).then(function(q){var oe=q.numFailures,X=q.failures;if(oe===0)return re;for(var ne=0,se=Object.keys(X);ne<se.length;ne++){var ee,ie=se[ne],ue=_[Number(ie)];ue!=null&&(ee=X[ie],delete X[ie],X[ue]=ee)}throw new we("".concat(h.name,".bulkUpdate(): ").concat(oe," of ").concat(re," operations failed"),X)})})})},ft.prototype.bulkDelete=function(u){var h=this,p=u.length;return this._trans("readwrite",function(w){return h.core.mutate({trans:w,type:"delete",keys:u})}).then(function(I){var D=I.numFailures,_=I.lastResult,I=I.failures;if(D===0)return _;throw new we("".concat(h.name,".bulkDelete(): ").concat(D," of ").concat(p," operations failed"),I)})},ft);function ft(){}function $i(u){function h(I,U){if(U){for(var Y=arguments.length,J=new Array(Y-1);--Y;)J[Y-1]=arguments[Y];return p[I].subscribe.apply(null,J),u}if(typeof I=="string")return p[I]}var p={};h.addEventType=_;for(var w=1,D=arguments.length;w<D;++w)_(arguments[w]);return h;function _(I,U,Y){if(typeof I!="object"){var J;U=U||ae;var re={subscribers:[],fire:Y=Y||Re,subscribe:function(q){re.subscribers.indexOf(q)===-1&&(re.subscribers.push(q),re.fire=U(re.fire,q))},unsubscribe:function(q){re.subscribers=re.subscribers.filter(function(oe){return oe!==q}),re.fire=re.subscribers.reduce(U,Y)}};return p[I]=h[I]=re}a(J=I).forEach(function(q){var oe=J[q];if(l(oe))_(q,J[q][0],J[q][1]);else{if(oe!=="asap")throw new me.InvalidArgument("Invalid event config");var X=_(q,at,function(){for(var ne=arguments.length,se=new Array(ne);ne--;)se[ne]=arguments[ne];X.subscribers.forEach(function(ee){F(function(){ee.apply(null,se)})})})}})}}function Ui(u,h){return A(h).from({prototype:u}),h}function Do(u,h){return!(u.filter||u.algorithm||u.or)&&(h?u.justLimit:!u.replayFilter)}function lu(u,h){u.filter=zs(u.filter,h)}function cu(u,h,p){var w=u.replayFilter;u.replayFilter=w?function(){return zs(w(),h())}:h,u.justLimit=p&&!w}function kl(u,h){if(u.isPrimKey)return h.primaryKey;var p=h.getIndexByKeyPath(u.index);if(!p)throw new me.Schema("KeyPath "+u.index+" on object store "+h.name+" is not indexed");return p}function Em(u,h,p){var w=kl(u,h.schema);return h.openCursor({trans:p,values:!u.keysOnly,reverse:u.dir==="prev",unique:!!u.unique,query:{index:w,range:u.range}})}function jl(u,h,p,w){var D=u.replayFilter?zs(u.filter,u.replayFilter()):u.filter;if(u.or){var _={},I=function(U,Y,J){var re,q;D&&!D(Y,J,function(oe){return Y.stop(oe)},function(oe){return Y.fail(oe)})||((q=""+(re=Y.primaryKey))=="[object ArrayBuffer]"&&(q=""+new Uint8Array(re)),f(_,q)||(_[q]=!0,h(U,Y,J)))};return Promise.all([u.or._iterate(I,p),bm(Em(u,w,p),u.algorithm,I,!u.keysOnly&&u.valueMapper)])}return bm(Em(u,w,p),zs(u.algorithm,D),h,!u.keysOnly&&u.valueMapper)}function bm(u,h,p,w){var D=Xe(w?function(_,I,U){return p(w(_),I,U)}:p);return u.then(function(_){if(_)return _.start(function(){var I=function(){return _.continue()};h&&!h(_,function(U){return I=U},function(U){_.stop(U),I=Re},function(U){_.fail(U),I=Re})||D(_.value,_,function(U){return I=U}),I()})})}var Vi=(Cm.prototype.execute=function(u){var h=this["@@propmod"];if(h.add!==void 0){var p=h.add;if(l(p))return s(s([],l(u)?u:[],!0),p).sort();if(typeof p=="number")return(Number(u)||0)+p;if(typeof p=="bigint")try{return BigInt(u)+p}catch{return BigInt(0)+p}throw new TypeError("Invalid term ".concat(p))}if(h.remove!==void 0){var w=h.remove;if(l(w))return l(u)?u.filter(function(D){return!w.includes(D)}).sort():[];if(typeof w=="number")return Number(u)-w;if(typeof w=="bigint")try{return BigInt(u)-w}catch{return BigInt(0)-w}throw new TypeError("Invalid subtrahend ".concat(w))}return p=(p=h.replacePrefix)===null||p===void 0?void 0:p[0],p&&typeof u=="string"&&u.startsWith(p)?h.replacePrefix[1]+u.substring(p.length):u},Cm);function Cm(u){this["@@propmod"]=u}var u6=(ot.prototype._read=function(u,h){var p=this._ctx;return p.error?p.table._trans(null,St.bind(null,p.error)):p.table._trans("readonly",u).then(h)},ot.prototype._write=function(u){var h=this._ctx;return h.error?h.table._trans(null,St.bind(null,h.error)):h.table._trans("readwrite",u,"locked")},ot.prototype._addAlgorithm=function(u){var h=this._ctx;h.algorithm=zs(h.algorithm,u)},ot.prototype._iterate=function(u,h){return jl(this._ctx,u,h,this._ctx.table.core)},ot.prototype.clone=function(u){var h=Object.create(this.constructor.prototype),p=Object.create(this._ctx);return u&&c(p,u),h._ctx=p,h},ot.prototype.raw=function(){return this._ctx.valueMapper=null,this},ot.prototype.each=function(u){var h=this._ctx;return this._read(function(p){return jl(h,u,p,h.table.core)})},ot.prototype.count=function(u){var h=this;return this._read(function(p){var w=h._ctx,D=w.table.core;if(Do(w,!0))return D.count({trans:p,query:{index:kl(w,D.schema),range:w.range}}).then(function(I){return Math.min(I,w.limit)});var _=0;return jl(w,function(){return++_,!1},p,D).then(function(){return _})}).then(u)},ot.prototype.sortBy=function(u,h){var p=u.split(".").reverse(),w=p[0],D=p.length-1;function _(Y,J){return J?_(Y[p[J]],J-1):Y[w]}var I=this._ctx.dir==="next"?1:-1;function U(Y,J){return tt(_(Y,D),_(J,D))*I}return this.toArray(function(Y){return Y.sort(U)}).then(h)},ot.prototype.toArray=function(u){var h=this;return this._read(function(p){var w=h._ctx;if(w.dir==="next"&&Do(w,!0)&&0<w.limit){var D=w.valueMapper,_=kl(w,w.table.core.schema);return w.table.core.query({trans:p,limit:w.limit,values:!0,query:{index:_,range:w.range}}).then(function(U){return U=U.result,D?U.map(D):U})}var I=[];return jl(w,function(U){return I.push(U)},p,w.table.core).then(function(){return I})},u)},ot.prototype.offset=function(u){var h=this._ctx;return u<=0||(h.offset+=u,Do(h)?cu(h,function(){var p=u;return function(w,D){return p===0||(p===1?--p:D(function(){w.advance(p),p=0}),!1)}}):cu(h,function(){var p=u;return function(){return--p<0}})),this},ot.prototype.limit=function(u){return this._ctx.limit=Math.min(this._ctx.limit,u),cu(this._ctx,function(){var h=u;return function(p,w,D){return--h<=0&&w(D),0<=h}},!0),this},ot.prototype.until=function(u,h){return lu(this._ctx,function(p,w,D){return!u(p.value)||(w(D),h)}),this},ot.prototype.first=function(u){return this.limit(1).toArray(function(h){return h[0]}).then(u)},ot.prototype.last=function(u){return this.reverse().first(u)},ot.prototype.filter=function(u){var h;return lu(this._ctx,function(p){return u(p.value)}),(h=this._ctx).isMatch=zs(h.isMatch,u),this},ot.prototype.and=function(u){return this.filter(u)},ot.prototype.or=function(u){return new this.db.WhereClause(this._ctx.table,u,this)},ot.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ot.prototype.desc=function(){return this.reverse()},ot.prototype.eachKey=function(u){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(p,w){u(w.key,w)})},ot.prototype.eachUniqueKey=function(u){return this._ctx.unique="unique",this.eachKey(u)},ot.prototype.eachPrimaryKey=function(u){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(p,w){u(w.primaryKey,w)})},ot.prototype.keys=function(u){var h=this._ctx;h.keysOnly=!h.isMatch;var p=[];return this.each(function(w,D){p.push(D.key)}).then(function(){return p}).then(u)},ot.prototype.primaryKeys=function(u){var h=this._ctx;if(h.dir==="next"&&Do(h,!0)&&0<h.limit)return this._read(function(w){var D=kl(h,h.table.core.schema);return h.table.core.query({trans:w,values:!1,limit:h.limit,query:{index:D,range:h.range}})}).then(function(w){return w.result}).then(u);h.keysOnly=!h.isMatch;var p=[];return this.each(function(w,D){p.push(D.primaryKey)}).then(function(){return p}).then(u)},ot.prototype.uniqueKeys=function(u){return this._ctx.unique="unique",this.keys(u)},ot.prototype.firstKey=function(u){return this.limit(1).keys(function(h){return h[0]}).then(u)},ot.prototype.lastKey=function(u){return this.reverse().firstKey(u)},ot.prototype.distinct=function(){var u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];if(!u||!u.multi)return this;var h={};return lu(this._ctx,function(D){var w=D.primaryKey.toString(),D=f(h,w);return h[w]=!0,!D}),this},ot.prototype.modify=function(u){var h=this,p=this._ctx;return this._write(function(w){var D,_,I;I=typeof u=="function"?u:(D=a(u),_=D.length,function(ee){for(var ie=!1,ue=0;ue<_;++ue){var xe=D[ue],fe=u[xe],ye=k(ee,xe);fe instanceof Vi?(N(ee,xe,fe.execute(ye)),ie=!0):ye!==fe&&(N(ee,xe,fe),ie=!0)}return ie});var U=p.table.core,q=U.schema.primaryKey,Y=q.outbound,J=q.extractKey,re=200,q=h.db._options.modifyChunkSize;q&&(re=typeof q=="object"?q[U.name]||q["*"]||200:q);function oe(ee,xe){var ue=xe.failures,xe=xe.numFailures;ne+=ee-xe;for(var fe=0,ye=a(ue);fe<ye.length;fe++){var Ae=ye[fe];X.push(ue[Ae])}}var X=[],ne=0,se=[];return h.clone().primaryKeys().then(function(ee){function ie(xe){var fe=Math.min(re,ee.length-xe);return U.getMany({trans:w,keys:ee.slice(xe,xe+fe),cache:"immutable"}).then(function(ye){for(var Ae=[],ve=[],be=Y?[]:null,Fe=[],Be=0;Be<fe;++Be){var _e=ye[Be],We={value:K(_e),primKey:ee[xe+Be]};I.call(We,We.value,We)!==!1&&(We.value==null?Fe.push(ee[xe+Be]):Y||tt(J(_e),J(We.value))===0?(ve.push(We.value),Y&&be.push(ee[xe+Be])):(Fe.push(ee[xe+Be]),Ae.push(We.value)))}return Promise.resolve(0<Ae.length&&U.mutate({trans:w,type:"add",values:Ae}).then(function(Qe){for(var Ye in Qe.failures)Fe.splice(parseInt(Ye),1);oe(Ae.length,Qe)})).then(function(){return(0<ve.length||ue&&typeof u=="object")&&U.mutate({trans:w,type:"put",keys:be,values:ve,criteria:ue,changeSpec:typeof u!="function"&&u,isAdditionalChunk:0<xe}).then(function(Qe){return oe(ve.length,Qe)})}).then(function(){return(0<Fe.length||ue&&u===uu)&&U.mutate({trans:w,type:"delete",keys:Fe,criteria:ue,isAdditionalChunk:0<xe}).then(function(Qe){return oe(Fe.length,Qe)})}).then(function(){return ee.length>xe+fe&&ie(xe+re)})})}var ue=Do(p)&&p.limit===1/0&&(typeof u!="function"||u===uu)&&{index:p.index,range:p.range};return ie(0).then(function(){if(0<X.length)throw new je("Error modifying one or more objects",X,ne,se);return ee.length})})})},ot.prototype.delete=function(){var u=this._ctx,h=u.range;return Do(u)&&(u.isPrimKey||h.type===3)?this._write(function(p){var w=u.table.core.schema.primaryKey,D=h;return u.table.core.count({trans:p,query:{index:w,range:D}}).then(function(_){return u.table.core.mutate({trans:p,type:"deleteRange",range:D}).then(function(I){var U=I.failures;if(I.lastResult,I.results,I=I.numFailures,I)throw new je("Could not delete some values",Object.keys(U).map(function(Y){return U[Y]}),_-I);return _-I})})}):this.modify(uu)},ot);function ot(){}var uu=function(u,h){return h.value=null};function x6(u,h){return u<h?-1:u===h?0:1}function d6(u,h){return h<u?-1:u===h?0:1}function _n(u,h,p){return u=u instanceof Bm?new u.Collection(u):u,u._ctx.error=new(p||TypeError)(h),u}function Fo(u){return new u.Collection(u,function(){return wm("")}).limit(0)}function Nl(u,h,p,w){var D,_,I,U,Y,J,re,q=p.length;if(!p.every(function(ne){return typeof ne=="string"}))return _n(u,fm);function oe(ne){D=ne==="next"?function(ee){return ee.toUpperCase()}:function(ee){return ee.toLowerCase()},_=ne==="next"?function(ee){return ee.toLowerCase()}:function(ee){return ee.toUpperCase()},I=ne==="next"?x6:d6;var se=p.map(function(ee){return{lower:_(ee),upper:D(ee)}}).sort(function(ee,ie){return I(ee.lower,ie.lower)});U=se.map(function(ee){return ee.upper}),Y=se.map(function(ee){return ee.lower}),re=(J=ne)==="next"?"":w}oe("next"),u=new u.Collection(u,function(){return ns(U[0],Y[q-1]+w)}),u._ondirectionchange=function(ne){oe(ne)};var X=0;return u._addAlgorithm(function(ne,se,ee){var ie=ne.key;if(typeof ie!="string")return!1;var ue=_(ie);if(h(ue,Y,X))return!0;for(var xe=null,fe=X;fe<q;++fe){var ye=function(Ae,ve,be,Fe,Be,_e){for(var We=Math.min(Ae.length,Fe.length),Qe=-1,Ye=0;Ye<We;++Ye){var Sn=ve[Ye];if(Sn!==Fe[Ye])return Be(Ae[Ye],be[Ye])<0?Ae.substr(0,Ye)+be[Ye]+be.substr(Ye+1):Be(Ae[Ye],Fe[Ye])<0?Ae.substr(0,Ye)+Fe[Ye]+be.substr(Ye+1):0<=Qe?Ae.substr(0,Qe)+ve[Qe]+be.substr(Qe+1):null;Be(Ae[Ye],Sn)<0&&(Qe=Ye)}return We<Fe.length&&_e==="next"?Ae+be.substr(Ae.length):We<Ae.length&&_e==="prev"?Ae.substr(0,be.length):Qe<0?null:Ae.substr(0,Qe)+Fe[Qe]+be.substr(Qe+1)}(ie,ue,U[fe],Y[fe],I,J);ye===null&&xe===null?X=fe+1:(xe===null||0<I(xe,ye))&&(xe=ye)}return se(xe!==null?function(){ne.continue(xe+re)}:ee),!1}),u}function ns(u,h,p,w){return{type:2,lower:u,upper:h,lowerOpen:p,upperOpen:w}}function wm(u){return{type:1,lower:u,upper:u}}var Bm=(Object.defineProperty(zt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),zt.prototype.between=function(u,h,p,w){p=p!==!1,w=w===!0;try{return 0<this._cmp(u,h)||this._cmp(u,h)===0&&(p||w)&&(!p||!w)?Fo(this):new this.Collection(this,function(){return ns(u,h,!p,!w)})}catch{return _n(this,_r)}},zt.prototype.equals=function(u){return u==null?_n(this,_r):new this.Collection(this,function(){return wm(u)})},zt.prototype.above=function(u){return u==null?_n(this,_r):new this.Collection(this,function(){return ns(u,void 0,!0)})},zt.prototype.aboveOrEqual=function(u){return u==null?_n(this,_r):new this.Collection(this,function(){return ns(u,void 0,!1)})},zt.prototype.below=function(u){return u==null?_n(this,_r):new this.Collection(this,function(){return ns(void 0,u,!1,!0)})},zt.prototype.belowOrEqual=function(u){return u==null?_n(this,_r):new this.Collection(this,function(){return ns(void 0,u)})},zt.prototype.startsWith=function(u){return typeof u!="string"?_n(this,fm):this.between(u,u+Vs,!0,!0)},zt.prototype.startsWithIgnoreCase=function(u){return u===""?this.startsWith(u):Nl(this,function(h,p){return h.indexOf(p[0])===0},[u],Vs)},zt.prototype.equalsIgnoreCase=function(u){return Nl(this,function(h,p){return h===p[0]},[u],"")},zt.prototype.anyOfIgnoreCase=function(){var u=te.apply(V,arguments);return u.length===0?Fo(this):Nl(this,function(h,p){return p.indexOf(h)!==-1},u,"")},zt.prototype.startsWithAnyOfIgnoreCase=function(){var u=te.apply(V,arguments);return u.length===0?Fo(this):Nl(this,function(h,p){return p.some(function(w){return h.indexOf(w)===0})},u,Vs)},zt.prototype.anyOf=function(){var u=this,h=te.apply(V,arguments),p=this._cmp;try{h.sort(p)}catch{return _n(this,_r)}if(h.length===0)return Fo(this);var w=new this.Collection(this,function(){return ns(h[0],h[h.length-1])});w._ondirectionchange=function(_){p=_==="next"?u._ascending:u._descending,h.sort(p)};var D=0;return w._addAlgorithm(function(_,I,U){for(var Y=_.key;0<p(Y,h[D]);)if(++D===h.length)return I(U),!1;return p(Y,h[D])===0||(I(function(){_.continue(h[D])}),!1)}),w},zt.prototype.notEqual=function(u){return this.inAnyRange([[-1/0,u],[u,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},zt.prototype.noneOf=function(){var u=te.apply(V,arguments);if(u.length===0)return new this.Collection(this);try{u.sort(this._ascending)}catch{return _n(this,_r)}var h=u.reduce(function(p,w){return p?p.concat([[p[p.length-1][1],w]]):[[-1/0,w]]},null);return h.push([u[u.length-1],this.db._maxKey]),this.inAnyRange(h,{includeLowers:!1,includeUppers:!1})},zt.prototype.inAnyRange=function(ie,h){var p=this,w=this._cmp,D=this._ascending,_=this._descending,I=this._min,U=this._max;if(ie.length===0)return Fo(this);if(!ie.every(function(ue){return ue[0]!==void 0&&ue[1]!==void 0&&D(ue[0],ue[1])<=0}))return _n(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",me.InvalidArgument);var Y=!h||h.includeLowers!==!1,J=h&&h.includeUppers===!0,re,q=D;function oe(ue,xe){return q(ue[0],xe[0])}try{(re=ie.reduce(function(ue,xe){for(var fe=0,ye=ue.length;fe<ye;++fe){var Ae=ue[fe];if(w(xe[0],Ae[1])<0&&0<w(xe[1],Ae[0])){Ae[0]=I(Ae[0],xe[0]),Ae[1]=U(Ae[1],xe[1]);break}}return fe===ye&&ue.push(xe),ue},[])).sort(oe)}catch{return _n(this,_r)}var X=0,ne=J?function(ue){return 0<D(ue,re[X][1])}:function(ue){return 0<=D(ue,re[X][1])},se=Y?function(ue){return 0<_(ue,re[X][0])}:function(ue){return 0<=_(ue,re[X][0])},ee=ne,ie=new this.Collection(this,function(){return ns(re[0][0],re[re.length-1][1],!Y,!J)});return ie._ondirectionchange=function(ue){q=ue==="next"?(ee=ne,D):(ee=se,_),re.sort(oe)},ie._addAlgorithm(function(ue,xe,fe){for(var ye,Ae=ue.key;ee(Ae);)if(++X===re.length)return xe(fe),!1;return!ne(ye=Ae)&&!se(ye)||(p._cmp(Ae,re[X][1])===0||p._cmp(Ae,re[X][0])===0||xe(function(){q===D?ue.continue(re[X][0]):ue.continue(re[X][1])}),!1)}),ie},zt.prototype.startsWithAnyOf=function(){var u=te.apply(V,arguments);return u.every(function(h){return typeof h=="string"})?u.length===0?Fo(this):this.inAnyRange(u.map(function(h){return[h,h+Vs]})):_n(this,"startsWithAnyOf() only works with strings")},zt);function zt(){}function gr(u){return Xe(function(h){return zi(h),u(h.target.error),!1})}function zi(u){u.stopPropagation&&u.stopPropagation(),u.preventDefault&&u.preventDefault()}var qi="storagemutated",xu="x-storagemutated-1",rs=$i(null,qi),h6=(yr.prototype._lock=function(){return b(!Te.global),++this._reculock,this._reculock!==1||Te.global||(Te.lockOwnerFor=this),this},yr.prototype._unlock=function(){if(b(!Te.global),--this._reculock==0)for(Te.global||(Te.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var u=this._blockedFuncs.shift();try{Us(u[1],u[0])}catch{}}return this},yr.prototype._locked=function(){return this._reculock&&Te.lockOwnerFor!==this},yr.prototype.create=function(u){var h=this;if(!this.mode)return this;var p=this.db.idbdb,w=this.db._state.dbOpenError;if(b(!this.idbtrans),!u&&!p)switch(w&&w.name){case"DatabaseClosedError":throw new me.DatabaseClosed(w);case"MissingAPIError":throw new me.MissingAPI(w.message,w);default:throw new me.OpenFailed(w)}if(!this.active)throw new me.TransactionInactive;return b(this._completion._state===null),(u=this.idbtrans=u||(this.db.core||p).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Xe(function(D){zi(D),h._reject(u.error)}),u.onabort=Xe(function(D){zi(D),h.active&&h._reject(new me.Abort(u.error)),h.active=!1,h.on("abort").fire(D)}),u.oncomplete=Xe(function(){h.active=!1,h._resolve(),"mutatedParts"in u&&rs.storagemutated.fire(u.mutatedParts)}),this},yr.prototype._promise=function(u,h,p){var w=this;if(u==="readwrite"&&this.mode!=="readwrite")return St(new me.ReadOnly("Transaction is readonly"));if(!this.active)return St(new me.TransactionInactive);if(this._locked())return new z(function(_,I){w._blockedFuncs.push([function(){w._promise(u,h,p).then(_,I)},Te])});if(p)return Zr(function(){var _=new z(function(I,U){w._lock();var Y=h(I,U,w);Y&&Y.then&&Y.then(I,U)});return _.finally(function(){return w._unlock()}),_._lib=!0,_});var D=new z(function(_,I){var U=h(_,I,w);U&&U.then&&U.then(_,I)});return D._lib=!0,D},yr.prototype._root=function(){return this.parent?this.parent._root():this},yr.prototype.waitFor=function(u){var h,p=this._root(),w=z.resolve(u);p._waitingFor?p._waitingFor=p._waitingFor.then(function(){return w}):(p._waitingFor=w,p._waitingQueue=[],h=p.idbtrans.objectStore(p.storeNames[0]),function _(){for(++p._spinCount;p._waitingQueue.length;)p._waitingQueue.shift()();p._waitingFor&&(h.get(-1/0).onsuccess=_)}());var D=p._waitingFor;return new z(function(_,I){w.then(function(U){return p._waitingQueue.push(Xe(_.bind(null,U)))},function(U){return p._waitingQueue.push(Xe(I.bind(null,U)))}).finally(function(){p._waitingFor===D&&(p._waitingFor=null)})})},yr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new me.Abort))},yr.prototype.table=function(u){var h=this._memoizedTables||(this._memoizedTables={});if(f(h,u))return h[u];var p=this.schema[u];if(!p)throw new me.NotFound("Table "+u+" not part of transaction");return p=new this.db.Table(u,p,this),p.core=this.db.core.table(u),h[u]=p},yr);function yr(){}function du(u,h,p,w,D,_,I){return{name:u,keyPath:h,unique:p,multi:w,auto:D,compound:_,src:(p&&!I?"&":"")+(w?"*":"")+(D?"++":"")+Am(h)}}function Am(u){return typeof u=="string"?u:u?"["+[].join.call(u,"+")+"]":""}function hu(u,h,p){return{name:u,primKey:h,indexes:p,mappedClass:null,idxByName:(w=function(D){return[D.name,D]},p.reduce(function(D,_,I){return I=w(_,I),I&&(D[I[0]]=I[1]),D},{}))};var w}var Wi=function(u){try{return u.only([[]]),Wi=function(){return[[]]},[[]]}catch{return Wi=function(){return Vs},Vs}};function fu(u){return u==null?function(){}:typeof u=="string"?(h=u).split(".").length===1?function(p){return p[h]}:function(p){return k(p,h)}:function(p){return k(p,u)};var h}function Dm(u){return[].slice.call(u)}var f6=0;function Ki(u){return u==null?":id":typeof u=="string"?u:"[".concat(u.join("+"),"]")}function m6(u,h,Y){function w(ee){if(ee.type===3)return null;if(ee.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var X=ee.lower,ne=ee.upper,se=ee.lowerOpen,ee=ee.upperOpen;return X===void 0?ne===void 0?null:h.upperBound(ne,!!ee):ne===void 0?h.lowerBound(X,!!se):h.bound(X,ne,!!se,!!ee)}function D(oe){var X,ne=oe.name;return{name:ne,schema:oe,mutate:function(se){var ee=se.trans,ie=se.type,ue=se.keys,xe=se.values,fe=se.range;return new Promise(function(ye,Ae){ye=Xe(ye);var ve=ee.objectStore(ne),be=ve.keyPath==null,Fe=ie==="put"||ie==="add";if(!Fe&&ie!=="delete"&&ie!=="deleteRange")throw new Error("Invalid operation type: "+ie);var Be,_e=(ue||xe||{length:1}).length;if(ue&&xe&&ue.length!==xe.length)throw new Error("Given keys array must have same length as given values array.");if(_e===0)return ye({numFailures:0,failures:{},results:[],lastResult:void 0});function We(dn){++Sn,zi(dn)}var Qe=[],Ye=[],Sn=0;if(ie==="deleteRange"){if(fe.type===4)return ye({numFailures:Sn,failures:Ye,results:[],lastResult:void 0});fe.type===3?Qe.push(Be=ve.clear()):Qe.push(Be=ve.delete(w(fe)))}else{var be=Fe?be?[xe,ue]:[xe,null]:[ue,null],Ve=be[0],tn=be[1];if(Fe)for(var nn=0;nn<_e;++nn)Qe.push(Be=tn&&tn[nn]!==void 0?ve[ie](Ve[nn],tn[nn]):ve[ie](Ve[nn])),Be.onerror=We;else for(nn=0;nn<_e;++nn)Qe.push(Be=ve[ie](Ve[nn])),Be.onerror=We}function zl(dn){dn=dn.target.result,Qe.forEach(function(Ks,Su){return Ks.error!=null&&(Ye[Su]=Ks.error)}),ye({numFailures:Sn,failures:Ye,results:ie==="delete"?ue:Qe.map(function(Ks){return Ks.result}),lastResult:dn})}Be.onerror=function(dn){We(dn),zl(dn)},Be.onsuccess=zl})},getMany:function(se){var ee=se.trans,ie=se.keys;return new Promise(function(ue,xe){ue=Xe(ue);for(var fe,ye=ee.objectStore(ne),Ae=ie.length,ve=new Array(Ae),be=0,Fe=0,Be=function(Qe){Qe=Qe.target,ve[Qe._pos]=Qe.result,++Fe===be&&ue(ve)},_e=gr(xe),We=0;We<Ae;++We)ie[We]!=null&&((fe=ye.get(ie[We]))._pos=We,fe.onsuccess=Be,fe.onerror=_e,++be);be===0&&ue(ve)})},get:function(se){var ee=se.trans,ie=se.key;return new Promise(function(ue,xe){ue=Xe(ue);var fe=ee.objectStore(ne).get(ie);fe.onsuccess=function(ye){return ue(ye.target.result)},fe.onerror=gr(xe)})},query:(X=J,function(se){return new Promise(function(ee,ie){ee=Xe(ee);var ue,xe,fe,be=se.trans,ye=se.values,Ae=se.limit,Be=se.query,ve=Ae===1/0?void 0:Ae,Fe=Be.index,Be=Be.range,be=be.objectStore(ne),Fe=Fe.isPrimaryKey?be:be.index(Fe.name),Be=w(Be);if(Ae===0)return ee({result:[]});X?((ve=ye?Fe.getAll(Be,ve):Fe.getAllKeys(Be,ve)).onsuccess=function(_e){return ee({result:_e.target.result})},ve.onerror=gr(ie)):(ue=0,xe=!ye&&"openKeyCursor"in Fe?Fe.openKeyCursor(Be):Fe.openCursor(Be),fe=[],xe.onsuccess=function(_e){var We=xe.result;return We?(fe.push(ye?We.value:We.primaryKey),++ue===Ae?ee({result:fe}):void We.continue()):ee({result:fe})},xe.onerror=gr(ie))})}),openCursor:function(se){var ee=se.trans,ie=se.values,ue=se.query,xe=se.reverse,fe=se.unique;return new Promise(function(ye,Ae){ye=Xe(ye);var Fe=ue.index,ve=ue.range,be=ee.objectStore(ne),be=Fe.isPrimaryKey?be:be.index(Fe.name),Fe=xe?fe?"prevunique":"prev":fe?"nextunique":"next",Be=!ie&&"openKeyCursor"in be?be.openKeyCursor(w(ve),Fe):be.openCursor(w(ve),Fe);Be.onerror=gr(Ae),Be.onsuccess=Xe(function(_e){var We,Qe,Ye,Sn,Ve=Be.result;Ve?(Ve.___id=++f6,Ve.done=!1,We=Ve.continue.bind(Ve),Qe=(Qe=Ve.continuePrimaryKey)&&Qe.bind(Ve),Ye=Ve.advance.bind(Ve),Sn=function(){throw new Error("Cursor not stopped")},Ve.trans=ee,Ve.stop=Ve.continue=Ve.continuePrimaryKey=Ve.advance=function(){throw new Error("Cursor not started")},Ve.fail=Xe(Ae),Ve.next=function(){var tn=this,nn=1;return this.start(function(){return nn--?tn.continue():tn.stop()}).then(function(){return tn})},Ve.start=function(tn){function nn(){if(Be.result)try{tn()}catch(dn){Ve.fail(dn)}else Ve.done=!0,Ve.start=function(){throw new Error("Cursor behind last entry")},Ve.stop()}var zl=new Promise(function(dn,Ks){dn=Xe(dn),Be.onerror=gr(Ks),Ve.fail=Ks,Ve.stop=function(Su){Ve.stop=Ve.continue=Ve.continuePrimaryKey=Ve.advance=Sn,dn(Su)}});return Be.onsuccess=Xe(function(dn){Be.onsuccess=nn,nn()}),Ve.continue=We,Ve.continuePrimaryKey=Qe,Ve.advance=Ye,nn(),zl},ye(Ve)):ye(null)},Ae)})},count:function(se){var ee=se.query,ie=se.trans,ue=ee.index,xe=ee.range;return new Promise(function(fe,ye){var Ae=ie.objectStore(ne),ve=ue.isPrimaryKey?Ae:Ae.index(ue.name),Ae=w(xe),ve=Ae?ve.count(Ae):ve.count();ve.onsuccess=Xe(function(be){return fe(be.target.result)}),ve.onerror=gr(ye)})}}}var _,I,U,re=(I=Y,U=Dm((_=u).objectStoreNames),{schema:{name:_.name,tables:U.map(function(oe){return I.objectStore(oe)}).map(function(oe){var X=oe.keyPath,ee=oe.autoIncrement,ne=l(X),se={},ee={name:oe.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:X==null,compound:ne,keyPath:X,autoIncrement:ee,unique:!0,extractKey:fu(X)},indexes:Dm(oe.indexNames).map(function(ie){return oe.index(ie)}).map(function(fe){var ue=fe.name,xe=fe.unique,ye=fe.multiEntry,fe=fe.keyPath,ye={name:ue,compound:l(fe),keyPath:fe,unique:xe,multiEntry:ye,extractKey:fu(fe)};return se[Ki(fe)]=ye}),getIndexByKeyPath:function(ie){return se[Ki(ie)]}};return se[":id"]=ee.primaryKey,X!=null&&(se[Ki(X)]=ee.primaryKey),ee})},hasGetAll:0<U.length&&"getAll"in I.objectStore(U[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Y=re.schema,J=re.hasGetAll,re=Y.tables.map(D),q={};return re.forEach(function(oe){return q[oe.name]=oe}),{stack:"dbcore",transaction:u.transaction.bind(u),table:function(oe){if(!q[oe])throw new Error("Table '".concat(oe,"' not found"));return q[oe]},MIN_KEY:-1/0,MAX_KEY:Wi(h),schema:Y}}function p6(u,h,p,w){var D=p.IDBKeyRange;return p.indexedDB,{dbcore:(w=m6(h,D,w),u.dbcore.reduce(function(_,I){return I=I.create,r(r({},_),I(_))},w))}}function _l(u,w){var p=w.db,w=p6(u._middlewares,p,u._deps,w);u.core=w.dbcore,u.tables.forEach(function(D){var _=D.name;u.core.schema.tables.some(function(I){return I.name===_})&&(D.core=u.core.table(_),u[_]instanceof u.Table&&(u[_].core=D.core))})}function Sl(u,h,p,w){p.forEach(function(D){var _=w[D];h.forEach(function(I){var U=function Y(J,re){return j(J,re)||(J=x(J))&&Y(J,re)}(I,D);(!U||"value"in U&&U.value===void 0)&&(I===u.Transaction.prototype||I instanceof u.Transaction?C(I,D,{get:function(){return this.table(D)},set:function(Y){y(this,D,{value:Y,writable:!0,configurable:!0,enumerable:!0})}}):I[D]=new u.Table(D,_))})})}function mu(u,h){h.forEach(function(p){for(var w in p)p[w]instanceof u.Table&&delete p[w]})}function g6(u,h){return u._cfg.version-h._cfg.version}function y6(u,h,p,w){var D=u._dbSchema;p.objectStoreNames.contains("$meta")&&!D.$meta&&(D.$meta=hu("$meta",km("")[0],[]),u._storeNames.push("$meta"));var _=u._createTransaction("readwrite",u._storeNames,D);_.create(p),_._completion.catch(w);var I=_._reject.bind(_),U=Te.transless||Te;Zr(function(){return Te.trans=_,Te.transless=U,h!==0?(_l(u,p),J=h,((Y=_).storeNames.includes("$meta")?Y.table("$meta").get("version").then(function(re){return re??J}):z.resolve(J)).then(function(re){return oe=re,X=_,ne=p,se=[],re=(q=u)._versions,ee=q._dbSchema=Tl(0,q.idbdb,ne),(re=re.filter(function(ie){return ie._cfg.version>=oe})).length!==0?(re.forEach(function(ie){se.push(function(){var ue=ee,xe=ie._cfg.dbschema;Rl(q,ue,ne),Rl(q,xe,ne),ee=q._dbSchema=xe;var fe=pu(ue,xe);fe.add.forEach(function(Fe){gu(ne,Fe[0],Fe[1].primKey,Fe[1].indexes)}),fe.change.forEach(function(Fe){if(Fe.recreate)throw new me.Upgrade("Not yet support for changing primary key");var Be=ne.objectStore(Fe.name);Fe.add.forEach(function(_e){return Pl(Be,_e)}),Fe.change.forEach(function(_e){Be.deleteIndex(_e.name),Pl(Be,_e)}),Fe.del.forEach(function(_e){return Be.deleteIndex(_e)})});var ye=ie._cfg.contentUpgrade;if(ye&&ie._cfg.version>oe){_l(q,ne),X._memoizedTables={};var Ae=S(xe);fe.del.forEach(function(Fe){Ae[Fe]=ue[Fe]}),mu(q,[q.Transaction.prototype]),Sl(q,[q.Transaction.prototype],a(Ae),Ae),X.schema=Ae;var ve,be=L(ye);return be&&Bo(),fe=z.follow(function(){var Fe;(ve=ye(X))&&be&&(Fe=es.bind(null,null),ve.then(Fe,Fe))}),ve&&typeof ve.then=="function"?z.resolve(ve):fe.then(function(){return ve})}}),se.push(function(ue){var xe,fe,ye=ie._cfg.dbschema;xe=ye,fe=ue,[].slice.call(fe.db.objectStoreNames).forEach(function(Ae){return xe[Ae]==null&&fe.db.deleteObjectStore(Ae)}),mu(q,[q.Transaction.prototype]),Sl(q,[q.Transaction.prototype],q._storeNames,q._dbSchema),X.schema=q._dbSchema}),se.push(function(ue){q.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(q.idbdb.version/10)===ie._cfg.version?(q.idbdb.deleteObjectStore("$meta"),delete q._dbSchema.$meta,q._storeNames=q._storeNames.filter(function(xe){return xe!=="$meta"})):ue.objectStore("$meta").put(ie._cfg.version,"version"))})}),function ie(){return se.length?z.resolve(se.shift()(X.idbtrans)).then(ie):z.resolve()}().then(function(){Fm(ee,ne)})):z.resolve();var q,oe,X,ne,se,ee}).catch(I)):(a(D).forEach(function(re){gu(p,re,D[re].primKey,D[re].indexes)}),_l(u,p),void z.follow(function(){return u.on.populate.fire(_)}).catch(I));var Y,J})}function v6(u,h){Fm(u._dbSchema,h),h.db.version%10!=0||h.objectStoreNames.contains("$meta")||h.db.createObjectStore("$meta").add(Math.ceil(h.db.version/10-1),"version");var p=Tl(0,u.idbdb,h);Rl(u,u._dbSchema,h);for(var w=0,D=pu(p,u._dbSchema).change;w<D.length;w++){var _=function(I){if(I.change.length||I.recreate)return console.warn("Unable to patch indexes of table ".concat(I.name," because it has changes on the type of index or primary key.")),{value:void 0};var U=h.objectStore(I.name);I.add.forEach(function(Y){Ie&&console.debug("Dexie upgrade patch: Creating missing index ".concat(I.name,".").concat(Y.src)),Pl(U,Y)})}(D[w]);if(typeof _=="object")return _.value}}function pu(u,h){var p,w={del:[],add:[],change:[]};for(p in u)h[p]||w.del.push(p);for(p in h){var D=u[p],_=h[p];if(D){var I={name:p,def:_,recreate:!1,del:[],add:[],change:[]};if(""+(D.primKey.keyPath||"")!=""+(_.primKey.keyPath||"")||D.primKey.auto!==_.primKey.auto)I.recreate=!0,w.change.push(I);else{var U=D.idxByName,Y=_.idxByName,J=void 0;for(J in U)Y[J]||I.del.push(J);for(J in Y){var re=U[J],q=Y[J];re?re.src!==q.src&&I.change.push(q):I.add.push(q)}(0<I.del.length||0<I.add.length||0<I.change.length)&&w.change.push(I)}}else w.add.push([p,_])}return w}function gu(u,h,p,w){var D=u.db.createObjectStore(h,p.keyPath?{keyPath:p.keyPath,autoIncrement:p.auto}:{autoIncrement:p.auto});return w.forEach(function(_){return Pl(D,_)}),D}function Fm(u,h){a(u).forEach(function(p){h.db.objectStoreNames.contains(p)||(Ie&&console.debug("Dexie: Creating missing table",p),gu(h,p,u[p].primKey,u[p].indexes))})}function Pl(u,h){u.createIndex(h.name,h.keyPath,{unique:h.unique,multiEntry:h.multi})}function Tl(u,h,p){var w={};return E(h.objectStoreNames,0).forEach(function(D){for(var _=p.objectStore(D),I=du(Am(J=_.keyPath),J||"",!0,!1,!!_.autoIncrement,J&&typeof J!="string",!0),U=[],Y=0;Y<_.indexNames.length;++Y){var re=_.index(_.indexNames[Y]),J=re.keyPath,re=du(re.name,J,!!re.unique,!!re.multiEntry,!1,J&&typeof J!="string",!1);U.push(re)}w[D]=hu(D,I,U)}),w}function Rl(u,h,p){for(var w=p.db.objectStoreNames,D=0;D<w.length;++D){var _=w[D],I=p.objectStore(_);u._hasGetAll="getAll"in I;for(var U=0;U<I.indexNames.length;++U){var Y=I.indexNames[U],J=I.index(Y).keyPath,re=typeof J=="string"?J:"["+E(J).join("+")+"]";!h[_]||(J=h[_].idxByName[re])&&(J.name=Y,delete h[_].idxByName[re],h[_].idxByName[Y]=J)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(u._hasGetAll=!1)}function km(u){return u.split(",").map(function(h,p){var w=(h=h.trim()).replace(/([&*]|\+\+)/g,""),D=/^\[/.test(w)?w.match(/^\[(.*)\]$/)[1].split("+"):w;return du(w,D||null,/\&/.test(h),/\*/.test(h),/\+\+/.test(h),l(D),p===0)})}var E6=(Ml.prototype._parseStoresSpec=function(u,h){a(u).forEach(function(p){if(u[p]!==null){var w=km(u[p]),D=w.shift();if(D.unique=!0,D.multi)throw new me.Schema("Primary key cannot be multi-valued");w.forEach(function(_){if(_.auto)throw new me.Schema("Only primary key can be marked as autoIncrement (++)");if(!_.keyPath)throw new me.Schema("Index must have a name and cannot be an empty string")}),h[p]=hu(p,D,w)}})},Ml.prototype.stores=function(p){var h=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,p):p;var p=h._versions,w={},D={};return p.forEach(function(_){c(w,_._cfg.storesSource),D=_._cfg.dbschema={},_._parseStoresSpec(w,D)}),h._dbSchema=D,mu(h,[h._allTables,h,h.Transaction.prototype]),Sl(h,[h._allTables,h,h.Transaction.prototype,this._cfg.tables],a(D),D),h._storeNames=a(D),this},Ml.prototype.upgrade=function(u){return this._cfg.contentUpgrade=Ce(this._cfg.contentUpgrade||Re,u),this},Ml);function Ml(){}function yu(u,h){var p=u._dbNamesDB;return p||(p=u._dbNamesDB=new Sr(Dl,{addons:[],indexedDB:u,IDBKeyRange:h})).version(1).stores({dbnames:"name"}),p.table("dbnames")}function vu(u){return u&&typeof u.databases=="function"}function Eu(u){return Zr(function(){return Te.letThrough=!0,u()})}function bu(u){return!("from"in u)}var en=function(u,h){if(!this){var p=new en;return u&&"d"in u&&c(p,u),p}c(this,arguments.length?{d:1,from:u,to:1<arguments.length?h:u}:{d:0})};function Hi(u,h,p){var w=tt(h,p);if(!isNaN(w)){if(0<w)throw RangeError();if(bu(u))return c(u,{from:h,to:p,d:1});var D=u.l,w=u.r;if(tt(p,u.from)<0)return D?Hi(D,h,p):u.l={from:h,to:p,d:1,l:null,r:null},Nm(u);if(0<tt(h,u.to))return w?Hi(w,h,p):u.r={from:h,to:p,d:1,l:null,r:null},Nm(u);tt(h,u.from)<0&&(u.from=h,u.l=null,u.d=w?w.d+1:1),0<tt(p,u.to)&&(u.to=p,u.r=null,u.d=u.l?u.l.d+1:1),p=!u.r,D&&!u.l&&Gi(u,D),w&&p&&Gi(u,w)}}function Gi(u,h){bu(h)||function p(w,Y){var _=Y.from,I=Y.to,U=Y.l,Y=Y.r;Hi(w,_,I),U&&p(w,U),Y&&p(w,Y)}(u,h)}function jm(u,h){var p=Il(h),w=p.next();if(w.done)return!1;for(var D=w.value,_=Il(u),I=_.next(D.from),U=I.value;!w.done&&!I.done;){if(tt(U.from,D.to)<=0&&0<=tt(U.to,D.from))return!0;tt(D.from,U.from)<0?D=(w=p.next(U.from)).value:U=(I=_.next(D.from)).value}return!1}function Il(u){var h=bu(u)?null:{s:0,n:u};return{next:function(p){for(var w=0<arguments.length;h;)switch(h.s){case 0:if(h.s=1,w)for(;h.n.l&&tt(p,h.n.from)<0;)h={up:h,n:h.n.l,s:1};else for(;h.n.l;)h={up:h,n:h.n.l,s:1};case 1:if(h.s=2,!w||tt(p,h.n.to)<=0)return{value:h.n,done:!1};case 2:if(h.n.r){h.s=3,h={up:h,n:h.n.r,s:0};continue}case 3:h=h.up}return{done:!0}}}}function Nm(u){var h,p,w=(((h=u.r)===null||h===void 0?void 0:h.d)||0)-(((p=u.l)===null||p===void 0?void 0:p.d)||0),D=1<w?"r":w<-1?"l":"";D&&(h=D=="r"?"l":"r",p=r({},u),w=u[D],u.from=w.from,u.to=w.to,u[D]=w[D],p[D]=w[h],(u[h]=p).d=_m(p)),u.d=_m(u)}function _m(p){var h=p.r,p=p.l;return(h?p?Math.max(h.d,p.d):h.d:p?p.d:0)+1}function Ll(u,h){return a(h).forEach(function(p){u[p]?Gi(u[p],h[p]):u[p]=function w(D){var _,I,U={};for(_ in D)f(D,_)&&(I=D[_],U[_]=!I||typeof I!="object"||M.has(I.constructor)?I:w(I));return U}(h[p])}),u}function Cu(u,h){return u.all||h.all||Object.keys(u).some(function(p){return h[p]&&jm(h[p],u[p])})}m(en.prototype,((Un={add:function(u){return Gi(this,u),this},addKey:function(u){return Hi(this,u,u),this},addKeys:function(u){var h=this;return u.forEach(function(p){return Hi(h,p,p)}),this},hasKey:function(u){var h=Il(this).next(u).value;return h&&tt(h.from,u)<=0&&0<=tt(h.to,u)}})[R]=function(){return Il(this)},Un));var qs={},wu={},Bu=!1;function Ol(u){Ll(wu,u),Bu||(Bu=!0,setTimeout(function(){Bu=!1,Au(wu,!(wu={}))},0))}function Au(u,h){h===void 0&&(h=!1);var p=new Set;if(u.all)for(var w=0,D=Object.values(qs);w<D.length;w++)Sm(I=D[w],u,p,h);else for(var _ in u){var I,U=/^idb\:\/\/(.*)\/(.*)\//.exec(_);U&&(_=U[1],U=U[2],(I=qs["idb://".concat(_,"/").concat(U)])&&Sm(I,u,p,h))}p.forEach(function(Y){return Y()})}function Sm(u,h,p,w){for(var D=[],_=0,I=Object.entries(u.queries.query);_<I.length;_++){for(var U=I[_],Y=U[0],J=[],re=0,q=U[1];re<q.length;re++){var oe=q[re];Cu(h,oe.obsSet)?oe.subscribers.forEach(function(ee){return p.add(ee)}):w&&J.push(oe)}w&&D.push([Y,J])}if(w)for(var X=0,ne=D;X<ne.length;X++){var se=ne[X],Y=se[0],J=se[1];u.queries.query[Y]=J}}function b6(u){var h=u._state,p=u._deps.indexedDB;if(h.isBeingOpened||u.idbdb)return h.dbReadyPromise.then(function(){return h.dbOpenError?St(h.dbOpenError):u});h.isBeingOpened=!0,h.dbOpenError=null,h.openComplete=!1;var w=h.openCanceller,D=Math.round(10*u.verno),_=!1;function I(){if(h.openCanceller!==w)throw new me.DatabaseClosed("db.open() was cancelled")}function U(){return new z(function(oe,X){if(I(),!p)throw new me.MissingAPI;var ne=u.name,se=h.autoSchema||!D?p.open(ne):p.open(ne,D);if(!se)throw new me.MissingAPI;se.onerror=gr(X),se.onblocked=Xe(u._fireOnBlocked),se.onupgradeneeded=Xe(function(ee){var ie;re=se.transaction,h.autoSchema&&!u._options.allowEmptyDB?(se.onerror=zi,re.abort(),se.result.close(),(ie=p.deleteDatabase(ne)).onsuccess=ie.onerror=Xe(function(){X(new me.NoSuchDatabase("Database ".concat(ne," doesnt exist")))})):(re.onerror=gr(X),ee=ee.oldVersion>Math.pow(2,62)?0:ee.oldVersion,q=ee<1,u.idbdb=se.result,_&&v6(u,re),y6(u,ee/10,re,X))},X),se.onsuccess=Xe(function(){re=null;var ee,ie,ue,xe,fe,ye=u.idbdb=se.result,Ae=E(ye.objectStoreNames);if(0<Ae.length)try{var ve=ye.transaction((xe=Ae).length===1?xe[0]:xe,"readonly");if(h.autoSchema)ie=ye,ue=ve,(ee=u).verno=ie.version/10,ue=ee._dbSchema=Tl(0,ie,ue),ee._storeNames=E(ie.objectStoreNames,0),Sl(ee,[ee._allTables],a(ue),ue);else if(Rl(u,u._dbSchema,ve),((fe=pu(Tl(0,(fe=u).idbdb,ve),fe._dbSchema)).add.length||fe.change.some(function(be){return be.add.length||be.change.length}))&&!_)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ye.close(),D=ye.version+1,_=!0,oe(U());_l(u,ve)}catch{}Ao.push(u),ye.onversionchange=Xe(function(be){h.vcFired=!0,u.on("versionchange").fire(be)}),ye.onclose=Xe(function(be){u.on("close").fire(be)}),q&&(fe=u._deps,ve=ne,ye=fe.indexedDB,fe=fe.IDBKeyRange,vu(ye)||ve===Dl||yu(ye,fe).put({name:ve}).catch(Re)),oe()},X)}).catch(function(oe){switch(oe==null?void 0:oe.name){case"UnknownError":if(0<h.PR1398_maxLoop)return h.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),U();break;case"VersionError":if(0<D)return D=0,U()}return z.reject(oe)})}var Y,J=h.dbReadyResolve,re=null,q=!1;return z.race([w,(typeof navigator>"u"?z.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(oe){function X(){return indexedDB.databases().finally(oe)}Y=setInterval(X,100),X()}).finally(function(){return clearInterval(Y)}):Promise.resolve()).then(U)]).then(function(){return I(),h.onReadyBeingFired=[],z.resolve(Eu(function(){return u.on.ready.fire(u.vip)})).then(function oe(){if(0<h.onReadyBeingFired.length){var X=h.onReadyBeingFired.reduce(Ce,Re);return h.onReadyBeingFired=[],z.resolve(Eu(function(){return X(u.vip)})).then(oe)}})}).finally(function(){h.openCanceller===w&&(h.onReadyBeingFired=null,h.isBeingOpened=!1)}).catch(function(oe){h.dbOpenError=oe;try{re&&re.abort()}catch{}return w===h.openCanceller&&u._close(),St(oe)}).finally(function(){h.openComplete=!0,J()}).then(function(){var oe;return q&&(oe={},u.tables.forEach(function(X){X.schema.indexes.forEach(function(ne){ne.name&&(oe["idb://".concat(u.name,"/").concat(X.name,"/").concat(ne.name)]=new en(-1/0,[[[]]]))}),oe["idb://".concat(u.name,"/").concat(X.name,"/")]=oe["idb://".concat(u.name,"/").concat(X.name,"/:dels")]=new en(-1/0,[[[]]])}),rs(qi).fire(oe),Au(oe,!0)),u})}function Du(u){function h(_){return u.next(_)}var p=D(h),w=D(function(_){return u.throw(_)});function D(_){return function(Y){var U=_(Y),Y=U.value;return U.done?Y:Y&&typeof Y.then=="function"?Y.then(p,w):l(Y)?Promise.all(Y).then(p,w):p(Y)}}return D(h)()}function $l(u,h,p){for(var w=l(u)?u.slice():[u],D=0;D<p;++D)w.push(h);return w}var C6={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(u){return r(r({},u),{table:function(h){var p=u.table(h),w=p.schema,D={},_=[];function I(q,oe,X){var ne=Ki(q),se=D[ne]=D[ne]||[],ee=q==null?0:typeof q=="string"?1:q.length,ie=0<oe,ie=r(r({},X),{name:ie?"".concat(ne,"(virtual-from:").concat(X.name,")"):X.name,lowLevelIndex:X,isVirtual:ie,keyTail:oe,keyLength:ee,extractKey:fu(q),unique:!ie&&X.unique});return se.push(ie),ie.isPrimaryKey||_.push(ie),1<ee&&I(ee===2?q[0]:q.slice(0,ee-1),oe+1,X),se.sort(function(ue,xe){return ue.keyTail-xe.keyTail}),ie}h=I(w.primaryKey.keyPath,0,w.primaryKey),D[":id"]=[h];for(var U=0,Y=w.indexes;U<Y.length;U++){var J=Y[U];I(J.keyPath,0,J)}function re(q){var oe,X=q.query.index;return X.isVirtual?r(r({},q),{query:{index:X.lowLevelIndex,range:(oe=q.query.range,X=X.keyTail,{type:oe.type===1?2:oe.type,lower:$l(oe.lower,oe.lowerOpen?u.MAX_KEY:u.MIN_KEY,X),lowerOpen:!0,upper:$l(oe.upper,oe.upperOpen?u.MIN_KEY:u.MAX_KEY,X),upperOpen:!0})}}):q}return r(r({},p),{schema:r(r({},w),{primaryKey:h,indexes:_,getIndexByKeyPath:function(q){return(q=D[Ki(q)])&&q[0]}}),count:function(q){return p.count(re(q))},query:function(q){return p.query(re(q))},openCursor:function(q){var oe=q.query.index,X=oe.keyTail,ne=oe.isVirtual,se=oe.keyLength;return ne?p.openCursor(re(q)).then(function(ie){return ie&&ee(ie)}):p.openCursor(q);function ee(ie){return Object.create(ie,{continue:{value:function(ue){ue!=null?ie.continue($l(ue,q.reverse?u.MAX_KEY:u.MIN_KEY,X)):q.unique?ie.continue(ie.key.slice(0,se).concat(q.reverse?u.MIN_KEY:u.MAX_KEY,X)):ie.continue()}},continuePrimaryKey:{value:function(ue,xe){ie.continuePrimaryKey($l(ue,u.MAX_KEY,X),xe)}},primaryKey:{get:function(){return ie.primaryKey}},key:{get:function(){var ue=ie.key;return se===1?ue[0]:ue.slice(0,se)}},value:{get:function(){return ie.value}}})}}})}})}};function Fu(u,h,p,w){return p=p||{},w=w||"",a(u).forEach(function(D){var _,I,U;f(h,D)?(_=u[D],I=h[D],typeof _=="object"&&typeof I=="object"&&_&&I?(U=Z(_))!==Z(I)?p[w+D]=h[D]:U==="Object"?Fu(_,I,p,w+D+"."):_!==I&&(p[w+D]=h[D]):_!==I&&(p[w+D]=h[D])):p[w+D]=void 0}),a(h).forEach(function(D){f(u,D)||(p[w+D]=h[D])}),p}function ku(u,h){return h.type==="delete"?h.keys:h.keys||h.values.map(u.extractKey)}var w6={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(u){return r(r({},u),{table:function(h){var p=u.table(h),w=p.schema.primaryKey;return r(r({},p),{mutate:function(D){var _=Te.trans,I=_.table(h).hook,U=I.deleting,Y=I.creating,J=I.updating;switch(D.type){case"add":if(Y.fire===Re)break;return _._promise("readwrite",function(){return re(D)},!0);case"put":if(Y.fire===Re&&J.fire===Re)break;return _._promise("readwrite",function(){return re(D)},!0);case"delete":if(U.fire===Re)break;return _._promise("readwrite",function(){return re(D)},!0);case"deleteRange":if(U.fire===Re)break;return _._promise("readwrite",function(){return function q(oe,X,ne){return p.query({trans:oe,values:!1,query:{index:w,range:X},limit:ne}).then(function(se){var ee=se.result;return re({type:"delete",keys:ee,trans:oe}).then(function(ie){return 0<ie.numFailures?Promise.reject(ie.failures[0]):ee.length<ne?{failures:[],numFailures:0,lastResult:void 0}:q(oe,r(r({},X),{lower:ee[ee.length-1],lowerOpen:!0}),ne)})})}(D.trans,D.range,1e4)},!0)}return p.mutate(D);function re(q){var oe,X,ne,se=Te.trans,ee=q.keys||ku(w,q);if(!ee)throw new Error("Keys missing");return(q=q.type==="add"||q.type==="put"?r(r({},q),{keys:ee}):r({},q)).type!=="delete"&&(q.values=s([],q.values)),q.keys&&(q.keys=s([],q.keys)),oe=p,ne=ee,((X=q).type==="add"?Promise.resolve([]):oe.getMany({trans:X.trans,keys:ne,cache:"immutable"})).then(function(ie){var ue=ee.map(function(xe,fe){var ye,Ae,ve,be=ie[fe],Fe={onerror:null,onsuccess:null};return q.type==="delete"?U.fire.call(Fe,xe,be,se):q.type==="add"||be===void 0?(ye=Y.fire.call(Fe,xe,q.values[fe],se),xe==null&&ye!=null&&(q.keys[fe]=xe=ye,w.outbound||N(q.values[fe],w.keyPath,xe))):(ye=Fu(be,q.values[fe]),(Ae=J.fire.call(Fe,ye,xe,be,se))&&(ve=q.values[fe],Object.keys(Ae).forEach(function(Be){f(ve,Be)?ve[Be]=Ae[Be]:N(ve,Be,Ae[Be])}))),Fe});return p.mutate(q).then(function(xe){for(var fe=xe.failures,ye=xe.results,Ae=xe.numFailures,xe=xe.lastResult,ve=0;ve<ee.length;++ve){var be=(ye||ee)[ve],Fe=ue[ve];be==null?Fe.onerror&&Fe.onerror(fe[ve]):Fe.onsuccess&&Fe.onsuccess(q.type==="put"&&ie[ve]?q.values[ve]:be)}return{failures:fe,results:ye,numFailures:Ae,lastResult:xe}}).catch(function(xe){return ue.forEach(function(fe){return fe.onerror&&fe.onerror(xe)}),Promise.reject(xe)})})}}})}})}};function Pm(u,h,p){try{if(!h||h.keys.length<u.length)return null;for(var w=[],D=0,_=0;D<h.keys.length&&_<u.length;++D)tt(h.keys[D],u[_])===0&&(w.push(p?K(h.values[D]):h.values[D]),++_);return w.length===u.length?w:null}catch{return null}}var B6={stack:"dbcore",level:-1,create:function(u){return{table:function(h){var p=u.table(h);return r(r({},p),{getMany:function(w){if(!w.cache)return p.getMany(w);var D=Pm(w.keys,w.trans._cache,w.cache==="clone");return D?z.resolve(D):p.getMany(w).then(function(_){return w.trans._cache={keys:w.keys,values:w.cache==="clone"?K(_):_},_})},mutate:function(w){return w.type!=="add"&&(w.trans._cache=null),p.mutate(w)}})}}}};function Tm(u,h){return u.trans.mode==="readonly"&&!!u.subscr&&!u.trans.explicit&&u.trans.db._options.cache!=="disabled"&&!h.schema.primaryKey.outbound}function Rm(u,h){switch(u){case"query":return h.values&&!h.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var A6={stack:"dbcore",level:0,name:"Observability",create:function(u){var h=u.schema.name,p=new en(u.MIN_KEY,u.MAX_KEY);return r(r({},u),{transaction:function(w,D,_){if(Te.subscr&&D!=="readonly")throw new me.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Te.querier));return u.transaction(w,D,_)},table:function(w){var D=u.table(w),_=D.schema,I=_.primaryKey,q=_.indexes,U=I.extractKey,Y=I.outbound,J=I.autoIncrement&&q.filter(function(X){return X.compound&&X.keyPath.includes(I.keyPath)}),re=r(r({},D),{mutate:function(X){function ne(Be){return Be="idb://".concat(h,"/").concat(w,"/").concat(Be),xe[Be]||(xe[Be]=new en)}var se,ee,ie,ue=X.trans,xe=X.mutatedParts||(X.mutatedParts={}),fe=ne(""),ye=ne(":dels"),Ae=X.type,Fe=X.type==="deleteRange"?[X.range]:X.type==="delete"?[X.keys]:X.values.length<50?[ku(I,X).filter(function(Be){return Be}),X.values]:[],ve=Fe[0],be=Fe[1],Fe=X.trans._cache;return l(ve)?(fe.addKeys(ve),(Fe=Ae==="delete"||ve.length===be.length?Pm(ve,Fe):null)||ye.addKeys(ve),(Fe||be)&&(se=ne,ee=Fe,ie=be,_.indexes.forEach(function(Be){var _e=se(Be.name||"");function We(Ye){return Ye!=null?Be.extractKey(Ye):null}function Qe(Ye){return Be.multiEntry&&l(Ye)?Ye.forEach(function(Sn){return _e.addKey(Sn)}):_e.addKey(Ye)}(ee||ie).forEach(function(Ye,tn){var Ve=ee&&We(ee[tn]),tn=ie&&We(ie[tn]);tt(Ve,tn)!==0&&(Ve!=null&&Qe(Ve),tn!=null&&Qe(tn))})}))):ve?(be={from:(be=ve.lower)!==null&&be!==void 0?be:u.MIN_KEY,to:(be=ve.upper)!==null&&be!==void 0?be:u.MAX_KEY},ye.add(be),fe.add(be)):(fe.add(p),ye.add(p),_.indexes.forEach(function(Be){return ne(Be.name).add(p)})),D.mutate(X).then(function(Be){return!ve||X.type!=="add"&&X.type!=="put"||(fe.addKeys(Be.results),J&&J.forEach(function(_e){for(var We=X.values.map(function(Ve){return _e.extractKey(Ve)}),Qe=_e.keyPath.findIndex(function(Ve){return Ve===I.keyPath}),Ye=0,Sn=Be.results.length;Ye<Sn;++Ye)We[Ye][Qe]=Be.results[Ye];ne(_e.name).addKeys(We)})),ue.mutatedParts=Ll(ue.mutatedParts||{},xe),Be})}}),q=function(ne){var se=ne.query,ne=se.index,se=se.range;return[ne,new en((ne=se.lower)!==null&&ne!==void 0?ne:u.MIN_KEY,(se=se.upper)!==null&&se!==void 0?se:u.MAX_KEY)]},oe={get:function(X){return[I,new en(X.key)]},getMany:function(X){return[I,new en().addKeys(X.keys)]},count:q,query:q,openCursor:q};return a(oe).forEach(function(X){re[X]=function(ne){var se=Te.subscr,ee=!!se,ie=Tm(Te,D)&&Rm(X,ne)?ne.obsSet={}:se;if(ee){var ue=function(be){return be="idb://".concat(h,"/").concat(w,"/").concat(be),ie[be]||(ie[be]=new en)},xe=ue(""),fe=ue(":dels"),se=oe[X](ne),ee=se[0],se=se[1];if((X==="query"&&ee.isPrimaryKey&&!ne.values?fe:ue(ee.name||"")).add(se),!ee.isPrimaryKey){if(X!=="count"){var ye=X==="query"&&Y&&ne.values&&D.query(r(r({},ne),{values:!1}));return D[X].apply(this,arguments).then(function(be){if(X==="query"){if(Y&&ne.values)return ye.then(function(We){return We=We.result,xe.addKeys(We),be});var Fe=ne.values?be.result.map(U):be.result;(ne.values?xe:fe).addKeys(Fe)}else if(X==="openCursor"){var Be=be,_e=ne.values;return Be&&Object.create(Be,{key:{get:function(){return fe.addKey(Be.primaryKey),Be.key}},primaryKey:{get:function(){var We=Be.primaryKey;return fe.addKey(We),We}},value:{get:function(){return _e&&xe.addKey(Be.primaryKey),Be.value}}})}return be})}fe.add(p)}}return D[X].apply(this,arguments)}}),re}})}};function Mm(u,h,p){if(p.numFailures===0)return h;if(h.type==="deleteRange")return null;var w=h.keys?h.keys.length:"values"in h&&h.values?h.values.length:1;return p.numFailures===w?null:(h=r({},h),l(h.keys)&&(h.keys=h.keys.filter(function(D,_){return!(_ in p.failures)})),"values"in h&&l(h.values)&&(h.values=h.values.filter(function(D,_){return!(_ in p.failures)})),h)}function ju(u,h){return p=u,((w=h).lower===void 0||(w.lowerOpen?0<tt(p,w.lower):0<=tt(p,w.lower)))&&(u=u,(h=h).upper===void 0||(h.upperOpen?tt(u,h.upper)<0:tt(u,h.upper)<=0));var p,w}function Im(u,h,oe,w,D,_){if(!oe||oe.length===0)return u;var I=h.query.index,U=I.multiEntry,Y=h.query.range,J=w.schema.primaryKey.extractKey,re=I.extractKey,q=(I.lowLevelIndex||I).extractKey,oe=oe.reduce(function(X,ne){var se=X,ee=[];if(ne.type==="add"||ne.type==="put")for(var ie=new en,ue=ne.values.length-1;0<=ue;--ue){var xe,fe=ne.values[ue],ye=J(fe);ie.hasKey(ye)||(xe=re(fe),(U&&l(xe)?xe.some(function(Be){return ju(Be,Y)}):ju(xe,Y))&&(ie.addKey(ye),ee.push(fe)))}switch(ne.type){case"add":var Ae=new en().addKeys(h.values?X.map(function(_e){return J(_e)}):X),se=X.concat(h.values?ee.filter(function(_e){return _e=J(_e),!Ae.hasKey(_e)&&(Ae.addKey(_e),!0)}):ee.map(function(_e){return J(_e)}).filter(function(_e){return!Ae.hasKey(_e)&&(Ae.addKey(_e),!0)}));break;case"put":var ve=new en().addKeys(ne.values.map(function(_e){return J(_e)}));se=X.filter(function(_e){return!ve.hasKey(h.values?J(_e):_e)}).concat(h.values?ee:ee.map(function(_e){return J(_e)}));break;case"delete":var be=new en().addKeys(ne.keys);se=X.filter(function(_e){return!be.hasKey(h.values?J(_e):_e)});break;case"deleteRange":var Fe=ne.range;se=X.filter(function(_e){return!ju(J(_e),Fe)})}return se},u);return oe===u?u:(oe.sort(function(X,ne){return tt(q(X),q(ne))||tt(J(X),J(ne))}),h.limit&&h.limit<1/0&&(oe.length>h.limit?oe.length=h.limit:u.length===h.limit&&oe.length<h.limit&&(D.dirty=!0)),_?Object.freeze(oe):oe)}function Lm(u,h){return tt(u.lower,h.lower)===0&&tt(u.upper,h.upper)===0&&!!u.lowerOpen==!!h.lowerOpen&&!!u.upperOpen==!!h.upperOpen}function D6(u,h){return function(p,w,D,_){if(p===void 0)return w!==void 0?-1:0;if(w===void 0)return 1;if((w=tt(p,w))===0){if(D&&_)return 0;if(D)return 1;if(_)return-1}return w}(u.lower,h.lower,u.lowerOpen,h.lowerOpen)<=0&&0<=function(p,w,D,_){if(p===void 0)return w!==void 0?1:0;if(w===void 0)return-1;if((w=tt(p,w))===0){if(D&&_)return 0;if(D)return-1;if(_)return 1}return w}(u.upper,h.upper,u.upperOpen,h.upperOpen)}function F6(u,h,p,w){u.subscribers.add(p),w.addEventListener("abort",function(){var D,_;u.subscribers.delete(p),u.subscribers.size===0&&(D=u,_=h,setTimeout(function(){D.subscribers.size===0&&T(_,D)},3e3))})}var k6={stack:"dbcore",level:0,name:"Cache",create:function(u){var h=u.schema.name;return r(r({},u),{transaction:function(p,w,D){var _,I,U=u.transaction(p,w,D);return w==="readwrite"&&(I=(_=new AbortController).signal,D=function(Y){return function(){if(_.abort(),w==="readwrite"){for(var J=new Set,re=0,q=p;re<q.length;re++){var oe=q[re],X=qs["idb://".concat(h,"/").concat(oe)];if(X){var ne=u.table(oe),se=X.optimisticOps.filter(function(_e){return _e.trans===U});if(U._explicit&&Y&&U.mutatedParts)for(var ee=0,ie=Object.values(X.queries.query);ee<ie.length;ee++)for(var ue=0,xe=(Ae=ie[ee]).slice();ue<xe.length;ue++)Cu((ve=xe[ue]).obsSet,U.mutatedParts)&&(T(Ae,ve),ve.subscribers.forEach(function(_e){return J.add(_e)}));else if(0<se.length){X.optimisticOps=X.optimisticOps.filter(function(_e){return _e.trans!==U});for(var fe=0,ye=Object.values(X.queries.query);fe<ye.length;fe++)for(var Ae,ve,be,Fe=0,Be=(Ae=ye[fe]).slice();Fe<Be.length;Fe++)(ve=Be[Fe]).res!=null&&U.mutatedParts&&(Y&&!ve.dirty?(be=Object.isFrozen(ve.res),be=Im(ve.res,ve.req,se,ne,ve,be),ve.dirty?(T(Ae,ve),ve.subscribers.forEach(function(_e){return J.add(_e)})):be!==ve.res&&(ve.res=be,ve.promise=z.resolve({result:be}))):(ve.dirty&&T(Ae,ve),ve.subscribers.forEach(function(_e){return J.add(_e)})))}}}J.forEach(function(_e){return _e()})}}},U.addEventListener("abort",D(!1),{signal:I}),U.addEventListener("error",D(!1),{signal:I}),U.addEventListener("complete",D(!0),{signal:I})),U},table:function(p){var w=u.table(p),D=w.schema.primaryKey;return r(r({},w),{mutate:function(_){var I=Te.trans;if(D.outbound||I.db._options.cache==="disabled"||I.explicit||I.idbtrans.mode!=="readwrite")return w.mutate(_);var U=qs["idb://".concat(h,"/").concat(p)];return U?(I=w.mutate(_),_.type!=="add"&&_.type!=="put"||!(50<=_.values.length||ku(D,_).some(function(Y){return Y==null}))?(U.optimisticOps.push(_),_.mutatedParts&&Ol(_.mutatedParts),I.then(function(Y){0<Y.numFailures&&(T(U.optimisticOps,_),(Y=Mm(0,_,Y))&&U.optimisticOps.push(Y),_.mutatedParts&&Ol(_.mutatedParts))}),I.catch(function(){T(U.optimisticOps,_),_.mutatedParts&&Ol(_.mutatedParts)})):I.then(function(Y){var J=Mm(0,r(r({},_),{values:_.values.map(function(re,q){var oe;return Y.failures[q]?re:(re=(oe=D.keyPath)!==null&&oe!==void 0&&oe.includes(".")?K(re):r({},re),N(re,D.keyPath,Y.results[q]),re)})}),Y);U.optimisticOps.push(J),queueMicrotask(function(){return _.mutatedParts&&Ol(_.mutatedParts)})}),I):w.mutate(_)},query:function(_){if(!Tm(Te,w)||!Rm("query",_))return w.query(_);var I=((J=Te.trans)===null||J===void 0?void 0:J.db._options.cache)==="immutable",q=Te,U=q.requery,Y=q.signal,J=function(ne,se,ee,ie){var ue=qs["idb://".concat(ne,"/").concat(se)];if(!ue)return[];if(!(se=ue.queries[ee]))return[null,!1,ue,null];var xe=se[(ie.query?ie.query.index.name:null)||""];if(!xe)return[null,!1,ue,null];switch(ee){case"query":var fe=xe.find(function(ye){return ye.req.limit===ie.limit&&ye.req.values===ie.values&&Lm(ye.req.query.range,ie.query.range)});return fe?[fe,!0,ue,xe]:[xe.find(function(ye){return("limit"in ye.req?ye.req.limit:1/0)>=ie.limit&&(!ie.values||ye.req.values)&&D6(ye.req.query.range,ie.query.range)}),!1,ue,xe];case"count":return fe=xe.find(function(ye){return Lm(ye.req.query.range,ie.query.range)}),[fe,!!fe,ue,xe]}}(h,p,"query",_),re=J[0],q=J[1],oe=J[2],X=J[3];return re&&q?re.obsSet=_.obsSet:(q=w.query(_).then(function(ne){var se=ne.result;if(re&&(re.res=se),I){for(var ee=0,ie=se.length;ee<ie;++ee)Object.freeze(se[ee]);Object.freeze(se)}else ne.result=K(se);return ne}).catch(function(ne){return X&&re&&T(X,re),Promise.reject(ne)}),re={obsSet:_.obsSet,promise:q,subscribers:new Set,type:"query",req:_,dirty:!1},X?X.push(re):(X=[re],(oe=oe||(qs["idb://".concat(h,"/").concat(p)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[_.query.index.name||""]=X)),F6(re,X,U,Y),re.promise.then(function(ne){return{result:Im(ne.result,_,oe==null?void 0:oe.optimisticOps,w,re,I)}})}})}})}};function Ul(u,h){return new Proxy(u,{get:function(p,w,D){return w==="db"?h:Reflect.get(p,w,D)}})}var Sr=(Pt.prototype.version=function(u){if(isNaN(u)||u<.1)throw new me.Type("Given version is not a positive number");if(u=Math.round(10*u)/10,this.idbdb||this._state.isBeingOpened)throw new me.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,u);var h=this._versions,p=h.filter(function(w){return w._cfg.version===u})[0];return p||(p=new this.Version(u),h.push(p),h.sort(g6),p.stores({}),this._state.autoSchema=!1,p)},Pt.prototype._whenReady=function(u){var h=this;return this.idbdb&&(this._state.openComplete||Te.letThrough||this._vip)?u():new z(function(p,w){if(h._state.openComplete)return w(new me.DatabaseClosed(h._state.dbOpenError));if(!h._state.isBeingOpened){if(!h._state.autoOpen)return void w(new me.DatabaseClosed);h.open().catch(Re)}h._state.dbReadyPromise.then(p,w)}).then(u)},Pt.prototype.use=function(u){var h=u.stack,p=u.create,w=u.level,D=u.name;return D&&this.unuse({stack:h,name:D}),u=this._middlewares[h]||(this._middlewares[h]=[]),u.push({stack:h,create:p,level:w??10,name:D}),u.sort(function(_,I){return _.level-I.level}),this},Pt.prototype.unuse=function(u){var h=u.stack,p=u.name,w=u.create;return h&&this._middlewares[h]&&(this._middlewares[h]=this._middlewares[h].filter(function(D){return w?D.create!==w:!!p&&D.name!==p})),this},Pt.prototype.open=function(){var u=this;return Us(pr,function(){return b6(u)})},Pt.prototype._close=function(){var u=this._state,h=Ao.indexOf(this);if(0<=h&&Ao.splice(h,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}u.isBeingOpened||(u.dbReadyPromise=new z(function(p){u.dbReadyResolve=p}),u.openCanceller=new z(function(p,w){u.cancelOpen=w}))},Pt.prototype.close=function(p){var h=(p===void 0?{disableAutoOpen:!0}:p).disableAutoOpen,p=this._state;h?(p.isBeingOpened&&p.cancelOpen(new me.DatabaseClosed),this._close(),p.autoOpen=!1,p.dbOpenError=new me.DatabaseClosed):(this._close(),p.autoOpen=this._options.autoOpen||p.isBeingOpened,p.openComplete=!1,p.dbOpenError=null)},Pt.prototype.delete=function(u){var h=this;u===void 0&&(u={disableAutoOpen:!0});var p=0<arguments.length&&typeof arguments[0]!="object",w=this._state;return new z(function(D,_){function I(){h.close(u);var U=h._deps.indexedDB.deleteDatabase(h.name);U.onsuccess=Xe(function(){var Y,J,re;Y=h._deps,J=h.name,re=Y.indexedDB,Y=Y.IDBKeyRange,vu(re)||J===Dl||yu(re,Y).delete(J).catch(Re),D()}),U.onerror=gr(_),U.onblocked=h._fireOnBlocked}if(p)throw new me.InvalidArgument("Invalid closeOptions argument to db.delete()");w.isBeingOpened?w.dbReadyPromise.then(I):I()})},Pt.prototype.backendDB=function(){return this.idbdb},Pt.prototype.isOpen=function(){return this.idbdb!==null},Pt.prototype.hasBeenClosed=function(){var u=this._state.dbOpenError;return u&&u.name==="DatabaseClosed"},Pt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Pt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Pt.prototype,"tables",{get:function(){var u=this;return a(this._allTables).map(function(h){return u._allTables[h]})},enumerable:!1,configurable:!0}),Pt.prototype.transaction=function(){var u=(function(h,p,w){var D=arguments.length;if(D<2)throw new me.InvalidArgument("Too few arguments");for(var _=new Array(D-1);--D;)_[D-1]=arguments[D];return w=_.pop(),[h,$(_),w]}).apply(this,arguments);return this._transaction.apply(this,u)},Pt.prototype._transaction=function(u,h,p){var w=this,D=Te.trans;D&&D.db===this&&u.indexOf("!")===-1||(D=null);var _,I,U=u.indexOf("?")!==-1;u=u.replace("!","").replace("?","");try{if(I=h.map(function(J){if(J=J instanceof w.Table?J.name:J,typeof J!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return J}),u=="r"||u===iu)_=iu;else{if(u!="rw"&&u!=au)throw new me.InvalidArgument("Invalid transaction mode: "+u);_=au}if(D){if(D.mode===iu&&_===au){if(!U)throw new me.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");D=null}D&&I.forEach(function(J){if(D&&D.storeNames.indexOf(J)===-1){if(!U)throw new me.SubTransaction("Table "+J+" not included in parent transaction.");D=null}}),U&&D&&!D.active&&(D=null)}}catch(J){return D?D._promise(null,function(re,q){q(J)}):St(J)}var Y=(function J(re,q,oe,X,ne){return z.resolve().then(function(){var se=Te.transless||Te,ee=re._createTransaction(q,oe,re._dbSchema,X);if(ee.explicit=!0,se={trans:ee,transless:se},X)ee.idbtrans=X.idbtrans;else try{ee.create(),ee.idbtrans._explicit=!0,re._state.PR1398_maxLoop=3}catch(xe){return xe.name===ke.InvalidState&&re.isOpen()&&0<--re._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),re.close({disableAutoOpen:!1}),re.open().then(function(){return J(re,q,oe,null,ne)})):St(xe)}var ie,ue=L(ne);return ue&&Bo(),se=z.follow(function(){var xe;(ie=ne.call(ee,ee))&&(ue?(xe=es.bind(null,null),ie.then(xe,xe)):typeof ie.next=="function"&&typeof ie.throw=="function"&&(ie=Du(ie)))},se),(ie&&typeof ie.then=="function"?z.resolve(ie).then(function(xe){return ee.active?xe:St(new me.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):se.then(function(){return ie})).then(function(xe){return X&&ee._resolve(),ee._completion.then(function(){return xe})}).catch(function(xe){return ee._reject(xe),St(xe)})})}).bind(null,this,_,I,D,p);return D?D._promise(_,Y,"lock"):Te.trans?Us(Te.transless,function(){return w._whenReady(Y)}):this._whenReady(Y)},Pt.prototype.table=function(u){if(!f(this._allTables,u))throw new me.InvalidTable("Table ".concat(u," does not exist"));return this._allTables[u]},Pt);function Pt(u,h){var p=this;this._middlewares={},this.verno=0;var w=Pt.dependencies;this._options=h=r({addons:Pt.addons,autoOpen:!0,indexedDB:w.indexedDB,IDBKeyRange:w.IDBKeyRange,cache:"cloned"},h),this._deps={indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange},w=h.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var D,_,I,U,Y,J={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Re,dbReadyPromise:null,cancelOpen:Re,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:h.autoOpen};J.dbReadyPromise=new z(function(q){J.dbReadyResolve=q}),J.openCanceller=new z(function(q,oe){J.cancelOpen=oe}),this._state=J,this.name=u,this.on=$i(this,"populate","blocked","versionchange","close",{ready:[Ce,Re]}),this.on.ready.subscribe=g(this.on.ready.subscribe,function(q){return function(oe,X){Pt.vip(function(){var ne,se=p._state;se.openComplete?(se.dbOpenError||z.resolve().then(oe),X&&q(oe)):se.onReadyBeingFired?(se.onReadyBeingFired.push(oe),X&&q(oe)):(q(oe),ne=p,X||q(function ee(){ne.on.ready.unsubscribe(oe),ne.on.ready.unsubscribe(ee)}))})}}),this.Collection=(D=this,Ui(u6.prototype,function(ie,ee){this.db=D;var X=mm,ne=null;if(ee)try{X=ee()}catch(ue){ne=ue}var se=ie._ctx,ee=se.table,ie=ee.hook.reading.fire;this._ctx={table:ee,index:se.index,isPrimKey:!se.index||ee.schema.primKey.keyPath&&se.index===ee.schema.primKey.name,range:X,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ne,or:se.or,valueMapper:ie!==at?ie:null}})),this.Table=(_=this,Ui(vm.prototype,function(q,oe,X){this.db=_,this._tx=X,this.name=q,this.schema=oe,this.hook=_._allTables[q]?_._allTables[q].hook:$i(null,{creating:[Ht,Re],reading:[Ot,at],updating:[Gt,Re],deleting:[un,Re]})})),this.Transaction=(I=this,Ui(h6.prototype,function(q,oe,X,ne,se){var ee=this;this.db=I,this.mode=q,this.storeNames=oe,this.schema=X,this.chromeTransactionDurability=ne,this.idbtrans=null,this.on=$i(this,"complete","error","abort"),this.parent=se||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new z(function(ie,ue){ee._resolve=ie,ee._reject=ue}),this._completion.then(function(){ee.active=!1,ee.on.complete.fire()},function(ie){var ue=ee.active;return ee.active=!1,ee.on.error.fire(ie),ee.parent?ee.parent._reject(ie):ue&&ee.idbtrans&&ee.idbtrans.abort(),St(ie)})})),this.Version=(U=this,Ui(E6.prototype,function(q){this.db=U,this._cfg={version:q,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Y=this,Ui(Bm.prototype,function(q,oe,X){if(this.db=Y,this._ctx={table:q,index:oe===":id"?null:oe,or:X},this._cmp=this._ascending=tt,this._descending=function(ne,se){return tt(se,ne)},this._max=function(ne,se){return 0<tt(ne,se)?ne:se},this._min=function(ne,se){return tt(ne,se)<0?ne:se},this._IDBKeyRange=Y._deps.IDBKeyRange,!this._IDBKeyRange)throw new me.MissingAPI})),this.on("versionchange",function(q){0<q.newVersion?console.warn("Another connection wants to upgrade database '".concat(p.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(p.name,"'. Closing db now to resume the delete request.")),p.close({disableAutoOpen:!1})}),this.on("blocked",function(q){!q.newVersion||q.newVersion<q.oldVersion?console.warn("Dexie.delete('".concat(p.name,"') was blocked")):console.warn("Upgrade '".concat(p.name,"' blocked by other connection holding version ").concat(q.oldVersion/10))}),this._maxKey=Wi(h.IDBKeyRange),this._createTransaction=function(q,oe,X,ne){return new p.Transaction(q,oe,X,p._options.chromeTransactionDurability,ne)},this._fireOnBlocked=function(q){p.on("blocked").fire(q),Ao.filter(function(oe){return oe.name===p.name&&oe!==p&&!oe._state.vcFired}).map(function(oe){return oe.on("versionchange").fire(q)})},this.use(B6),this.use(k6),this.use(A6),this.use(C6),this.use(w6);var re=new Proxy(this,{get:function(q,oe,X){if(oe==="_vip")return!0;if(oe==="table")return function(se){return Ul(p.table(se),re)};var ne=Reflect.get(q,oe,X);return ne instanceof vm?Ul(ne,re):oe==="tables"?ne.map(function(se){return Ul(se,re)}):oe==="_createTransaction"?function(){return Ul(ne.apply(this,arguments),re)}:ne}});this.vip=re,w.forEach(function(q){return q(p)})}var Vl,Un=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",j6=(Nu.prototype.subscribe=function(u,h,p){return this._subscribe(u&&typeof u!="function"?u:{next:u,error:h,complete:p})},Nu.prototype[Un]=function(){return this},Nu);function Nu(u){this._subscribe=u}try{Vl={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{Vl={indexedDB:null,IDBKeyRange:null}}function Om(u){var h,p=!1,w=new j6(function(D){var _=L(u),I,U=!1,Y={},J={},re={get closed(){return U},unsubscribe:function(){U||(U=!0,I&&I.abort(),q&&rs.storagemutated.unsubscribe(X))}};D.start&&D.start(re);var q=!1,oe=function(){return ou(ne)},X=function(se){Ll(Y,se),Cu(J,Y)&&oe()},ne=function(){var se,ee,ie;!U&&Vl.indexedDB&&(Y={},se={},I&&I.abort(),I=new AbortController,ie=function(ue){var xe=lt();try{_&&Bo();var fe=Zr(u,ue);return fe=_?fe.finally(es):fe}finally{xe&&At()}}(ee={subscr:se,signal:I.signal,requery:oe,querier:u,trans:null}),Promise.resolve(ie).then(function(ue){p=!0,h=ue,U||ee.signal.aborted||(Y={},function(xe){for(var fe in xe)if(f(xe,fe))return;return 1}(J=se)||q||(rs(qi,X),q=!0),ou(function(){return!U&&D.next&&D.next(ue)}))},function(ue){p=!1,["DatabaseClosedError","AbortError"].includes(ue==null?void 0:ue.name)||U||ou(function(){U||D.error&&D.error(ue)})}))};return setTimeout(oe,0),re});return w.hasValue=function(){return p},w.getValue=function(){return h},w}var Ws=Sr;function _u(u){var h=ss;try{ss=!0,rs.storagemutated.fire(u),Au(u,!0)}finally{ss=h}}m(Ws,r(r({},st),{delete:function(u){return new Ws(u,{addons:[]}).delete()},exists:function(u){return new Ws(u,{addons:[]}).open().then(function(h){return h.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(u){try{return h=Ws.dependencies,p=h.indexedDB,h=h.IDBKeyRange,(vu(p)?Promise.resolve(p.databases()).then(function(w){return w.map(function(D){return D.name}).filter(function(D){return D!==Dl})}):yu(p,h).toCollection().primaryKeys()).then(u)}catch{return St(new me.MissingAPI)}var h,p},defineClass:function(){return function(u){c(this,u)}},ignoreTransaction:function(u){return Te.trans?Us(Te.transless,u):u()},vip:Eu,async:function(u){return function(){try{var h=Du(u.apply(this,arguments));return h&&typeof h.then=="function"?h:z.resolve(h)}catch(p){return St(p)}}},spawn:function(u,h,p){try{var w=Du(u.apply(p,h||[]));return w&&typeof w.then=="function"?w:z.resolve(w)}catch(D){return St(D)}},currentTransaction:{get:function(){return Te.trans||null}},waitFor:function(u,h){return h=z.resolve(typeof u=="function"?Ws.ignoreTransaction(u):u).timeout(h||6e4),Te.trans?Te.trans.waitFor(h):h},Promise:z,debug:{get:function(){return Ie},set:function(u){Oe(u)}},derive:A,extend:c,props:m,override:g,Events:$i,on:rs,liveQuery:Om,extendObservabilitySet:Ll,getByKeyPath:k,setByKeyPath:N,delByKeyPath:function(u,h){typeof h=="string"?N(u,h,void 0):"length"in h&&[].map.call(h,function(p){N(u,p,void 0)})},shallowClone:S,deepClone:K,getObjectDiff:Fu,cmp:tt,asap:F,minKey:-1/0,addons:[],connections:Ao,errnames:ke,dependencies:Vl,cache:qs,semVer:"4.0.11",version:"4.0.11".split(".").map(function(u){return parseInt(u)}).reduce(function(u,h,p){return u+h/Math.pow(10,2*p)})})),Ws.maxKey=Wi(Ws.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(rs(qi,function(u){ss||(u=new CustomEvent(xu,{detail:u}),ss=!0,dispatchEvent(u),ss=!1)}),addEventListener(xu,function(u){u=u.detail,ss||_u(u)}));var ko,ss=!1,$m=function(){};return typeof BroadcastChannel<"u"&&(($m=function(){(ko=new BroadcastChannel(xu)).onmessage=function(u){return u.data&&_u(u.data)}})(),typeof ko.unref=="function"&&ko.unref(),rs(qi,function(u){ss||ko.postMessage(u)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(u){if(!Sr.disableBfCache&&u.persisted){Ie&&console.debug("Dexie: handling persisted pagehide"),ko!=null&&ko.close();for(var h=0,p=Ao;h<p.length;h++)p[h].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(u){!Sr.disableBfCache&&u.persisted&&(Ie&&console.debug("Dexie: handling persisted pageshow"),$m(),_u({all:new en(-1/0,[[]])}))})),z.rejectionMapper=function(u,h){return!u||u instanceof ce||u instanceof TypeError||u instanceof SyntaxError||!u.name||!ze[u.name]?u:(h=new ze[u.name](h||u.message,u),"stack"in u&&C(h,"stack",{get:function(){return this.inner.stack}}),h)},Oe(Ie),r(Sr,Object.freeze({__proto__:null,Dexie:Sr,liveQuery:Om,Entity:pm,cmp:tt,PropModification:Vi,replacePrefix:function(u,h){return new Vi({replacePrefix:[u,h]})},add:function(u){return new Vi({add:u})},remove:function(u){return new Vi({remove:u})},default:Sr,RangeSet:en,mergeRanges:Gi,rangesOverlap:jm}),{default:Sr}),Sr})})(uE);var J3=uE.exports;const Wd=bc(J3),Sg=Symbol.for("Dexie"),hc=globalThis[Sg]||(globalThis[Sg]=Wd);if(Wd.semVer!==hc.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Wd.semVer} and ${hc.semVer}`);const{liveQuery:a_,mergeRanges:l_,rangesOverlap:c_,RangeSet:u_,cmp:x_,Entity:d_,PropModification:h_,replacePrefix:f_,add:m_,remove:p_}=hc,xE=cE(e=>({status:"idle",lastSync:null,setSyncStatus:t=>e({status:t}),setLastSyncTime:t=>e({lastSync:t})}));class Z3 extends hc{constructor(){super("HybridDB");Pu(this,"events");Pu(this,"company_logos");this.version(3).stores({events:"id, company_id, name, date, mode, lastSynced",company_logos:"id"})}}const wr=new Z3,Df=async()=>{const{data:e,error:t}=await le.from("events").select("*");if(t)throw t;return e||[]},eA=async()=>{const e=await wr.events.toArray(),t=await Df(),n=new Map(t.map(r=>[r.id,r]));for(const r of e){const s=n.get(r.id);(!s||r.lastSynced&&(!s.lastSynced||r.lastSynced>s.lastSynced))&&(await le.from("events").upsert([{...r}]),await wr.events.update(r.id,{lastSynced:new Date().toISOString()}))}},tA=async()=>{const e=await Df();for(const t of e){const n=await wr.events.get(t.id);(!n||t.lastSynced&&(!n.lastSynced||t.lastSynced>n.lastSynced))&&await wr.events.put({...t})}},Pg=async()=>{const{setSyncStatus:e,setLastSyncTime:t}=xE.getState();e("syncing");try{await eA(),await tA(),e("success"),t(new Date().toISOString())}catch{e("error")}},nA=()=>{const{mode:e}=Af();return{getEvents:async n=>{if(e==="offline"){const r=await wr.events.toArray();return n?r.filter(s=>s.company_id===n):r}if(e==="online")try{const r=await Df();return n?r.filter(s=>s.company_id===n):r}catch{console.warn("Supabase unavailable, falling back to local DB");const s=await wr.events.toArray();return n?s.filter(i=>i.company_id===n):s}try{await Pg();const r=await wr.events.toArray();return n?r.filter(s=>s.company_id===n):r}catch{console.warn("Supabase unavailable in hybrid mode, using local DB only");const s=await wr.events.toArray();return n?s.filter(i=>i.company_id===n):s}},syncEvents:Pg}};function rA({userCompany:e}){const[t,n]=B.useState(null),[r,s]=B.useState(null),[i,a]=B.useState(!0),[l,c]=B.useState(""),[x,d]=B.useState(null),[f,m]=B.useState(!1),{mode:y,setMode:C}=Af(),{status:A,lastSync:j}=xE();B.useEffect(()=>{e?g():E()},[e]),B.useEffect(()=>{if(l&&!e){const b=setTimeout(()=>{v()},300);return()=>clearTimeout(b)}else d(null)},[l,e]);const v=async()=>{if(!l.trim()){d(null);return}m(!0);try{const b=`%${l.toLowerCase()}%`,{data:F}=await le.from("companies").select("id, name, created_at").ilike("name",b).limit(5),{data:k}=await le.from("company_users").select(`
          id,
          email,
          company:companies(name)
        `).ilike("email",b).limit(5),{data:N}=await le.from("events").select(`
          id,
          name,
          date,
          company:companies(name)
        `).ilike("name",b).limit(5);d({companies:F||[],users:(k||[]).map(S=>({...S,company:Array.isArray(S.company)?S.company[0]:S.company})),events:(N||[]).map(S=>({...S,company:Array.isArray(S.company)?S.company[0]:S.company}))})}catch(b){console.error("Search error:",b)}finally{m(!1)}},E=async()=>{try{a(!0);const{data:b}=await le.from("companies").select("id, created_at"),{data:F}=await le.from("events").select(`
          id,
          name,
          date,
          created_at,
          company:companies(name)
        `).order("created_at",{ascending:!1}),{data:k}=await le.from("attendees").select("id, event_id, checked_in, created_at"),{data:N}=await le.from("company_users").select(`
          id,
          email,
          created_at,
          company:companies(name)
        `).order("created_at",{ascending:!1}),S=(b==null?void 0:b.length)||0,O=(F==null?void 0:F.length)||0,$=(k==null?void 0:k.length)||0,M=(k==null?void 0:k.filter(P=>P.checked_in).length)||0,G=(N==null?void 0:N.length)||0,K=await Promise.all(((F==null?void 0:F.slice(0,5))||[]).map(async P=>{const T=(k==null?void 0:k.filter(V=>V.event_id===P.id))||[];return{...P,company:Array.isArray(P.company)?P.company[0]:P.company,attendee_count:T.length,checked_in_count:T.filter(V=>V.checked_in).length}})),H=((N==null?void 0:N.slice(0,5))||[]).map(P=>({...P,company:Array.isArray(P.company)?P.company[0]:P.company,last_sign_in_at:null})),Z=new Date;Z.setDate(Z.getDate()-30);const R={companies:(b==null?void 0:b.filter(P=>new Date(P.created_at)>Z).length)||0,events:(F==null?void 0:F.filter(P=>new Date(P.created_at)>Z).length)||0,attendees:(k==null?void 0:k.filter(P=>new Date(P.created_at)>Z).length)||0,users:(N==null?void 0:N.filter(P=>new Date(P.created_at)>Z).length)||0};n({totalCompanies:S,totalEvents:O,totalAttendees:$,totalCheckedIn:M,totalUsers:G,recentEvents:K,recentUsers:H,monthlyGrowth:R,searchResults:{companies:[],users:[],events:[]}})}catch(b){console.error("Error fetching admin stats:",b)}finally{a(!1)}},g=async()=>{try{a(!0);const{data:b}=await le.from("events").select("id, name, date, created_at").eq("company_id",e.company_id).order("created_at",{ascending:!1}),F=(b==null?void 0:b.map(Z=>Z.id))||[],{data:k}=await le.from("attendees").select("id, event_id, checked_in, created_at").in("event_id",F),N=(b==null?void 0:b.length)||0,S=(k==null?void 0:k.length)||0,O=(k==null?void 0:k.filter(Z=>Z.checked_in).length)||0,$=new Date,M=(b==null?void 0:b.filter(Z=>Z.date&&new Date(Z.date)>$).length)||0,G=((b==null?void 0:b.slice(0,5))||[]).map(Z=>{const R=(k==null?void 0:k.filter(P=>P.event_id===Z.id))||[];return{...Z,attendee_count:R.length,checked_in_count:R.filter(P=>P.checked_in).length}}),K=[];for(let Z=5;Z>=0;Z--){const R=new Date;R.setMonth(R.getMonth()-Z);const P=new Date(R.getFullYear(),R.getMonth(),1),T=new Date(R.getFullYear(),R.getMonth()+1,0),V=(b==null?void 0:b.filter(L=>{const W=new Date(L.created_at);return W>=P&&W<=T}))||[],te=(k==null?void 0:k.filter(L=>{const W=new Date(L.created_at);return W>=P&&W<=T}))||[];K.push({month:R.toLocaleDateString("en-US",{month:"short"}),events:V.length,attendees:te.length,checkedIn:te.filter(L=>L.checked_in).length})}s({totalEvents:N,totalAttendees:S,totalCheckedIn:O,upcomingEvents:M,recentEvents:G,quickActions:[{name:"Create Event",path:"/admin/events",icon:Rt,description:"Set up a new event",color:"bg-gradient-to-br from-blue-500 to-cyan-500",gradient:"from-blue-500 to-cyan-500"},{name:"Manage Attendees",path:"/admin/attendees",icon:pt,description:"View and manage registrations",color:"bg-gradient-to-br from-green-500 to-emerald-500",gradient:"from-green-500 to-emerald-500"},{name:"Seating Arrangement",path:"/admin/seating",icon:An,description:"Arrange tables and seats",color:"bg-gradient-to-br from-orange-500 to-red-500",gradient:"from-orange-500 to-red-500"},{name:"Check-in System",path:"/admin/checkin",icon:ur,description:"Scan QR codes for check-in",color:"bg-gradient-to-br from-purple-500 to-indigo-500",gradient:"from-purple-500 to-indigo-500"},{name:"Event Gallery",path:"/admin/gallery",icon:cr,description:"Manage photo uploads",color:"bg-gradient-to-br from-pink-500 to-rose-500",gradient:"from-pink-500 to-rose-500"},{name:"Voting System",path:"/admin/voting",icon:Gn,description:"Create voting sessions",color:"bg-gradient-to-br from-violet-500 to-purple-500",gradient:"from-violet-500 to-purple-500"}],monthlyData:K})}catch(b){console.error("Error fetching company stats:",b)}finally{a(!1)}};return i?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin"}),o.jsx(Ya,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 h-6 w-6 text-purple-600 animate-pulse"})]})}):!e&&t?o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl shadow-lg",children:o.jsx(Fs,{className:"h-8 w-8 text-white"})})}),o.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 bg-clip-text text-transparent mb-2",children:"Admin Dashboard"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"System-wide analytics and management overview"})]}),o.jsxs("div",{style:{marginBottom:16},children:[o.jsx("label",{htmlFor:"hybrid-mode-select",style:{fontWeight:"bold",marginRight:8},children:"Data Mode:"}),o.jsxs("select",{id:"hybrid-mode-select",value:y,onChange:b=>C(b.target.value),style:{padding:4,borderRadius:4},children:[o.jsx("option",{value:"online",children:"Online (Supabase)"}),o.jsx("option",{value:"offline",children:"Offline (Local Only)"}),o.jsx("option",{value:"hybrid",children:"Hybrid (Sync)"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[o.jsxs("div",{className:`flex items-center px-3 py-1 rounded-full text-white font-semibold text-xs ${A==="idle"?"bg-gray-400":A==="syncing"?"bg-blue-500":A==="success"?"bg-green-500":"bg-red-500"}`,title:`Sync status: ${A}`,children:["Sync: ",A.charAt(0).toUpperCase()+A.slice(1)]}),o.jsxs("div",{className:`flex items-center px-3 py-1 rounded-full text-white font-semibold text-xs ${y==="online"?"bg-blue-500":y==="offline"?"bg-yellow-500":"bg-green-500"}`,title:`Database mode: ${y}`,children:["DB: ",y.charAt(0).toUpperCase()+y.slice(1)]}),j&&o.jsxs("div",{className:"text-xs text-gray-500",children:["Last Sync: ",new Date(j).toLocaleString()]})]}),o.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:o.jsx(Yo,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"text",value:l,onChange:b=>c(b.target.value),className:"block w-full pl-12 pr-12 py-4 border-0 rounded-xl bg-gray-50/50 placeholder-gray-500 focus:ring-2 focus:ring-purple-500 focus:bg-white transition-all duration-300 text-lg",placeholder:"Search companies, users, or events..."}),f&&o.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:o.jsx("div",{className:"w-5 h-5 border-2 border-purple-300 border-t-purple-600 rounded-full animate-spin"})})]}),x&&o.jsxs("div",{className:"mt-6 space-y-6",children:[x.companies.length>0&&o.jsxs("div",{className:"animate-fade-in",children:[o.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[o.jsx(Rn,{className:"h-5 w-5 text-blue-500 mr-2"}),"Companies"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:x.companies.map(b=>o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl border border-blue-100 hover:shadow-md transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg mr-3",children:o.jsx(Rn,{className:"h-4 w-4 text-white"})}),o.jsx("span",{className:"font-medium text-gray-900",children:b.name})]}),o.jsx("span",{className:"text-sm text-gray-500 bg-white px-3 py-1 rounded-full",children:new Date(b.created_at).toLocaleDateString()})]},b.id))})]}),x.users.length>0&&o.jsxs("div",{className:"animate-fade-in",children:[o.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[o.jsx(pt,{className:"h-5 w-5 text-green-500 mr-2"}),"Users"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:x.users.map(b=>o.jsx("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-100 hover:shadow-md transition-all duration-300",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg mr-3",children:o.jsx(pt,{className:"h-4 w-4 text-white"})}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-900 block",children:b.email}),o.jsx("span",{className:"text-sm text-gray-500",children:b.company.name})]})]})},b.id))})]}),x.events.length>0&&o.jsxs("div",{className:"animate-fade-in",children:[o.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[o.jsx(Rt,{className:"h-5 w-5 text-purple-500 mr-2"}),"Events"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:x.events.map(b=>o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-100 hover:shadow-md transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg mr-3",children:o.jsx(Rt,{className:"h-4 w-4 text-white"})}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-gray-900 block",children:b.name}),o.jsx("span",{className:"text-sm text-gray-500",children:b.company.name})]})]}),b.date&&o.jsx("span",{className:"text-sm text-gray-500 bg-white px-3 py-1 rounded-full",children:new Date(b.date).toLocaleDateString()})]},b.id))})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-md border p-6 card-hover",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 bg-blue-600 rounded-lg mr-4",children:o.jsx(Rn,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:t.totalCompanies}),o.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Companies"}),t.monthlyGrowth.companies>0&&o.jsxs("div",{className:"text-xs text-green-600 flex items-center mt-1",children:[o.jsx(Io,{className:"h-3 w-3 mr-1"}),"+",t.monthlyGrowth.companies," this month"]})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md border p-6 card-hover",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 bg-green-600 rounded-lg mr-4",children:o.jsx(Rt,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:t.totalEvents}),o.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Events"}),t.monthlyGrowth.events>0&&o.jsxs("div",{className:"text-xs text-green-600 flex items-center mt-1",children:[o.jsx(Io,{className:"h-3 w-3 mr-1"}),"+",t.monthlyGrowth.events," this month"]})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md border p-6 card-hover",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 bg-purple-600 rounded-lg mr-4",children:o.jsx(pt,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:t.totalAttendees}),o.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Attendees"}),t.monthlyGrowth.attendees>0&&o.jsxs("div",{className:"text-xs text-green-600 flex items-center mt-1",children:[o.jsx(Io,{className:"h-3 w-3 mr-1"}),"+",t.monthlyGrowth.attendees," this month"]})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md border p-6 card-hover",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 bg-orange-600 rounded-lg mr-4",children:o.jsx(dc,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:t.totalCheckedIn}),o.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Check-ins"}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:t.totalAttendees>0?`${Math.round(t.totalCheckedIn/t.totalAttendees*100)}% rate`:"0% rate"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md border p-6 card-hover",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 bg-indigo-600 rounded-lg mr-4",children:o.jsx(dB,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:t.totalUsers}),o.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Users"}),t.monthlyGrowth.users>0&&o.jsxs("div",{className:"text-xs text-green-600 flex items-center mt-1",children:[o.jsx(Io,{className:"h-3 w-3 mr-1"}),"+",t.monthlyGrowth.users," this month"]})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[o.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg mr-3",children:o.jsx(qB,{className:"h-6 w-6 text-white"})}),"System Management"]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(bn,{to:"/admin/companies",className:"group p-6 border-2 border-gray-100 rounded-xl hover:border-blue-300 hover:bg-gradient-to-br hover:from-blue-50 hover:to-cyan-50 transition-all duration-300 card-hover",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl shadow-lg mr-4 group-hover:scale-110 transition-transform duration-300",children:o.jsx(Rn,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900 text-lg",children:"Companies"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Manage organizations"})]})]})}),o.jsx(bn,{to:"/admin/progress",className:"group p-6 border-2 border-gray-100 rounded-xl hover:border-green-300 hover:bg-gradient-to-br hover:from-green-50 hover:to-emerald-50 transition-all duration-300 card-hover",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl shadow-lg mr-4 group-hover:scale-110 transition-transform duration-300",children:o.jsx(M7,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900 text-lg",children:"Analytics"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Monthly progress"})]})]})})]})]}),o.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[o.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg mr-3",children:o.jsx(Rt,{className:"h-6 w-6 text-white"})}),"Recent Events"]}),o.jsxs(bn,{to:"/admin/events",className:"text-purple-600 hover:text-purple-700 flex items-center text-sm font-medium bg-purple-50 px-3 py-2 rounded-lg hover:bg-purple-100 transition-all duration-300",children:["View All ",o.jsx(px,{className:"h-4 w-4 ml-1"})]})]}),o.jsxs("div",{className:"space-y-3",children:[t.recentEvents.map((b,F)=>o.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-gray-50 to-white rounded-xl border border-gray-100 hover:shadow-md transition-all duration-300 animate-slide-in",style:{animationDelay:`${F*.1}s`},children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:b.name}),o.jsx("div",{className:"text-sm text-gray-600",children:b.company.name}),b.date&&o.jsx("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full mt-1 inline-block",children:new Date(b.date).toLocaleDateString()})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[b.checked_in_count,"/",b.attendee_count]}),o.jsx("div",{className:"text-xs text-gray-500",children:"checked in"}),o.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mt-1",children:o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-2 rounded-full transition-all duration-500",style:{width:`${b.attendee_count>0?b.checked_in_count/b.attendee_count*100:0}%`}})})]})]},b.id)),t.recentEvents.length===0&&o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Rt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{className:"font-medium",children:"No recent events"})]})]})]}),o.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[o.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-lg mr-3",children:o.jsx(pt,{className:"h-6 w-6 text-white"})}),"Recent Users"]}),o.jsxs(bn,{to:"/admin/companies",className:"text-indigo-600 hover:text-indigo-700 flex items-center text-sm font-medium bg-indigo-50 px-3 py-2 rounded-lg hover:bg-indigo-100 transition-all duration-300",children:["View All ",o.jsx(px,{className:"h-4 w-4 ml-1"})]})]}),o.jsxs("div",{className:"space-y-3",children:[t.recentUsers.map((b,F)=>o.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-gray-50 to-white rounded-xl border border-gray-100 hover:shadow-md transition-all duration-300 animate-slide-in",style:{animationDelay:`${F*.1}s`},children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:b.email}),o.jsx("div",{className:"text-sm text-gray-600",children:b.company.name})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:new Date(b.created_at).toLocaleDateString()}),b.last_sign_in_at&&o.jsxs("div",{className:"text-xs text-green-600 flex items-center mt-1",children:[o.jsx(eE,{className:"h-3 w-3 mr-1"}),"Active"]})]})]},b.id)),t.recentUsers.length===0&&o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(pt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{className:"font-medium",children:"No recent users"})]})]})]})]})]}):e&&r?o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:"p-3 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl shadow-lg",children:o.jsx(ZB,{className:"h-8 w-8 text-white"})})}),o.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-2",children:"Welcome Back!"}),o.jsxs("p",{className:"text-gray-600 text-lg",children:[o.jsx("span",{className:"font-semibold text-indigo-600",children:e.company.name})," Dashboard"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-md border p-6 card-hover",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 bg-blue-600 rounded-lg mr-4",children:o.jsx(Rt,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.totalEvents}),o.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Total Events"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md border p-6 card-hover",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 bg-green-600 rounded-lg mr-4",children:o.jsx(pt,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.totalAttendees}),o.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Total Attendees"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md border p-6 card-hover",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 bg-purple-600 rounded-lg mr-4",children:o.jsx(dc,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.totalCheckedIn}),o.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Total Check-ins"}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:r.totalAttendees>0?`${Math.round(r.totalCheckedIn/r.totalAttendees*100)}% rate`:"0% rate"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md border p-6 card-hover",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 bg-orange-600 rounded-lg mr-4",children:o.jsx(Io,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.upcomingEvents}),o.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Upcoming Events"})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6",children:[o.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[o.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-lg mr-3",children:o.jsx(m3,{className:"h-6 w-6 text-white"})}),"Quick Actions"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.quickActions.map((b,F)=>{const k=b.icon;return o.jsxs(bn,{to:b.path,className:"group p-6 border-2 border-gray-100 rounded-xl hover:border-transparent hover:shadow-xl transition-all duration-300 card-hover animate-scale-in",style:{animationDelay:`${F*.1}s`},children:[o.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${b.gradient} rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300 shadow-lg`,children:o.jsx(k,{className:"h-6 w-6 text-white"})}),o.jsx("div",{className:"font-semibold text-gray-900 text-lg mb-1",children:b.name}),o.jsx("div",{className:"text-sm text-gray-600",children:b.description})]},b.name)})})]}),o.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h2",{className:"text-2xl font-semibold flex items-center",children:[o.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg mr-3",children:o.jsx(Rt,{className:"h-6 w-6 text-white"})}),"Recent Events"]}),o.jsxs(bn,{to:"/admin/events",className:"text-green-600 hover:text-green-700 flex items-center text-sm font-medium bg-green-50 px-3 py-2 rounded-lg hover:bg-green-100 transition-all duration-300",children:["View All ",o.jsx(px,{className:"h-4 w-4 ml-1"})]})]}),o.jsxs("div",{className:"space-y-4",children:[r.recentEvents.map((b,F)=>o.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-gray-50 to-white rounded-xl border border-gray-100 hover:shadow-md transition-all duration-300 animate-slide-in",style:{animationDelay:`${F*.1}s`},children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900 text-lg",children:b.name}),b.date&&o.jsx("div",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full mt-1 inline-block",children:new Date(b.date).toLocaleDateString()})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[b.checked_in_count,"/",b.attendee_count]}),o.jsx("div",{className:"text-xs text-gray-500",children:"attendees"}),o.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mt-1",children:o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-2 rounded-full transition-all duration-500",style:{width:`${b.attendee_count>0?b.checked_in_count/b.attendee_count*100:0}%`}})})]})]},b.id)),r.recentEvents.length===0&&o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Rt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{className:"font-medium",children:"No events yet"}),o.jsx(bn,{to:"/admin/events",className:"text-green-600 hover:text-green-700 text-sm font-medium bg-green-50 px-4 py-2 rounded-lg hover:bg-green-100 transition-all duration-300 inline-block mt-2",children:"Create your first event"})]})]})]})]}),o.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6",children:[o.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[o.jsx("div",{className:"p-2 bg-gradient-to-br from-pink-500 to-rose-500 rounded-lg mr-3",children:o.jsx(rE,{className:"h-6 w-6 text-white"})}),"Event Tools & Monitors"]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs(bn,{to:"/admin/lucky-draw",className:"group p-6 text-center border-2 border-gray-100 rounded-xl hover:border-yellow-300 hover:bg-gradient-to-br hover:from-yellow-50 hover:to-orange-50 transition-all duration-300 card-hover",children:[o.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl shadow-lg mx-auto mb-3 w-fit group-hover:scale-110 transition-transform duration-300",children:o.jsx(oo,{className:"h-8 w-8 text-white"})}),o.jsx("div",{className:"font-semibold text-gray-900",children:"Lucky Draw"}),o.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Random winner selection"})]}),o.jsxs(bn,{to:"/admin/welcome-monitor",className:"group p-6 text-center border-2 border-gray-100 rounded-xl hover:border-blue-300 hover:bg-gradient-to-br hover:from-blue-50 hover:to-cyan-50 transition-all duration-300 card-hover",children:[o.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl shadow-lg mx-auto mb-3 w-fit group-hover:scale-110 transition-transform duration-300",children:o.jsx(pi,{className:"h-8 w-8 text-white"})}),o.jsx("div",{className:"font-semibold text-gray-900",children:"Welcome Monitor"}),o.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Live check-in display"})]}),o.jsxs(bn,{to:"/admin/voting-monitor",className:"group p-6 text-center border-2 border-gray-100 rounded-xl hover:border-purple-300 hover:bg-gradient-to-br hover:from-purple-50 hover:to-pink-50 transition-all duration-300 card-hover",children:[o.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl shadow-lg mx-auto mb-3 w-fit group-hover:scale-110 transition-transform duration-300",children:o.jsx(Fs,{className:"h-8 w-8 text-white"})}),o.jsx("div",{className:"font-semibold text-gray-900",children:"Voting Monitor"}),o.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Live voting results"})]}),o.jsxs(bn,{to:"/admin/progress",className:"group p-6 text-center border-2 border-gray-100 rounded-xl hover:border-green-300 hover:bg-gradient-to-br hover:from-green-50 hover:to-emerald-50 transition-all duration-300 card-hover",children:[o.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl shadow-lg mx-auto mb-3 w-fit group-hover:scale-110 transition-transform duration-300",children:o.jsx(Q7,{className:"h-8 w-8 text-white"})}),o.jsx("div",{className:"font-semibold text-gray-900",children:"Analytics"}),o.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Performance insights"})]})]})]})]}):null}function sA(e){let t=0;for(let r=0;r<e.length;r++)t=e.charCodeAt(r)+((t<<5)-t);return`#${(t>>24&255).toString(16).padStart(2,"0")}${(t>>16&255).toString(16).padStart(2,"0")}${(t>>8&255).toString(16).padStart(2,"0")}`}function oA(){const[e,t]=B.useState([]),[n,r]=B.useState([]),[s,i]=B.useState(!1),[a,l]=B.useState(!1),[c,x]=B.useState(null),[d,f]=B.useState(""),[m,y]=B.useState({email:"",password:"",company_id:""}),[C,A]=B.useState(!0),[j,v]=B.useState({name:"",person_in_charge:"",contact_number:"",email:"",logo:""}),[E,g]=B.useState(!1);B.useEffect(()=>{b(),F()},[]);const b=async()=>{try{const{data:H,error:Z}=await le.from("companies").select("*").order("created_at",{ascending:!1});if(Z)throw Z;const R=await Promise.all(H.map(async P=>{const{data:T}=await le.from("events").select("id").eq("company_id",P.id),{data:V}=await le.from("attendees").select("id").in("event_id",(T==null?void 0:T.map(te=>te.id))||[]);return{...P,event_count:(T==null?void 0:T.length)||0,attendee_count:(V==null?void 0:V.length)||0}}));t(R)}catch(H){Q.error("Error fetching companies: "+H.message)}finally{A(!1)}},F=async()=>{try{const{data:H,error:Z}=await le.from("company_users").select(`
          *,
          company:companies(name)
        `).order("created_at",{ascending:!1});if(Z)throw Z;r(H||[])}catch(H){console.error("Error fetching company users:",H)}},k=async H=>{if(H.preventDefault(),!!j.name.trim())try{const{error:Z}=await le.from("companies").insert([{...j}]);if(Z)throw Z;Q.success("Company created successfully!"),v({name:"",person_in_charge:"",contact_number:"",email:"",logo:""}),i(!1),b()}catch(Z){Q.error("Error creating company: "+Z.message)}},N=async H=>{if(H.preventDefault(),!(!j.name.trim()||!c))try{const{error:Z}=await le.from("companies").update({...j}).eq("id",c.id);if(Z)throw Z;Q.success("Company updated successfully!"),v({name:"",person_in_charge:"",contact_number:"",email:"",logo:""}),x(null),i(!1),b()}catch(Z){Q.error("Error updating company: "+Z.message)}},S=async H=>{if(confirm("Are you sure you want to delete this company? This will also delete all events and attendees."))try{const{error:Z}=await le.from("companies").delete().eq("id",H);if(Z)throw Z;Q.success("Company deleted successfully!"),b(),F()}catch(Z){Q.error("Error deleting company: "+Z.message)}},O=H=>{x(H),v({name:H.name||"",person_in_charge:H.person_in_charge||"",contact_number:H.contact_number||"",email:H.email||"",logo:H.logo||""}),i(!0)},$=async H=>{if(H.preventDefault(),!(!m.email.trim()||!m.password.trim()||!m.company_id))try{const{data:{session:Z}}=await le.auth.getSession();if(!Z)throw new Error("Not authenticated");const R=await fetch("https://yoxgdfyhxbqeofslxtdc.supabase.co/functions/v1/create-company-user",{method:"POST",headers:{Authorization:`Bearer ${Z.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({email:m.email,password:m.password,company_id:m.company_id})}),P=await R.json();if(!R.ok)throw new Error(P.error||"Failed to create user");Q.success("Company user created successfully!"),y({email:"",password:"",company_id:""}),l(!1),F()}catch(Z){Q.error("Error creating user: "+Z.message)}},M=async H=>{if(confirm("Are you sure you want to delete this user?"))try{const{error:Z}=await le.from("company_users").delete().eq("id",H);if(Z)throw Z;Q.success("User deleted successfully!"),F()}catch(Z){Q.error("Error deleting user: "+Z.message)}},G=()=>{f(""),x(null),i(!1)},K=async H=>{var R;const Z=(R=H.target.files)==null?void 0:R[0];if(Z){g(!0);try{const P=Z.name.split(".").pop(),T=`logo/${crypto.randomUUID()}.${P}`,{data:V,error:te}=await le.storage.from("bucket").upload(T,Z,{cacheControl:"3600",upsert:!0});if(te)throw te;const{data:L}=le.storage.from("bucket").getPublicUrl(T),W=L.publicUrl;v({...j,logo:W});const ce=new FileReader;ce.onload=async he=>{var we;const je=(we=he.target)==null?void 0:we.result;await wr.table("company_logos").put({id:T,base64:je})},ce.readAsDataURL(Z),Q.success("Logo uploaded!")}catch(P){Q.error("Error uploading logo: "+P.message)}finally{g(!1)}}};return C?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Company Management"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Manage companies, events, and user access"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs("button",{onClick:()=>l(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[o.jsx(Fg,{className:"h-5 w-5 mr-2"}),"Add User"]}),o.jsxs("button",{onClick:()=>i(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[o.jsx(Cr,{className:"h-5 w-5 mr-2"}),"Add Company"]})]})]}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:["        ",e.map(H=>{const Z=n.filter(R=>R.company_id===H.id);return o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Rn,{className:"h-8 w-8 text-blue-600 mr-3"}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx("span",{className:"inline-block w-4 h-4 rounded-full mr-2 border border-gray-300",style:{backgroundColor:sA(H.id)},title:"Company Color"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:H.name})]}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Created ",new Date(H.created_at).toLocaleDateString()]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>O(H),className:"text-gray-400 hover:text-blue-600 transition-colors",children:o.jsx(pl,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>S(H.id),className:"text-gray-400 hover:text-red-600 transition-colors",children:o.jsx(Ns,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center text-gray-600",children:[o.jsx(Rt,{className:"h-5 w-5 mr-2"}),o.jsxs("span",{children:[H.event_count," Events"]})]}),o.jsxs("div",{className:"flex items-center text-gray-600",children:[o.jsx(pt,{className:"h-5 w-5 mr-2"}),o.jsxs("span",{children:[H.attendee_count," Total Attendees"]})]}),o.jsxs("div",{className:"flex items-center text-gray-600",children:[o.jsx(Fg,{className:"h-5 w-5 mr-2"}),o.jsxs("span",{children:[Z.length," Users"]})]})]}),Z.length>0&&o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Company Users"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Z.map(R=>o.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900 text-sm",children:R.email}),o.jsx("div",{className:"text-xs text-gray-500",children:new Date(R.created_at).toLocaleDateString()})]}),o.jsx("button",{onClick:()=>M(R.id),className:"text-gray-400 hover:text-red-600 transition-colors",children:o.jsx(Ns,{className:"h-3 w-3"})})]})},R.id))})]})]},H.id)})]})}),e.length===0&&n.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Rn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No companies found"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by creating your first company"}),o.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Company"})]}),a&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create Company User"}),o.jsxs("form",{onSubmit:$,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company *"}),o.jsxs("select",{value:m.company_id,onChange:H=>y({...m,company_id:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"",children:"Select a company"}),e.map(H=>o.jsx("option",{value:H.id,children:H.name},H.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),o.jsx("input",{type:"email",value:m.email,onChange:H=>y({...m,email:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email address",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),o.jsx("input",{type:"password",value:m.password,onChange:H=>y({...m,password:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password",required:!0,minLength:6})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create User"})]})]})]})}),o.jsx("div",{className:"hidden",children:e.map(H=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(Rn,{className:"h-8 w-8 text-blue-600 mr-3"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:H.name})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center text-gray-600",children:[o.jsx(Rt,{className:"h-5 w-5 mr-2"}),o.jsxs("span",{children:[H.event_count," Events"]})]}),o.jsxs("div",{className:"flex items-center text-gray-600",children:[o.jsx(pt,{className:"h-5 w-5 mr-2"}),o.jsxs("span",{children:[H.attendee_count," Total Attendees"]})]})]}),o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:o.jsxs("p",{className:"text-sm text-gray-500",children:["Created ",new Date(H.created_at).toLocaleDateString()]})})]},H.id))}),s&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:c?"Edit Company":"Create New Company"}),o.jsxs("form",{onSubmit:c?N:k,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),o.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded",value:j.name,onChange:H=>v({...j,name:H.target.value}),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Person in Charge"}),o.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded",value:j.person_in_charge,onChange:H=>v({...j,person_in_charge:H.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number"}),o.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded",value:j.contact_number,onChange:H=>v({...j,contact_number:H.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),o.jsx("input",{type:"email",className:"w-full px-3 py-2 border rounded",value:j.email,onChange:H=>v({...j,email:H.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo"}),o.jsx("input",{type:"file",accept:"image/*",onChange:K,disabled:E}),E&&o.jsx("div",{className:"text-xs text-blue-500 mt-1",children:"Uploading..."}),j.logo&&o.jsx("img",{src:Ut(j.logo),alt:"Logo Preview",className:"w-12 h-12 rounded-full object-cover mt-2"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:G,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:c?"Update Company":"Create Company"})]})]})]})})]})}var mr={},iA=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},dE={},$n={};let Ff;const aA=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];$n.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};$n.getSymbolTotalCodewords=function(t){return aA[t]};$n.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};$n.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Ff=t};$n.isKanjiModeEnabled=function(){return typeof Ff<"u"};$n.toSJIS=function(t){return Ff(t)};var Xc={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,s){if(e.isValid(r))return r;try{return t(r)}catch{return s}}})(Xc);function hE(){this.buffer=[],this.length=0}hE.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var lA=hE;function gl(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}gl.prototype.set=function(e,t,n,r){const s=e*this.size+t;this.data[s]=n,r&&(this.reservedBit[s]=!0)};gl.prototype.get=function(e,t){return this.data[e*this.size+t]};gl.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};gl.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var cA=gl,fE={};(function(e){const t=$n.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=t(r),a=i===145?26:Math.ceil((i-13)/(2*s-2))*2,l=[i-7];for(let c=1;c<s-1;c++)l[c]=l[c-1]-a;return l.push(6),l.reverse()},e.getPositions=function(r){const s=[],i=e.getRowColCoords(r),a=i.length;for(let l=0;l<a;l++)for(let c=0;c<a;c++)l===0&&c===0||l===0&&c===a-1||l===a-1&&c===0||s.push([i[l],i[c]]);return s}})(fE);var mE={};const uA=$n.getSymbolSize,Tg=7;mE.getPositions=function(t){const n=uA(t);return[[0,0],[n-Tg,0],[0,n-Tg]]};var pE={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const i=s.size;let a=0,l=0,c=0,x=null,d=null;for(let f=0;f<i;f++){l=c=0,x=d=null;for(let m=0;m<i;m++){let y=s.get(f,m);y===x?l++:(l>=5&&(a+=t.N1+(l-5)),x=y,l=1),y=s.get(m,f),y===d?c++:(c>=5&&(a+=t.N1+(c-5)),d=y,c=1)}l>=5&&(a+=t.N1+(l-5)),c>=5&&(a+=t.N1+(c-5))}return a},e.getPenaltyN2=function(s){const i=s.size;let a=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const x=s.get(l,c)+s.get(l,c+1)+s.get(l+1,c)+s.get(l+1,c+1);(x===4||x===0)&&a++}return a*t.N2},e.getPenaltyN3=function(s){const i=s.size;let a=0,l=0,c=0;for(let x=0;x<i;x++){l=c=0;for(let d=0;d<i;d++)l=l<<1&2047|s.get(x,d),d>=10&&(l===1488||l===93)&&a++,c=c<<1&2047|s.get(d,x),d>=10&&(c===1488||c===93)&&a++}return a*t.N3},e.getPenaltyN4=function(s){let i=0;const a=s.data.length;for(let c=0;c<a;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/a/5)-10)*t.N4};function n(r,s,i){switch(r){case e.Patterns.PATTERN000:return(s+i)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(s+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return s*i%2+s*i%3===0;case e.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case e.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(s,i){const a=i.size;for(let l=0;l<a;l++)for(let c=0;c<a;c++)i.isReserved(c,l)||i.xor(c,l,n(s,c,l))},e.getBestMask=function(s,i){const a=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let x=0;x<a;x++){i(x),e.applyMask(x,s);const d=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(x,s),d<c&&(c=d,l=x)}return l}})(pE);var Jc={};const ys=Xc,d0=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],h0=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Jc.getBlocksCount=function(t,n){switch(n){case ys.L:return d0[(t-1)*4+0];case ys.M:return d0[(t-1)*4+1];case ys.Q:return d0[(t-1)*4+2];case ys.H:return d0[(t-1)*4+3];default:return}};Jc.getTotalCodewordsCount=function(t,n){switch(n){case ys.L:return h0[(t-1)*4+0];case ys.M:return h0[(t-1)*4+1];case ys.Q:return h0[(t-1)*4+2];case ys.H:return h0[(t-1)*4+3];default:return}};var gE={},Zc={};const Aa=new Uint8Array(512),fc=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)Aa[n]=t,fc[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)Aa[n]=Aa[n-255]})();Zc.log=function(t){if(t<1)throw new Error("log("+t+")");return fc[t]};Zc.exp=function(t){return Aa[t]};Zc.mul=function(t,n){return t===0||n===0?0:Aa[fc[t]+fc[n]]};(function(e){const t=Zc;e.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let a=0;a<r.length;a++)for(let l=0;l<s.length;l++)i[a+l]^=t.mul(r[a],s[l]);return i},e.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const a=i[0];for(let c=0;c<s.length;c++)i[c]^=t.mul(s[c],a);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},e.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=e.mul(s,new Uint8Array([1,t.exp(i)]));return s}})(gE);const yE=gE;function kf(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}kf.prototype.initialize=function(t){this.degree=t,this.genPoly=yE.generateECPolynomial(this.degree)};kf.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=yE.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var xA=kf,vE={},Ls={},jf={};jf.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var jr={};const EE="[0-9]+",dA="[A-Z $%*+\\-./:]+";let Xa="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Xa=Xa.replace(/u/g,"\\u");const hA="(?:(?![A-Z0-9 $%*+\\-./:]|"+Xa+`)(?:.|[\r
]))+`;jr.KANJI=new RegExp(Xa,"g");jr.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");jr.BYTE=new RegExp(hA,"g");jr.NUMERIC=new RegExp(EE,"g");jr.ALPHANUMERIC=new RegExp(dA,"g");const fA=new RegExp("^"+Xa+"$"),mA=new RegExp("^"+EE+"$"),pA=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");jr.testKanji=function(t){return fA.test(t)};jr.testNumeric=function(t){return mA.test(t)};jr.testAlphanumeric=function(t){return pA.test(t)};(function(e){const t=jf,n=jr;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,a){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?i.ccBits[0]:a<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return n.testNumeric(i)?e.NUMERIC:n.testAlphanumeric(i)?e.ALPHANUMERIC:n.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(i,a){if(e.isValid(i))return i;try{return r(i)}catch{return a}}})(Ls);(function(e){const t=$n,n=Jc,r=Xc,s=Ls,i=jf,a=7973,l=t.getBCHDigit(a);function c(m,y,C){for(let A=1;A<=40;A++)if(y<=e.getCapacity(A,C,m))return A}function x(m,y){return s.getCharCountIndicator(m,y)+4}function d(m,y){let C=0;return m.forEach(function(A){const j=x(A.mode,y);C+=j+A.getBitsLength()}),C}function f(m,y){for(let C=1;C<=40;C++)if(d(m,C)<=e.getCapacity(C,y,s.MIXED))return C}e.from=function(y,C){return i.isValid(y)?parseInt(y,10):C},e.getCapacity=function(y,C,A){if(!i.isValid(y))throw new Error("Invalid QR Code version");typeof A>"u"&&(A=s.BYTE);const j=t.getSymbolTotalCodewords(y),v=n.getTotalCodewordsCount(y,C),E=(j-v)*8;if(A===s.MIXED)return E;const g=E-x(A,y);switch(A){case s.NUMERIC:return Math.floor(g/10*3);case s.ALPHANUMERIC:return Math.floor(g/11*2);case s.KANJI:return Math.floor(g/13);case s.BYTE:default:return Math.floor(g/8)}},e.getBestVersionForData=function(y,C){let A;const j=r.from(C,r.M);if(Array.isArray(y)){if(y.length>1)return f(y,j);if(y.length===0)return 1;A=y[0]}else A=y;return c(A.mode,A.getLength(),j)},e.getEncodedBits=function(y){if(!i.isValid(y)||y<7)throw new Error("Invalid QR Code version");let C=y<<12;for(;t.getBCHDigit(C)-l>=0;)C^=a<<t.getBCHDigit(C)-l;return y<<12|C}})(vE);var bE={};const Kd=$n,CE=1335,gA=21522,Rg=Kd.getBCHDigit(CE);bE.getEncodedBits=function(t,n){const r=t.bit<<3|n;let s=r<<10;for(;Kd.getBCHDigit(s)-Rg>=0;)s^=CE<<Kd.getBCHDigit(s)-Rg;return(r<<10|s)^gA};var wE={};const yA=Ls;function vi(e){this.mode=yA.NUMERIC,this.data=e.toString()}vi.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};vi.prototype.getLength=function(){return this.data.length};vi.prototype.getBitsLength=function(){return vi.getBitsLength(this.data.length)};vi.prototype.write=function(t){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),t.put(s,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),s=parseInt(r,10),t.put(s,i*3+1))};var vA=vi;const EA=Ls,vx=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ei(e){this.mode=EA.ALPHANUMERIC,this.data=e}Ei.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Ei.prototype.getLength=function(){return this.data.length};Ei.prototype.getBitsLength=function(){return Ei.getBitsLength(this.data.length)};Ei.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=vx.indexOf(this.data[n])*45;r+=vx.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(vx.indexOf(this.data[n]),6)};var bA=Ei;const CA=Ls;function bi(e){this.mode=CA.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}bi.getBitsLength=function(t){return t*8};bi.prototype.getLength=function(){return this.data.length};bi.prototype.getBitsLength=function(){return bi.getBitsLength(this.data.length)};bi.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var wA=bi;const BA=Ls,AA=$n;function Ci(e){this.mode=BA.KANJI,this.data=e}Ci.getBitsLength=function(t){return t*13};Ci.prototype.getLength=function(){return this.data.length};Ci.prototype.getBitsLength=function(){return Ci.getBitsLength(this.data.length)};Ci.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=AA.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var DA=Ci,BE={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,s){var i={},a={};a[r]=0;var l=t.PriorityQueue.make();l.push(r,0);for(var c,x,d,f,m,y,C,A,j;!l.empty();){c=l.pop(),x=c.value,f=c.cost,m=n[x]||{};for(d in m)m.hasOwnProperty(d)&&(y=m[d],C=f+y,A=a[d],j=typeof a[d]>"u",(j||A>C)&&(a[d]=C,l.push(d,C),i[d]=x))}if(typeof s<"u"&&typeof a[s]>"u"){var v=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(v)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=t.single_source_shortest_paths(n,r,s);return t.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(BE);var FA=BE.exports;(function(e){const t=Ls,n=vA,r=bA,s=wA,i=DA,a=jr,l=$n,c=FA;function x(v){return unescape(encodeURIComponent(v)).length}function d(v,E,g){const b=[];let F;for(;(F=v.exec(g))!==null;)b.push({data:F[0],index:F.index,mode:E,length:F[0].length});return b}function f(v){const E=d(a.NUMERIC,t.NUMERIC,v),g=d(a.ALPHANUMERIC,t.ALPHANUMERIC,v);let b,F;return l.isKanjiModeEnabled()?(b=d(a.BYTE,t.BYTE,v),F=d(a.KANJI,t.KANJI,v)):(b=d(a.BYTE_KANJI,t.BYTE,v),F=[]),E.concat(g,b,F).sort(function(N,S){return N.index-S.index}).map(function(N){return{data:N.data,mode:N.mode,length:N.length}})}function m(v,E){switch(E){case t.NUMERIC:return n.getBitsLength(v);case t.ALPHANUMERIC:return r.getBitsLength(v);case t.KANJI:return i.getBitsLength(v);case t.BYTE:return s.getBitsLength(v)}}function y(v){return v.reduce(function(E,g){const b=E.length-1>=0?E[E.length-1]:null;return b&&b.mode===g.mode?(E[E.length-1].data+=g.data,E):(E.push(g),E)},[])}function C(v){const E=[];for(let g=0;g<v.length;g++){const b=v[g];switch(b.mode){case t.NUMERIC:E.push([b,{data:b.data,mode:t.ALPHANUMERIC,length:b.length},{data:b.data,mode:t.BYTE,length:b.length}]);break;case t.ALPHANUMERIC:E.push([b,{data:b.data,mode:t.BYTE,length:b.length}]);break;case t.KANJI:E.push([b,{data:b.data,mode:t.BYTE,length:x(b.data)}]);break;case t.BYTE:E.push([{data:b.data,mode:t.BYTE,length:x(b.data)}])}}return E}function A(v,E){const g={},b={start:{}};let F=["start"];for(let k=0;k<v.length;k++){const N=v[k],S=[];for(let O=0;O<N.length;O++){const $=N[O],M=""+k+O;S.push(M),g[M]={node:$,lastCount:0},b[M]={};for(let G=0;G<F.length;G++){const K=F[G];g[K]&&g[K].node.mode===$.mode?(b[K][M]=m(g[K].lastCount+$.length,$.mode)-m(g[K].lastCount,$.mode),g[K].lastCount+=$.length):(g[K]&&(g[K].lastCount=$.length),b[K][M]=m($.length,$.mode)+4+t.getCharCountIndicator($.mode,E))}}F=S}for(let k=0;k<F.length;k++)b[F[k]].end=0;return{map:b,table:g}}function j(v,E){let g;const b=t.getBestModeForData(v);if(g=t.from(E,b),g!==t.BYTE&&g.bit<b.bit)throw new Error('"'+v+'" cannot be encoded with mode '+t.toString(g)+`.
 Suggested mode is: `+t.toString(b));switch(g===t.KANJI&&!l.isKanjiModeEnabled()&&(g=t.BYTE),g){case t.NUMERIC:return new n(v);case t.ALPHANUMERIC:return new r(v);case t.KANJI:return new i(v);case t.BYTE:return new s(v)}}e.fromArray=function(E){return E.reduce(function(g,b){return typeof b=="string"?g.push(j(b,null)):b.data&&g.push(j(b.data,b.mode)),g},[])},e.fromString=function(E,g){const b=f(E,l.isKanjiModeEnabled()),F=C(b),k=A(F,g),N=c.find_path(k.map,"start","end"),S=[];for(let O=1;O<N.length-1;O++)S.push(k.table[N[O]].node);return e.fromArray(y(S))},e.rawSplit=function(E){return e.fromArray(f(E,l.isKanjiModeEnabled()))}})(wE);const eu=$n,Ex=Xc,kA=lA,jA=cA,NA=fE,_A=mE,Hd=pE,Gd=Jc,SA=xA,mc=vE,PA=bE,TA=Ls,bx=wE;function RA(e,t){const n=e.size,r=_A.getPositions(t);for(let s=0;s<r.length;s++){const i=r[s][0],a=r[s][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||n<=i+l))for(let c=-1;c<=7;c++)a+c<=-1||n<=a+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(i+l,a+c,!0,!0):e.set(i+l,a+c,!1,!0))}}function MA(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function IA(e,t){const n=NA.getPositions(t);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let a=-2;a<=2;a++)for(let l=-2;l<=2;l++)a===-2||a===2||l===-2||l===2||a===0&&l===0?e.set(s+a,i+l,!0,!0):e.set(s+a,i+l,!1,!0)}}function LA(e,t){const n=e.size,r=mc.getEncodedBits(t);let s,i,a;for(let l=0;l<18;l++)s=Math.floor(l/3),i=l%3+n-8-3,a=(r>>l&1)===1,e.set(s,i,a,!0),e.set(i,s,a,!0)}function Cx(e,t,n){const r=e.size,s=PA.getEncodedBits(t,n);let i,a;for(i=0;i<15;i++)a=(s>>i&1)===1,i<6?e.set(i,8,a,!0):i<8?e.set(i+1,8,a,!0):e.set(r-15+i,8,a,!0),i<8?e.set(8,r-i-1,a,!0):i<9?e.set(8,15-i-1+1,a,!0):e.set(8,15-i-1,a,!0);e.set(r-8,8,1,!0)}function OA(e,t){const n=e.size;let r=-1,s=n-1,i=7,a=0;for(let l=n-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(s,l-c)){let x=!1;a<t.length&&(x=(t[a]>>>i&1)===1),e.set(s,l-c,x),i--,i===-1&&(a++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function $A(e,t,n){const r=new kA;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),TA.getCharCountIndicator(c.mode,e)),c.write(r)});const s=eu.getSymbolTotalCodewords(e),i=Gd.getTotalCodewordsCount(e,t),a=(s-i)*8;for(r.getLengthInBits()+4<=a&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const l=(a-r.getLengthInBits())/8;for(let c=0;c<l;c++)r.put(c%2?17:236,8);return UA(r,e,t)}function UA(e,t,n){const r=eu.getSymbolTotalCodewords(t),s=Gd.getTotalCodewordsCount(t,n),i=r-s,a=Gd.getBlocksCount(t,n),l=r%a,c=a-l,x=Math.floor(r/a),d=Math.floor(i/a),f=d+1,m=x-d,y=new SA(m);let C=0;const A=new Array(a),j=new Array(a);let v=0;const E=new Uint8Array(e.buffer);for(let N=0;N<a;N++){const S=N<c?d:f;A[N]=E.slice(C,C+S),j[N]=y.encode(A[N]),C+=S,v=Math.max(v,S)}const g=new Uint8Array(r);let b=0,F,k;for(F=0;F<v;F++)for(k=0;k<a;k++)F<A[k].length&&(g[b++]=A[k][F]);for(F=0;F<m;F++)for(k=0;k<a;k++)g[b++]=j[k][F];return g}function VA(e,t,n,r){let s;if(Array.isArray(e))s=bx.fromArray(e);else if(typeof e=="string"){let x=t;if(!x){const d=bx.rawSplit(e);x=mc.getBestVersionForData(d,n)}s=bx.fromString(e,x||40)}else throw new Error("Invalid data");const i=mc.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const a=$A(t,n,s),l=eu.getSymbolSize(t),c=new jA(l);return RA(c,t),MA(c),IA(c,t),Cx(c,n,0),t>=7&&LA(c,t),OA(c,a),isNaN(r)&&(r=Hd.getBestMask(c,Cx.bind(null,c,n))),Hd.applyMask(r,c),Cx(c,n,r),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:r,segments:s}}dE.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=Ex.M,s,i;return typeof n<"u"&&(r=Ex.from(n.errorCorrectionLevel,Ex.M),s=mc.from(n.version),i=Hd.from(n.maskPattern),n.toSJISFunc&&eu.setToSJISFunction(n.toSJISFunc)),VA(t,s,r,i)};var AE={},Nf={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:i,scale:i?4:a,margin:s,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},e.getImageWidth=function(r,s){const i=e.getScale(r,s);return Math.floor((r+s.margin*2)*i)},e.qrToImageData=function(r,s,i){const a=s.modules.size,l=s.modules.data,c=e.getScale(a,i),x=Math.floor((a+i.margin*2)*c),d=i.margin*c,f=[i.color.light,i.color.dark];for(let m=0;m<x;m++)for(let y=0;y<x;y++){let C=(m*x+y)*4,A=i.color.light;if(m>=d&&y>=d&&m<x-d&&y<x-d){const j=Math.floor((m-d)/c),v=Math.floor((y-d)/c);A=f[l[j*a+v]?1:0]}r[C++]=A.r,r[C++]=A.g,r[C++]=A.b,r[C]=A.a}}})(Nf);(function(e){const t=Nf;function n(s,i,a){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,a,l){let c=l,x=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(x=r()),c=t.getOptions(c);const d=t.getImageWidth(i.modules.size,c),f=x.getContext("2d"),m=f.createImageData(d,d);return t.qrToImageData(m.data,i,c),n(f,x,d),f.putImageData(m,0,0),x},e.renderToDataURL=function(i,a,l){let c=l;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const x=e.render(i,a,c),d=c.type||"image/png",f=c.rendererOpts||{};return x.toDataURL(d,f.quality)}})(AE);var DE={};const zA=Nf;function Mg(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function wx(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function qA(e,t,n){let r="",s=0,i=!1,a=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),x=Math.floor(l/t);!c&&!i&&(i=!0),e[l]?(a++,l>0&&c>0&&e[l-1]||(r+=i?wx("M",c+n,.5+x+n):wx("m",s,0),s=0,i=!1),c+1<t&&e[l+1]||(r+=wx("h",a),a=0)):s++}return r}DE.render=function(t,n,r){const s=zA.getOptions(n),i=t.modules.size,a=t.modules.data,l=i+s.margin*2,c=s.color.light.a?"<path "+Mg(s.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",x="<path "+Mg(s.color.dark,"stroke")+' d="'+qA(a,i,s.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+x+`</svg>
`;return typeof r=="function"&&r(null,m),m};const WA=iA,Qd=dE,FE=AE,KA=DE;function _f(e,t,n,r,s){const i=[].slice.call(arguments,1),a=i.length,l=typeof i[a-1]=="function";if(!l&&!WA())throw new Error("Callback required as last argument");if(l){if(a<2)throw new Error("Too few arguments provided");a===2?(s=n,n=t,t=r=void 0):a===3&&(t.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=t,t=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(n=t,t=r=void 0):a===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(c,x){try{const d=Qd.create(n,r);c(e(d,t,r))}catch(d){x(d)}})}try{const c=Qd.create(n,r);s(null,e(c,t,r))}catch(c){s(c)}}mr.create=Qd.create;mr.toCanvas=_f.bind(null,FE.render);mr.toDataURL=_f.bind(null,FE.renderToDataURL);mr.toString=_f.bind(null,function(e,t,n){return KA.render(e,n)});function HA(e){let t=0;for(let r=0;r<e.length;r++)t=e.charCodeAt(r)+((t<<5)-t);return`#${(t>>24&255).toString(16).padStart(2,"0")}${(t>>16&255).toString(16).padStart(2,"0")}${(t>>8&255).toString(16).padStart(2,"0")}`}const GA=async(e,t,n)=>{try{const r=e.name.split(".").pop(),s=`${n}_${Date.now()}.${r}`,i=`${t}/${s}`,{error:a}=await le.storage.from("event-assets").upload(i,e);return a?(console.error("Supabase upload error:",a),null):i}catch(r){return console.error("Error uploading to Supabase:",r),null}},QA=(e,t,n)=>{try{const r=e.name.split(".").pop(),s=`${t}_${n}_${Date.now()}.${r}`,i=URL.createObjectURL(e),a=`event_${t}_${n}`;return localStorage.setItem(a,JSON.stringify({url:i,fileName:s,timestamp:Date.now()})),i}catch(r){return console.error("Error storing file locally:",r),URL.createObjectURL(e)}};function YA({userCompany:e}){var $;const[t,n]=B.useState([]),[r,s]=B.useState([]),[i,a]=B.useState(!1),[l,c]=B.useState(null),[x,d]=B.useState(!0),[f,m]=B.useState(!1),[y,C]=B.useState({company_id:"",name:"",description:"",date:"",location:"",max_attendees:1e3,mode:"online",custom_background:"",custom_logo:""}),{getEvents:A}=nA();B.useEffect(()=>{j(),v()},[]);const j=async()=>{d(!0);try{const G=(await A(e?e.company_id:void 0)).map(K=>({...K,company:K.company&&K.company.name?K.company:{name:""},attendee_count:typeof K.attendee_count=="number"?K.attendee_count:0,checked_in_count:typeof K.checked_in_count=="number"?K.checked_in_count:0,description:K.description??null,date:K.date??null,location:K.location??null,max_attendees:K.max_attendees??null,registration_qr:K.registration_qr??null,created_at:K.created_at??""}));n(G)}catch(M){Q.error("Error fetching events: "+M.message)}finally{d(!1)}},v=async()=>{try{let M=le.from("companies").select("*").order("name");e&&(M=M.eq("id",e.company_id));const{data:G,error:K}=await M;if(K)throw K;s(G)}catch(M){Q.error("Error fetching companies: "+M.message)}},E=async(M,G,K)=>{m(!0);try{let H=null,Z="";return K&&(H=await GA(M,G==="background"?"backgrounds":"logos",K)),Z=QA(M,K||"temp",G),H?(Q.success(`${G==="background"?"Background":"Logo"} uploaded to cloud storage`),H):(Q.error(`${G==="background"?"Background":"Logo"} stored locally (cloud upload failed)`),Z)}catch(H){return console.error(`Error uploading ${G}:`,H),Q.error(`Error uploading ${G}: ${H.message}`),URL.createObjectURL(M)}finally{m(!1)}},g=async M=>{var G,K;if(M.preventDefault(),!(!y.name.trim()||!y.company_id)){m(!0);try{let H;if(l){const{error:R}=await le.from("events").update(y).eq("id",l.id);if(R)throw R;H=l.id,Q.success("Event updated successfully!")}else{const{data:R,error:P}=await le.from("events").insert([y]).select();if(P)throw P;H=R[0].id;const T=`${window.location.origin}/public/register/${H}`,V=await mr.toDataURL(T,{width:300,margin:2,errorCorrectionLevel:"M"});await le.from("events").update({registration_qr:V}).eq("id",H),Q.success("Event created successfully!")}const Z={...y};if(y.custom_background&&y.custom_background.startsWith("blob:")){const R=document.getElementById("background-upload"),P=(G=R==null?void 0:R.files)==null?void 0:G[0];if(P){const T=await E(P,"background",H);Z.custom_background=T}}if(y.custom_logo&&y.custom_logo.startsWith("blob:")){const R=document.getElementById("logo-upload"),P=(K=R==null?void 0:R.files)==null?void 0:K[0];if(P){const T=await E(P,"logo",H);Z.custom_logo=T}}(l||Z.custom_background!==y.custom_background||Z.custom_logo!==y.custom_logo)&&await le.from("events").update({custom_background:Z.custom_background,custom_logo:Z.custom_logo}).eq("id",H),F(),j()}catch(H){Q.error("Error saving event: "+H.message)}finally{m(!1)}}},b=async M=>{if(confirm("Are you sure you want to delete this event? This will also delete all attendees."))try{await wr.events.delete(M),await le.from("events").delete().eq("id",M),Q.success("Event deleted successfully!"),j()}catch(G){Q.error("Error deleting event: "+G.message)}},F=()=>{C({company_id:e?e.company_id:"",name:"",description:"",date:"",location:"",max_attendees:1e3,mode:"online",custom_background:"",custom_logo:""}),c(null),a(!1)},k=M=>{c(M),C({company_id:e?e.company_id:M.company_id,name:M.name,description:M.description||"",date:M.date?new Date(M.date).toISOString().slice(0,16):"",location:M.location||"",max_attendees:M.max_attendees||1e3,mode:M.mode||"online",custom_background:M.custom_background||"",custom_logo:M.custom_logo||""}),a(!0)},N=M=>`${window.location.origin}/public/register/${M}`,S=M=>{if(!M.registration_qr)return;const G=document.createElement("a");G.href=M.registration_qr,G.download=`${M.name}-registration-qr.png`,document.body.appendChild(G),G.click(),document.body.removeChild(G)},O=M=>M?M.includes("/")&&!M.startsWith("blob:")?Ut(M):(M.startsWith("blob:"),M):"";return x?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl shadow-lg mr-4",children:o.jsx(Rt,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"Event Management"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"Manage events across all companies"})]})]})}),o.jsxs("button",{onClick:()=>a(!0),className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-6 py-3 rounded-xl hover:from-blue-600 hover:to-cyan-600 transition-all duration-300 flex items-center shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[o.jsx(Cr,{className:"h-5 w-5 mr-2"}),"Add Event"]})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(M=>o.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-6 hover:shadow-2xl transition-all duration-300 card-hover",children:[o.jsx("div",{className:"mb-2",children:o.jsx("h3",{className:"text-xl font-bold px-3 py-1 rounded-md text-white",style:{backgroundColor:HA(M.company_id)},children:M.name})}),o.jsx("p",{className:"text-sm font-semibold bg-gradient-to-r from-blue-500 to-cyan-500 bg-clip-text text-transparent",children:M.company.name}),M.description&&o.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 bg-gray-50 p-3 rounded-lg",children:M.description}),o.jsxs("div",{className:"space-y-3 mb-4",children:[M.date&&o.jsxs("div",{className:"flex items-center text-gray-600 text-sm bg-blue-50 p-2 rounded-lg",children:[o.jsx(Rt,{className:"h-4 w-4 mr-2"}),o.jsx("span",{children:new Date(M.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),M.location&&o.jsxs("div",{className:"flex items-center text-gray-600 text-sm bg-green-50 p-2 rounded-lg",children:[o.jsx(An,{className:"h-4 w-4 mr-2"}),o.jsx("span",{className:"truncate",children:M.location})]}),o.jsxs("div",{className:"flex items-center text-gray-600 text-sm bg-purple-50 p-2 rounded-lg",children:[o.jsx(pt,{className:"h-4 w-4 mr-2"}),o.jsxs("span",{children:[M.attendee_count," registered  ",M.checked_in_count," checked in"]})]})]}),M.registration_qr&&o.jsx("div",{className:"border-t border-gray-200 pt-4 mb-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Registration QR Code"}),o.jsx("img",{src:Ut(M.registration_qr),alt:"Registration QR Code",className:"w-32 h-32 border-2 border-blue-200 rounded-xl shadow-sm mx-auto"})]})}),o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:()=>navigator.clipboard.writeText(N(M.id)),className:"text-blue-600 hover:text-blue-700 text-sm font-semibold flex items-center bg-blue-50 px-3 py-2 rounded-lg hover:bg-blue-100 transition-all duration-300",children:[o.jsx(uB,{className:"h-4 w-4 mr-1"}),"Copy Link"]}),M.registration_qr&&o.jsxs("button",{onClick:()=>S(M),className:"text-blue-600 hover:text-blue-700 text-sm font-semibold flex items-center bg-blue-50 px-3 py-2 rounded-lg hover:bg-blue-100 transition-all duration-300",children:[o.jsx(ur,{className:"h-4 w-4 mr-1"}),"Download QR"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:["Mode: ",M.mode||"online"]}),o.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:["Max: ",M.max_attendees]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-2 mt-3 pt-3 border-t border-gray-100",children:[o.jsxs("button",{onClick:()=>k(M),className:"text-blue-600 hover:text-blue-700 text-sm font-semibold flex items-center bg-blue-50 px-3 py-2 rounded-lg hover:bg-blue-100 transition-all duration-300",children:[o.jsx(pl,{className:"h-4 w-4 mr-1"}),"Edit"]}),o.jsxs("button",{onClick:()=>b(M.id),className:"text-red-600 hover:text-red-700 text-sm font-semibold flex items-center bg-red-50 px-3 py-2 rounded-lg hover:bg-red-100 transition-all duration-300",children:[o.jsx(Ns,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})]},M.id))}),t.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"p-4 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl w-fit mx-auto mb-6",children:o.jsx(Rt,{className:"h-16 w-16 text-gray-400"})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No events found"}),o.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Create your first event to get started"}),o.jsx("button",{onClick:()=>a(!0),className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-6 py-3 rounded-xl hover:from-blue-600 hover:to-cyan-600 transition-all duration-300 shadow-lg font-semibold",children:"Add Event"})]}),i&&o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6 bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:l?"Edit Event":"Create New Event"}),o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e?"Company":"Company *"}),e?o.jsx("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:(($=r.find(M=>M.id===e.company_id))==null?void 0:$.name)||"Your Company"}):o.jsxs("select",{value:y.company_id,onChange:M=>C({...y,company_id:M.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",required:!0,children:[o.jsx("option",{value:"",children:"Select a company"}),r.map(M=>o.jsx("option",{value:M.id,children:M.name},M.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Name *"}),o.jsx("input",{type:"text",value:y.name,onChange:M=>C({...y,name:M.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",placeholder:"Enter event name",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:y.description,onChange:M=>C({...y,description:M.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",rows:3,placeholder:"Enter event description"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date & Time"}),o.jsx("input",{type:"datetime-local",value:y.date,onChange:M=>C({...y,date:M.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Attendees"}),o.jsx("input",{type:"number",value:y.max_attendees,onChange:M=>C({...y,max_attendees:parseInt(M.target.value)||1e3}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",min:"1"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),o.jsx("input",{type:"text",value:y.location,onChange:M=>C({...y,location:M.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300",placeholder:"Enter event location"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Data Mode"}),o.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-gray-900",value:y.mode,onChange:M=>C({...y,mode:M.target.value}),required:!0,children:[o.jsx("option",{value:"online",children:"Online (Supabase)"}),o.jsx("option",{value:"offline",children:"Offline (Local Only)"}),o.jsx("option",{value:"hybrid",children:"Hybrid (Sync)"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Background (Optional)"}),o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-blue-400 transition-colors",children:y.custom_background?o.jsxs("div",{className:"space-y-2",children:[o.jsx("img",{src:O(y.custom_background),alt:"Background Preview",className:"max-w-full h-32 object-cover mx-auto rounded-lg",onError:M=>{console.error("Error loading background:",M),M.currentTarget.style.display="none"}}),o.jsx("button",{type:"button",onClick:()=>C({...y,custom_background:""}),className:"text-blue-600 hover:text-blue-700 text-sm",children:"Remove Background"})]}):o.jsxs("div",{children:[o.jsx(cr,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Upload custom background"}),o.jsx("input",{type:"file",accept:"image/*",onChange:M=>{var K;const G=(K=M.target.files)==null?void 0:K[0];if(G){const H=URL.createObjectURL(G);C({...y,custom_background:H})}},className:"hidden",id:"background-upload"}),o.jsx("label",{htmlFor:"background-upload",className:"inline-block bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors cursor-pointer",children:"Select Image"})]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Logo (Optional)"}),o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-blue-400 transition-colors",children:y.custom_logo?o.jsxs("div",{className:"space-y-2",children:[o.jsx("img",{src:O(y.custom_logo),alt:"Logo Preview",className:"max-w-full h-32 object-contain mx-auto rounded-lg",onError:M=>{console.error("Error loading logo:",M),M.currentTarget.style.display="none"}}),o.jsx("button",{type:"button",onClick:()=>C({...y,custom_logo:""}),className:"text-blue-600 hover:text-blue-700 text-sm",children:"Remove Logo"})]}):o.jsxs("div",{children:[o.jsx(cr,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Upload custom logo"}),o.jsx("input",{type:"file",accept:"image/*",onChange:M=>{var K;const G=(K=M.target.files)==null?void 0:K[0];if(G){const H=URL.createObjectURL(G);C({...y,custom_logo:H})}},className:"hidden",id:"logo-upload"}),o.jsx("label",{htmlFor:"logo-upload",className:"inline-block bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors cursor-pointer",children:"Select Image"})]})})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:F,className:"px-6 py-3 text-gray-600 hover:text-gray-800 bg-gray-100 hover:bg-gray-200 rounded-xl transition-all duration-300 font-medium",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:f,className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all duration-300 font-semibold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[f&&o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),l?"Update Event":"Create Event"]})]})]})]})})]})}function Ig({userCompany:e}){const[t,n]=B.useState([]),[r,s]=B.useState(""),[i,a]=B.useState([]),[l,c]=B.useState(!0),[x,d]=B.useState(!1),[f,m]=B.useState(""),[y,C]=B.useState("all"),[A,j]=B.useState(!1),[v,E]=B.useState(null),[g,b]=B.useState({name:"",email:"",phone:"",identification_number:"",staff_id:"",table_type:"Regular"});B.useEffect(()=>{F()},[]),B.useEffect(()=>{r&&k()},[r]);const F=async()=>{try{c(!0);let R=le.from("events").select(`
          id,
          name,
          company_id,
          company:companies(name)
        `);e&&(R=R.eq("company_id",e.company_id));const{data:P,error:T}=await R.order("created_at",{ascending:!1});if(T)throw T;const V=(P==null?void 0:P.map(te=>({...te,company:Array.isArray(te.company)?te.company[0]:te.company})))||[];n(V),e&&V&&V.length>0&&s(V[0].id)}catch(R){Q.error("Error fetching events: "+R.message)}finally{c(!1)}},k=async()=>{try{d(!0);const{data:R,error:P}=await le.from("attendees").select("*").eq("event_id",r).order("created_at",{ascending:!1});if(P)throw P;a(R||[])}catch(R){Q.error("Error fetching attendees: "+R.message)}finally{d(!1)}},N=()=>{E(null),b({name:"",email:"",phone:"",identification_number:"",staff_id:"",table_type:"Regular"}),j(!0)},S=R=>{E(R),b({name:R.name,email:R.email||"",phone:R.phone||"",identification_number:R.identification_number,staff_id:R.staff_id||"",table_type:R.table_type||"Regular"}),j(!0)},O=async R=>{if(R.preventDefault(),!g.name.trim()||!g.identification_number.trim()){Q.error("Name and Identification Number are required");return}try{if(v){const{error:P}=await le.from("attendees").update({name:g.name,email:g.email||null,phone:g.phone||null,identification_number:g.identification_number,staff_id:g.staff_id||null,table_type:g.table_type}).eq("id",v.id);if(P)throw P;Q.success("Attendee updated successfully!")}else{const{error:P}=await le.from("attendees").insert([{...g,event_id:r,checked_in:!1,check_in_time:null,table_type:g.table_type}]);if(P)throw P;Q.success("Attendee created successfully!")}j(!1),k()}catch(P){Q.error("Error saving attendee: "+P.message)}},$=async R=>{if(confirm("Are you sure you want to delete this attendee?"))try{const{error:P}=await le.from("attendees").delete().eq("id",R);if(P)throw P;Q.success("Attendee deleted successfully!"),k()}catch(P){Q.error("Error deleting attendee: "+P.message)}},M=async R=>{try{const{error:P}=await le.from("attendees").update({checked_in:!1,check_in_time:null}).eq("id",R);if(P)throw P;Q.success("Check-in status reset!"),k()}catch(P){Q.error("Error resetting check-in: "+P.message)}},G=async R=>{var T;const P=(T=R.target.files)==null?void 0:T[0];if(P){if(!r){Q.error("Please select an event first");return}try{const te=(await P.text()).split(`
`),L=te[0].split(",").map(ze=>ze.trim()),W=L.findIndex(ze=>ze.toLowerCase().includes("name")),ce=L.findIndex(ze=>ze.toLowerCase().includes("email")),he=L.findIndex(ze=>ze.toLowerCase().includes("phone")),je=L.findIndex(ze=>ze.toLowerCase().includes("id")&&!ze.toLowerCase().includes("staff")),we=L.findIndex(ze=>ze.toLowerCase().includes("staff")),ke=L.findIndex(ze=>ze.toLowerCase().includes("table"));if(W===-1||je===-1){Q.error("CSV must contain Name and ID Number columns");return}const Ge=[];for(let ze=1;ze<te.length;ze++){const st=te[ze].trim();if(!st)continue;const Re=st.split(",").map(Ot=>Ot.trim()),at={name:Re[W]||"",email:Re[ce]||null,phone:Re[he]||null,identification_number:Re[je]||"",staff_id:Re[we]||null,table_type:Re[ke]||"Regular",event_id:r,checked_in:!1,check_in_time:null};at.name&&at.identification_number&&Ge.push(at)}if(Ge.length===0){Q.error("No valid attendees found in CSV");return}const{error:me}=await le.from("attendees").insert(Ge);if(me)throw me;Q.success(`${Ge.length} attendees imported successfully!`),k()}catch(V){Q.error("Error importing CSV: "+V.message)}R.target.value=""}},K=()=>{const R=H(),P=[["Name","Email","Phone","ID Number","Staff ID","Table Type","Checked In","Check-in Time"],...R.map(L=>[L.name,L.email||"",L.phone||"",L.identification_number,L.staff_id||"",L.table_type||"Regular",L.checked_in?"Yes":"No",L.check_in_time?new Date(L.check_in_time).toLocaleString():""])].map(L=>L.join(",")).join(`
`),T=new Blob([P],{type:"text/csv"}),V=window.URL.createObjectURL(T),te=document.createElement("a");te.href=V,te.download=`attendees-${r}.csv`,te.click(),window.URL.revokeObjectURL(V)},H=()=>{let R=i;return f&&(R=R.filter(P=>P.name.toLowerCase().includes(f.toLowerCase())||P.identification_number.toLowerCase().includes(f.toLowerCase())||P.staff_id&&P.staff_id.toLowerCase().includes(f.toLowerCase())||P.email&&P.email.toLowerCase().includes(f.toLowerCase()))),y==="checked-in"?R=R.filter(P=>P.checked_in):y==="not-checked-in"&&(R=R.filter(P=>!P.checked_in)),R},Z=H();return l?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading events..."})]})}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Attendee Management"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Manage attendees for your events"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:N,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[o.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Add Attendee"]}),o.jsxs("label",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center cursor-pointer",children:[o.jsx(Qc,{className:"h-4 w-4 mr-2"}),"Import CSV",o.jsx("input",{type:"file",accept:".csv",onChange:G,className:"hidden"})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Event"}),t.length===0?o.jsx("div",{className:"w-full px-3 py-2 bg-yellow-50 border border-yellow-300 rounded-md text-yellow-800",children:"No events found. Create an event first."}):o.jsxs("select",{value:r,onChange:R=>s(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Choose an event"}),t.map(R=>o.jsx("option",{value:R.id,children:e?R.name:`${R.name} (${R.company.name})`},R.id))]})]}),r&&o.jsx("div",{className:"flex items-end",children:o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 w-full",children:[o.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Attendee Summary"}),o.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[i.length," total"]}),o.jsxs("div",{className:"text-sm text-blue-600",children:[i.filter(R=>R.checked_in).length," checked in"]})]})})]})}),r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Attendees"}),o.jsxs("div",{className:"relative",children:[o.jsx(Yo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx("input",{type:"text",value:f,onChange:R=>m(R.target.value),placeholder:"Search by name, ID, email...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter Status"}),o.jsxs("select",{value:y,onChange:R=>C(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Attendees"}),o.jsx("option",{value:"checked-in",children:"Checked In"}),o.jsx("option",{value:"not-checked-in",children:"Not Checked In"})]})]}),o.jsx("div",{className:"flex items-end",children:o.jsxs("button",{onClick:K,className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center justify-center",children:[o.jsx(Gc,{className:"h-4 w-4 mr-2"}),"Export CSV"]})})]})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsxs("h2",{className:"text-lg font-semibold",children:["Attendees (",Z.length,")"]})}),x?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Loading attendees..."})]}):Z.length===0?o.jsxs("div",{className:"p-8 text-center text-gray-500",children:[o.jsx(pt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No attendees found"}),o.jsx("p",{className:"text-sm mt-2",children:"Add attendees or adjust your search/filter"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Attendee"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Table Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Z.map(R=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name}),o.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",R.identification_number]}),R.staff_id&&o.jsxs("div",{className:"text-sm text-gray-500",children:["Staff: ",R.staff_id]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-sm text-gray-900",children:[R.email&&o.jsx("div",{children:R.email}),R.phone&&o.jsx("div",{children:R.phone})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-900",children:R.table_type||"Regular"})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${R.checked_in?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:R.checked_in?"Checked In":"Not Checked In"}),R.check_in_time&&o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(R.check_in_time).toLocaleString()})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>S(R),className:"text-blue-600 hover:text-blue-900",children:o.jsx(pl,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>$(R.id),className:"text-red-600 hover:text-red-900",children:o.jsx(Ns,{className:"h-4 w-4"})}),R.checked_in&&o.jsx("button",{onClick:()=>M(R.id),className:"text-orange-600 hover:text-orange-900",title:"Reset Check-in",children:o.jsx(pt,{className:"h-4 w-4"})})]})})]},R.id))})]})})]})]}),A&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h3",{className:"text-lg font-bold mb-4",children:v?"Edit Attendee":"Add Attendee"}),o.jsxs("form",{onSubmit:O,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name *"}),o.jsx("input",{type:"text",value:g.name,onChange:R=>b({...g,name:R.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),o.jsx("input",{type:"email",value:g.email,onChange:R=>b({...g,email:R.target.value}),className:"w-full border rounded px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),o.jsx("input",{type:"tel",value:g.phone,onChange:R=>b({...g,phone:R.target.value}),className:"w-full border rounded px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Identification Number *"}),o.jsx("input",{type:"text",value:g.identification_number,onChange:R=>b({...g,identification_number:R.target.value}),className:"w-full border rounded px-3 py-2",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Staff ID"}),o.jsx("input",{type:"text",value:g.staff_id,onChange:R=>b({...g,staff_id:R.target.value}),className:"w-full border rounded px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Table Type"}),o.jsxs("select",{value:g.table_type,onChange:R=>b({...g,table_type:R.target.value}),className:"w-full border rounded px-3 py-2",children:[o.jsx("option",{value:"Regular",children:"Regular"}),o.jsx("option",{value:"VIP",children:"VIP"}),o.jsx("option",{value:"VVIP",children:"VVIP"}),o.jsx("option",{value:"Staff",children:"Staff"})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:v?"Update":"Create"})]})]})]})})]})}var kE={exports:{}};(function(e,t){(function(r,s){e.exports=s()})(typeof self<"u"?self:gn,function(){return function(n){var r={};function s(i){if(r[i])return r[i].exports;var a=r[i]={i,l:!1,exports:{}};return n[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=n,s.c=r,s.d=function(i,a,l){s.o(i,a)||Object.defineProperty(i,a,{configurable:!1,enumerable:!0,get:l})},s.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(a,"a",a),a},s.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},s.p="",s(s.s=3)}([function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function a(l,c){this.width=c,this.height=l.length/c,this.data=l}return a.createEmpty=function(l,c){return new a(new Uint8ClampedArray(l*c),l)},a.prototype.get=function(l,c){return l<0||l>=this.width||c<0||c>=this.height?!1:!!this.data[c*this.width+l]},a.prototype.set=function(l,c,x){this.data[c*this.width+l]=x?1:0},a.prototype.setRegion=function(l,c,x,d,f){for(var m=c;m<c+d;m++)for(var y=l;y<l+x;y++)this.set(y,m,!!f)},a}();r.BitMatrix=i},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(2);function a(c,x){return c^x}r.addOrSubtractGF=a;var l=function(){function c(x,d,f){this.primitive=x,this.size=d,this.generatorBase=f,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var m=1,y=0;y<this.size;y++)this.expTable[y]=m,m=m*2,m>=this.size&&(m=(m^this.primitive)&this.size-1);for(var y=0;y<this.size-1;y++)this.logTable[this.expTable[y]]=y;this.zero=new i.default(this,Uint8ClampedArray.from([0])),this.one=new i.default(this,Uint8ClampedArray.from([1]))}return c.prototype.multiply=function(x,d){return x===0||d===0?0:this.expTable[(this.logTable[x]+this.logTable[d])%(this.size-1)]},c.prototype.inverse=function(x){if(x===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[x]-1]},c.prototype.buildMonomial=function(x,d){if(x<0)throw new Error("Invalid monomial degree less than 0");if(d===0)return this.zero;var f=new Uint8ClampedArray(x+1);return f[0]=d,new i.default(this,f)},c.prototype.log=function(x){if(x===0)throw new Error("Can't take log(0)");return this.logTable[x]},c.prototype.exp=function(x){return this.expTable[x]},c}();r.default=l},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(1),a=function(){function l(c,x){if(x.length===0)throw new Error("No coefficients.");this.field=c;var d=x.length;if(d>1&&x[0]===0){for(var f=1;f<d&&x[f]===0;)f++;if(f===d)this.coefficients=c.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(d-f);for(var m=0;m<this.coefficients.length;m++)this.coefficients[m]=x[f+m]}}else this.coefficients=x}return l.prototype.degree=function(){return this.coefficients.length-1},l.prototype.isZero=function(){return this.coefficients[0]===0},l.prototype.getCoefficient=function(c){return this.coefficients[this.coefficients.length-1-c]},l.prototype.addOrSubtract=function(c){var x;if(this.isZero())return c;if(c.isZero())return this;var d=this.coefficients,f=c.coefficients;d.length>f.length&&(x=[f,d],d=x[0],f=x[1]);for(var m=new Uint8ClampedArray(f.length),y=f.length-d.length,C=0;C<y;C++)m[C]=f[C];for(var C=y;C<f.length;C++)m[C]=i.addOrSubtractGF(d[C-y],f[C]);return new l(this.field,m)},l.prototype.multiply=function(c){if(c===0)return this.field.zero;if(c===1)return this;for(var x=this.coefficients.length,d=new Uint8ClampedArray(x),f=0;f<x;f++)d[f]=this.field.multiply(this.coefficients[f],c);return new l(this.field,d)},l.prototype.multiplyPoly=function(c){if(this.isZero()||c.isZero())return this.field.zero;for(var x=this.coefficients,d=x.length,f=c.coefficients,m=f.length,y=new Uint8ClampedArray(d+m-1),C=0;C<d;C++)for(var A=x[C],j=0;j<m;j++)y[C+j]=i.addOrSubtractGF(y[C+j],this.field.multiply(A,f[j]));return new l(this.field,y)},l.prototype.multiplyByMonomial=function(c,x){if(c<0)throw new Error("Invalid degree less than 0");if(x===0)return this.field.zero;for(var d=this.coefficients.length,f=new Uint8ClampedArray(d+c),m=0;m<d;m++)f[m]=this.field.multiply(this.coefficients[m],x);return new l(this.field,f)},l.prototype.evaluateAt=function(c){var x=0;if(c===0)return this.getCoefficient(0);var d=this.coefficients.length;if(c===1)return this.coefficients.forEach(function(m){x=i.addOrSubtractGF(x,m)}),x;x=this.coefficients[0];for(var f=1;f<d;f++)x=i.addOrSubtractGF(this.field.multiply(c,x),this.coefficients[f]);return x},l}();r.default=a},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(4),a=s(5),l=s(11),c=s(12);function x(m){var y=c.locate(m);if(!y)return null;for(var C=0,A=y;C<A.length;C++){var j=A[C],v=l.extract(m,j),E=a.decode(v.matrix);if(E)return{binaryData:E.bytes,data:E.text,chunks:E.chunks,version:E.version,location:{topRightCorner:v.mappingFunction(j.dimension,0),topLeftCorner:v.mappingFunction(0,0),bottomRightCorner:v.mappingFunction(j.dimension,j.dimension),bottomLeftCorner:v.mappingFunction(0,j.dimension),topRightFinderPattern:j.topRight,topLeftFinderPattern:j.topLeft,bottomLeftFinderPattern:j.bottomLeft,bottomRightAlignmentPattern:j.alignmentPattern}}}return null}var d={inversionAttempts:"attemptBoth"};function f(m,y,C,A){A===void 0&&(A={});var j=d;Object.keys(j||{}).forEach(function(N){j[N]=A[N]||j[N]});var v=j.inversionAttempts==="attemptBoth"||j.inversionAttempts==="invertFirst",E=j.inversionAttempts==="onlyInvert"||j.inversionAttempts==="invertFirst",g=i.binarize(m,y,C,v),b=g.binarized,F=g.inverted,k=x(E?F:b);return!k&&(j.inversionAttempts==="attemptBoth"||j.inversionAttempts==="invertFirst")&&(k=x(E?b:F)),k}f.default=f,r.default=f},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(0),a=8,l=24;function c(f,m,y){return f<m?m:f>y?y:f}var x=function(){function f(m,y){this.width=m,this.data=new Uint8ClampedArray(m*y)}return f.prototype.get=function(m,y){return this.data[y*this.width+m]},f.prototype.set=function(m,y,C){this.data[y*this.width+m]=C},f}();function d(f,m,y,C){if(f.length!==m*y*4)throw new Error("Malformed data passed to binarizer.");for(var A=new x(m,y),j=0;j<m;j++)for(var v=0;v<y;v++){var E=f[(v*m+j)*4+0],g=f[(v*m+j)*4+1],b=f[(v*m+j)*4+2];A.set(j,v,.2126*E+.7152*g+.0722*b)}for(var F=Math.ceil(m/a),k=Math.ceil(y/a),N=new x(F,k),S=0;S<k;S++)for(var O=0;O<F;O++){for(var $=0,M=1/0,G=0,v=0;v<a;v++)for(var j=0;j<a;j++){var K=A.get(O*a+j,S*a+v);$+=K,M=Math.min(M,K),G=Math.max(G,K)}var H=$/Math.pow(a,2);if(G-M<=l&&(H=M/2,S>0&&O>0)){var Z=(N.get(O,S-1)+2*N.get(O-1,S)+N.get(O-1,S-1))/4;M<Z&&(H=Z)}N.set(O,S,H)}var R=i.BitMatrix.createEmpty(m,y),P=null;C&&(P=i.BitMatrix.createEmpty(m,y));for(var S=0;S<k;S++)for(var O=0;O<F;O++){for(var T=c(O,2,F-3),V=c(S,2,k-3),$=0,te=-2;te<=2;te++)for(var L=-2;L<=2;L++)$+=N.get(T+te,V+L);for(var W=$/25,te=0;te<a;te++)for(var L=0;L<a;L++){var j=O*a+te,v=S*a+L,ce=A.get(j,v);R.set(j,v,ce<=W),C&&P.set(j,v,!(ce<=W))}}return C?{binarized:R,inverted:P}:{binarized:R}}r.binarize=d},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(0),a=s(6),l=s(9),c=s(10);function x(b,F){for(var k=b^F,N=0;k;)N++,k&=k-1;return N}function d(b,F){return F<<1|b}var f=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],m=[function(b){return(b.y+b.x)%2===0},function(b){return b.y%2===0},function(b){return b.x%3===0},function(b){return(b.y+b.x)%3===0},function(b){return(Math.floor(b.y/2)+Math.floor(b.x/3))%2===0},function(b){return b.x*b.y%2+b.x*b.y%3===0},function(b){return(b.y*b.x%2+b.y*b.x%3)%2===0},function(b){return((b.y+b.x)%2+b.y*b.x%3)%2===0}];function y(b){var F=17+4*b.versionNumber,k=i.BitMatrix.createEmpty(F,F);k.setRegion(0,0,9,9,!0),k.setRegion(F-8,0,8,9,!0),k.setRegion(0,F-8,9,8,!0);for(var N=0,S=b.alignmentPatternCenters;N<S.length;N++)for(var O=S[N],$=0,M=b.alignmentPatternCenters;$<M.length;$++){var G=M[$];O===6&&G===6||O===6&&G===F-7||O===F-7&&G===6||k.setRegion(O-2,G-2,5,5,!0)}return k.setRegion(6,9,1,F-17,!0),k.setRegion(9,6,F-17,1,!0),b.versionNumber>6&&(k.setRegion(F-11,0,3,6,!0),k.setRegion(0,F-11,6,3,!0)),k}function C(b,F,k){for(var N=m[k.dataMask],S=b.height,O=y(F),$=[],M=0,G=0,K=!0,H=S-1;H>0;H-=2){H===6&&H--;for(var Z=0;Z<S;Z++)for(var R=K?S-1-Z:Z,P=0;P<2;P++){var T=H-P;if(!O.get(T,R)){G++;var V=b.get(T,R);N({y:R,x:T})&&(V=!V),M=d(V,M),G===8&&($.push(M),G=0,M=0)}}K=!K}return $}function A(b){var F=b.height,k=Math.floor((F-17)/4);if(k<=6)return c.VERSIONS[k-1];for(var N=0,S=5;S>=0;S--)for(var O=F-9;O>=F-11;O--)N=d(b.get(O,S),N);for(var $=0,O=5;O>=0;O--)for(var S=F-9;S>=F-11;S--)$=d(b.get(O,S),$);for(var M=1/0,G,K=0,H=c.VERSIONS;K<H.length;K++){var Z=H[K];if(Z.infoBits===N||Z.infoBits===$)return Z;var R=x(N,Z.infoBits);R<M&&(G=Z,M=R),R=x($,Z.infoBits),R<M&&(G=Z,M=R)}if(M<=3)return G}function j(b){for(var F=0,k=0;k<=8;k++)k!==6&&(F=d(b.get(k,8),F));for(var N=7;N>=0;N--)N!==6&&(F=d(b.get(8,N),F));for(var S=b.height,O=0,N=S-1;N>=S-7;N--)O=d(b.get(8,N),O);for(var k=S-8;k<S;k++)O=d(b.get(k,8),O);for(var $=1/0,M=null,G=0,K=f;G<K.length;G++){var H=K[G],Z=H.bits,R=H.formatInfo;if(Z===F||Z===O)return R;var P=x(F,Z);P<$&&(M=R,$=P),F!==O&&(P=x(O,Z),P<$&&(M=R,$=P))}return $<=3?M:null}function v(b,F,k){var N=F.errorCorrectionLevels[k],S=[],O=0;if(N.ecBlocks.forEach(function(V){for(var te=0;te<V.numBlocks;te++)S.push({numDataCodewords:V.dataCodewordsPerBlock,codewords:[]}),O+=V.dataCodewordsPerBlock+N.ecCodewordsPerBlock}),b.length<O)return null;b=b.slice(0,O);for(var $=N.ecBlocks[0].dataCodewordsPerBlock,M=0;M<$;M++)for(var G=0,K=S;G<K.length;G++){var H=K[G];H.codewords.push(b.shift())}if(N.ecBlocks.length>1)for(var Z=N.ecBlocks[0].numBlocks,R=N.ecBlocks[1].numBlocks,M=0;M<R;M++)S[Z+M].codewords.push(b.shift());for(;b.length>0;)for(var P=0,T=S;P<T.length;P++){var H=T[P];H.codewords.push(b.shift())}return S}function E(b){var F=A(b);if(!F)return null;var k=j(b);if(!k)return null;var N=C(b,F,k),S=v(N,F,k.errorCorrectionLevel);if(!S)return null;for(var O=S.reduce(function(P,T){return P+T.numDataCodewords},0),$=new Uint8ClampedArray(O),M=0,G=0,K=S;G<K.length;G++){var H=K[G],Z=l.decode(H.codewords,H.codewords.length-H.numDataCodewords);if(!Z)return null;for(var R=0;R<H.numDataCodewords;R++)$[M++]=Z[R]}try{return a.decode($,F.versionNumber)}catch{return null}}function g(b){if(b==null)return null;var F=E(b);if(F)return F;for(var k=0;k<b.width;k++)for(var N=k+1;N<b.height;N++)b.get(k,N)!==b.get(N,k)&&(b.set(k,N,!b.get(k,N)),b.set(N,k,!b.get(N,k)));return E(b)}r.decode=g},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(7),a=s(8),l;(function(A){A.Numeric="numeric",A.Alphanumeric="alphanumeric",A.Byte="byte",A.Kanji="kanji",A.ECI="eci"})(l=r.Mode||(r.Mode={}));var c;(function(A){A[A.Terminator=0]="Terminator",A[A.Numeric=1]="Numeric",A[A.Alphanumeric=2]="Alphanumeric",A[A.Byte=4]="Byte",A[A.Kanji=8]="Kanji",A[A.ECI=7]="ECI"})(c||(c={}));function x(A,j){for(var v=[],E="",g=[10,12,14][j],b=A.readBits(g);b>=3;){var F=A.readBits(10);if(F>=1e3)throw new Error("Invalid numeric value above 999");var k=Math.floor(F/100),N=Math.floor(F/10)%10,S=F%10;v.push(48+k,48+N,48+S),E+=k.toString()+N.toString()+S.toString(),b-=3}if(b===2){var F=A.readBits(7);if(F>=100)throw new Error("Invalid numeric value above 99");var k=Math.floor(F/10),N=F%10;v.push(48+k,48+N),E+=k.toString()+N.toString()}else if(b===1){var F=A.readBits(4);if(F>=10)throw new Error("Invalid numeric value above 9");v.push(48+F),E+=F.toString()}return{bytes:v,text:E}}var d=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function f(A,j){for(var v=[],E="",g=[9,11,13][j],b=A.readBits(g);b>=2;){var F=A.readBits(11),k=Math.floor(F/45),N=F%45;v.push(d[k].charCodeAt(0),d[N].charCodeAt(0)),E+=d[k]+d[N],b-=2}if(b===1){var k=A.readBits(6);v.push(d[k].charCodeAt(0)),E+=d[k]}return{bytes:v,text:E}}function m(A,j){for(var v=[],E="",g=[8,16,16][j],b=A.readBits(g),F=0;F<b;F++){var k=A.readBits(8);v.push(k)}try{E+=decodeURIComponent(v.map(function(N){return"%"+("0"+N.toString(16)).substr(-2)}).join(""))}catch{}return{bytes:v,text:E}}function y(A,j){for(var v=[],E="",g=[8,10,12][j],b=A.readBits(g),F=0;F<b;F++){var k=A.readBits(13),N=Math.floor(k/192)<<8|k%192;N<7936?N+=33088:N+=49472,v.push(N>>8,N&255),E+=String.fromCharCode(a.shiftJISTable[N])}return{bytes:v,text:E}}function C(A,j){for(var v,E,g,b,F=new i.BitStream(A),k=j<=9?0:j<=26?1:2,N={text:"",bytes:[],chunks:[],version:j};F.available()>=4;){var S=F.readBits(4);if(S===c.Terminator)return N;if(S===c.ECI)F.readBits(1)===0?N.chunks.push({type:l.ECI,assignmentNumber:F.readBits(7)}):F.readBits(1)===0?N.chunks.push({type:l.ECI,assignmentNumber:F.readBits(14)}):F.readBits(1)===0?N.chunks.push({type:l.ECI,assignmentNumber:F.readBits(21)}):N.chunks.push({type:l.ECI,assignmentNumber:-1});else if(S===c.Numeric){var O=x(F,k);N.text+=O.text,(v=N.bytes).push.apply(v,O.bytes),N.chunks.push({type:l.Numeric,text:O.text})}else if(S===c.Alphanumeric){var $=f(F,k);N.text+=$.text,(E=N.bytes).push.apply(E,$.bytes),N.chunks.push({type:l.Alphanumeric,text:$.text})}else if(S===c.Byte){var M=m(F,k);N.text+=M.text,(g=N.bytes).push.apply(g,M.bytes),N.chunks.push({type:l.Byte,bytes:M.bytes,text:M.text})}else if(S===c.Kanji){var G=y(F,k);N.text+=G.text,(b=N.bytes).push.apply(b,G.bytes),N.chunks.push({type:l.Kanji,bytes:G.bytes,text:G.text})}}if(F.available()===0||F.readBits(F.available())===0)return N}r.decode=C},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function a(l){this.byteOffset=0,this.bitOffset=0,this.bytes=l}return a.prototype.readBits=function(l){if(l<1||l>32||l>this.available())throw new Error("Cannot read "+l.toString()+" bits");var c=0;if(this.bitOffset>0){var x=8-this.bitOffset,d=l<x?l:x,f=x-d,m=255>>8-d<<f;c=(this.bytes[this.byteOffset]&m)>>f,l-=d,this.bitOffset+=d,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(l>0){for(;l>=8;)c=c<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,l-=8;if(l>0){var f=8-l,m=255>>f<<f;c=c<<l|(this.bytes[this.byteOffset]&m)>>f,this.bitOffset+=l}}return c},a.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},a}();r.BitStream=i},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(1),a=s(2);function l(f,m,y,C){var A;m.degree()<y.degree()&&(A=[y,m],m=A[0],y=A[1]);for(var j=m,v=y,E=f.zero,g=f.one;v.degree()>=C/2;){var b=j,F=E;if(j=v,E=g,j.isZero())return null;v=b;for(var k=f.zero,N=j.getCoefficient(j.degree()),S=f.inverse(N);v.degree()>=j.degree()&&!v.isZero();){var O=v.degree()-j.degree(),$=f.multiply(v.getCoefficient(v.degree()),S);k=k.addOrSubtract(f.buildMonomial(O,$)),v=v.addOrSubtract(j.multiplyByMonomial(O,$))}if(g=k.multiplyPoly(E).addOrSubtract(F),v.degree()>=j.degree())return null}var M=g.getCoefficient(0);if(M===0)return null;var G=f.inverse(M);return[g.multiply(G),v.multiply(G)]}function c(f,m){var y=m.degree();if(y===1)return[m.getCoefficient(1)];for(var C=new Array(y),A=0,j=1;j<f.size&&A<y;j++)m.evaluateAt(j)===0&&(C[A]=f.inverse(j),A++);return A!==y?null:C}function x(f,m,y){for(var C=y.length,A=new Array(C),j=0;j<C;j++){for(var v=f.inverse(y[j]),E=1,g=0;g<C;g++)j!==g&&(E=f.multiply(E,i.addOrSubtractGF(1,f.multiply(y[g],v))));A[j]=f.multiply(m.evaluateAt(v),f.inverse(E)),f.generatorBase!==0&&(A[j]=f.multiply(A[j],v))}return A}function d(f,m){var y=new Uint8ClampedArray(f.length);y.set(f);for(var C=new i.default(285,256,0),A=new a.default(C,y),j=new Uint8ClampedArray(m),v=!1,E=0;E<m;E++){var g=A.evaluateAt(C.exp(E+C.generatorBase));j[j.length-1-E]=g,g!==0&&(v=!0)}if(!v)return y;var b=new a.default(C,j),F=l(C,C.buildMonomial(m,1),b,m);if(F===null)return null;var k=c(C,F[0]);if(k==null)return null;for(var N=x(C,F[1],k),S=0;S<k.length;S++){var O=y.length-1-C.log(k[S]);if(O<0)return null;y[O]=i.addOrSubtractGF(y[O],N[S])}return y}r.decode=d},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(0);function a(d,f,m,y){var C=d.x-f.x+m.x-y.x,A=d.y-f.y+m.y-y.y;if(C===0&&A===0)return{a11:f.x-d.x,a12:f.y-d.y,a13:0,a21:m.x-f.x,a22:m.y-f.y,a23:0,a31:d.x,a32:d.y,a33:1};var j=f.x-m.x,v=y.x-m.x,E=f.y-m.y,g=y.y-m.y,b=j*g-v*E,F=(C*g-v*A)/b,k=(j*A-C*E)/b;return{a11:f.x-d.x+F*f.x,a12:f.y-d.y+F*f.y,a13:F,a21:y.x-d.x+k*y.x,a22:y.y-d.y+k*y.y,a23:k,a31:d.x,a32:d.y,a33:1}}function l(d,f,m,y){var C=a(d,f,m,y);return{a11:C.a22*C.a33-C.a23*C.a32,a12:C.a13*C.a32-C.a12*C.a33,a13:C.a12*C.a23-C.a13*C.a22,a21:C.a23*C.a31-C.a21*C.a33,a22:C.a11*C.a33-C.a13*C.a31,a23:C.a13*C.a21-C.a11*C.a23,a31:C.a21*C.a32-C.a22*C.a31,a32:C.a12*C.a31-C.a11*C.a32,a33:C.a11*C.a22-C.a12*C.a21}}function c(d,f){return{a11:d.a11*f.a11+d.a21*f.a12+d.a31*f.a13,a12:d.a12*f.a11+d.a22*f.a12+d.a32*f.a13,a13:d.a13*f.a11+d.a23*f.a12+d.a33*f.a13,a21:d.a11*f.a21+d.a21*f.a22+d.a31*f.a23,a22:d.a12*f.a21+d.a22*f.a22+d.a32*f.a23,a23:d.a13*f.a21+d.a23*f.a22+d.a33*f.a23,a31:d.a11*f.a31+d.a21*f.a32+d.a31*f.a33,a32:d.a12*f.a31+d.a22*f.a32+d.a32*f.a33,a33:d.a13*f.a31+d.a23*f.a32+d.a33*f.a33}}function x(d,f){for(var m=l({x:3.5,y:3.5},{x:f.dimension-3.5,y:3.5},{x:f.dimension-6.5,y:f.dimension-6.5},{x:3.5,y:f.dimension-3.5}),y=a(f.topLeft,f.topRight,f.alignmentPattern,f.bottomLeft),C=c(y,m),A=i.BitMatrix.createEmpty(f.dimension,f.dimension),j=function(k,N){var S=C.a13*k+C.a23*N+C.a33;return{x:(C.a11*k+C.a21*N+C.a31)/S,y:(C.a12*k+C.a22*N+C.a32)/S}},v=0;v<f.dimension;v++)for(var E=0;E<f.dimension;E++){var g=E+.5,b=v+.5,F=j(g,b);A.set(E,v,d.get(Math.floor(F.x),Math.floor(F.y)))}return{matrix:A,mappingFunction:j}}r.extract=x},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=4,a=.5,l=1.5,c=function(g,b){return Math.sqrt(Math.pow(b.x-g.x,2)+Math.pow(b.y-g.y,2))};function x(g){return g.reduce(function(b,F){return b+F})}function d(g,b,F){var k,N,S,O,$=c(g,b),M=c(b,F),G=c(g,F),K,H,Z;return M>=$&&M>=G?(k=[b,g,F],K=k[0],H=k[1],Z=k[2]):G>=M&&G>=$?(N=[g,b,F],K=N[0],H=N[1],Z=N[2]):(S=[g,F,b],K=S[0],H=S[1],Z=S[2]),(Z.x-H.x)*(K.y-H.y)-(Z.y-H.y)*(K.x-H.x)<0&&(O=[Z,K],K=O[0],Z=O[1]),{bottomLeft:K,topLeft:H,topRight:Z}}function f(g,b,F,k){var N=(x(y(g,F,k,5))/7+x(y(g,b,k,5))/7+x(y(F,g,k,5))/7+x(y(b,g,k,5))/7)/4;if(N<1)throw new Error("Invalid module size");var S=Math.round(c(g,b)/N),O=Math.round(c(g,F)/N),$=Math.floor((S+O)/2)+7;switch($%4){case 0:$++;break;case 2:$--;break}return{dimension:$,moduleSize:N}}function m(g,b,F,k){var N=[{x:Math.floor(g.x),y:Math.floor(g.y)}],S=Math.abs(b.y-g.y)>Math.abs(b.x-g.x),O,$,M,G;S?(O=Math.floor(g.y),$=Math.floor(g.x),M=Math.floor(b.y),G=Math.floor(b.x)):(O=Math.floor(g.x),$=Math.floor(g.y),M=Math.floor(b.x),G=Math.floor(b.y));for(var K=Math.abs(M-O),H=Math.abs(G-$),Z=Math.floor(-K/2),R=O<M?1:-1,P=$<G?1:-1,T=!0,V=O,te=$;V!==M+R;V+=R){var L=S?te:V,W=S?V:te;if(F.get(L,W)!==T&&(T=!T,N.push({x:L,y:W}),N.length===k+1))break;if(Z+=H,Z>0){if(te===G)break;te+=P,Z-=K}}for(var ce=[],he=0;he<k;he++)N[he]&&N[he+1]?ce.push(c(N[he],N[he+1])):ce.push(0);return ce}function y(g,b,F,k){var N,S=b.y-g.y,O=b.x-g.x,$=m(g,b,F,Math.ceil(k/2)),M=m(g,{x:g.x-O,y:g.y-S},F,Math.ceil(k/2)),G=$.shift()+M.shift()-1;return(N=M.concat(G)).concat.apply(N,$)}function C(g,b){var F=x(g)/x(b),k=0;return b.forEach(function(N,S){k+=Math.pow(g[S]-N*F,2)}),{averageSize:F,error:k}}function A(g,b,F){try{var k=y(g,{x:-1,y:g.y},F,b.length),N=y(g,{x:g.x,y:-1},F,b.length),S={x:Math.max(0,g.x-g.y)-1,y:Math.max(0,g.y-g.x)-1},O=y(g,S,F,b.length),$={x:Math.min(F.width,g.x+g.y)+1,y:Math.min(F.height,g.y+g.x)+1},M=y(g,$,F,b.length),G=C(k,b),K=C(N,b),H=C(O,b),Z=C(M,b),R=Math.sqrt(G.error*G.error+K.error*K.error+H.error*H.error+Z.error*Z.error),P=(G.averageSize+K.averageSize+H.averageSize+Z.averageSize)/4,T=(Math.pow(G.averageSize-P,2)+Math.pow(K.averageSize-P,2)+Math.pow(H.averageSize-P,2)+Math.pow(Z.averageSize-P,2))/P;return R+T}catch{return 1/0}}function j(g,b){for(var F=Math.round(b.x);g.get(F,Math.round(b.y));)F--;for(var k=Math.round(b.x);g.get(k,Math.round(b.y));)k++;for(var N=(F+k)/2,S=Math.round(b.y);g.get(Math.round(N),S);)S--;for(var O=Math.round(b.y);g.get(Math.round(N),O);)O++;var $=(S+O)/2;return{x:N,y:$}}function v(g){for(var b=[],F=[],k=[],N=[],S=function(L){for(var W=0,ce=!1,he=[0,0,0,0,0],je=function(ke){var Ge=g.get(ke,L);if(Ge===ce)W++;else{he=[he[1],he[2],he[3],he[4],W],W=1,ce=Ge;var me=x(he)/7,ze=Math.abs(he[0]-me)<me&&Math.abs(he[1]-me)<me&&Math.abs(he[2]-3*me)<3*me&&Math.abs(he[3]-me)<me&&Math.abs(he[4]-me)<me&&!Ge,st=x(he.slice(-3))/3,Re=Math.abs(he[2]-st)<st&&Math.abs(he[3]-st)<st&&Math.abs(he[4]-st)<st&&Ge;if(ze){var at=ke-he[3]-he[4],Ot=at-he[2],ht={startX:Ot,endX:at,y:L},Ht=F.filter(function(ae){return Ot>=ae.bottom.startX&&Ot<=ae.bottom.endX||at>=ae.bottom.startX&&Ot<=ae.bottom.endX||Ot<=ae.bottom.startX&&at>=ae.bottom.endX&&he[2]/(ae.bottom.endX-ae.bottom.startX)<l&&he[2]/(ae.bottom.endX-ae.bottom.startX)>a});Ht.length>0?Ht[0].bottom=ht:F.push({top:ht,bottom:ht})}if(Re){var un=ke-he[4],Gt=un-he[3],ht={startX:Gt,y:L,endX:un},Ht=N.filter(function(Ie){return Gt>=Ie.bottom.startX&&Gt<=Ie.bottom.endX||un>=Ie.bottom.startX&&Gt<=Ie.bottom.endX||Gt<=Ie.bottom.startX&&un>=Ie.bottom.endX&&he[2]/(Ie.bottom.endX-Ie.bottom.startX)<l&&he[2]/(Ie.bottom.endX-Ie.bottom.startX)>a});Ht.length>0?Ht[0].bottom=ht:N.push({top:ht,bottom:ht})}}},we=-1;we<=g.width;we++)je(we);b.push.apply(b,F.filter(function(ke){return ke.bottom.y!==L&&ke.bottom.y-ke.top.y>=2})),F=F.filter(function(ke){return ke.bottom.y===L}),k.push.apply(k,N.filter(function(ke){return ke.bottom.y!==L})),N=N.filter(function(ke){return ke.bottom.y===L})},O=0;O<=g.height;O++)S(O);b.push.apply(b,F.filter(function(L){return L.bottom.y-L.top.y>=2})),k.push.apply(k,N);var $=b.filter(function(L){return L.bottom.y-L.top.y>=2}).map(function(L){var W=(L.top.startX+L.top.endX+L.bottom.startX+L.bottom.endX)/4,ce=(L.top.y+L.bottom.y+1)/2;if(g.get(Math.round(W),Math.round(ce))){var he=[L.top.endX-L.top.startX,L.bottom.endX-L.bottom.startX,L.bottom.y-L.top.y+1],je=x(he)/he.length,we=A({x:Math.round(W),y:Math.round(ce)},[1,1,3,1,1],g);return{score:we,x:W,y:ce,size:je}}}).filter(function(L){return!!L}).sort(function(L,W){return L.score-W.score}).map(function(L,W,ce){if(W>i)return null;var he=ce.filter(function(we,ke){return W!==ke}).map(function(we){return{x:we.x,y:we.y,score:we.score+Math.pow(we.size-L.size,2)/L.size,size:we.size}}).sort(function(we,ke){return we.score-ke.score});if(he.length<2)return null;var je=L.score+he[0].score+he[1].score;return{points:[L].concat(he.slice(0,2)),score:je}}).filter(function(L){return!!L}).sort(function(L,W){return L.score-W.score});if($.length===0)return null;var M=d($[0].points[0],$[0].points[1],$[0].points[2]),G=M.topRight,K=M.topLeft,H=M.bottomLeft,Z=E(g,k,G,K,H),R=[];Z&&R.push({alignmentPattern:{x:Z.alignmentPattern.x,y:Z.alignmentPattern.y},bottomLeft:{x:H.x,y:H.y},dimension:Z.dimension,topLeft:{x:K.x,y:K.y},topRight:{x:G.x,y:G.y}});var P=j(g,G),T=j(g,K),V=j(g,H),te=E(g,k,P,T,V);return te&&R.push({alignmentPattern:{x:te.alignmentPattern.x,y:te.alignmentPattern.y},bottomLeft:{x:V.x,y:V.y},topLeft:{x:T.x,y:T.y},topRight:{x:P.x,y:P.y},dimension:te.dimension}),R.length===0?null:R}r.locate=v;function E(g,b,F,k,N){var S,O,$;try{S=f(k,F,N,g),O=S.dimension,$=S.moduleSize}catch{return null}var M={x:F.x-k.x+N.x,y:F.y-k.y+N.y},G=(c(k,N)+c(k,F))/2/$,K=1-3/G,H={x:k.x+K*(M.x-k.x),y:k.y+K*(M.y-k.y)},Z=b.map(function(P){var T=(P.top.startX+P.top.endX+P.bottom.startX+P.bottom.endX)/4,V=(P.top.y+P.bottom.y+1)/2;if(g.get(Math.floor(T),Math.floor(V))){var te=[P.top.endX-P.top.startX,P.bottom.endX-P.bottom.startX,P.bottom.y-P.top.y+1];x(te)/te.length;var L=A({x:Math.floor(T),y:Math.floor(V)},[1,1,1],g),W=L+c({x:T,y:V},H);return{x:T,y:V,score:W}}}).filter(function(P){return!!P}).sort(function(P,T){return P.score-T.score}),R=G>=15&&Z.length?Z[0]:H;return{alignmentPattern:R,dimension:O}}}]).default})})(kE);var XA=kE.exports;const Lg=bc(XA);function JA({onScan:e,onError:t,autoStart:n=!0,eventSelected:r=!1}){const[s,i]=B.useState(!1),[a,l]=B.useState(!1),[c,x]=B.useState(null),[d,f]=B.useState(null),[m,y]=B.useState(!1),[C,A]=B.useState(!1),[j,v]=B.useState(0),E=B.useRef(null),g=B.useRef(null),b=B.useRef(),F=async()=>{var G;if(s)return;l(!0),x(null);const M=async K=>{try{return await navigator.mediaDevices.getUserMedia(K)}catch(H){throw console.error("Camera access attempt failed:",H),H}};try{let K=await M({video:{facingMode:"environment",width:{ideal:1280,min:320},height:{ideal:720,min:240},frameRate:{ideal:30,min:10},aspectRatio:{ideal:1.3333333333333333}}});K||(K=await M({video:{facingMode:"environment",width:{min:320},height:{min:240}}})),K||(K=await M({video:{width:{min:320},height:{min:240}}})),f(K),E.current&&(E.current.srcObject=K,E.current.onloadedmetadata=()=>{E.current&&(E.current.play(),i(!0),l(!1),setTimeout(()=>{E.current&&!E.current.paused?S():setTimeout(()=>{E.current&&!E.current.paused&&S()},1e3)},2e3))})}catch(K){l(!1),console.error("Camera access error:",K);let H="Camera access failed";K.name==="NotAllowedError"?H="Camera permission denied. Please allow camera access in your browser settings.":K.name==="NotFoundError"?H="No camera found on this device.":K.name==="NotSupportedError"?H="Camera not supported on this device.":K.name==="NotReadableError"?H="Camera is in use by another application.":(G=K.message)!=null&&G.includes("HTTPS")&&(H="Camera access requires HTTPS. Please use a secure connection."),x(H),t==null||t(H),Q.error(H)}},k=()=>{d&&(d.getTracks().forEach(M=>M.stop()),f(null)),i(!1),x(null),y(!1),A(!1),b.current&&cancelAnimationFrame(b.current)},N=()=>{k(),setTimeout(()=>F(),100)},S=()=>{if(!E.current||!g.current)return;let M=0,G=!0;const K=()=>{const H=E.current&&!E.current.paused&&E.current.readyState>=2;if(!(!E.current||!g.current||!H||!G)){if(E.current.paused||E.current.readyState<2){b.current=requestAnimationFrame(K);return}if(M++,v(M),M%15!==0){b.current=requestAnimationFrame(K);return}try{const Z=E.current,R=g.current,P=R.getContext("2d");if(P&&Z.videoWidth>0&&Z.videoHeight>0){R.width=Z.videoWidth,R.height=Z.videoHeight,P.drawImage(Z,0,0,R.width,R.height);const T=P.getImageData(0,0,R.width,R.height),V=Lg(T.data,T.width,T.height,{inversionAttempts:"attemptBoth"});if(V){G=!1,O(V.data);return}}}catch(Z){console.error("Error during auto-scanning:",Z)}b.current=requestAnimationFrame(K)}};A(!0),b.current=requestAnimationFrame(K)},O=M=>{y(!0),Q.success("QR Code detected!"),e(M),b.current&&cancelAnimationFrame(b.current),setTimeout(()=>{y(!1),N()},2e3)},$=()=>{if(!E.current||!g.current)return;const M=E.current,G=g.current,K=G.getContext("2d");if(K&&M.videoWidth>0&&M.videoHeight>0){G.width=M.videoWidth,G.height=M.videoHeight,K.drawImage(M,0,0,G.width,G.height);const H=K.getImageData(0,0,G.width,G.height);console.log("Manual scan:",{canvasWidth:G.width,canvasHeight:G.height,imageDataWidth:H.width,imageDataHeight:H.height,dataLength:H.data.length});const Z=Lg(H.data,H.width,H.height,{inversionAttempts:"attemptBoth"});Z?(console.log("Manual QR Code detected:",Z.data),O(Z.data)):(console.log("No QR code found in manual scan"),Q.error("No QR code detected in current frame"))}};return B.useEffect(()=>(r&&!s?F():!r&&s&&k(),()=>k()),[r]),c?o.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-red-200 p-4 md:p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"bg-red-100 rounded-full p-3 w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:o.jsx(ir,{className:"h-8 w-8 text-red-500"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Camera Error"}),o.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:c}),o.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 mb-4 border border-yellow-200",children:[o.jsx("p",{className:"text-xs text-yellow-800 mb-2",children:" Mobile Troubleshooting:"}),o.jsxs("ul",{className:"text-xs text-yellow-700 space-y-1 text-left",children:[o.jsx("li",{children:" Ensure you're using HTTPS (secure connection)"}),o.jsx("li",{children:" Allow camera permissions when prompted"}),o.jsx("li",{children:" Try refreshing the page and try again"}),o.jsx("li",{children:" Check if camera is being used by another app"})]})]}),o.jsx("button",{onClick:F,className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Retry Camera"})]})}):r?o.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-4 md:px-6 py-3 md:py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[o.jsx("div",{className:"bg-white bg-opacity-20 rounded-full p-1.5 md:p-2",children:o.jsx(ir,{className:"h-4 w-4 md:h-5 md:w-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-semibold text-sm md:text-base",children:"QR Code Scanner"}),o.jsx("p",{className:"text-blue-100 text-xs md:text-sm",children:"Real-time QR code detection"})]})]}),s&&o.jsxs("div",{className:"bg-green-500 text-white px-2 md:px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-1 md:space-x-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-white rounded-full animate-pulse"}),o.jsxs("span",{className:"text-xs",children:["Live  ",C?`Auto-Scanning (${j})`:"Ready"]})]})]})}),o.jsxs("div",{className:"relative bg-black",children:[o.jsx("video",{ref:E,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-80 md:h-80 object-cover",style:{objectFit:"cover",objectPosition:"center",imageRendering:"crisp-edges"}}),o.jsx("canvas",{ref:g,className:"hidden"}),a&&o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),o.jsx("p",{className:"text-white text-sm font-medium",children:"Starting camera..."})]})}),s&&o.jsx("div",{className:"absolute inset-0 pointer-events-none",children:o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"w-64 h-64 md:w-80 md:h-80 border-3 border-white rounded-2xl shadow-2xl relative bg-black bg-opacity-5",children:[o.jsx("div",{className:"absolute -top-3 -left-3 w-10 h-10 border-t-4 border-l-4 border-blue-500 rounded-tl-xl"}),o.jsx("div",{className:"absolute -top-3 -right-3 w-10 h-10 border-t-4 border-r-4 border-blue-500 rounded-tr-xl"}),o.jsx("div",{className:"absolute -bottom-3 -left-3 w-10 h-10 border-b-4 border-l-4 border-blue-500 rounded-bl-xl"}),o.jsx("div",{className:"absolute -bottom-3 -right-3 w-10 h-10 border-b-4 border-r-4 border-blue-500 rounded-br-xl"}),o.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-transparent via-blue-500 to-transparent animate-pulse"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-3 h-3 bg-blue-500 rounded-full"})]}),m&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"bg-green-600 text-white px-8 py-4 rounded-2xl shadow-2xl border border-green-400",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Vr,{className:"h-6 w-6 mr-3"}),o.jsx("span",{className:"font-semibold text-lg",children:"QR Code Detected!"})]})})})]})})}),o.jsx("div",{className:"absolute bottom-4 md:bottom-6 left-1/2 transform -translate-x-1/2 flex items-center space-x-2 md:space-x-4",children:s?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:N,className:"bg-white bg-opacity-90 text-gray-800 p-3 md:p-4 rounded-full hover:bg-opacity-100 transition-all shadow-lg backdrop-blur-sm",title:"Refresh Camera",children:o.jsx(tE,{className:"h-5 w-5 md:h-6 md:w-6"})}),o.jsx("button",{onClick:$,className:"bg-green-500 text-white p-3 md:p-4 rounded-full hover:bg-green-600 transition-all shadow-lg",title:"Manual Scan",children:" Scan"}),o.jsx("button",{onClick:k,className:"bg-red-600 text-white p-3 md:p-4 rounded-full hover:bg-red-700 transition-all shadow-lg",title:"Stop Camera",children:o.jsx(gi,{className:"h-5 w-5 md:h-6 md:w-6"})})]}):o.jsxs("button",{onClick:F,className:"bg-blue-600 text-white px-8 py-4 rounded-xl hover:bg-blue-700 transition-all flex items-center shadow-lg font-medium",children:[o.jsx(ir,{className:"h-6 w-6 mr-3"}),"Start Camera"]})})]}),!s&&!a&&r&&o.jsx("div",{className:"p-4 md:p-6 bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"bg-white rounded-full p-3 md:p-4 w-16 h-16 md:w-20 md:h-20 mx-auto mb-3 md:mb-4 flex items-center justify-center shadow-sm",children:o.jsx(ir,{className:"h-8 w-8 md:h-10 md:w-10 text-gray-400"})}),o.jsx("h4",{className:"text-base md:text-lg font-semibold text-gray-900 mb-2",children:"Ready to Scan"}),o.jsx("div",{className:"bg-blue-50 rounded-lg p-3 md:p-4 border border-blue-200 max-w-md mx-auto",children:o.jsxs("div",{className:"space-y-1 md:space-y-2 text-xs md:text-sm text-blue-800",children:[o.jsxs("p",{className:"flex items-center",children:[o.jsx("span",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-blue-500 rounded-full mr-2 md:mr-3"}),"Position QR code within the scanning frame"]}),o.jsxs("p",{className:"flex items-center",children:[o.jsx("span",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-blue-500 rounded-full mr-2 md:mr-3"}),"Hold steady for best detection results"]}),o.jsxs("p",{className:"flex items-center",children:[o.jsx("span",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-blue-500 rounded-full mr-2 md:mr-3"}),"Real-time QR code detection active"]}),o.jsxs("p",{className:"flex items-center text-xs text-blue-600 mt-2",children:[o.jsx("span",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-blue-400 rounded-full mr-2 md:mr-3"})," Mobile optimized - Back camera enabled"]})]})})]})}),s&&o.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[o.jsx("span",{children:" Fixed frame size: 640x480"}),o.jsx("span",{children:" Real-time QR detection"})]})})]}):o.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"bg-gray-100 rounded-full p-3 w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:o.jsx(ir,{className:"h-8 w-8 text-gray-500"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"QR Code Scanner"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Select an event to start scanning"}),o.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:o.jsx("p",{className:"text-sm text-blue-700",children:" Camera will activate when an event is selected"})})]})})}class ZA extends Eh.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught error:",t,n)}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50",children:o.jsxs("div",{className:"bg-white border border-red-300 rounded-lg p-8 max-w-lg w-full text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-red-700 mb-4",children:"Something went wrong"}),o.jsx("pre",{className:"text-sm text-red-600 mb-4 whitespace-pre-wrap",children:String(this.state.error)}),o.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg",children:"Reload Page"})]})}):this.props.children}}function eD({userCompany:e}){const[t,n]=B.useState([]),[r,s]=B.useState(""),[i,a]=B.useState(""),[l,c]=B.useState([]),[x,d]=B.useState({total:0,checkedIn:0}),[f,m]=B.useState(""),[y,C]=B.useState(null),[A,j]=B.useState(null),[v,E]=B.useState([]),[g,b]=B.useState(!1),[F,k]=B.useState(null),[N,S]=B.useState(!1),[O,$]=B.useState({name:"",email:"",phone:"",identification_number:"",staff_id:"",table_assignment:""}),[M,G]=B.useState(!1),[K,H]=B.useState(null),[Z,R]=B.useState(null),[P,T]=B.useState(!1),V=B.useRef(null),te=B.useRef(null);B.useEffect(()=>{L()},[]),B.useEffect(()=>{r&&(ce(),he(),W())},[r]),B.useEffect(()=>{r&&je()},[r]),B.useEffect(()=>()=>{V.current&&V.current.srcObject&&(V.current.srcObject.getTracks().forEach(Ce=>Ce.stop()),V.current.srcObject=null)},[]),B.useEffect(()=>()=>{V.current&&V.current.srcObject&&(V.current.srcObject.getTracks().forEach(Ce=>Ce.stop()),V.current.srcObject=null)},[]);const L=async()=>{try{let ae=le.from("events").select(`
          id,
          name,
          company_id,
          registration_qr,
          custom_logo,
          custom_background,
          company:companies(name)
        `);e&&(ae=ae.eq("company_id",e.company_id));const{data:Ce,error:Ie}=await ae.order("created_at",{ascending:!1});if(Ie)throw Ie;const Oe=(Ce==null?void 0:Ce.map(yt=>({...yt,company:Array.isArray(yt.company)?yt.company[0]:yt.company})))||[];n(Oe),e&&Oe&&Oe.length>0&&s(Oe[0].id)}catch(ae){Q.error("Error fetching events: "+ae.message)}},W=async()=>{try{if(!r)return;const ae=`${window.location.origin}/admin/checkin?event=${r}`,Ce=await mr.toDataURL(ae,{width:200,margin:2,errorCorrectionLevel:"M"});m(Ce)}catch(ae){console.error("Error generating QR code:",ae),m("")}},ce=async()=>{try{const{data:ae,error:Ce}=await le.from("attendees").select("id, checked_in").eq("event_id",r);if(Ce)throw Ce;d({total:ae.length,checkedIn:ae.filter(Ie=>Ie.checked_in).length})}catch(ae){console.error("Error fetching stats:",ae)}},he=async()=>{try{const{data:ae,error:Ce}=await le.from("attendees").select(`
          id,
          name,
          identification_number,
          staff_id,
          table_assignment,
          check_in_time,
          event:events(name)
        `).eq("event_id",r).eq("checked_in",!0).order("check_in_time",{ascending:!1}).limit(10);if(Ce)throw Ce;const Ie=(ae||[]).map(Oe=>({...Oe,table_assignment:Oe.table_assignment||null}));c(Ie)}catch(ae){console.error("Error fetching recent check-ins:",ae)}},je=async()=>{b(!0);try{const{data:ae,error:Ce}=await le.from("attendees").select("*").eq("event_id",r).order("created_at",{ascending:!1});if(Ce)throw Ce;E(ae)}catch(ae){Q.error("Error fetching attendees: "+ae.message)}finally{b(!1)}},we=()=>{k(null),$({name:"",email:"",phone:"",identification_number:"",staff_id:"",table_assignment:""}),S(!0)},ke=ae=>{k(ae),$({name:ae.name||"",email:ae.email||"",phone:ae.phone||"",identification_number:ae.identification_number||"",staff_id:ae.staff_id||"",table_assignment:ae.table_assignment||""}),S(!0)},Ge=ae=>{if(ae.preventDefault(),!(!O.name.trim()||!O.identification_number.trim()))if(F)le.from("attendees").update(O).eq("id",F.id).then(({error:Ce})=>{Ce?Q.error("Error updating attendee: "+Ce.message):Q.success("Attendee updated!"),S(!1),je()});else{const Ce=crypto.randomUUID();le.from("attendees").insert([{...O,id:Ce,event_id:r}]).then(({error:Ie})=>{Ie?Q.error("Error adding attendee: "+Ie.message):Q.success("Attendee added!"),S(!1),je()})}},me=ae=>{confirm("Delete this attendee?")&&le.from("attendees").delete().eq("id",ae).then(({error:Ce})=>{Ce?Q.error("Error deleting attendee: "+Ce.message):Q.success("Attendee deleted!"),je()})},ze=ae=>{le.from("attendees").update({checked_in:!1,check_in_time:null}).eq("id",ae).then(({error:Ce})=>{Ce?Q.error("Error resetting check-in: "+Ce.message):Q.success("Check-in reset!"),je()})},st=()=>{confirm("Reset check-in for all attendees?")&&le.from("attendees").update({checked_in:!1,check_in_time:null}).eq("event_id",r).then(({error:ae})=>{ae?Q.error("Error resetting all: "+ae.message):Q.success("All check-ins reset!"),je()})},Re=async ae=>{var Ce,Ie;try{const Oe=await at(ae);Oe.success?(Q.success(Oe.message),ce(),he(),C(((Ce=Oe.attendee)==null?void 0:Ce.name)||null),j(((Ie=Oe.attendee)==null?void 0:Ie.table_assignment)||null)):Q.error(Oe.message)}catch(Oe){Q.error("Error processing QR scan: "+Oe.message)}},at=async ae=>{try{if(ae.includes("|")){const Ce=ae.split("|");if(Ce.length!==3)return{success:!1,message:"Invalid QR code format"};const Ie=Ce[0],{data:Oe,error:yt}=await le.from("attendees").select(`
            id,
            name,
            identification_number,
            staff_id,
            checked_in,
            event_id,
            table_assignment,
            face_photo_url,
            event:events(name)
          `).eq("id",Ie).single();if(yt||!Oe)return{success:!1,message:"Attendee not found"};if(Oe.event_id!==r)return{success:!1,message:"This ticket is not valid for the selected event"};if(Oe.checked_in)return{success:!1,message:`${Oe.name} is already checked in`};const{error:de}=await le.from("attendees").update({checked_in:!0,check_in_time:new Date().toISOString()}).eq("id",Oe.id);if(de)throw de;const{data:Ee}=await le.from("attendees").select("id, name, identification_number, staff_id, table_assignment, event:events(name)").eq("id",Oe.id).single();let $e="",Le=Oe;return Ee?($e=Ee.table_assignment?` | Table: ${Ee.table_assignment}`:"",Le={...Oe,...Ee},Ee.table_assignment?Q.success(`${Oe.name} checked in! Assigned to table ${Ee.table_assignment}`):Q.success(`${Oe.name} checked in! No table assigned`)):Q.success(`${Oe.name} checked in! No table assigned`),{success:!0,attendee:Le,message:`${Oe.name} checked in successfully!${$e}`}}else{const{data:Ce,error:Ie}=await le.from("attendees").select(`
            id,
            name,
            identification_number,
            staff_id,
            checked_in,
            event_id,
            event:events(name)
          `).eq("event_id",r).or(`identification_number.eq.${ae},staff_id.eq.${ae}`);if(Ie)throw Ie;if(!Ce||Ce.length===0)return{success:!1,message:"No attendee found with this ID"};const Oe=Ce[0];if(Oe.checked_in)return{success:!1,message:`${Oe.name} is already checked in`};const{error:yt}=await le.from("attendees").update({checked_in:!0,check_in_time:new Date().toISOString()}).eq("id",Oe.id);if(yt)throw yt;return{success:!0,attendee:Oe,message:`${Oe.name} checked in successfully!`}}}catch(Ce){return{success:!1,message:"Error processing check-in: "+Ce.message}}},Ot=async ae=>{var Ie,Oe;if(ae.preventDefault(),!r){Q.error("Please select an event first");return}if(!i.trim())return;C(null),j(null);const Ce=await at(i);Ce.success?(Q.success(Ce.message),a(""),ce(),he(),C(((Ie=Ce.attendee)==null?void 0:Ie.name)||null),j(((Oe=Ce.attendee)==null?void 0:Oe.table_assignment)||null)):Q.error(Ce.message)},ht=async()=>{try{const ae=await navigator.mediaDevices.getUserMedia({video:!0});V.current&&(V.current.srcObject=ae,T(!0))}catch(ae){console.error("Error accessing camera:",ae),Q.error("Unable to access camera"),T(!1)}},Ht=()=>{V.current&&V.current.srcObject&&(V.current.srcObject.getTracks().forEach(Ce=>Ce.stop()),V.current.srcObject=null),T(!1)},un=()=>{try{if(V.current&&te.current){const ae=V.current,Ce=te.current,Ie=Ce.getContext("2d");if(Ie&&ae.videoWidth>0&&ae.videoHeight>0){Ce.width=ae.videoWidth,Ce.height=ae.videoHeight,Ie.drawImage(ae,0,0);const Oe=Ce.toDataURL("image/jpeg");R(Oe),Ht()}else Q.error("Camera not ready. Please wait a moment and try again.")}}catch(ae){console.error("Error capturing face:",ae),Q.error("Error capturing photo")}},Gt=async()=>{if(K)try{const ae=await at(K.identification_number);ae.success?(Q.success(ae.message),G(!1),H(null),R(null),ce(),he()):Q.error(ae.message)}catch{Q.error("Error during face verification check-in")}};return o.jsx(ZA,{children:o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-between items-center mb-8",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Check-In System"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Scan QR codes to check in attendees"})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Event"}),e&&t.length===1?o.jsx("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:t[0].name}):o.jsxs("select",{value:r,onChange:ae=>s(ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[!e&&o.jsx("option",{value:"",children:"Choose an event to start check-in"}),t.map(ae=>o.jsx("option",{value:ae.id,children:e?ae.name:`${ae.name} (${ae.company.name})`},ae.id))]})]}),r&&o.jsx("div",{className:"flex items-end",children:o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 w-full",children:[o.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Check-in Progress"}),o.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[x.checkedIn," / ",x.total]}),o.jsxs("div",{className:"text-sm text-blue-600",children:[x.total>0?Math.round(x.checkedIn/x.total*100):0,"% complete"]})]})})]})}),r&&(()=>{var Ie,Oe;const ae=t.find(yt=>yt.id===r),Ce=ae!=null&&ae.custom_background?{backgroundImage:ae.custom_background.startsWith("blob:")?`url(${ae.custom_background})`:`url(${Ut(ae.custom_background)})`,backgroundSize:"cover",backgroundPosition:"center"}:{};return o.jsx("div",{style:Ce,className:"min-h-[200px] rounded-lg mb-6 p-6 relative",children:o.jsxs("div",{className:"bg-white/80 rounded-lg shadow-md p-6 max-w-xl mx-auto",children:[(ae==null?void 0:ae.custom_logo)&&o.jsx("div",{className:"flex justify-center mb-2",children:o.jsx("img",{src:Ut(ae.custom_logo),alt:"Event Logo",className:"h-20 object-contain"})}),o.jsx("h2",{className:"text-2xl font-bold mb-1 text-center",children:ae==null?void 0:ae.name}),o.jsx("div",{className:"text-gray-600 text-sm mb-1 text-center",children:(Ie=ae==null?void 0:ae.company)==null?void 0:Ie.name}),y&&o.jsxs("div",{className:"text-center text-green-600 font-bold text-xl mb-4",children:["Welcome, ",y,"!",o.jsx("br",{}),A&&o.jsxs("span",{className:"block text-lg text-blue-700 mt-2",children:["Your Table: ",A]}),o.jsx("div",{className:"mt-4",children:o.jsxs("a",{href:`/public/venue/${r}/${y?(Oe=v.find(yt=>yt.name===y))==null?void 0:Oe.id:""}`,target:"_blank",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center",children:[o.jsx(An,{className:"h-4 w-4 mr-2"}),"View Venue Layout"]})})]})]})})})(),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[o.jsx(ir,{className:"h-6 w-6 mr-2"}),"Check-In System"]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium mb-2",children:"Camera Scanner"}),o.jsx(JA,{onScan:Re,onError:ae=>Q.error(ae),autoStart:!0,eventSelected:!!r})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium mb-2",children:"Manual ID Entry"}),o.jsxs("form",{onSubmit:Ot,className:"space-y-3",children:[o.jsx("input",{type:"text",value:i,onChange:ae=>a(ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter ID number or Staff ID",autoFocus:!0}),o.jsxs("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",disabled:!r,children:[o.jsx(dc,{className:"h-4 w-4 mr-2"}),"Check In"]})]})]})]})]}),f&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[o.jsx(ur,{className:"h-6 w-6 mr-2"}),"Event QR Code"]}),o.jsxs("div",{className:"text-center",children:[o.jsx("img",{src:f,alt:"Event QR Code",className:"w-48 h-48 mx-auto border border-gray-200 rounded-lg mb-3"}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Event Check-in QR Code"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Share this QR code for quick access to check-in"})]})]}),r&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-bold",children:"Attendee Management"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:we,className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700",children:"Add Attendee"}),o.jsx("button",{onClick:st,className:"bg-orange-500 text-white px-3 py-1 rounded hover:bg-orange-600",children:"Reset All Check-In"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-100",children:[o.jsx("th",{className:"p-2",children:"Name"}),o.jsx("th",{className:"p-2",children:"ID"}),o.jsx("th",{className:"p-2",children:"Staff ID"}),o.jsx("th",{className:"p-2",children:"Table"}),o.jsx("th",{className:"p-2",children:"Checked In"}),o.jsx("th",{className:"p-2",children:"Actions"})]})}),o.jsx("tbody",{children:g?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-center p-4",children:"Loading..."})}):v.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"text-center p-4",children:"No attendees"})}):v.map(ae=>o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"p-2",children:ae.name}),o.jsx("td",{className:"p-2",children:ae.identification_number}),o.jsx("td",{className:"p-2",children:ae.staff_id}),o.jsx("td",{className:"p-2",children:ae.table_assignment}),o.jsx("td",{className:"p-2",children:ae.checked_in?o.jsx("span",{className:"text-green-600 font-bold",children:"Yes"}):"No"}),o.jsxs("td",{className:"p-2 flex gap-2",children:[o.jsx("button",{onClick:()=>ke(ae),className:"text-blue-600 hover:underline",children:"Edit"}),o.jsx("button",{onClick:()=>me(ae.id),className:"text-red-600 hover:underline",children:"Delete"}),o.jsx("button",{onClick:()=>ze(ae.id),className:"text-orange-600 hover:underline",children:"Reset Check-In"})]})]},ae.id))})]})}),N&&o.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[o.jsx("h3",{className:"text-lg font-bold mb-4",children:F?"Edit Attendee":"Add Attendee"}),o.jsxs("form",{onSubmit:Ge,className:"space-y-3",children:[o.jsx("input",{type:"text",className:"w-full border px-3 py-2 rounded",placeholder:"Name",value:O.name,onChange:ae=>$({...O,name:ae.target.value}),required:!0}),o.jsx("input",{type:"text",className:"w-full border px-3 py-2 rounded",placeholder:"Identification Number",value:O.identification_number,onChange:ae=>$({...O,identification_number:ae.target.value}),required:!0}),o.jsx("input",{type:"text",className:"w-full border px-3 py-2 rounded",placeholder:"Staff ID",value:O.staff_id,onChange:ae=>$({...O,staff_id:ae.target.value})}),o.jsx("input",{type:"text",className:"w-full border px-3 py-2 rounded",placeholder:"Table Assignment",value:O.table_assignment,onChange:ae=>$({...O,table_assignment:ae.target.value})}),o.jsx("input",{type:"email",className:"w-full border px-3 py-2 rounded",placeholder:"Email",value:O.email,onChange:ae=>$({...O,email:ae.target.value})}),o.jsx("input",{type:"tel",className:"w-full border px-3 py-2 rounded",placeholder:"Phone",value:O.phone,onChange:ae=>$({...O,phone:ae.target.value})}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:F?"Update":"Add"})]})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-6",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[o.jsx(pt,{className:"h-6 w-6 mr-2"}),"Recent Check-ins"]}),o.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[l.map(ae=>o.jsxs("div",{className:"flex items-center p-3 bg-green-50 rounded-lg",children:[o.jsx(Vr,{className:"h-5 w-5 text-green-600 mr-3"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-gray-900",children:ae.name}),o.jsxs("div",{className:"text-sm text-gray-600",children:["ID: ",ae.identification_number]}),ae.staff_id&&o.jsxs("div",{className:"text-sm text-gray-600",children:["Staff: ",ae.staff_id]}),ae.table_assignment&&o.jsxs("div",{className:"text-sm text-blue-700 font-semibold",children:["Table: ",ae.table_assignment]}),o.jsx("div",{className:"text-xs text-gray-500",children:new Date(ae.check_in_time).toLocaleTimeString()})]})]},ae.id)),l.length===0&&o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(pt,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No check-ins yet"})]})]})]}),M&&(()=>{try{return console.log("FaceDetectionModal:",{showFaceDetection:M,currentAttendee:K,facePhoto:Z,showCamera:P}),K?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h3",{className:"text-lg font-bold mb-4",children:"Face Detection Required"}),o.jsxs("p",{className:"text-gray-600 mb-4",children:["Please look at the camera to verify your identity for ",K.name]}),K.face_photo_url&&o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Registered Photo:"}),o.jsx("img",{src:Ut(K.face_photo_url),alt:"Registered photo",className:"w-24 h-24 object-cover rounded-lg border-2 border-gray-300"})]}),!P&&!Z&&o.jsxs("button",{onClick:ht,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[o.jsx(ir,{className:"h-5 w-5 mr-2"}),"Start Camera"]}),P&&o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[o.jsx("video",{ref:V,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-48 h-48 border-4 border-white rounded-full opacity-80"})}),o.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:o.jsxs("button",{type:"button",onClick:un,className:"bg-white text-black px-6 py-2 rounded-full hover:bg-gray-100 flex items-center",children:[o.jsx(ir,{className:"h-4 w-4 mr-2"}),"Capture"]})}),o.jsx("button",{type:"button",onClick:()=>{Ht(),G(!1),H(null)},className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700",children:o.jsx(gi,{className:"h-4 w-4"})})]}),o.jsx("canvas",{ref:te,className:"hidden"})]}),Z&&o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Captured Photo:"}),o.jsx("img",{src:Z,alt:"Captured photo",className:"w-24 h-24 object-cover rounded-lg border-2 border-gray-300 mx-auto mb-4"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{R(null),ht()},className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Retake"}),o.jsx("button",{onClick:Gt,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Confirm Check-in"})]})]})]})}):o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md text-center",children:[o.jsx("h3",{className:"text-lg font-bold mb-4",children:"Face Detection Error"}),o.jsx("p",{className:"text-red-600",children:"No attendee data found. Please try again."}),o.jsx("button",{onClick:()=>{G(!1),H(null),R(null)},className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg",children:"Close"})]})})}catch(ae){return console.error("FaceDetectionModal error:",ae),o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md text-center",children:[o.jsx("h3",{className:"text-lg font-bold mb-4",children:"Face Detection Error"}),o.jsx("p",{className:"text-red-600",children:"An error occurred. Please try again."}),o.jsx("button",{onClick:()=>{G(!1),H(null),R(null)},className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg",children:"Close"})]})})}})()]})})}const Sf=B.createContext({});function Pf(e){const t=B.useRef(null);return t.current===null&&(t.current=e()),t.current}const Tf=typeof window<"u",jE=Tf?B.useLayoutEffect:B.useEffect,tu=B.createContext(null);function Rf(e,t){e.indexOf(t)===-1&&e.push(t)}function Mf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Qr=(e,t,n)=>n>t?t:n<e?e:n;let If=()=>{};const Yr={},NE=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function _E(e){return typeof e=="object"&&e!==null}const SE=e=>/^0[^.\s]+$/u.test(e);function Lf(e){let t;return()=>(t===void 0&&(t=e()),t)}const Qn=e=>e,tD=(e,t)=>n=>t(e(n)),yl=(...e)=>e.reduce(tD),Ja=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Of{constructor(){this.subscriptions=[]}add(t){return Rf(this.subscriptions,t),()=>Mf(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Dr=e=>e*1e3,Fr=e=>e/1e3;function PE(e,t){return t?e*(1e3/t):0}const TE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,nD=1e-7,rD=12;function sD(e,t,n,r,s){let i,a,l=0;do a=t+(n-t)/2,i=TE(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>nD&&++l<rD);return a}function vl(e,t,n,r){if(e===t&&n===r)return Qn;const s=i=>sD(i,0,1,e,n);return i=>i===0||i===1?i:TE(s(i),t,r)}const RE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ME=e=>t=>1-e(1-t),IE=vl(.33,1.53,.69,.99),$f=ME(IE),LE=RE($f),OE=e=>(e*=2)<1?.5*$f(e):.5*(2-Math.pow(2,-10*(e-1))),Uf=e=>1-Math.sin(Math.acos(e)),$E=ME(Uf),UE=RE(Uf),oD=vl(.42,0,1,1),iD=vl(0,0,.58,1),VE=vl(.42,0,.58,1),aD=e=>Array.isArray(e)&&typeof e[0]!="number",zE=e=>Array.isArray(e)&&typeof e[0]=="number",lD={linear:Qn,easeIn:oD,easeInOut:VE,easeOut:iD,circIn:Uf,circInOut:UE,circOut:$E,backIn:$f,backInOut:LE,backOut:IE,anticipate:OE},cD=e=>typeof e=="string",Og=e=>{if(zE(e)){If(e.length===4);const[t,n,r,s]=e;return vl(t,n,r,s)}else if(cD(e))return lD[e];return e},f0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function uD(e,t){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(x.schedule(d),e()),d(l)}const x={schedule:(d,f=!1,m=!1)=>{const C=m&&s?n:r;return f&&a.add(d),C.has(d)||C.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(l=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,x.process(d))}};return x}const xD=40;function qE(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=f0.reduce((g,b)=>(g[b]=uD(i),g),{}),{setup:l,read:c,resolveKeyframes:x,preUpdate:d,update:f,preRender:m,render:y,postRender:C}=a,A=()=>{const g=Yr.useManualTiming?s.timestamp:performance.now();n=!1,Yr.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,xD),1)),s.timestamp=g,s.isProcessing=!0,l.process(s),c.process(s),x.process(s),d.process(s),f.process(s),m.process(s),y.process(s),C.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(A))},j=()=>{n=!0,r=!0,s.isProcessing||e(A)};return{schedule:f0.reduce((g,b)=>{const F=a[b];return g[b]=(k,N=!1,S=!1)=>(n||j(),F.schedule(k,N,S)),g},{}),cancel:g=>{for(let b=0;b<f0.length;b++)a[f0[b]].cancel(g)},state:s,steps:a}}const{schedule:wt,cancel:_s,state:Xt,steps:Bx}=qE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qn,!0);let T0;function dD(){T0=void 0}const Dn={now:()=>(T0===void 0&&Dn.set(Xt.isProcessing||Yr.useManualTiming?Xt.timestamp:performance.now()),T0),set:e=>{T0=e,queueMicrotask(dD)}},WE=e=>t=>typeof t=="string"&&t.startsWith(e),Vf=WE("--"),hD=WE("var(--"),zf=e=>hD(e)?fD.test(e.split("/*")[0].trim()):!1,fD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ri={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Za={...Ri,transform:e=>Qr(0,1,e)},m0={...Ri,default:1},Da=e=>Math.round(e*1e5)/1e5,qf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mD(e){return e==null}const pD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wf=(e,t)=>n=>!!(typeof n=="string"&&pD.test(n)&&n.startsWith(e)||t&&!mD(n)&&Object.prototype.hasOwnProperty.call(n,t)),KE=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,l]=r.match(qf);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},gD=e=>Qr(0,255,e),Ax={...Ri,transform:e=>Math.round(gD(e))},io={test:Wf("rgb","red"),parse:KE("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ax.transform(e)+", "+Ax.transform(t)+", "+Ax.transform(n)+", "+Da(Za.transform(r))+")"};function yD(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Yd={test:Wf("#"),parse:yD,transform:io.transform},El=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ls=El("deg"),kr=El("%"),Ue=El("px"),vD=El("vh"),ED=El("vw"),$g={...kr,parse:e=>kr.parse(e)/100,transform:e=>kr.transform(e*100)},Xo={test:Wf("hsl","hue"),parse:KE("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+kr.transform(Da(t))+", "+kr.transform(Da(n))+", "+Da(Za.transform(r))+")"},It={test:e=>io.test(e)||Yd.test(e)||Xo.test(e),parse:e=>io.test(e)?io.parse(e):Xo.test(e)?Xo.parse(e):Yd.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?io.transform(e):Xo.transform(e),getAnimatableNone:e=>{const t=It.parse(e);return t.alpha=0,It.transform(t)}},bD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function CD(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(qf))==null?void 0:t.length)||0)+(((n=e.match(bD))==null?void 0:n.length)||0)>0}const HE="number",GE="color",wD="var",BD="var(",Ug="${}",AD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function el(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(AD,c=>(It.test(c)?(r.color.push(i),s.push(GE),n.push(It.parse(c))):c.startsWith(BD)?(r.var.push(i),s.push(wD),n.push(c)):(r.number.push(i),s.push(HE),n.push(parseFloat(c))),++i,Ug)).split(Ug);return{values:n,split:l,indexes:r,types:s}}function QE(e){return el(e).values}function YE(e){const{split:t,types:n}=el(e),r=t.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],s[a]!==void 0){const l=n[a];l===HE?i+=Da(s[a]):l===GE?i+=It.transform(s[a]):i+=s[a]}return i}}const DD=e=>typeof e=="number"?0:It.test(e)?It.getAnimatableNone(e):e;function FD(e){const t=QE(e);return YE(e)(t.map(DD))}const Ss={test:CD,parse:QE,createTransformer:YE,getAnimatableNone:FD};function Dx(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kD({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Dx(c,l,e+1/3),i=Dx(c,l,e),a=Dx(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function pc(e,t){return n=>n>0?t:e}const Ft=(e,t,n)=>e+(t-e)*n,Fx=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},jD=[Yd,io,Xo],ND=e=>jD.find(t=>t.test(e));function Vg(e){const t=ND(e);if(!t)return!1;let n=t.parse(e);return t===Xo&&(n=kD(n)),n}const zg=(e,t)=>{const n=Vg(e),r=Vg(t);if(!n||!r)return pc(e,t);const s={...n};return i=>(s.red=Fx(n.red,r.red,i),s.green=Fx(n.green,r.green,i),s.blue=Fx(n.blue,r.blue,i),s.alpha=Ft(n.alpha,r.alpha,i),io.transform(s))},Xd=new Set(["none","hidden"]);function _D(e,t){return Xd.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function SD(e,t){return n=>Ft(e,t,n)}function Kf(e){return typeof e=="number"?SD:typeof e=="string"?zf(e)?pc:It.test(e)?zg:RD:Array.isArray(e)?XE:typeof e=="object"?It.test(e)?zg:PD:pc}function XE(e,t){const n=[...e],r=n.length,s=e.map((i,a)=>Kf(i)(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function PD(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Kf(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function TD(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][r[i]],l=e.values[a]??0;n[s]=l,r[i]++}return n}const RD=(e,t)=>{const n=Ss.createTransformer(t),r=el(e),s=el(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Xd.has(e)&&!s.values.length||Xd.has(t)&&!r.values.length?_D(e,t):yl(XE(TD(r,s),s.values),n):pc(e,t)};function JE(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ft(e,t,n):Kf(e)(e,t)}const MD=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>wt.update(t,n),stop:()=>_s(t),now:()=>Xt.isProcessing?Xt.timestamp:Dn.now()}},ZE=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},gc=2e4;function Hf(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<gc;)t+=n,r=e.next(t);return t>=gc?1/0:t}function ID(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(Hf(r),gc);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Fr(s)}}const LD=5;function e1(e,t,n){const r=Math.max(t-LD,0);return PE(n-e(r),t-r)}const Nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kx=.001;function OD({duration:e=Nt.duration,bounce:t=Nt.bounce,velocity:n=Nt.velocity,mass:r=Nt.mass}){let s,i,a=1-t;a=Qr(Nt.minDamping,Nt.maxDamping,a),e=Qr(Nt.minDuration,Nt.maxDuration,Fr(e)),a<1?(s=x=>{const d=x*a,f=d*e,m=d-n,y=Jd(x,a),C=Math.exp(-f);return kx-m/y*C},i=x=>{const f=x*a*e,m=f*n+n,y=Math.pow(a,2)*Math.pow(x,2)*e,C=Math.exp(-f),A=Jd(Math.pow(x,2),a);return(-s(x)+kx>0?-1:1)*((m-y)*C)/A}):(s=x=>{const d=Math.exp(-x*e),f=(x-n)*e+1;return-kx+d*f},i=x=>{const d=Math.exp(-x*e),f=(n-x)*(e*e);return d*f});const l=5/e,c=UD(s,i,l);if(e=Dr(e),isNaN(c))return{stiffness:Nt.stiffness,damping:Nt.damping,duration:e};{const x=Math.pow(c,2)*r;return{stiffness:x,damping:a*2*Math.sqrt(r*x),duration:e}}}const $D=12;function UD(e,t,n){let r=n;for(let s=1;s<$D;s++)r=r-e(r)/t(r);return r}function Jd(e,t){return e*Math.sqrt(1-t*t)}const VD=["duration","bounce"],zD=["stiffness","damping","mass"];function qg(e,t){return t.some(n=>e[n]!==void 0)}function qD(e){let t={velocity:Nt.velocity,stiffness:Nt.stiffness,damping:Nt.damping,mass:Nt.mass,isResolvedFromDuration:!1,...e};if(!qg(e,zD)&&qg(e,VD))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Qr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Nt.mass,stiffness:s,damping:i}}else{const n=OD(e);t={...t,...n,mass:Nt.mass},t.isResolvedFromDuration=!0}return t}function yc(e=Nt.visualDuration,t=Nt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:x,mass:d,duration:f,velocity:m,isResolvedFromDuration:y}=qD({...n,velocity:-Fr(n.velocity||0)}),C=m||0,A=x/(2*Math.sqrt(c*d)),j=a-i,v=Fr(Math.sqrt(c/d)),E=Math.abs(j)<5;r||(r=E?Nt.restSpeed.granular:Nt.restSpeed.default),s||(s=E?Nt.restDelta.granular:Nt.restDelta.default);let g;if(A<1){const F=Jd(v,A);g=k=>{const N=Math.exp(-A*v*k);return a-N*((C+A*v*j)/F*Math.sin(F*k)+j*Math.cos(F*k))}}else if(A===1)g=F=>a-Math.exp(-v*F)*(j+(C+v*j)*F);else{const F=v*Math.sqrt(A*A-1);g=k=>{const N=Math.exp(-A*v*k),S=Math.min(F*k,300);return a-N*((C+A*v*j)*Math.sinh(S)+F*j*Math.cosh(S))/F}}const b={calculatedDuration:y&&f||null,next:F=>{const k=g(F);if(y)l.done=F>=f;else{let N=F===0?C:0;A<1&&(N=F===0?Dr(C):e1(g,F,k));const S=Math.abs(N)<=r,O=Math.abs(a-k)<=s;l.done=S&&O}return l.value=l.done?a:k,l},toString:()=>{const F=Math.min(Hf(b),gc),k=ZE(N=>b.next(F*N).value,F,30);return F+"ms "+k},toTransition:()=>{}};return b}yc.applyToOptions=e=>{const t=ID(e,100,yc);return e.ease=t.ease,e.duration=Dr(t.duration),e.type="keyframes",e};function Zd({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:x=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},y=S=>l!==void 0&&S<l||c!==void 0&&S>c,C=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let A=n*t;const j=f+A,v=a===void 0?j:a(j);v!==j&&(A=v-f);const E=S=>-A*Math.exp(-S/r),g=S=>v+E(S),b=S=>{const O=E(S),$=g(S);m.done=Math.abs(O)<=x,m.value=m.done?v:$};let F,k;const N=S=>{y(m.value)&&(F=S,k=yc({keyframes:[m.value,C(m.value)],velocity:e1(g,S,m.value),damping:s,stiffness:i,restDelta:x,restSpeed:d}))};return N(0),{calculatedDuration:null,next:S=>{let O=!1;return!k&&F===void 0&&(O=!0,b(S),N(S)),F!==void 0&&S>=F?k.next(S-F):(!O&&b(S),m)}}}function WD(e,t,n){const r=[],s=n||Yr.mix||JE,i=e.length-1;for(let a=0;a<i;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Qn:t;l=yl(c,l)}r.push(l)}return r}function KD(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(If(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=WD(t,r,s),c=l.length,x=d=>{if(a&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const m=Ja(e[f],e[f+1],d);return l[f](m)};return n?d=>x(Qr(e[0],e[i-1],d)):x}function HD(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Ja(0,t,r);e.push(Ft(n,1,s))}}function GD(e){const t=[0];return HD(t,e.length-1),t}function QD(e,t){return e.map(n=>n*t)}function YD(e,t){return e.map(()=>t||VE).splice(0,e.length-1)}function Fa({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=aD(r)?r.map(Og):Og(r),i={done:!1,value:t[0]},a=QD(n&&n.length===t.length?n:GD(t),e),l=KD(a,t,{ease:Array.isArray(s)?s:YD(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const XD=e=>e!==null;function Gf(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(XD),l=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const JD={decay:Zd,inertia:Zd,tween:Fa,keyframes:Fa,spring:yc};function t1(e){typeof e.type=="string"&&(e.type=JD[e.type])}class Qf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const ZD=e=>e/100;class Yf extends Qf{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Dn.now()&&this.tick(Dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;t1(t);const{type:n=Fa,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=t;let{keyframes:l}=t;const c=n||Fa;c!==Fa&&typeof l[0]!="number"&&(this.mixKeyframes=yl(ZD,JE(l[0],l[1])),l=[0,100]);const x=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),x.calculatedDuration===null&&(x.calculatedDuration=Hf(x));const{calculatedDuration:d}=x;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=x}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:x=0,keyframes:d,repeat:f,repeatType:m,repeatDelay:y,type:C,onUpdate:A,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const v=this.currentTime-x*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let g=this.currentTime,b=r;if(f){const S=Math.min(this.currentTime,s)/l;let O=Math.floor(S),$=S%1;!$&&S>=1&&($=1),$===1&&O--,O=Math.min(O,f+1),!!(O%2)&&(m==="reverse"?($=1-$,y&&($-=y/l)):m==="mirror"&&(b=a)),g=Qr(0,1,$)*l}const F=E?{done:!1,value:d[0]}:b.next(g);i&&(F.value=i(F.value));let{done:k}=F;!E&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return N&&C!==Zd&&(F.value=Gf(d,this.options,j,this.speed)),A&&A(F.value),N&&this.finish(),F}then(t,n){return this.finished.then(t,n)}get duration(){return Fr(this.calculatedDuration)}get time(){return Fr(this.currentTime)}set time(t){var n;t=Dr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Dn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Fr(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=MD,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function eF(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ao=e=>e*180/Math.PI,eh=e=>{const t=ao(Math.atan2(e[1],e[0]));return th(t)},tF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:eh,rotateZ:eh,skewX:e=>ao(Math.atan(e[1])),skewY:e=>ao(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},th=e=>(e=e%360,e<0&&(e+=360),e),Wg=eh,Kg=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Hg=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),nF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Kg,scaleY:Hg,scale:e=>(Kg(e)+Hg(e))/2,rotateX:e=>th(ao(Math.atan2(e[6],e[5]))),rotateY:e=>th(ao(Math.atan2(-e[2],e[0]))),rotateZ:Wg,rotate:Wg,skewX:e=>ao(Math.atan(e[4])),skewY:e=>ao(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function nh(e){return e.includes("scale")?1:0}function rh(e,t){if(!e||e==="none")return nh(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=nF,s=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=tF,s=l}if(!s)return nh(t);const i=r[t],a=s[1].split(",").map(sF);return typeof i=="function"?i(a):a[i]}const rF=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return rh(n,t)};function sF(e){return parseFloat(e.trim())}const Mi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ii=new Set(Mi),Gg=e=>e===Ri||e===Ue,oF=new Set(["x","y","z"]),iF=Mi.filter(e=>!oF.has(e));function aF(e){const t=[];return iF.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const uo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>rh(t,"x"),y:(e,{transform:t})=>rh(t,"y")};uo.translateX=uo.x;uo.translateY=uo.y;const xo=new Set;let sh=!1,oh=!1,ih=!1;function n1(){if(oh){const e=Array.from(xo).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=aF(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var l;(l=r.getValue(i))==null||l.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}oh=!1,sh=!1,xo.forEach(e=>e.complete(ih)),xo.clear()}function r1(){xo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(oh=!0)})}function lF(){ih=!0,r1(),n1(),ih=!1}class Xf{constructor(t,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(xo.add(this),sh||(sh=!0,wt.read(r1),wt.resolveKeyframes(n1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&i===void 0&&s.set(t[0])}eF(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),xo.delete(this)}cancel(){this.state==="scheduled"&&(xo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cF=e=>e.startsWith("--");function uF(e,t,n){cF(t)?e.style.setProperty(t,n):e.style[t]=n}const xF=Lf(()=>window.ScrollTimeline!==void 0),dF={};function hF(e,t){const n=Lf(e);return()=>dF[t]??n()}const s1=hF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),da=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Qg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:da([0,.65,.55,1]),circOut:da([.55,0,1,.45]),backIn:da([.31,.01,.66,-.59]),backOut:da([.33,1.53,.69,.99])};function o1(e,t){if(e)return typeof e=="function"?s1()?ZE(e,t):"ease-out":zE(e)?da(e):Array.isArray(e)?e.map(n=>o1(n,t)||Qg.easeOut):Qg[e]}function fF(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeOut",times:c}={},x=void 0){const d={[t]:n};c&&(d.offset=c);const f=o1(l,s);Array.isArray(f)&&(d.easing=f);const m={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return x&&(m.pseudoElement=x),e.animate(d,m)}function i1(e){return typeof e=="function"&&"applyToOptions"in e}function mF({type:e,...t}){return i1(e)&&s1()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class pF extends Qf{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=t,If(typeof t.type!="string");const x=mF(t);this.animation=fF(n,r,s,x,i),x.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=Gf(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):uF(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Fr(Number(t))}get time(){return Fr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Dr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&xF()?(this.animation.timeline=t,Qn):n(this)}}const a1={anticipate:OE,backInOut:LE,circInOut:UE};function gF(e){return e in a1}function yF(e){typeof e.ease=="string"&&gF(e.ease)&&(e.ease=a1[e.ease])}const Yg=10;class vF extends pF{constructor(t){yF(t),t1(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new Yf({...a,autoplay:!1}),c=Dr(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-Yg).value,l.sample(c).value,Yg),l.stop()}}const Xg=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ss.test(e)||e==="0")&&!e.startsWith("url("));function EF(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function bF(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=Xg(s,t),l=Xg(i,t);return!a||!l?!1:EF(e)||(n==="spring"||i1(n))&&r}const CF=new Set(["opacity","clipPath","filter","transform"]),wF=Lf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function BF(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:x}=t.owner.getProps();return wF()&&n&&CF.has(n)&&(n!=="transform"||!x)&&!c&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const AF=40;class DF extends Qf{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:l,name:c,motionValue:x,element:d,...f}){var C;super(),this.stop=()=>{var A,j;this._animation&&(this._animation.stop(),(A=this.stopTimeline)==null||A.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=Dn.now();const m={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:x,element:d,...f},y=(d==null?void 0:d.KeyframeResolver)||Xf;this.keyframeResolver=new y(l,(A,j,v)=>this.onKeyframesResolved(A,j,m,!v),c,x,d),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:l,delay:c,isHandoff:x,onUpdate:d}=r;this.resolvedAt=Dn.now(),bF(t,i,a,l)||((Yr.instantAnimations||!c)&&(d==null||d(Gf(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>AF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},y=!x&&BF(m)?new vF({...m,element:m.motionValue.owner.current}):new Yf(m);y.finished.then(()=>this.notifyFinished()).catch(Qn),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),lF()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const FF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kF(e){const t=FF.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function l1(e,t,n=1){const[r,s]=kF(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return NE(a)?parseFloat(a):a}return zf(s)?l1(s,t,n+1):s}function Jf(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const c1=new Set(["width","height","top","left","right","bottom",...Mi]),jF={test:e=>e==="auto",parse:e=>e},u1=e=>t=>t.test(e),x1=[Ri,Ue,kr,ls,ED,vD,jF],Jg=e=>x1.find(u1(e));function NF(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||SE(e):!0}const _F=new Set(["brightness","contrast","saturate","opacity"]);function SF(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(qf)||[];if(!r)return e;const s=n.replace(r,"");let i=_F.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const PF=/\b([a-z-]*)\(.*?\)/gu,ah={...Ss,getAnimatableNone:e=>{const t=e.match(PF);return t?t.map(SF).join(" "):e}},Zg={...Ri,transform:Math.round},TF={rotate:ls,rotateX:ls,rotateY:ls,rotateZ:ls,scale:m0,scaleX:m0,scaleY:m0,scaleZ:m0,skew:ls,skewX:ls,skewY:ls,distance:Ue,translateX:Ue,translateY:Ue,translateZ:Ue,x:Ue,y:Ue,z:Ue,perspective:Ue,transformPerspective:Ue,opacity:Za,originX:$g,originY:$g,originZ:Ue},Zf={borderWidth:Ue,borderTopWidth:Ue,borderRightWidth:Ue,borderBottomWidth:Ue,borderLeftWidth:Ue,borderRadius:Ue,radius:Ue,borderTopLeftRadius:Ue,borderTopRightRadius:Ue,borderBottomRightRadius:Ue,borderBottomLeftRadius:Ue,width:Ue,maxWidth:Ue,height:Ue,maxHeight:Ue,top:Ue,right:Ue,bottom:Ue,left:Ue,padding:Ue,paddingTop:Ue,paddingRight:Ue,paddingBottom:Ue,paddingLeft:Ue,margin:Ue,marginTop:Ue,marginRight:Ue,marginBottom:Ue,marginLeft:Ue,backgroundPositionX:Ue,backgroundPositionY:Ue,...TF,zIndex:Zg,fillOpacity:Za,strokeOpacity:Za,numOctaves:Zg},RF={...Zf,color:It,backgroundColor:It,outlineColor:It,fill:It,stroke:It,borderColor:It,borderTopColor:It,borderRightColor:It,borderBottomColor:It,borderLeftColor:It,filter:ah,WebkitFilter:ah},d1=e=>RF[e];function h1(e,t){let n=d1(e);return n!==ah&&(n=Ss),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const MF=new Set(["auto","none","0"]);function IF(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!MF.has(i)&&el(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=h1(n,s)}class LF extends Xf{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let x=t[c];if(typeof x=="string"&&(x=x.trim(),zf(x))){const d=l1(x,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!c1.has(r)||t.length!==2)return;const[s,i]=t,a=Jg(s),l=Jg(i);if(a!==l)if(Gg(a)&&Gg(l))for(let c=0;c<t.length;c++){const x=t[c];typeof x=="string"&&(t[c]=parseFloat(x))}else uo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||NF(t[s]))&&r.push(s);r.length&&IF(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=uo[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=uo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,x])=>{t.getValue(c).set(x)}),this.resolveNoneKeyframes()}}function OF(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=(n==null?void 0:n[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const f1=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function m1(e){return _E(e)&&"offsetHeight"in e}const ey=30,$F=e=>!isNaN(parseFloat(e));class UF{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var a,l;const i=Dn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();s&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Dn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$F(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Of);const r=this.events[t].add(n);return t==="change"?()=>{r(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ey)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ey);return PE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wi(e,t){return new UF(e,t)}const{schedule:em}=qE(queueMicrotask,!1),tr={x:!1,y:!1};function p1(){return tr.x||tr.y}function VF(e){return e==="x"||e==="y"?tr[e]?null:(tr[e]=!0,()=>{tr[e]=!1}):tr.x||tr.y?null:(tr.x=tr.y=!0,()=>{tr.x=tr.y=!1})}function g1(e,t){const n=OF(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function ty(e){return!(e.pointerType==="touch"||p1())}function zF(e,t,n={}){const[r,s,i]=g1(e,n),a=l=>{if(!ty(l))return;const{target:c}=l,x=t(c,l);if(typeof x!="function"||!c)return;const d=f=>{ty(f)&&(x(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const y1=(e,t)=>t?e===t?!0:y1(e,t.parentElement):!1,tm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,qF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function WF(e){return qF.has(e.tagName)||e.tabIndex!==-1}const R0=new WeakSet;function ny(e){return t=>{t.key==="Enter"&&e(t)}}function jx(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const KF=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=ny(()=>{if(R0.has(n))return;jx(n,"down");const s=ny(()=>{jx(n,"up")}),i=()=>jx(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function ry(e){return tm(e)&&!p1()}function HF(e,t,n={}){const[r,s,i]=g1(e,n),a=l=>{const c=l.currentTarget;if(!ry(l))return;R0.add(c);const x=t(c,l),d=(y,C)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),R0.has(c)&&R0.delete(c),ry(y)&&typeof x=="function"&&x(y,{success:C})},f=y=>{d(y,c===window||c===document||n.useGlobalTarget||y1(c,y.target))},m=y=>{d(y,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",m,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),m1(l)&&(l.addEventListener("focus",x=>KF(x,s)),!WF(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function v1(e){return _E(e)&&"ownerSVGElement"in e}function GF(e){return v1(e)&&e.tagName==="svg"}const ln=e=>!!(e&&e.getVelocity),QF=[...x1,It,Ss],YF=e=>QF.find(u1(e)),nm=B.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class XF extends B.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=m1(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function JF({children:e,isPresent:t,anchorX:n,root:r}){const s=B.useId(),i=B.useRef(null),a=B.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=B.useContext(nm);return B.useInsertionEffect(()=>{const{width:c,height:x,top:d,left:f,right:m}=a.current;if(t||!i.current||!c||!x)return;const y=n==="left"?`left: ${f}`:`right: ${m}`;i.current.dataset.motionPopId=s;const C=document.createElement("style");l&&(C.nonce=l);const A=r??document.head;return A.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${x}px !important;
            ${y}px !important;
            top: ${d}px !important;
          }
        `),()=>{A.removeChild(C),A.contains(C)&&A.removeChild(C)}},[t]),o.jsx(XF,{isPresent:t,childRef:i,sizeRef:a,children:B.cloneElement(e,{ref:i})})}const ZF=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:l,root:c})=>{const x=Pf(ek),d=B.useId();let f=!0,m=B.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:y=>{x.set(y,!0);for(const C of x.values())if(!C)return;r&&r()},register:y=>(x.set(y,!1),()=>x.delete(y))}),[n,x,r]);return i&&f&&(m={...m}),B.useMemo(()=>{x.forEach((y,C)=>x.set(C,!1))},[n]),B.useEffect(()=>{!n&&!x.size&&r&&r()},[n]),a==="popLayout"&&(e=o.jsx(JF,{isPresent:n,anchorX:l,root:c,children:e})),o.jsx(tu.Provider,{value:m,children:e})};function ek(){return new Map}function E1(e=!0){const t=B.useContext(tu);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=B.useId();B.useEffect(()=>{if(e)return s(i)},[e]);const a=B.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,a]:[!0]}const p0=e=>e.key||"";function sy(e){const t=[];return B.Children.forEach(e,n=>{B.isValidElement(n)&&t.push(n)}),t}const b1=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[x,d]=E1(a),f=B.useMemo(()=>sy(e),[e]),m=a&&!x?[]:f.map(p0),y=B.useRef(!0),C=B.useRef(f),A=Pf(()=>new Map),[j,v]=B.useState(f),[E,g]=B.useState(f);jE(()=>{y.current=!1,C.current=f;for(let k=0;k<E.length;k++){const N=p0(E[k]);m.includes(N)?A.delete(N):A.get(N)!==!0&&A.set(N,!1)}},[E,m.length,m.join("-")]);const b=[];if(f!==j){let k=[...f];for(let N=0;N<E.length;N++){const S=E[N],O=p0(S);m.includes(O)||(k.splice(N,0,S),b.push(S))}return i==="wait"&&b.length&&(k=b),g(sy(k)),v(f),null}const{forceRender:F}=B.useContext(Sf);return o.jsx(o.Fragment,{children:E.map(k=>{const N=p0(k),S=a&&!x?!1:f===E||m.includes(N),O=()=>{if(A.has(N))A.set(N,!0);else return;let $=!0;A.forEach(M=>{M||($=!1)}),$&&(F==null||F(),g(C.current),a&&(d==null||d()),r&&r())};return o.jsx(ZF,{isPresent:S,initial:!y.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:S?void 0:O,anchorX:l,children:k},N)})})},C1=B.createContext({strict:!1}),oy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bi={};for(const e in oy)Bi[e]={isEnabled:t=>oy[e].some(n=>!!t[n])};function tk(e){for(const t in e)Bi[t]={...Bi[t],...e[t]}}const nk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||nk.has(e)}let w1=e=>!vc(e);function rk(e){typeof e=="function"&&(w1=t=>t.startsWith("on")?!vc(t):e(t))}try{rk(require("@emotion/is-prop-valid").default)}catch{}function sk(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(w1(s)||n===!0&&vc(s)||!t&&!vc(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const nu=B.createContext({});function ru(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function tl(e){return typeof e=="string"||Array.isArray(e)}const rm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sm=["initial",...rm];function su(e){return ru(e.animate)||sm.some(t=>tl(e[t]))}function B1(e){return!!(su(e)||e.variants)}function ok(e,t){if(su(e)){const{initial:n,animate:r}=e;return{initial:n===!1||tl(n)?n:void 0,animate:tl(r)?r:void 0}}return e.inherit!==!1?t:{}}function ik(e){const{initial:t,animate:n}=ok(e,B.useContext(nu));return B.useMemo(()=>({initial:t,animate:n}),[iy(t),iy(n)])}function iy(e){return Array.isArray(e)?e.join(" "):e}const nl={};function ak(e){for(const t in e)nl[t]=e[t],Vf(t)&&(nl[t].isCSSVariable=!0)}function A1(e,{layout:t,layoutId:n}){return Ii.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!nl[e]||e==="opacity")}const lk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ck=Mi.length;function uk(e,t,n){let r="",s=!0;for(let i=0;i<ck;i++){const a=Mi[i],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const x=f1(l,Zf[a]);if(!c){s=!1;const d=lk[a]||a;r+=`${d}(${x}) `}n&&(t[a]=x)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function om(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let a=!1,l=!1;for(const c in t){const x=t[c];if(Ii.has(c)){a=!0;continue}else if(Vf(c)){s[c]=x;continue}else{const d=f1(x,Zf[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(t.transform||(a||n?r.transform=uk(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:x="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${x} ${d}`}}const im=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function D1(e,t,n){for(const r in t)!ln(t[r])&&!A1(r,n)&&(e[r]=t[r])}function xk({transformTemplate:e},t){return B.useMemo(()=>{const n=im();return om(n,t,e),Object.assign({},n.vars,n.style)},[t])}function dk(e,t){const n=e.style||{},r={};return D1(r,n,e),Object.assign(r,xk(e,t)),r}function hk(e,t){const n={},r=dk(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const fk={offset:"stroke-dashoffset",array:"stroke-dasharray"},mk={offset:"strokeDashoffset",array:"strokeDasharray"};function pk(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?fk:mk;e[i.offset]=Ue.transform(-r);const a=Ue.transform(t),l=Ue.transform(n);e[i.array]=`${a} ${l}`}function F1(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...l},c,x,d){if(om(e,l,x),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m}=e;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&pk(f,s,i,a,!1)}const k1=()=>({...im(),attrs:{}}),j1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function gk(e,t,n,r){const s=B.useMemo(()=>{const i=k1();return F1(i,t,j1(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};D1(i,e.style,e),s.style={...i,...s.style}}return s}const yk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function am(e){return typeof e!="string"||e.includes("-")?!1:!!(yk.indexOf(e)>-1||/[A-Z]/u.test(e))}function vk(e,t,n,{latestValues:r},s,i=!1){const l=(am(e)?gk:hk)(t,r,s,e),c=sk(t,typeof e=="string",i),x=e!==B.Fragment?{...c,...l,ref:n}:{},{children:d}=t,f=B.useMemo(()=>ln(d)?d.get():d,[d]);return B.createElement(e,{...x,children:f})}function ay(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function lm(e,t,n,r){if(typeof t=="function"){const[s,i]=ay(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=ay(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function M0(e){return ln(e)?e.get():e}function Ek({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:bk(n,r,s,e),renderState:t()}}function bk(e,t,n,r){const s={},i=r(e,{});for(const m in i)s[m]=M0(i[m]);let{initial:a,animate:l}=e;const c=su(e),x=B1(e);t&&x&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!ru(f)){const m=Array.isArray(f)?f:[f];for(let y=0;y<m.length;y++){const C=lm(e,m[y]);if(C){const{transitionEnd:A,transition:j,...v}=C;for(const E in v){let g=v[E];if(Array.isArray(g)){const b=d?g.length-1:0;g=g[b]}g!==null&&(s[E]=g)}for(const E in A)s[E]=A[E]}}}return s}const N1=e=>(t,n)=>{const r=B.useContext(nu),s=B.useContext(tu),i=()=>Ek(e,t,r,s);return n?i():Pf(i)};function cm(e,t,n){var i;const{style:r}=e,s={};for(const a in r)(ln(r[a])||t.style&&ln(t.style[a])||A1(a,e)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const Ck=N1({scrapeMotionValuesFromProps:cm,createRenderState:im});function _1(e,t,n){const r=cm(e,t,n);for(const s in e)if(ln(e[s])||ln(t[s])){const i=Mi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const wk=N1({scrapeMotionValuesFromProps:_1,createRenderState:k1}),Bk=Symbol.for("motionComponentSymbol");function Jo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Ak(e,t,n){return B.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Jo(n)&&(n.current=r))},[t])}const um=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Dk="framerAppearId",S1="data-"+um(Dk),P1=B.createContext({});function Fk(e,t,n,r,s){var A,j;const{visualElement:i}=B.useContext(nu),a=B.useContext(C1),l=B.useContext(tu),c=B.useContext(nm).reducedMotion,x=B.useRef(null);r=r||a.renderer,!x.current&&r&&(x.current=r(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=x.current,f=B.useContext(P1);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&kk(x.current,n,s,f);const m=B.useRef(!1);B.useInsertionEffect(()=>{d&&m.current&&d.update(n,l)});const y=n[S1],C=B.useRef(!!y&&!((A=window.MotionHandoffIsComplete)!=null&&A.call(window,y))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,y)));return jE(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),C.current&&d.animationState&&d.animationState.animateChanges())}),B.useEffect(()=>{d&&(!C.current&&d.animationState&&d.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,y)}),C.current=!1))}),d}function kk(e,t,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:x,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:T1(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&Jo(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:x})}function T1(e){if(e)return e.options.allowProjection!==!1?e.projection:T1(e.parent)}function Nx(e,{forwardMotionProps:t=!1}={},n,r){n&&tk(n);const s=am(e)?wk:Ck;function i(l,c){let x;const d={...B.useContext(nm),...l,layoutId:jk(l)},{isStatic:f}=d,m=ik(l),y=s(l,f);if(!f&&Tf){Nk();const C=_k(d);x=C.MeasureLayout,m.visualElement=Fk(e,y,d,r,C.ProjectionNode)}return o.jsxs(nu.Provider,{value:m,children:[x&&m.visualElement?o.jsx(x,{visualElement:m.visualElement,...d}):null,vk(e,l,Ak(y,m.visualElement,c),y,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=B.forwardRef(i);return a[Bk]=e,a}function jk({layoutId:e}){const t=B.useContext(Sf).id;return t&&e!==void 0?t+"-"+e:e}function Nk(e,t){B.useContext(C1).strict}function _k(e){const{drag:t,layout:n}=Bi;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Sk(e,t){if(typeof Proxy>"u")return Nx;const n=new Map,r=(i,a)=>Nx(i,a,e,t),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,Nx(a,void 0,e,t)),n.get(a))})}function R1({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Pk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Tk(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function _x(e){return e===void 0||e===1}function lh({scale:e,scaleX:t,scaleY:n}){return!_x(e)||!_x(t)||!_x(n)}function Zs(e){return lh(e)||M1(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function M1(e){return ly(e.x)||ly(e.y)}function ly(e){return e&&e!=="0%"}function Ec(e,t,n){const r=e-n,s=t*r;return n+s}function cy(e,t,n,r,s){return s!==void 0&&(e=Ec(e,s,r)),Ec(e,n,r)+t}function ch(e,t=0,n=1,r,s){e.min=cy(e.min,t,n,r,s),e.max=cy(e.max,t,n,r,s)}function I1(e,{x:t,y:n}){ch(e.x,t.translate,t.scale,t.originPoint),ch(e.y,n.translate,n.scale,n.originPoint)}const uy=.999999999999,xy=1.0000000000001;function Rk(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ei(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,I1(e,a)),r&&Zs(i.latestValues)&&ei(e,i.latestValues))}t.x<xy&&t.x>uy&&(t.x=1),t.y<xy&&t.y>uy&&(t.y=1)}function Zo(e,t){e.min=e.min+t,e.max=e.max+t}function dy(e,t,n,r,s=.5){const i=Ft(e.min,e.max,s);ch(e,t,n,i,r)}function ei(e,t){dy(e.x,t.x,t.scaleX,t.scale,t.originX),dy(e.y,t.y,t.scaleY,t.scale,t.originY)}function L1(e,t){return R1(Tk(e.getBoundingClientRect(),t))}function Mk(e,t,n){const r=L1(e,n),{scroll:s}=t;return s&&(Zo(r.x,s.offset.x),Zo(r.y,s.offset.y)),r}const hy=()=>({translate:0,scale:1,origin:0,originPoint:0}),ti=()=>({x:hy(),y:hy()}),fy=()=>({min:0,max:0}),Tt=()=>({x:fy(),y:fy()}),uh={current:null},O1={current:!1};function Ik(){if(O1.current=!0,!!Tf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>uh.current=e.matches;e.addEventListener("change",t),t()}else uh.current=!1}const Lk=new WeakMap;function Ok(e,t,n){for(const r in t){const s=t[r],i=n[r];if(ln(s))e.addValue(r,s);else if(ln(i))e.addValue(r,wi(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(r);e.addValue(r,wi(a!==void 0?a:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const my=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $k{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Dn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,wt.render(this.render,!1,!0))};const{latestValues:c,renderState:x}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=x,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=su(n),this.isVariantNode=B1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const y=f[m];c[m]!==void 0&&ln(y)&&y.set(c[m],!1)}}mount(t){this.current=t,Lk.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),O1.current||Ik(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_s(this.notifyUpdate),_s(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ii.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&wt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Bi){const n=Bi[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<my.length;r++){const s=my[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=Ok(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=wi(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(NE(r)||SE(r))?r=parseFloat(r):!YF(r)&&Ss.test(n)&&(r=h1(t,n)),this.setBaseTarget(t,ln(r)?r.get():r)),ln(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=lm(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ln(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Of),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){em.render(this.render)}}class $1 extends $k{constructor(){super(...arguments),this.KeyframeResolver=LF}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ln(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function U1(e,{style:t,vars:n},r,s){const i=e.style;let a;for(a in t)i[a]=t[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function Uk(e){return window.getComputedStyle(e)}class Vk extends $1{constructor(){super(...arguments),this.type="html",this.renderInstance=U1}readValueFromInstance(t,n){var r;if(Ii.has(n))return(r=this.projection)!=null&&r.isProjecting?nh(n):rF(t,n);{const s=Uk(t),i=(Vf(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return L1(t,n)}build(t,n,r){om(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return cm(t,n,r)}}const V1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zk(e,t,n,r){U1(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(V1.has(s)?s:um(s),t.attrs[s])}class qk extends $1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ii.has(n)){const r=d1(n);return r&&r.default||0}return n=V1.has(n)?n:um(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return _1(t,n,r)}build(t,n,r){F1(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){zk(t,n,r,s)}mount(t){this.isSVGTag=j1(t.tagName),super.mount(t)}}const Wk=(e,t)=>am(e)?new qk(t):new Vk(t,{allowProjection:e!==B.Fragment});function rl(e,t,n){const r=e.getProps();return lm(r,t,n!==void 0?n:r.custom,e)}const xh=e=>Array.isArray(e);function Kk(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,wi(n))}function Hk(e){return xh(e)?e[e.length-1]||0:e}function Gk(e,t){const n=rl(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const l=Hk(i[a]);Kk(e,a,l)}}function Qk(e){return!!(ln(e)&&e.add)}function dh(e,t){const n=e.getValue("willChange");if(Qk(n))return n.add(t);if(!n&&Yr.WillChange){const r=new Yr.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function z1(e){return e.props[S1]}const Yk=e=>e!==null;function Xk(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(Yk),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}const Jk={type:"spring",stiffness:500,damping:25,restSpeed:10},Zk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ej={type:"keyframes",duration:.8},tj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nj=(e,{keyframes:t})=>t.length>2?ej:Ii.has(e)?e.startsWith("scale")?Zk(t[1]):Jk:tj;function rj({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:x,...d}){return!!Object.keys(d).length}const xm=(e,t,n,r={},s,i)=>a=>{const l=Jf(r,e)||{},c=l.delay||r.delay||0;let{elapsed:x=0}=r;x=x-Dr(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-x,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};rj(l)||Object.assign(d,nj(e,d)),d.duration&&(d.duration=Dr(d.duration)),d.repeatDelay&&(d.repeatDelay=Dr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),(Yr.instantAnimations||Yr.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const m=Xk(d.keyframes,l);if(m!==void 0){wt.update(()=>{d.onUpdate(m),d.onComplete()});return}}return l.isSync?new Yf(d):new DF(d)};function sj({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function q1(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(i=r);const c=[],x=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),m=l[d];if(m===void 0||x&&sj(x,d))continue;const y={delay:n,...Jf(i||{},d)},C=f.get();if(C!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===C&&!y.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const v=z1(e);if(v){const E=window.MotionHandoffAnimation(v,d,wt);E!==null&&(y.startTime=E,A=!0)}}dh(e,d),f.start(xm(d,f,m,e.shouldReduceMotion&&c1.has(d)?{type:!1}:y,e,A));const j=f.animation;j&&c.push(j)}return a&&Promise.all(c).then(()=>{wt.update(()=>{a&&Gk(e,a)})}),c}function hh(e,t,n={}){var c;const r=rl(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(q1(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(x=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=s;return oj(e,t,x,d,f,m,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[x,d]=l==="beforeChildren"?[i,a]:[a,i];return x().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function oj(e,t,n=0,r=0,s=0,i=1,a){const l=[],c=e.variantChildren.size,x=(c-1)*s,d=typeof r=="function",f=d?m=>r(m,c):i===1?(m=0)=>m*s:(m=0)=>x-m*s;return Array.from(e.variantChildren).sort(ij).forEach((m,y)=>{m.notify("AnimationStart",t),l.push(hh(m,t,{...a,delay:n+(d?0:r)+f(y)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(l)}function ij(e,t){return e.sortNodePosition(t)}function aj(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>hh(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=hh(e,t,n);else{const s=typeof t=="function"?rl(e,t,n.custom):t;r=Promise.all(q1(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function W1(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const lj=sm.length;function K1(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?K1(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<lj;n++){const r=sm[n],s=e.props[r];(tl(s)||s===!1)&&(t[r]=s)}return t}const cj=[...rm].reverse(),uj=rm.length;function xj(e){return t=>Promise.all(t.map(({animation:n,options:r})=>aj(e,n,r)))}function dj(e){let t=xj(e),n=py(),r=!0;const s=c=>(x,d)=>{var m;const f=rl(e,d,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:y,transitionEnd:C,...A}=f;x={...x,...A,...C}}return x};function i(c){t=c(e)}function a(c){const{props:x}=e,d=K1(e.parent)||{},f=[],m=new Set;let y={},C=1/0;for(let j=0;j<uj;j++){const v=cj[j],E=n[v],g=x[v]!==void 0?x[v]:d[v],b=tl(g),F=v===c?E.isActive:null;F===!1&&(C=j);let k=g===d[v]&&g!==x[v]&&b;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),E.protectedKeys={...y},!E.isActive&&F===null||!g&&!E.prevProp||ru(g)||typeof g=="boolean")continue;const N=hj(E.prevProp,g);let S=N||v===c&&E.isActive&&!k&&b||j>C&&b,O=!1;const $=Array.isArray(g)?g:[g];let M=$.reduce(s(v),{});F===!1&&(M={});const{prevResolvedValues:G={}}=E,K={...G,...M},H=P=>{S=!0,m.has(P)&&(O=!0,m.delete(P)),E.needsAnimating[P]=!0;const T=e.getValue(P);T&&(T.liveStyle=!1)};for(const P in K){const T=M[P],V=G[P];if(y.hasOwnProperty(P))continue;let te=!1;xh(T)&&xh(V)?te=!W1(T,V):te=T!==V,te?T!=null?H(P):m.add(P):T!==void 0&&m.has(P)?H(P):E.protectedKeys[P]=!0}E.prevProp=g,E.prevResolvedValues=M,E.isActive&&(y={...y,...M}),r&&e.blockInitialAnimation&&(S=!1),S&&(!(k&&N)||O)&&f.push(...$.map(P=>({animation:P,options:{type:v}})))}if(m.size){const j={};if(typeof x.initial!="boolean"){const v=rl(e,Array.isArray(x.initial)?x.initial[0]:x.initial);v&&v.transition&&(j.transition=v.transition)}m.forEach(v=>{const E=e.getBaseTarget(v),g=e.getValue(v);g&&(g.liveStyle=!0),j[v]=E??null}),f.push({animation:j})}let A=!!f.length;return r&&(x.initial===!1||x.initial===x.animate)&&!e.manuallyAnimateOnMount&&(A=!1),r=!1,A?t(f):Promise.resolve()}function l(c,x){var f;if(n[c].isActive===x)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(m=>{var y;return(y=m.animationState)==null?void 0:y.setActive(c,x)}),n[c].isActive=x;const d=a(c);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=py(),r=!0}}}function hj(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!W1(t,e):!1}function Qs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function py(){return{animate:Qs(!0),whileInView:Qs(),whileHover:Qs(),whileTap:Qs(),whileDrag:Qs(),whileFocus:Qs(),exit:Qs()}}class Os{constructor(t){this.isMounted=!1,this.node=t}update(){}}class fj extends Os{constructor(t){super(t),t.animationState||(t.animationState=dj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ru(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let mj=0;class pj extends Os{constructor(){super(...arguments),this.id=mj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const gj={animation:{Feature:fj},exit:{Feature:pj}};function sl(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function bl(e){return{point:{x:e.pageX,y:e.pageY}}}const yj=e=>t=>tm(t)&&e(t,bl(t));function ka(e,t,n,r){return sl(e,t,yj(n),r)}const H1=1e-4,vj=1-H1,Ej=1+H1,G1=.01,bj=0-G1,Cj=0+G1;function mn(e){return e.max-e.min}function wj(e,t,n){return Math.abs(e-t)<=n}function gy(e,t,n,r=.5){e.origin=r,e.originPoint=Ft(t.min,t.max,e.origin),e.scale=mn(n)/mn(t),e.translate=Ft(n.min,n.max,e.origin)-e.originPoint,(e.scale>=vj&&e.scale<=Ej||isNaN(e.scale))&&(e.scale=1),(e.translate>=bj&&e.translate<=Cj||isNaN(e.translate))&&(e.translate=0)}function ja(e,t,n,r){gy(e.x,t.x,n.x,r?r.originX:void 0),gy(e.y,t.y,n.y,r?r.originY:void 0)}function yy(e,t,n){e.min=n.min+t.min,e.max=e.min+mn(t)}function Bj(e,t,n){yy(e.x,t.x,n.x),yy(e.y,t.y,n.y)}function vy(e,t,n){e.min=t.min-n.min,e.max=e.min+mn(t)}function Na(e,t,n){vy(e.x,t.x,n.x),vy(e.y,t.y,n.y)}function zn(e){return[e("x"),e("y")]}const Q1=({current:e})=>e?e.ownerDocument.defaultView:null,Ey=(e,t)=>Math.abs(e-t);function Aj(e,t){const n=Ey(e.x,t.x),r=Ey(e.y,t.y);return Math.sqrt(n**2+r**2)}class Y1{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Px(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,C=Aj(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!C)return;const{point:A}=m,{timestamp:j}=Xt;this.history.push({...A,timestamp:j});const{onStart:v,onMove:E}=this.handlers;y||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Sx(y,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:C,onSessionEnd:A,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Px(m.type==="pointercancel"?this.lastMoveEventInfo:Sx(y,this.transformPagePoint),this.history);this.startEvent&&C&&C(m,v),A&&A(m,v)},!tm(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const l=bl(t),c=Sx(l,this.transformPagePoint),{point:x}=c,{timestamp:d}=Xt;this.history=[{...x,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,Px(c,this.history)),this.removeListeners=yl(ka(this.contextWindow,"pointermove",this.handlePointerMove),ka(this.contextWindow,"pointerup",this.handlePointerUp),ka(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),_s(this.updatePoint)}}function Sx(e,t){return t?{point:t(e.point)}:e}function by(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Px({point:e},t){return{point:e,delta:by(e,X1(t)),offset:by(e,Dj(t)),velocity:Fj(t,.1)}}function Dj(e){return e[0]}function X1(e){return e[e.length-1]}function Fj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=X1(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Dr(t)));)n--;if(!r)return{x:0,y:0};const i=Fr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function kj(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ft(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ft(n,e,r.max):Math.min(e,n)),e}function Cy(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function jj(e,{top:t,left:n,bottom:r,right:s}){return{x:Cy(e.x,n,s),y:Cy(e.y,t,r)}}function wy(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Nj(e,t){return{x:wy(e.x,t.x),y:wy(e.y,t.y)}}function _j(e,t){let n=.5;const r=mn(e),s=mn(t);return s>r?n=Ja(t.min,t.max-r,e.min):r>s&&(n=Ja(e.min,e.max-s,t.min)),Qr(0,1,n)}function Sj(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const fh=.35;function Pj(e=fh){return e===!1?e=0:e===!0&&(e=fh),{x:By(e,"left","right"),y:By(e,"top","bottom")}}function By(e,t,n){return{min:Ay(e,t),max:Ay(e,n)}}function Ay(e,t){return typeof e=="number"?e:e[t]||0}const Tj=new WeakMap;class Rj{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bl(f).point)},a=(f,m)=>{const{drag:y,dragPropagation:C,onDragStart:A}=this.getProps();if(y&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=VF(y),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(v=>{let E=this.getAxisMotionValue(v).get()||0;if(kr.test(E)){const{projection:g}=this.visualElement;if(g&&g.layout){const b=g.layout.layoutBox[v];b&&(E=mn(b)*(parseFloat(E)/100))}}this.originPoint[v]=E}),A&&wt.postRender(()=>A(f,m)),dh(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:y,dragDirectionLock:C,onDirectionLock:A,onDrag:j}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:v}=m;if(C&&this.currentDirection===null){this.currentDirection=Mj(v),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",m.point,v),this.updateAxis("y",m.point,v),this.visualElement.render(),j&&j(f,m)},c=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},x=()=>zn(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)==null?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Y1(t,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:x},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:Q1(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&wt.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!g0(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=kj(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Jo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=jj(r.layoutBox,t):this.constraints=!1,this.elastic=Pj(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&zn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Sj(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Jo(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Mk(r,s.root,this.visualElement.getTransformPagePoint());let a=Nj(s.layout.layoutBox,i);if(n){const l=n(Pk(a));this.hasMutatedConstraints=!!l,l&&(a=R1(l))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},x=zn(d=>{if(!g0(d,n,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const m=s?200:1e6,y=s?40:1e7,C={type:"inertia",velocity:r?t[d]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,C)});return Promise.all(x).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return dh(this.visualElement,t),r.start(xm(t,r,0,n,this.visualElement,!1))}stopAnimation(){zn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){zn(n=>{const{drag:r}=this.getProps();if(!g0(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(t[n]-Ft(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Jo(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};zn(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=_j({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zn(a=>{if(!g0(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:x}=this.constraints[a];l.set(Ft(c,x,s[a]))})}addListeners(){if(!this.visualElement.current)return;Tj.set(this.visualElement,this);const t=this.visualElement.current,n=ka(t,"pointerdown",c=>{const{drag:x,dragListener:d=!0}=this.getProps();x&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Jo(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),wt.read(r);const a=sl(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:x})=>{this.isDragging&&x&&(zn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=fh,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function g0(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Mj(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Ij extends Os{constructor(t){super(t),this.removeGroupControls=Qn,this.removeListeners=Qn,this.controls=new Rj(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Dy=e=>(t,n)=>{e&&wt.postRender(()=>e(t,n))};class Lj extends Os{constructor(){super(...arguments),this.removePointerDownListener=Qn}onPointerDown(t){this.session=new Y1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Q1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Dy(t),onStart:Dy(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&wt.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=ka(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const I0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Fy(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ia={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ue.test(e))e=parseFloat(e);else return e;const n=Fy(e,t.target.x),r=Fy(e,t.target.y);return`${n}% ${r}%`}},Oj={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Ss.parse(e);if(s.length>5)return r;const i=Ss.createTransformer(e),a=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const x=Ft(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=x),typeof s[3+a]=="number"&&(s[3+a]/=x),i(s)}};let ky=!1;class $j extends B.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;ak(Uj),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),ky&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),I0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,ky=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||wt.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),em.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function J1(e){const[t,n]=E1(),r=B.useContext(Sf);return o.jsx($j,{...e,layoutGroup:r,switchLayoutGroup:B.useContext(P1),isPresent:t,safeToRemove:n})}const Uj={borderRadius:{...ia,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ia,borderTopRightRadius:ia,borderBottomLeftRadius:ia,borderBottomRightRadius:ia,boxShadow:Oj};function Vj(e,t,n){const r=ln(e)?e:wi(e);return r.start(xm("",r,t,n)),r.animation}const zj=(e,t)=>e.depth-t.depth;class qj{constructor(){this.children=[],this.isDirty=!1}add(t){Rf(this.children,t),this.isDirty=!0}remove(t){Mf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(zj),this.isDirty=!1,this.children.forEach(t)}}function Wj(e,t){const n=Dn.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(_s(r),e(i-t))};return wt.setup(r,!0),()=>_s(r)}const Z1=["TopLeft","TopRight","BottomLeft","BottomRight"],Kj=Z1.length,jy=e=>typeof e=="string"?parseFloat(e):e,Ny=e=>typeof e=="number"||Ue.test(e);function Hj(e,t,n,r,s,i){s?(e.opacity=Ft(0,n.opacity??1,Gj(r)),e.opacityExit=Ft(t.opacity??1,0,Qj(r))):i&&(e.opacity=Ft(t.opacity??1,n.opacity??1,r));for(let a=0;a<Kj;a++){const l=`border${Z1[a]}Radius`;let c=_y(t,l),x=_y(n,l);if(c===void 0&&x===void 0)continue;c||(c=0),x||(x=0),c===0||x===0||Ny(c)===Ny(x)?(e[l]=Math.max(Ft(jy(c),jy(x),r),0),(kr.test(x)||kr.test(c))&&(e[l]+="%")):e[l]=x}(t.rotate||n.rotate)&&(e.rotate=Ft(t.rotate||0,n.rotate||0,r))}function _y(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Gj=e6(0,.5,$E),Qj=e6(.5,.95,Qn);function e6(e,t,n){return r=>r<e?0:r>t?1:n(Ja(e,t,r))}function Sy(e,t){e.min=t.min,e.max=t.max}function Vn(e,t){Sy(e.x,t.x),Sy(e.y,t.y)}function Py(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ty(e,t,n,r,s){return e-=t,e=Ec(e,1/n,r),s!==void 0&&(e=Ec(e,1/s,r)),e}function Yj(e,t=0,n=1,r=.5,s,i=e,a=e){if(kr.test(t)&&(t=parseFloat(t),t=Ft(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Ft(i.min,i.max,r);e===i&&(l-=t),e.min=Ty(e.min,t,n,l,s),e.max=Ty(e.max,t,n,l,s)}function Ry(e,t,[n,r,s],i,a){Yj(e,t[n],t[r],t[s],t.scale,i,a)}const Xj=["x","scaleX","originX"],Jj=["y","scaleY","originY"];function My(e,t,n,r){Ry(e.x,t,Xj,n?n.x:void 0,r?r.x:void 0),Ry(e.y,t,Jj,n?n.y:void 0,r?r.y:void 0)}function Iy(e){return e.translate===0&&e.scale===1}function t6(e){return Iy(e.x)&&Iy(e.y)}function Ly(e,t){return e.min===t.min&&e.max===t.max}function Zj(e,t){return Ly(e.x,t.x)&&Ly(e.y,t.y)}function Oy(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function n6(e,t){return Oy(e.x,t.x)&&Oy(e.y,t.y)}function $y(e){return mn(e.x)/mn(e.y)}function Uy(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class eN{constructor(){this.members=[]}add(t){Rf(this.members,t),t.scheduleRender()}remove(t){if(Mf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tN(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:x,rotate:d,rotateX:f,rotateY:m,skewX:y,skewY:C}=n;x&&(r=`perspective(${x}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),y&&(r+=`skewX(${y}deg) `),C&&(r+=`skewY(${C}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Tx=["","X","Y","Z"],nN=1e3;let rN=0;function Rx(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function r6(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=z1(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",wt,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&r6(r)}function s6({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=rN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(iN),this.nodes.forEach(uN),this.nodes.forEach(xN),this.nodes.forEach(aN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new qj)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Of),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=v1(a)&&!GF(a),this.instance=a;const{layoutId:l,layout:c,visualElement:x}=this.options;if(x&&!x.current&&x.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const m=()=>this.root.updateBlockedByResize=!1;wt.read(()=>{f=window.innerWidth}),e(a,()=>{const y=window.innerWidth;y!==f&&(f=y,this.root.updateBlockedByResize=!0,d&&d(),d=Wj(m,250),I0.hasAnimatedSinceResize&&(I0.hasAnimatedSinceResize=!1,this.nodes.forEach(qy)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&x&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||x.getDefaultTransition()||pN,{onLayoutAnimationStart:A,onLayoutAnimationComplete:j}=x.getProps(),v=!this.targetLayout||!n6(this.targetLayout,y),E=!f&&m;if(this.options.layoutRoot||this.resumeFrom||E||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const g={...Jf(C,"layout"),onPlay:A,onComplete:j};(x.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g),this.setAnimationOrigin(d,E)}else f||qy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_s(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dN),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&r6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(zy);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(cN),this.nodes.forEach(sN),this.nodes.forEach(oN)):this.nodes.forEach(zy),this.clearAllSnapshots();const l=Dn.now();Xt.delta=Qr(0,1e3/60,l-Xt.timestamp),Xt.timestamp=l,Xt.isProcessing=!0,Bx.update.process(Xt),Bx.preRender.process(Xt),Bx.render.process(Xt),Xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,em.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lN),this.sharedNodes.forEach(hN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mn(this.snapshot.measuredBox.x)&&!mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!t6(this.projectionDelta),c=this.getTransformTemplate(),x=c?c(this.latestValues,""):void 0,d=x!==this.prevTransformTemplateValue;a&&this.instance&&(l||Zs(this.latestValues)||d)&&(s(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),gN(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var x;const{visualElement:a}=this.options;if(!a)return Tt();const l=a.measureViewportBox();if(!(((x=this.scroll)==null?void 0:x.wasRoot)||this.path.some(yN))){const{scroll:d}=this.root;d&&(Zo(l.x,d.offset.x),Zo(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=Tt();if(Vn(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let x=0;x<this.path.length;x++){const d=this.path[x],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Vn(l,a),Zo(l.x,f.offset.x),Zo(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=Tt();Vn(c,a);for(let x=0;x<this.path.length;x++){const d=this.path[x];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ei(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Zs(d.latestValues)&&ei(c,d.latestValues)}return Zs(this.latestValues)&&ei(c,this.latestValues),c}removeTransform(a){const l=Tt();Vn(l,a);for(let c=0;c<this.path.length;c++){const x=this.path[c];if(!x.instance||!Zs(x.latestValues))continue;lh(x.latestValues)&&x.updateSnapshot();const d=Tt(),f=x.measurePageBox();Vn(d,f),My(l,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,d)}return Zs(this.latestValues)&&My(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Xt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Na(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Bj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vn(this.target,this.layout.layoutBox),I1(this.target,this.targetDelta)):Vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Na(this.relativeTargetOrigin,this.target,y.target),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||lh(this.parent.latestValues)||M1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Xt.timestamp&&(c=!1),c)return;const{layout:x,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||d))return;Vn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;Rk(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Tt());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Py(this.prevProjectionDelta.x,this.projectionDelta.x),Py(this.prevProjectionDelta.y,this.projectionDelta.y)),ja(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!Uy(this.projectionDelta.x,this.prevProjectionDelta.x)||!Uy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ti(),this.projectionDelta=ti(),this.projectionDeltaWithTransform=ti()}setAnimationOrigin(a,l=!1){const c=this.snapshot,x=c?c.latestValues:{},d={...this.latestValues},f=ti();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Tt(),y=c?c.source:void 0,C=this.layout?this.layout.source:void 0,A=y!==C,j=this.getStack(),v=!j||j.members.length<=1,E=!!(A&&!v&&this.options.crossfade===!0&&!this.path.some(mN));this.animationProgress=0;let g;this.mixTargetDelta=b=>{const F=b/1e3;Wy(f.x,a.x,F),Wy(f.y,a.y,F),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Na(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fN(this.relativeTarget,this.relativeTargetOrigin,m,F),g&&Zj(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=Tt()),Vn(g,this.relativeTarget)),A&&(this.animationValues=d,Hj(d,x,this.latestValues,F,E,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,x;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(x=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||x.stop(),this.pendingAnimation&&(_s(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{I0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wi(0)),this.currentAnimation=Vj(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:x,latestValues:d}=a;if(!(!l||!c||!x)){if(this!==a&&this.layout&&x&&o6(this.options.animationType,this.layout.layoutBox,x.layoutBox)){c=this.target||Tt();const f=mn(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const m=mn(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}Vn(l,c),ei(l,d),ja(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new eN),this.sharedNodes.get(a).add(l);const x=l.options.initialPromotionConfig;l.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const x=this.getStack();x&&x.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const x={};c.z&&Rx("z",a,x,this.animationValues);for(let d=0;d<Tx.length;d++)Rx(`rotate${Tx[d]}`,a,x,this.animationValues),Rx(`skew${Tx[d]}`,a,x,this.animationValues);a.render();for(const d in x)a.setStaticValue(d,x[d]),this.animationValues&&(this.animationValues[d]=x[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=M0(l==null?void 0:l.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=M0(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Zs(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=x.animationValues||x.latestValues;this.applyTransformsToTarget();let f=tN(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),a.transform=f;const{x:m,y}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,x.animationValues?a.opacity=x===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=x===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const C in nl){if(d[C]===void 0)continue;const{correct:A,applyTo:j,isCSSVariable:v}=nl[C],E=f==="none"?d[C]:A(d[C],x);if(j){const g=j.length;for(let b=0;b<g;b++)a[j[b]]=E}else v?this.options.visualElement.renderState.vars[C]=E:a[C]=E}this.options.layoutId&&(a.pointerEvents=x===this?M0(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Vy),this.root.sharedNodes.clear()}}}function sN(e){e.updateLayout()}function oN(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?zn(f=>{const m=a?t.measuredBox[f]:t.layoutBox[f],y=mn(m);m.min=r[f].min,m.max=m.min+y}):o6(i,t.layoutBox,r)&&zn(f=>{const m=a?t.measuredBox[f]:t.layoutBox[f],y=mn(r[f]);m.max=m.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+y)});const l=ti();ja(l,r,t.layoutBox);const c=ti();a?ja(c,e.applyTransform(s,!0),t.measuredBox):ja(c,r,t.layoutBox);const x=!t6(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:y}=f;if(m&&y){const C=Tt();Na(C,t.layoutBox,m.layoutBox);const A=Tt();Na(A,r,y.layoutBox),n6(C,A)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=A,e.relativeTargetOrigin=C,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:x,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function iN(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function aN(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function lN(e){e.clearSnapshot()}function Vy(e){e.clearMeasurements()}function zy(e){e.isLayoutDirty=!1}function cN(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function qy(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function uN(e){e.resolveTargetDelta()}function xN(e){e.calcProjection()}function dN(e){e.resetSkewAndRotation()}function hN(e){e.removeLeadSnapshot()}function Wy(e,t,n){e.translate=Ft(t.translate,0,n),e.scale=Ft(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ky(e,t,n,r){e.min=Ft(t.min,n.min,r),e.max=Ft(t.max,n.max,r)}function fN(e,t,n,r){Ky(e.x,t.x,n.x,r),Ky(e.y,t.y,n.y,r)}function mN(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const pN={duration:.45,ease:[.4,0,.1,1]},Hy=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Gy=Hy("applewebkit/")&&!Hy("chrome/")?Math.round:Qn;function Qy(e){e.min=Gy(e.min),e.max=Gy(e.max)}function gN(e){Qy(e.x),Qy(e.y)}function o6(e,t,n){return e==="position"||e==="preserve-aspect"&&!wj($y(t),$y(n),.2)}function yN(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const vN=s6({attachResizeListener:(e,t)=>sl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mx={current:void 0},i6=s6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Mx.current){const e=new vN({});e.mount(window),e.setOptions({layoutScroll:!0}),Mx.current=e}return Mx.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),EN={pan:{Feature:Lj},drag:{Feature:Ij,ProjectionNode:i6,MeasureLayout:J1}};function Yy(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&wt.postRender(()=>i(t,bl(t)))}class bN extends Os{mount(){const{current:t}=this.node;t&&(this.unmount=zF(t,(n,r)=>(Yy(this.node,r,"Start"),s=>Yy(this.node,s,"End"))))}unmount(){}}class CN extends Os{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yl(sl(this.node.current,"focus",()=>this.onFocus()),sl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Xy(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&wt.postRender(()=>i(t,bl(t)))}class wN extends Os{mount(){const{current:t}=this.node;t&&(this.unmount=HF(t,(n,r)=>(Xy(this.node,r,"Start"),(s,{success:i})=>Xy(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mh=new WeakMap,Ix=new WeakMap,BN=e=>{const t=mh.get(e.target);t&&t(e)},AN=e=>{e.forEach(BN)};function DN({root:e,...t}){const n=e||document;Ix.has(n)||Ix.set(n,{});const r=Ix.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(AN,{root:e,...t})),r[s]}function FN(e,t,n){const r=DN(t);return mh.set(e,n),r.observe(e),()=>{mh.delete(e),r.unobserve(e)}}const kN={some:0,all:1};class jN extends Os{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:kN[s]},l=c=>{const{isIntersecting:x}=c;if(this.isInView===x||(this.isInView=x,i&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=x?d:f;m&&m(c)};return FN(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(NN(t,n))&&this.startObserver()}unmount(){}}function NN({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const _N={inView:{Feature:jN},tap:{Feature:wN},focus:{Feature:CN},hover:{Feature:bN}},SN={layout:{ProjectionNode:i6,MeasureLayout:J1}},PN={...gj,..._N,...EN,...SN},et=Sk(PN,Wk);function TN({userCompany:e}){const[t,n]=B.useState([]),[r,s]=B.useState(""),[i,a]=B.useState(null),[l,c]=B.useState(!1),[x,d]=B.useState({showCompany:!0,showTime:!0,autoHide:!0,hideDelay:5e3,backgroundColor:"#1e40af",textColor:"#ffffff"});B.useEffect(()=>{f()},[e]),B.useEffect(()=>{if(r){const C=le.channel("check-ins").on("postgres_changes",{event:"UPDATE",schema:"public",table:"attendees",filter:`event_id=eq.${r}`},j=>{j.new&&j.old&&j.new.checked_in===!0&&j.old.checked_in===!1&&(a({id:j.new.id,name:j.new.name,company:j.new.company,check_in_time:j.new.check_in_time}),console.log("New check-in detected:",j.new.name))}).subscribe(),A=le.channel("new-checkins").on("postgres_changes",{event:"INSERT",schema:"public",table:"attendees",filter:`event_id=eq.${r}`},j=>{j.new&&j.new.checked_in===!0&&(a({id:j.new.id,name:j.new.name,company:j.new.company,check_in_time:j.new.check_in_time}),console.log("New attendee checked in:",j.new.name))}).subscribe();return()=>{C.unsubscribe(),A.unsubscribe()}}},[r]),B.useEffect(()=>{if(i&&x.autoHide){const C=setTimeout(()=>{a(null)},x.hideDelay);return()=>clearTimeout(C)}},[i,x.autoHide,x.hideDelay]);const f=async()=>{try{let C=le.from("events").select(`
          id,
          name,
          company_id,
          company:companies(name)
        `).order("created_at",{ascending:!1});e&&(C=C.eq("company_id",e.company_id));const{data:A,error:j}=await C;if(j)throw j;if(A){const v=A.map(E=>({...E,company:Array.isArray(E.company)?E.company[0]:E.company}));n(v),e&&v&&v.length>0&&s(v[0].id)}}catch(C){console.error("Error fetching events:",C)}},m=()=>{l?document.exitFullscreen():document.documentElement.requestFullscreen(),c(!l)},y=()=>o.jsx("div",{className:"h-full flex items-center justify-center relative",style:{backgroundColor:x.backgroundColor,color:x.textColor},children:o.jsx(b1,{children:i?o.jsx(et.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",duration:.8},className:"text-center",children:o.jsxs(et.div,{initial:{y:20},animate:{y:0},className:"mb-8",children:[o.jsx("h1",{className:"text-6xl md:text-8xl font-bold mb-4",children:"Welcome!"}),o.jsx("div",{className:"text-4xl md:text-6xl font-semibold mb-2",children:i.name}),x.showCompany&&i.company&&o.jsx("div",{className:"text-2xl md:text-4xl opacity-80",children:i.company}),x.showTime&&o.jsx("div",{className:"text-xl md:text-2xl opacity-60 mt-4",children:new Date(i.check_in_time).toLocaleTimeString()})]})}):o.jsxs(et.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[o.jsx(pt,{className:"h-32 w-32 mx-auto mb-8 opacity-50"}),o.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:"Welcome to the Event"}),o.jsx("p",{className:"text-xl md:text-2xl opacity-80",children:"Waiting for check-ins..."})]})})});return l?o.jsxs("div",{className:"fixed inset-0 z-50",children:[o.jsx(y,{}),o.jsx("button",{onClick:m,className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white p-2 rounded-lg hover:bg-opacity-70 transition-colors",children:"Exit Fullscreen"})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Welcome Monitor"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Display latest check-ins on external monitor"})]}),o.jsxs("button",{onClick:m,disabled:!r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(AB,{className:"h-5 w-5 mr-2"}),"Fullscreen"]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[o.jsx(Bf,{className:"h-6 w-6 mr-2"}),"Settings"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e&&t.length<=1?"Event":"Select Event"}),e&&t.length===1?o.jsx("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:t[0].name}):o.jsxs("select",{value:r,onChange:C=>s(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[!e&&o.jsx("option",{value:"",children:"Select an event"}),t.map(C=>o.jsx("option",{value:C.id,children:e?C.name:`${C.name} (${C.company.name})`},C.id))]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:x.showCompany,onChange:C=>d({...x,showCompany:C.target.checked}),className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Show Company"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:x.showTime,onChange:C=>d({...x,showTime:C.target.checked}),className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Show Check-in Time"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:x.autoHide,onChange:C=>d({...x,autoHide:C.target.checked}),className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Auto Hide"})]})]}),x.autoHide&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hide Delay (seconds)"}),o.jsx("input",{type:"number",value:x.hideDelay/1e3,onChange:C=>d({...x,hideDelay:parseInt(C.target.value)*1e3}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",max:"30"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Background Color"}),o.jsx("input",{type:"color",value:x.backgroundColor,onChange:C=>d({...x,backgroundColor:C.target.value}),className:"w-full h-10 border border-gray-300 rounded-md"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text Color"}),o.jsx("input",{type:"color",value:x.textColor,onChange:C=>d({...x,textColor:C.target.value}),className:"w-full h-10 border border-gray-300 rounded-md"})]})]})]}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[o.jsx(pi,{className:"h-6 w-6 mr-2"}),"Preview"]}),o.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden",children:r?o.jsx(y,{}):o.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:o.jsxs("div",{className:"text-center",children:[o.jsx(pi,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Select an event to see preview"})]})})}),o.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[o.jsx("p",{children:" This preview shows how the welcome screen will appear"}),o.jsx("p",{children:' Click "Fullscreen" to display on external monitor'}),o.jsx("p",{children:" New check-ins will automatically appear in real-time"})]})]})})]})]})}function RN({userCompany:e}){var Gt,ae,Ce,Ie,Oe,yt;const[t,n]=B.useState([]),[r,s]=B.useState(""),[i,a]=B.useState([]),[l,c]=B.useState(!1),[x,d]=B.useState(null),[f,m]=B.useState([]),[y,C]=B.useState(""),[A,j]=B.useState(!1),[v,E]=B.useState("regular"),[g,b]=B.useState(null),[F,k]=B.useState([]),[N,S]=B.useState(5),[O,$]=B.useState([]),[M,G]=B.useState(!1),[K,H]=B.useState([]),[Z,R]=B.useState(0),[P,T]=B.useState(!1),[V,te]=B.useState(null);B.useEffect(()=>{L()},[]),B.useEffect(()=>{r&&(W(),ce())},[r]);const L=async()=>{try{let de=le.from("events").select(`
          id,
          name,
          company_id,
          custom_background,
          custom_logo,
          company:companies(name)
        `);e&&(de=de.eq("company_id",e.company_id));const{data:Ee,error:$e}=await de.order("created_at",{ascending:!1});if($e)throw $e;const Le=(Ee==null?void 0:Ee.map(nt=>({...nt,company:Array.isArray(nt.company)?nt.company[0]:nt.company})))||[];n(Le),e&&Le&&Le.length>0&&s(Le[0].id)}catch(de){Q.error("Error fetching events: "+de.message)}},W=async()=>{try{const{data:de,error:Ee}=await le.from("attendees").select("id, name, company, table_number").eq("event_id",r).eq("checked_in",!0);if(Ee)throw Ee;a(de);const{data:$e,error:Le}=await le.from("tables").select("table_number, table_type, capacity").eq("event_id",r).order("table_number");if(Le){console.error("Error fetching tables:",Le);const nt=[...new Set(de==null?void 0:de.filter(He=>He.table_number).map(He=>He.table_number))].sort((He,Qt)=>He-Qt);k(nt.map(He=>({table_number:He,table_type:"Regular",capacity:8})))}else k($e||[])}catch(de){Q.error("Error fetching attendees: "+de.message)}},ce=async()=>{try{const{data:de,error:Ee}=await le.from("custom_prizes").select("*").eq("event_id",r).order("position",{ascending:!1});if(Ee)throw Ee;$(de||[])}catch(de){console.error("Error fetching custom prizes:",de)}},he=()=>{let de=i.filter(Ee=>!f.find($e=>$e.id===Ee.id));return v==="table"&&g&&(de=de.filter(Ee=>Ee.table_number===g)),de},je=()=>{v==="table"?we():v==="custom"?Ge():ke()},we=()=>{const de=F.filter(He=>!f.find(Qt=>Qt.id===`table-${He.table_number}`));if(de.length===0){Q.error("No tables available for drawing");return}const Ee=de[Math.floor(Math.random()*de.length)];b(Ee.table_number),c(!0),d(null);let $e=0;const Le=30,nt=setInterval(()=>{const He=de[Math.floor(Math.random()*de.length)];C(`Table ${He.table_number} (${He.table_type})`),$e++,$e>=Le&&(clearInterval(nt),d({id:`table-${Ee.table_number}`,name:`Table ${Ee.table_number} (${Ee.table_type})`,company:null,table_number:Ee.table_number}),C(`Table ${Ee.table_number} (${Ee.table_type})`),c(!1),Q.success(` Table ${Ee.table_number} (${Ee.table_type}) wins!`))},100)},ke=()=>{const de=he();if(de.length===0){Q.error("No eligible attendees available");return}c(!0),d(null);let Ee=0;const $e=30,Le=setInterval(()=>{const nt=de[Math.floor(Math.random()*de.length)];if(C(nt.name),Ee++,Ee>=$e){clearInterval(Le);const He=de[Math.floor(Math.random()*de.length)];d(He),C(He.name),c(!1),Q.success(` ${He.name} wins!`)}},100)},Ge=()=>{const de=he();if(de.length<N){Q.error(`Not enough eligible attendees. Need ${N}, have ${de.length}`);return}if(O.length===0){Q.error("Please configure prizes first before starting custom draw");return}G(!0),H([]),R(0),me()},me=()=>{const de=he(),Ee=N-Z;if(de.length===0){G(!1),R(0),Q.error("No more eligible attendees available");return}const $e=O.find(Qt=>Qt.position===Ee);let Le=0;const nt=20,He=setInterval(()=>{const Qt=de[Math.floor(Math.random()*de.length)];if(C(Qt.name),Le++,Le>=nt){clearInterval(He);const Nn=de[Math.floor(Math.random()*de.length)];C(Nn.name);const Jn=[...K,Nn];H(Jn),$e?Q.success(` ${Nn.name} wins ${$e.title}!`):Q.success(` ${Nn.name} wins!`),G(!1)}},100)},ze=()=>{x&&(m(de=>[...de,x]),d(null),C(""),b(null),c(!1))},st=()=>{K.length>0&&(m(de=>[...de,...K]),H([]),R(0),G(!1),C(""))},Re=()=>{Z+1<N?(R(Z+1),C(""),G(!0),me()):(C(""),G(!1),R(0),Q.success(` All ${N} winners selected with prizes!`))},at=()=>{d(null),C(""),c(!1),m([]),H([]),G(!1),R(0),b(null)},Ot=()=>{A?document.exitFullscreen():document.documentElement.requestFullscreen(),j(!A)},ht=async de=>{try{const Ee=Object.fromEntries(Object.entries(de).filter(([$e,Le])=>Le!=null&&Le!==""));if(V!=null&&V.id){const{error:$e}=await le.from("custom_prizes").update(Ee).eq("id",V.id);if($e)throw $e;Q.success("Prize updated!")}else{const{id:$e,...Le}=Ee,{error:nt}=await le.from("custom_prizes").insert([{...Le,event_id:r}]);if(nt)throw nt;Q.success("Prize created!")}T(!1),te(null),await ce()}catch(Ee){console.error("Error saving prize:",Ee),Q.error("Error saving prize: "+Ee.message)}},Ht=async de=>{try{const{error:Ee}=await le.from("custom_prizes").delete().eq("id",de);if(Ee)throw Ee;Q.success("Prize deleted!"),ce()}catch(Ee){Q.error("Error deleting prize: "+Ee.message)}},un=()=>{const[de,Ee]=B.useState(V||{});B.useEffect(()=>{Ee(V||{})},[V]);const $e=(He,Qt)=>{Ee(Nn=>({...Nn,[He]:Qt}))},Le=He=>{He.preventDefault(),ht(de)},nt=()=>{T(!1),te(null)};return P?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:de!=null&&de.id?"Edit Prize":"Add Prize"}),o.jsxs("form",{onSubmit:Le,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"prize-position",className:"block text-sm font-medium text-gray-700 mb-2",children:"Position (Descending Order)"}),o.jsx("input",{id:"prize-position",name:"position",type:"number",min:"1",max:N,value:(de==null?void 0:de.position)||1,onChange:He=>$e("position",Number(He.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["1 = Highest, ",N," = Lowest"]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"prize-title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Prize Title"}),o.jsx("input",{id:"prize-title",name:"title",type:"text",value:(de==null?void 0:de.title)||"",onChange:He=>$e("title",He.target.value),placeholder:"Enter prize title",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"prize-description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{id:"prize-description",name:"description",value:(de==null?void 0:de.description)||"",onChange:He=>$e("description",He.target.value),placeholder:"Enter prize description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"prize-image-url",className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),o.jsx("input",{id:"prize-image-url",name:"image_url",type:"url",value:(de==null?void 0:de.image_url)||"",onChange:He=>$e("image_url",He.target.value),placeholder:"Enter image URL",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),o.jsxs("div",{className:"flex space-x-3 mt-6",children:[o.jsx("button",{type:"submit",className:"flex-1 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500",children:"Save Prize"}),o.jsx("button",{type:"button",onClick:nt,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"})]})]})]})}):null};return A?o.jsxs("div",{className:"fixed inset-0 z-50",children:[o.jsx("div",{className:"h-full flex items-center justify-center relative overflow-hidden bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-600",children:o.jsx("div",{className:"text-center text-white z-10",children:o.jsxs(b1,{mode:"wait",children:[!l&&!x&&!M&&K.length===0&&o.jsxs(et.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"space-y-8",children:[o.jsx(oo,{className:"h-32 w-32 mx-auto mb-8"}),o.jsx("h1",{className:"text-6xl md:text-8xl font-bold mb-4",children:"Lucky Draw"}),o.jsx("p",{className:"text-2xl md:text-3xl opacity-80",children:v==="table"?"Random Table Selection":v==="custom"?`Custom Draw (${N} winners)`:v==="regular"?"Single Winner Selection":"Ready to pick a winner?"})]}),(l||M)&&o.jsxs(et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-8",children:[o.jsx(et.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:o.jsx(Ya,{className:"h-24 w-24 mx-auto mb-8"})}),o.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-8",children:M?`Drawing Winner #${N-Z}...`:"Drawing..."}),M&&o.jsx(et.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"text-xl md:text-2xl opacity-80 mb-4",children:(()=>{const de=N-Z,Ee=O.find($e=>$e.position===de);return Ee?`Prize: ${Ee.title}`:`Position #${de}`})()}),o.jsx(et.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-3xl md:text-5xl font-semibold bg-white bg-opacity-20 rounded-lg p-6",children:y},y),M&&K.length>0&&o.jsxs(et.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"text-xl md:text-2xl opacity-80",children:["Previous Winners: ",K.map(de=>de.name).join(", ")]})]}),x&&o.jsxs(et.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{opacity:0},className:"space-y-8",children:[o.jsx(et.div,{animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:o.jsx(oa,{className:"h-32 w-32 mx-auto mb-8 text-yellow-300"})}),o.jsxs(et.h1,{className:"text-4xl md:text-6xl font-bold mb-4",animate:{scale:[1,1.05,1]},transition:{duration:1,repeat:1/0},children:[" ",(Gt=x.id)!=null&&Gt.startsWith("table-")?"TABLE WINNER!":"WINNER!"," "]}),o.jsx(et.div,{initial:{y:20},animate:{y:0},className:"text-4xl md:text-6xl font-bold bg-white bg-opacity-20 rounded-lg p-8",children:x.name}),x.company&&!((ae=x.id)!=null&&ae.startsWith("table-"))&&o.jsx(et.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},className:"text-2xl md:text-3xl opacity-80",children:x.company}),x.table_number&&!((Ce=x.id)!=null&&Ce.startsWith("table-"))&&o.jsxs(et.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"text-xl md:text-2xl opacity-80",children:["Table ",x.table_number]})]}),K.length>0&&o.jsxs(et.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{opacity:0},className:"space-y-8",children:[o.jsx(et.div,{animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:o.jsx(oa,{className:"h-32 w-32 mx-auto mb-8 text-yellow-300"})}),o.jsx(et.h1,{className:"text-4xl md:text-6xl font-bold mb-4",animate:{scale:[1,1.05,1]},transition:{duration:1,repeat:1/0},children:" WINNERS! "}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-4xl mx-auto",children:K.map((de,Ee)=>{const $e=N-Ee,Le=O.find(nt=>nt.position===$e);return o.jsxs(et.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:Ee*.2},className:"text-2xl md:text-3xl font-bold bg-white bg-opacity-20 rounded-lg p-4 relative",children:[o.jsx("div",{className:"absolute -top-2 -right-2 bg-yellow-400 text-yellow-900 rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold",children:$e}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mb-2",children:de.name}),Le&&o.jsxs("div",{className:"text-sm opacity-80",children:[" ",Le.title,Le.description&&o.jsx("div",{className:"text-xs mt-1",children:Le.description})]})]})]},de.id)})})]})]})})}),o.jsxs("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-4",children:[!l&&!x&&!M&&K.length===0&&o.jsxs("button",{onClick:je,className:"bg-white text-purple-600 px-8 py-4 rounded-lg font-bold text-xl hover:bg-gray-100 transition-colors",children:["Start ",v==="table"?"Table":v==="custom"?"Custom":"Regular"," Draw"]}),x&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:ze,className:"bg-green-600 text-white px-8 py-4 rounded-lg font-bold text-xl hover:bg-green-700 transition-colors",children:"Confirm Winner"}),o.jsx("button",{onClick:je,className:"bg-blue-600 text-white px-8 py-4 rounded-lg font-bold text-xl hover:bg-blue-700 transition-colors",children:"Draw Again"})]}),K.length>0&&!M&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:st,className:"bg-green-600 text-white px-8 py-4 rounded-lg font-bold text-xl hover:bg-green-700 transition-colors",children:"Confirm Winners"}),Z+1<N&&o.jsx("button",{onClick:Re,className:"bg-blue-600 text-white px-8 py-4 rounded-lg font-bold text-xl hover:bg-blue-700 transition-colors",children:"Continue Drawing"}),o.jsx("button",{onClick:je,className:"bg-purple-600 text-white px-8 py-4 rounded-lg font-bold text-xl hover:bg-purple-700 transition-colors",children:"Draw Again"})]}),o.jsx("button",{onClick:Ot,className:"bg-gray-600 text-white px-6 py-4 rounded-lg hover:bg-gray-700 transition-colors",children:"Exit"})]})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lucky Draw"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Random winner selection from checked-in attendees"})]}),o.jsxs("button",{onClick:Ot,disabled:!r,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(oo,{className:"h-5 w-5 mr-2"}),"Fullscreen Draw"]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[o.jsx(oo,{className:"h-6 w-6 mr-2"}),"Draw Controls"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"event-select",className:"block text-sm font-medium text-gray-700 mb-2",children:e&&t.length<=1?"Event":"Select Event"}),e&&t.length===1?o.jsx("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:t[0].name}):o.jsxs("select",{id:"event-select",name:"event-select",value:r,onChange:de=>s(de.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[!e&&o.jsx("option",{value:"",children:"Select an event"}),t.map(de=>o.jsx("option",{value:de.id,children:e?de.name:`${de.name} (${de.company.name})`},de.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Draw Type"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>E("regular"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${v==="regular"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(pt,{className:"h-4 w-4 mr-1 inline"}),"Regular"]}),o.jsxs("button",{type:"button",onClick:()=>E("table"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${v==="table"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(t3,{className:"h-4 w-4 mr-1 inline"}),"Table"]}),o.jsxs("button",{type:"button",onClick:()=>E("custom"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${v==="custom"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o.jsx(rE,{className:"h-4 w-4 mr-1 inline"}),"Custom"]})]})]}),v==="custom"&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"winner-count",className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Winners"}),o.jsx("input",{id:"winner-count",name:"winner-count",type:"number",min:"1",max:"20",value:N,onChange:de=>S(Math.max(1,Math.min(20,Number(de.target.value)))),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Winners will be drawn in descending order (highest to lowest)"})]}),v==="custom"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Custom Prizes"}),o.jsx("button",{type:"button",onClick:()=>{te({position:1,title:"",description:"",image_url:""}),T(!0)},className:"bg-green-600 text-white px-2 py-1 rounded text-xs hover:bg-green-700",children:"+ Add Prize"})]}),o.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[O.map(de=>o.jsx("div",{className:"border border-gray-200 rounded-lg p-2",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs font-medium",children:["#",de.position]}),o.jsx("span",{className:"font-medium text-gray-900 text-sm",children:de.title})]}),de.description&&o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:de.description})]}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{type:"button",onClick:()=>{te(de),T(!0)},className:"text-blue-600 hover:text-blue-800 text-xs",children:"Edit"}),o.jsx("button",{type:"button",onClick:()=>Ht(de.id),className:"text-red-600 hover:text-red-800 text-xs",children:"Delete"})]})]})},de.id)),O.length===0&&o.jsx("p",{className:"text-gray-500 text-xs",children:"No prizes configured. Add prizes for specific positions."})]})]}),r&&o.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center text-purple-700 mb-2",children:[o.jsx(pt,{className:"h-5 w-5 mr-2"}),o.jsx("span",{className:"font-medium",children:"Eligible Participants"})]}),o.jsx("div",{className:"text-2xl font-bold text-purple-900",children:v==="table"?F.filter(de=>!f.find(Ee=>Ee.id===`table-${de.table_number}`)).length:he().length}),o.jsx("div",{className:"text-sm text-purple-600",children:v==="table"?o.jsxs("span",{children:[F.filter(de=>!f.find(Ee=>Ee.id===`table-${de.table_number}`)).length," available tables  ",f.filter(de=>{var Ee;return(Ee=de.id)==null?void 0:Ee.startsWith("table-")}).length," tables already won"]}):v==="custom"?o.jsxs("span",{children:[i.length," total checked-in  ",f.filter(de=>{var Ee;return!((Ee=de.id)!=null&&Ee.startsWith("table-"))}).length," already won  ",N," winners with prizes  ",O.length," prizes configured"]}):o.jsxs("span",{children:[i.length," total checked-in  ",f.filter(de=>{var Ee;return!((Ee=de.id)!=null&&Ee.startsWith("table-"))}).length," already won"]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("button",{type:"button",onClick:je,disabled:!r||l||M||(v==="table"?F.filter(de=>!f.find(Ee=>Ee.id===`table-${de.table_number}`)).length===0:v==="custom"?he().length<N||O.length===0:he().length===0),className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(qd,{className:"h-5 w-5 mr-2"}),l||M?"Drawing...":"Start Lucky Draw"]}),x&&o.jsx("button",{type:"button",onClick:ze,className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Confirm Winner"}),K.length>0&&!M&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("button",{type:"button",onClick:st,className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:["Confirm ",K.length," Winners"]}),Z+1<N&&o.jsxs("button",{type:"button",onClick:Re,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:["Continue Drawing (",N-Z-1," more)"]})]}),o.jsxs("button",{type:"button",onClick:at,className:"w-full bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center",children:[o.jsx(P0,{className:"h-4 w-4 mr-2"}),"Reset All"]})]})]})]}),!P&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[o.jsx(qd,{className:"h-6 w-6 mr-2"}),"Preview"]}),o.jsx("div",{className:"bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-600 rounded-lg p-8 text-center text-white min-h-[400px] flex items-center justify-center",children:o.jsxs("div",{className:"space-y-6",children:[!l&&!x&&!M&&K.length===0&&o.jsxs("div",{children:[o.jsx(oo,{className:"h-24 w-24 mx-auto mb-6"}),o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Lucky Draw"}),o.jsx("p",{className:"text-xl opacity-80",children:v==="table"?"Random Table Selection":v==="custom"?`Custom Draw (${N} winners)`:"Ready to pick a winner?"})]}),(l||M)&&o.jsxs("div",{children:[o.jsx("div",{className:"animate-spin mb-6",children:o.jsx(Ya,{className:"h-16 w-16 mx-auto"})}),o.jsx("h1",{className:"text-3xl font-bold mb-4",children:M?`Drawing Winner #${N-Z}...`:"Drawing..."}),M&&o.jsx("div",{className:"text-lg opacity-80 mb-4",children:(()=>{const de=N-Z,Ee=O.find($e=>$e.position===de);return Ee?`Prize: ${Ee.title}`:`Position #${de}`})()}),o.jsx("div",{className:"text-2xl font-semibold bg-white bg-opacity-20 rounded-lg p-4",children:y}),M&&K.length>0&&o.jsxs("div",{className:"text-lg opacity-80 mt-4",children:["Previous Winners: ",K.map(de=>de.name).join(", ")]})]}),x&&o.jsxs("div",{children:[o.jsx("div",{className:"animate-bounce mb-6",children:o.jsx(oa,{className:"h-24 w-24 mx-auto text-yellow-300"})}),o.jsxs("h1",{className:"text-3xl font-bold mb-4",children:[" ",(Ie=x.id)!=null&&Ie.startsWith("table-")?"TABLE WINNER!":"WINNER!"," "]}),o.jsx("div",{className:"text-3xl font-bold bg-white bg-opacity-20 rounded-lg p-6",children:x.name}),x.company&&!((Oe=x.id)!=null&&Oe.startsWith("table-"))&&o.jsx("div",{className:"text-lg opacity-80 mt-2",children:x.company}),x.table_number&&!((yt=x.id)!=null&&yt.startsWith("table-"))&&o.jsxs("div",{className:"text-lg opacity-80 mt-1",children:["Table ",x.table_number]})]}),K.length>0&&o.jsxs("div",{children:[o.jsx("div",{className:"animate-bounce mb-6",children:o.jsx(oa,{className:"h-24 w-24 mx-auto text-yellow-300"})}),o.jsx("h1",{className:"text-3xl font-bold mb-4",children:" WINNERS! "}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto",children:K.map((de,Ee)=>{const $e=N-Ee,Le=O.find(nt=>nt.position===$e);return o.jsxs("div",{className:"text-lg font-bold bg-white bg-opacity-20 rounded-lg p-3 relative",children:[o.jsx("div",{className:"absolute -top-2 -right-2 bg-yellow-400 text-yellow-900 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:$e}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mb-1",children:de.name}),Le&&o.jsxs("div",{className:"text-sm opacity-80",children:[" ",Le.title]})]})]},de.id)})})]})]})})]}),f.length>0&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[o.jsx(oa,{className:"h-6 w-6 mr-2 text-yellow-500"}),"Previous Winners"]}),o.jsx("div",{className:"space-y-2",children:[...f].reverse().map((de,Ee)=>{var He;const $e=f.length-Ee-1,Le=O.find(Qt=>Qt.position===$e+1),nt=(He=de.id)==null?void 0:He.startsWith("table-");return o.jsxs("div",{className:"flex items-center p-3 bg-yellow-50 rounded-lg",children:[o.jsx("div",{className:"w-8 h-8 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3",children:f.length-Ee}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-gray-900",children:de.name}),de.company&&!nt&&o.jsx("div",{className:"text-sm text-gray-600",children:de.company}),de.table_number&&!nt&&o.jsxs("div",{className:"text-sm text-gray-600",children:["Table ",de.table_number]}),nt&&o.jsx("div",{className:"text-sm text-blue-600 font-medium",children:" Table Winner"}),Le&&!nt&&o.jsxs("div",{className:"mt-2 p-2 bg-purple-50 rounded border-l-4 border-purple-400",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-purple-600 font-medium",children:""}),o.jsx("span",{className:"text-sm font-medium text-purple-900",children:Le.title})]}),Le.description&&o.jsx("div",{className:"text-xs text-purple-700 mt-1",children:Le.description})]})]})]},de.id)})})]}),o.jsx(un,{})]})}function MN({userCompany:e}){const[t,n]=B.useState([]),[r,s]=B.useState(""),[i,a]=B.useState([]),[l,c]=B.useState(0),[x,d]=B.useState(!1),[f,m]=B.useState(""),[y,C]=B.useState(!1),[A,j]=B.useState(!1);B.useEffect(()=>{v()},[]),B.useEffect(()=>{r&&(E(),g())},[r]),B.useEffect(()=>{let S;return x&&i.length>0&&(S=setInterval(()=>{c(O=>(O+1)%i.length)},3e3)),()=>clearInterval(S)},[x,i.length]);const v=async()=>{try{let S=le.from("events").select(`
          id,
          name,
          company_id,
          company:companies(name)
        `);e&&(S=S.eq("company_id",e.company_id));const{data:O,error:$}=await S.order("created_at",{ascending:!1});if($)throw $;const M=O.map(G=>({...G,company:Array.isArray(G.company)?G.company[0]:G.company}));n(M),e&&M&&M.length>0&&s(M[0].id)}catch(S){Q.error("Error fetching events: "+S.message)}},E=async()=>{try{j(!0);const{data:S,error:O}=await le.from("gallery_photos").select("*").eq("event_id",r).order("created_at",{ascending:!1});if(O)throw O;a(S)}catch(S){Q.error("Error fetching photos: "+S.message)}finally{j(!1)}},g=async()=>{try{const S=`${window.location.origin}/public/gallery/${r}`,O=await mr.toDataURL(S);m(O)}catch(S){console.error("Error generating QR code:",S)}},b=async S=>{if(confirm("Are you sure you want to delete this photo?"))try{const{error:O}=await le.from("gallery_photos").delete().eq("id",S);if(O)throw O;Q.success("Photo deleted successfully"),E()}catch(O){Q.error("Error deleting photo: "+O.message)}},F=()=>{const S=[...i].sort(()=>Math.random()-.5);a(S),c(0)},k=(S,O)=>{const $=document.createElement("a");$.href=S,$.download=`gallery-photo-${O+1}.jpg`,$.click()},N=()=>{var S,O,$,M,G;return o.jsx("div",{className:"h-full bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 relative overflow-hidden",children:i.length>0?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute inset-0",children:i.map((K,H)=>{const Z=H/i.length*360,R=200+H%3*50,P=window.innerWidth/2,T=window.innerHeight/2,V=P+Math.cos(Z*Math.PI/180)*R,te=T+Math.sin(Z*Math.PI/180)*R,L=H===l,W=Math.abs(H-l)<=2;return o.jsx(et.div,{className:"absolute",initial:{x:P-100,y:T-100,scale:.3,opacity:0,rotate:0},animate:{x:L?P-150:V,y:L?T-150:te,scale:L?1.2:W?.8:.4,opacity:L?1:W?.7:.3,rotate:L?0:Z*.1},transition:{duration:.8,ease:"easeOut",delay:H*.1},whileHover:{scale:L?1.3:.9,zIndex:10},onClick:()=>c(H),children:o.jsxs("div",{className:"relative cursor-pointer",children:[o.jsx("img",{src:Ut(K.photo_url),alt:"Gallery",className:"w-32 h-32 object-cover rounded-xl shadow-2xl border-2 border-white/30 hover:border-white/60 transition-all duration-300",style:{filter:"drop-shadow(0 10px 20px rgba(0,0,0,0.4))"}}),L&&o.jsxs(et.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3,duration:.4},className:"absolute -bottom-16 left-1/2 transform -translate-x-1/2 bg-black/80 backdrop-blur-sm rounded-lg p-2 text-white text-center min-w-[140px]",children:[o.jsx("div",{className:"text-sm font-semibold truncate",children:K.attendee_name||"Anonymous"}),o.jsx("div",{className:"text-xs opacity-80",children:new Date(K.created_at).toLocaleDateString()})]}),L&&o.jsx(et.div,{className:"absolute -top-2 -right-2 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center",initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring",stiffness:300},children:o.jsx("svg",{className:"w-4 h-4 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})]})},K.id)})}),i[l]&&o.jsx(et.div,{className:"absolute inset-0 flex items-center justify-center pointer-events-none",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,ease:"easeOut"},children:o.jsxs("div",{className:"relative max-w-2xl max-h-96",children:[o.jsx(et.img,{src:Ut((S=i[l])==null?void 0:S.photo_url),alt:"Active Gallery",className:"w-full h-auto object-contain rounded-2xl shadow-2xl border-4 border-white/40",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.6,ease:"easeOut"},style:{filter:"drop-shadow(0 20px 40px rgba(0,0,0,0.5))"}},l),o.jsxs(et.div,{className:"absolute bottom-4 left-4 right-4 bg-black/80 backdrop-blur-sm rounded-lg p-4 text-white",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.4},children:[o.jsx("div",{className:"text-lg font-semibold",children:((O=i[l])==null?void 0:O.attendee_name)||"Anonymous"}),o.jsx("div",{className:"text-sm opacity-80",children:new Date(($=i[l])==null?void 0:$.created_at).toLocaleString()})]})]})}),o.jsxs("div",{className:"absolute bottom-8 left-8 text-white bg-black/50 backdrop-blur-sm rounded-lg p-4",children:[o.jsx("div",{className:"text-lg font-semibold",children:((M=i[l])==null?void 0:M.attendee_name)||"Anonymous"}),o.jsx("div",{className:"text-sm opacity-80",children:new Date((G=i[l])==null?void 0:G.created_at).toLocaleString()})]}),o.jsxs("div",{className:"absolute bottom-8 right-8 text-white bg-black/50 backdrop-blur-sm rounded-lg px-4 py-2",children:[l+1," / ",i.length]}),o.jsx("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 flex space-x-2",children:i.map((K,H)=>o.jsx("button",{onClick:()=>c(H),className:`w-3 h-3 rounded-full transition-all duration-200 ${H===l?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`},H))}),o.jsxs("div",{className:"absolute top-8 left-8 text-white bg-black/50 backdrop-blur-sm rounded-lg p-3",children:[o.jsx("div",{className:"text-sm font-semibold",children:"Flying Gallery"}),o.jsx("div",{className:"text-xs opacity-80",children:"Click photos to focus"})]})]}):o.jsx("div",{className:"text-white text-center flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx(cr,{className:"h-24 w-24 mx-auto mb-4 opacity-50 animate-pulse"}),o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"No Photos Yet"}),o.jsx("p",{className:"opacity-80",children:"Waiting for attendees to upload photos..."})]})})})};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Event Gallery"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Manage photo uploads and slideshow display"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs("button",{onClick:F,disabled:i.length===0,className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors flex items-center disabled:opacity-50",children:[o.jsx(nE,{className:"h-5 w-5 mr-2"}),"Shuffle"]}),o.jsx("button",{onClick:()=>d(!x),disabled:i.length===0,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:x?"Stop Slideshow":"Start Slideshow"}),o.jsxs("button",{onClick:()=>C(!y),disabled:i.length===0,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[y?o.jsx(jB,{className:"h-5 w-5 mr-2"}):o.jsx(wB,{className:"h-5 w-5 mr-2"}),y?"Exit Fullscreen":"Fullscreen"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[o.jsx(ur,{className:"h-6 w-6 mr-2"}),"Gallery Setup"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e&&t.length<=1?"Event":"Select Event"}),e&&t.length===1?o.jsx("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:t[0].name}):o.jsxs("select",{value:r,onChange:S=>s(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[!e&&o.jsx("option",{value:"",children:"Select an event"}),t.map(S=>o.jsx("option",{value:S.id,children:e?S.name:`${S.name} (${S.company.name})`},S.id))]})]}),r&&f&&o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"font-medium mb-2",children:"Upload QR Code"}),o.jsx("img",{src:f,alt:"Gallery QR Code",className:"w-48 h-48 mx-auto border rounded-lg"}),o.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Attendees scan this to upload photos"}),o.jsx("button",{onClick:()=>navigator.clipboard.writeText(`${window.location.origin}/public/gallery/${r}`),className:"mt-2 text-blue-600 hover:text-blue-700 text-sm",children:"Copy Upload Link"})]}),r&&o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[o.jsx("div",{className:"text-blue-700 font-medium mb-1",children:"Gallery Stats"}),o.jsx("div",{className:"text-2xl font-bold text-blue-900",children:i.length}),o.jsx("div",{className:"text-sm text-blue-600",children:"Photos uploaded"})]})]})]}),o.jsxs("div",{className:`${y?"fixed inset-0 z-50 bg-black":"lg:col-span-2"}`,children:[o.jsxs("div",{className:`${y?"h-full":"bg-white rounded-lg shadow-md p-6"}`,children:[!y&&o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[o.jsx(cr,{className:"h-6 w-6 mr-2"}),"Gallery Display"]}),o.jsx("div",{className:`${y?"h-full":"aspect-video bg-gray-100 rounded-lg overflow-hidden mb-4"}`,children:r?o.jsx(N,{}):o.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:o.jsxs("div",{className:"text-center",children:[o.jsx(cr,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Select an event to see gallery"})]})})}),i.length>0&&o.jsxs("div",{className:"flex justify-center space-x-2",children:[o.jsx("button",{onClick:()=>c(Math.max(0,l-1)),className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 transition-colors",children:"Previous"}),o.jsxs("span",{className:"px-3 py-1 bg-gray-100 rounded",children:[l+1," / ",i.length]}),o.jsx("button",{onClick:()=>c(Math.min(i.length-1,l+1)),className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 transition-colors",children:"Next"})]})]}),i.length>0&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mt-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Photos"}),A?o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:i.map((S,O)=>o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:S.photo_url,alt:"Gallery",className:"w-full h-24 object-cover rounded-lg cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>c(O)}),o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all rounded-lg flex items-center justify-center",children:o.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex space-x-2",children:[o.jsx("button",{onClick:()=>k(S.photo_url,O),className:"text-white hover:text-blue-300 transition-colors",children:o.jsx(Gc,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>b(S.id),className:"text-white hover:text-red-300 transition-colors",children:o.jsx(Ns,{className:"h-4 w-4"})})]})}),S.attendee_name&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 text-white text-xs p-1 rounded-b-lg truncate",children:S.attendee_name})]},S.id))})]})]})]})]})}function a6({eventId:e,userCompany:t,isAttendeeView:n=!1,attendeeTable:r=null}){const[s,i]=B.useState([]),[a,l]=B.useState([]),[c,x]=B.useState(null),[d,f]=B.useState(new Set),[m,y]=B.useState(null),[C,A]=B.useState(!1),[j,v]=B.useState(!1),[E,g]=B.useState(null),[b,F]=B.useState(1),[k,N]=B.useState(!1),[S,O]=B.useState("free"),[$,M]=B.useState(20),[G,K]=B.useState(!0),[H,Z]=B.useState({x:0,y:0}),[R,P]=B.useState(!1),[T,V]=B.useState({x:0,y:0}),[te,L]=B.useState({x:0,y:0}),[W,ce]=B.useState({}),[he,je]=B.useState(!1),we=B.useRef(null),ke=B.useRef({table_number:1,table_type:"Regular",capacity:8,x:100,y:100,rotation:0,is_locked:!1}),Ge=["VVIP","VIP","Regular","Staff"],me={VVIP:"bg-purple-500",VIP:"bg-yellow-500",Regular:"bg-blue-500",Staff:"bg-gray-500"};B.useEffect(()=>{console.log("VenueLayout: eventId changed to:",e),e&&(ze(),st())},[e]);const ze=async()=>{try{console.log("VenueLayout: Fetching tables for event:",e);const{data:z,error:pe}=await le.from("tables").select("*").eq("event_id",e).order("table_number");if(pe)throw pe;const Ne=(z==null?void 0:z.map((De,Me)=>({...De,x:De.x||100+Me*150,y:De.y||100+Me*100,rotation:De.rotation||0})))||[];console.log("VenueLayout: Fetched tables:",Ne),i(Ne)}catch(z){console.error("VenueLayout: Error fetching tables:",z),Q.error("Error fetching tables: "+z.message)}},st=async()=>{try{const{data:z,error:pe}=await le.from("attendees").select("id, name, table_assignment").eq("event_id",e);if(pe)throw pe;l(z||[])}catch(z){Q.error("Error fetching attendees: "+z.message)}},Re=B.useCallback((z,pe)=>S==="grid"?{x:Math.round(z/$)*$,y:Math.round(pe/$)*$}:{x:z,y:pe},[S,$]),at=B.useCallback(()=>s.filter(z=>d.has(z.id)),[s,d]),Ot=async z=>{z.preventDefault();try{if(E){const{data:pe,error:Ne}=await le.from("tables").update({table_number:ke.current.table_number,table_type:ke.current.table_type,capacity:ke.current.capacity,x:ke.current.x,y:ke.current.y,rotation:ke.current.rotation}).eq("id",E.id).select();if(Ne)throw Ne;if(pe&&pe.length>0){const De=pe[0];i(Me=>Me.map(qe=>qe.id===E.id?De:qe)),Q.success("Table updated successfully!")}else ze(),Q.success("Table updated successfully!")}else{const{data:pe,error:Ne}=await le.from("tables").insert([{event_id:e,table_number:ke.current.table_number,table_type:ke.current.table_type,capacity:ke.current.capacity,x:ke.current.x,y:ke.current.y,rotation:ke.current.rotation,is_locked:!1}]).select();if(Ne)throw Ne;if(pe&&pe.length>0){const De=pe[0];i(Me=>[...Me,De]),Q.success("Table created successfully!")}else ze(),Q.success("Table created successfully!")}v(!1),ze()}catch(pe){Q.error("Error saving table: "+pe.message)}},ht=async z=>{if(confirm("Are you sure you want to delete this table?"))try{const pe=s.find(De=>De.id===z);pe&&await le.from("attendees").update({table_assignment:null}).eq("table_assignment",pe.table_number.toString());const{error:Ne}=await le.from("tables").delete().eq("id",z);if(Ne)throw Ne;Q.success("Table deleted successfully!"),ze()}catch(pe){Q.error("Error deleting table: "+pe.message)}},Ht=async()=>{if(d.size!==0&&confirm(`Are you sure you want to delete ${d.size} selected table(s)?`))try{const z=Array.from(d),pe=s.filter(De=>z.includes(De.id)).map(De=>De.table_number.toString());pe.length>0&&await le.from("attendees").update({table_assignment:null}).in("table_assignment",pe);const{error:Ne}=await le.from("tables").delete().in("id",z);if(Ne)throw Ne;Q.success(`${d.size} table(s) deleted successfully!`),f(new Set),ze()}catch(z){Q.error("Error deleting tables: "+z.message)}},un=(z,pe)=>{if(n)return;if(pe.is_locked){z.preventDefault(),Q.error("This table is locked and cannot be moved");return}if(k){z.preventDefault();const qe=at();if(qe.some(lt=>lt.is_locked)){Q.error("Cannot move group: some tables are locked");return}if(d.has(pe.id)&&d.size>1){const lt=z.currentTarget.getBoundingClientRect(),At=z.clientX-lt.left,xn=z.clientY-lt.top;Z({x:At,y:xn}),y(pe),je(!0);const vt={};qe.forEach(Xe=>{Xe.id!==pe.id&&(vt[Xe.id]={x:Xe.x-pe.x,y:Xe.y-pe.y})}),ce(vt),z.dataTransfer.setData("text/plain","group-drag"),z.dataTransfer.effectAllowed="move";return}const ut=new Set(d);ut.has(pe.id)?ut.delete(pe.id):ut.add(pe.id),f(ut);return}const Ne=z.currentTarget.getBoundingClientRect(),De=z.clientX-Ne.left,Me=z.clientY-Ne.top;Z({x:De,y:Me}),y(pe),A(!0),z.dataTransfer.setData("text/plain",pe.id),z.dataTransfer.effectAllowed="move"},Gt=z=>{z.preventDefault(),z.dataTransfer.dropEffect="move"},ae=async z=>{var lt;if(z.preventDefault(),!m||n)return;const pe=(lt=we.current)==null?void 0:lt.getBoundingClientRect();if(!pe)return;const Ne=(z.clientX-pe.left-H.x)/b,De=(z.clientY-pe.top-H.y)/b,{x:Me,y:qe}=Re(Ne,De),it=Math.round(Math.max(0,Math.min(Me,pe.width/b-120))),ut=Math.round(Math.max(0,Math.min(qe,pe.height/b-80)));try{if(he&&d.size>1){const At=at(),xn=[];for(const vt of At)if(vt.id===m.id)xn.push({id:vt.id,x:it,y:ut});else{const Xe=W[vt.id];if(Xe){const Et=Math.round(Math.max(0,Math.min(it+Xe.x,pe.width/b-120))),Oi=Math.round(Math.max(0,Math.min(ut+Xe.y,pe.height/b-80)));xn.push({id:vt.id,x:Et,y:Oi})}}for(const vt of xn)await le.from("tables").update({x:vt.x,y:vt.y}).eq("id",vt.id);i(vt=>vt.map(Xe=>{const Et=xn.find(Oi=>Oi.id===Xe.id);return Et?{...Xe,x:Et.x,y:Et.y}:Xe})),Q.success(`${xn.length} tables moved successfully!`)}else{const{error:At}=await le.from("tables").update({x:it,y:ut}).eq("id",m.id);if(At)throw At;i(xn=>xn.map(vt=>vt.id===m.id?{...vt,x:it,y:ut}:vt)),Q.success("Table position updated!")}}catch(At){Q.error("Error updating table position: "+At.message)}y(null),A(!1),je(!1),Z({x:0,y:0}),ce({})},Ce=z=>{(z.button===1||z.button===0&&z.altKey)&&(z.preventDefault(),P(!0),L({x:z.clientX,y:z.clientY}))},Ie=z=>{if(R){const pe=z.clientX-te.x,Ne=z.clientY-te.y;V(De=>({x:De.x+pe,y:De.y+Ne})),L({x:z.clientX,y:z.clientY})}},Oe=()=>{P(!1)},yt=async z=>{const pe=s.find(De=>De.id===z);if(!pe)return;if(pe.is_locked){Q.error("This table is locked and cannot be rotated");return}const Ne=(pe.rotation+45)%360;try{const{error:De}=await le.from("tables").update({rotation:Ne}).eq("id",z);if(De)throw De;i(Me=>Me.map(qe=>qe.id===z?{...qe,rotation:Ne}:qe))}catch(De){Q.error("Error rotating table: "+De.message)}},de=async z=>{const pe=s.find(De=>De.id===z);if(!pe)return;const Ne=!pe.is_locked;try{const{error:De}=await le.from("tables").update({is_locked:Ne}).eq("id",z);if(De)throw De;i(Me=>Me.map(qe=>qe.id===z?{...qe,is_locked:Ne}:qe)),Q.success(`Table ${Ne?"locked":"unlocked"} successfully!`)}catch(De){Q.error("Error updating table lock: "+De.message)}},Ee=async()=>{if(d.size===0){Q.error("No tables selected");return}try{const{error:z}=await le.from("tables").update({is_locked:!0}).in("id",Array.from(d));if(z)throw z;i(pe=>pe.map(Ne=>d.has(Ne.id)?{...Ne,is_locked:!0}:Ne)),Q.success(`${d.size} table(s) locked successfully!`)}catch(z){Q.error("Error locking tables: "+z.message)}},$e=async()=>{if(d.size===0){Q.error("No tables selected");return}try{const{error:z}=await le.from("tables").update({is_locked:!1}).in("id",Array.from(d));if(z)throw z;i(pe=>pe.map(Ne=>d.has(Ne.id)?{...Ne,is_locked:!1}:Ne)),Q.success(`${d.size} table(s) unlocked successfully!`)}catch(z){Q.error("Error unlocking tables: "+z.message)}},Le=async z=>{if(d.size<2){Q.error("Select at least 2 tables to align");return}const pe=at(),Ne=[];if(z==="left"){const De=Math.min(...pe.map(Me=>Me.x));for(const Me of pe)Ne.push({id:Me.id,x:Math.round(De)})}else if(z==="center"){const De=pe.reduce((Me,qe)=>Me+qe.x,0)/pe.length;for(const Me of pe)Ne.push({id:Me.id,x:Math.round(De)})}else if(z==="right"){const De=Math.max(...pe.map(Me=>Me.x));for(const Me of pe)Ne.push({id:Me.id,x:Math.round(De)})}else if(z==="top"){const De=Math.min(...pe.map(Me=>Me.y));for(const Me of pe)Ne.push({id:Me.id,y:Math.round(De)})}else if(z==="middle"){const De=pe.reduce((Me,qe)=>Me+qe.y,0)/pe.length;for(const Me of pe)Ne.push({id:Me.id,y:Math.round(De)})}else if(z==="bottom"){const De=Math.max(...pe.map(Me=>Me.y));for(const Me of pe)Ne.push({id:Me.id,y:Math.round(De)})}try{for(const De of Ne)await le.from("tables").update(De).eq("id",De.id);i(De=>De.map(Me=>{const qe=Ne.find(it=>it.id===Me.id);return qe?{...Me,...qe}:Me})),Q.success(`Tables aligned to ${z}!`)}catch(De){Q.error("Error aligning tables: "+De.message)}},nt=async z=>{const pe=at();if(pe.length<3){Q.error("Select at least 3 tables to distribute");return}const Ne=[...pe].sort((it,ut)=>z==="horizontal"?it.x-ut.x:it.y-ut.y),De=[],Me=Ne[0],qe=Ne[Ne.length-1];if(z==="horizontal"){const ut=(qe.x-Me.x)/(Ne.length-1);for(let lt=1;lt<Ne.length-1;lt++){const At=Me.x+ut*lt;De.push({id:Ne[lt].id,x:Math.round(At)})}}else{const ut=(qe.y-Me.y)/(Ne.length-1);for(let lt=1;lt<Ne.length-1;lt++){const At=Me.y+ut*lt;De.push({id:Ne[lt].id,y:Math.round(At)})}}try{for(const it of De)await le.from("tables").update(it).eq("id",it.id);i(it=>it.map(ut=>{const lt=De.find(At=>At.id===ut.id);return lt?{...ut,...lt}:ut})),Q.success(`Tables distributed ${z}ly!`)}catch(it){Q.error("Error distributing tables: "+it.message)}},He=z=>a.filter(pe=>pe.table_assignment===z.toString()),Qt=z=>{g(z),ke.current={table_number:z.table_number,table_type:z.table_type,capacity:z.capacity,x:z.x,y:z.y,rotation:z.rotation,is_locked:z.is_locked||!1},v(!0)},Nn=()=>{ke.current={table_number:Math.max(...s.map(z=>z.table_number),0)+1,table_type:"Regular",capacity:8,x:100,y:100,rotation:0,is_locked:!1},g(null),v(!1)},Jn=()=>{F(z=>Math.min(z+.2,3))},Co=()=>{F(z=>Math.max(z-.2,.3))},Li=()=>{F(1),V({x:0,y:0})},pr=()=>{const z=s.filter(it=>!it.is_locked),pe=s.filter(it=>it.is_locked);if(z.length===0){Q.error("No movable tables found. All tables are locked.");return}const Ne=z.map((it,ut)=>{const lt=Math.floor(ut/4),At=ut%4,{x:xn,y:vt}=Re(50+At*200,50+lt*150);return{...it,x:xn,y:vt}}),De=[...Ne,...pe];i(De),Ne.forEach(async it=>{try{await le.from("tables").update({x:it.x,y:it.y}).eq("id",it.id)}catch(ut){console.error("Error updating table position:",ut)}});const Me=pe.length,qe=Ne.length;Me>0?Q.success(`${qe} tables arranged in grid. ${Me} locked table(s) were not moved.`):Q.success(`${qe} tables arranged in grid successfully!`)},Te=z=>{if(k){const pe=new Set(d);pe.has(z.id)?pe.delete(z.id):pe.add(z.id),f(pe)}else x(z)},$s=z=>d.has(z),Nr=()=>{f(new Set)},wo=()=>{if(!G)return null;const z=[],pe=800,Ne=600;for(let De=0;De<=pe;De+=$)z.push(o.jsx("line",{x1:De,y1:0,x2:De,y2:Ne,stroke:"#e5e7eb",strokeWidth:"1",opacity:"0.5"},`v${De}`));for(let De=0;De<=Ne;De+=$)z.push(o.jsx("line",{x1:0,y1:De,x2:pe,y2:De,stroke:"#e5e7eb",strokeWidth:"1",opacity:"0.5"},`h${De}`));return o.jsx("svg",{className:"absolute inset-0 pointer-events-none",width:"100%",height:"100%",style:{transform:`translate(${T.x}px, ${T.y}px) scale(${b})`,transformOrigin:"top left"},children:z})};return at(),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Venue Layout"}),o.jsx("div",{className:"flex gap-2",children:!n&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>N(!k),className:`px-3 py-2 rounded-lg flex items-center ${k?"bg-purple-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,title:"Toggle multi-select mode",children:[o.jsx(TB,{className:"h-4 w-4 mr-2"}),"Multi-Select"]}),k&&d.size>0&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-1 border-l border-gray-300 pl-2",children:[o.jsx("button",{onClick:()=>Le("left"),className:"bg-blue-600 text-white px-2 py-2 rounded hover:bg-blue-700",title:"Align left",children:o.jsx($7,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>Le("center"),className:"bg-blue-600 text-white px-2 py-2 rounded hover:bg-blue-700",title:"Align center",children:o.jsx(L7,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>Le("right"),className:"bg-blue-600 text-white px-2 py-2 rounded hover:bg-blue-700",title:"Align right",children:o.jsx(V7,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>Le("top"),className:"bg-blue-600 text-white px-2 py-2 rounded hover:bg-blue-700",title:"Align top",children:o.jsx(H7,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>Le("middle"),className:"bg-blue-600 text-white px-2 py-2 rounded hover:bg-blue-700",title:"Align middle",children:o.jsx(_B,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>Le("bottom"),className:"bg-blue-600 text-white px-2 py-2 rounded hover:bg-blue-700",title:"Align bottom",children:o.jsx(q7,{className:"h-4 w-4"})})]}),o.jsx("button",{onClick:()=>nt("horizontal"),className:"bg-green-600 text-white px-3 py-2 rounded hover:bg-green-700",title:"Distribute horizontally",children:"Distribute H"}),o.jsx("button",{onClick:()=>nt("vertical"),className:"bg-green-600 text-white px-3 py-2 rounded hover:bg-green-700",title:"Distribute vertically",children:"Distribute V"}),o.jsxs("button",{onClick:Ee,className:"bg-orange-600 text-white px-3 py-2 rounded hover:bg-orange-700",title:"Lock selected tables",children:[o.jsx(gx,{className:"h-4 w-4 mr-1"}),"Lock"]}),o.jsxs("button",{onClick:$e,className:"bg-yellow-600 text-white px-3 py-2 rounded hover:bg-yellow-700",title:"Unlock selected tables",children:[o.jsx(Bg,{className:"h-4 w-4 mr-1"}),"Unlock"]}),o.jsxs("button",{onClick:Ht,className:"bg-red-600 text-white px-3 py-2 rounded hover:bg-red-700",title:"Delete selected tables",children:["Delete (",d.size,")"]}),o.jsx("button",{onClick:Nr,className:"bg-gray-600 text-white px-3 py-2 rounded hover:bg-gray-700",title:"Clear selection",children:"Clear"})]}),o.jsxs("button",{onClick:()=>O(S==="free"?"grid":"free"),className:`px-3 py-2 rounded-lg flex items-center ${S==="grid"?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,title:"Toggle grid snapping",children:[o.jsx(wg,{className:"h-4 w-4 mr-2"}),S==="grid"?"Grid On":"Grid Off"]}),o.jsxs("button",{onClick:()=>K(!G),className:`px-3 py-2 rounded-lg flex items-center ${G?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,title:"Toggle grid visibility",children:[o.jsx(wg,{className:"h-4 w-4 mr-2"}),"Grid"]}),o.jsxs("button",{onClick:pr,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 flex items-center",title:"Arrange tables in grid",children:[o.jsx(MB,{className:"h-4 w-4 mr-2"}),"Arrange Grid"]}),o.jsxs("button",{onClick:Li,className:"bg-gray-600 text-white px-3 py-2 rounded-lg hover:bg-gray-700 flex items-center",title:"Reset view",children:[o.jsx(Dg,{className:"h-4 w-4 mr-2"}),"Reset"]}),o.jsx("button",{onClick:Jn,className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 flex items-center",title:"Zoom in",children:o.jsx(g3,{className:"h-4 w-4"})}),o.jsx("button",{onClick:Co,className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 flex items-center",title:"Zoom out",children:o.jsx(v3,{className:"h-4 w-4"})}),o.jsxs("button",{onClick:()=>{g(null),Nn(),v(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",title:"Add new table",children:[o.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Add Table"]})]})})]}),o.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:o.jsxs("div",{className:"text-sm text-blue-800",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{children:["Zoom: ",Math.round(b*100),"%"]}),o.jsxs("span",{children:["Grid: ",S==="grid"?"On":"Off"]}),o.jsxs("span",{children:["Grid Size: ",$,"px"]}),k&&o.jsxs("span",{className:"text-purple-600 font-medium",children:["Multi-Select: ",d.size," table(s) selected"]})]}),o.jsx("div",{className:"text-xs mt-1 text-blue-600",children:o.jsx("span",{children:k?"Click to select/deselect  Drag selected table to move group  Use alignment tools":"Drag to move tables  Alt+Click to pan  Middle click to pan  Grid snapping: "+(S==="grid"?"Enabled":"Disabled")})})]})}),o.jsxs("div",{ref:we,className:"relative w-full h-96 bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg overflow-hidden",onDragOver:Gt,onDrop:ae,onMouseDown:Ce,onMouseMove:Ie,onMouseUp:Oe,onMouseLeave:Oe,style:{cursor:R?"grabbing":"grab"},children:[wo(),o.jsx("div",{style:{transform:`translate(${T.x}px, ${T.y}px) scale(${b})`,transformOrigin:"top left"},children:s.map(z=>{const pe=He(z.table_number),Ne=n&&r===z.table_number.toString(),De=$s(z.id),Me=(m==null?void 0:m.id)===z.id;return o.jsx("div",{draggable:!n,onDragStart:qe=>un(qe,z),onClick:()=>Te(z),className:`absolute transition-all duration-200 ${Ne?"ring-4 ring-green-500 ring-opacity-75":""} ${De?"ring-4 ring-purple-500 ring-opacity-75":""} ${Me?"opacity-50 scale-105":""}`,style:{left:z.x,top:z.y,transform:`rotate(${z.rotation}deg)`,width:120,height:80,zIndex:Me?1e3:De?100:1},children:o.jsxs("div",{className:`${me[z.table_type]} text-white rounded-lg p-3 shadow-lg h-full relative hover:shadow-xl transition-shadow ${z.is_locked?"ring-2 ring-yellow-400 ring-opacity-75":""}`,children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"font-bold text-lg flex items-center justify-center gap-1",children:["Table ",z.table_number,z.is_locked&&o.jsx(gx,{className:"h-3 w-3 text-yellow-300"})]}),o.jsx("div",{className:"text-xs opacity-90",children:z.table_type}),o.jsxs("div",{className:"text-xs mt-1",children:[pe.length,"/",z.capacity," guests"]})]}),!n&&o.jsxs("div",{className:"flex justify-center gap-1 mt-2",children:[o.jsx("button",{onClick:qe=>{qe.stopPropagation(),de(z.id)},className:`rounded p-1 transition-colors ${z.is_locked?"bg-yellow-500/30 hover:bg-yellow-500/50":"bg-white/20 hover:bg-white/30"}`,title:z.is_locked?"Unlock Table":"Lock Table",children:z.is_locked?o.jsx(Bg,{className:"h-3 w-3"}):o.jsx(gx,{className:"h-3 w-3"})}),o.jsx("button",{onClick:qe=>{qe.stopPropagation(),Qt(z)},className:"bg-white/20 hover:bg-white/30 rounded p-1 transition-colors",title:"Edit Table",children:o.jsx(pl,{className:"h-3 w-3"})}),o.jsx("button",{onClick:qe=>{qe.stopPropagation(),yt(z.id)},className:"bg-white/20 hover:bg-white/30 rounded p-1 transition-colors",title:"Rotate Table",children:o.jsx(Dg,{className:"h-3 w-3"})}),o.jsx("button",{onClick:qe=>{qe.stopPropagation(),ht(z.id)},className:"bg-white/20 hover:bg-white/30 rounded p-1 transition-colors",title:"Delete Table",children:o.jsx(Ns,{className:"h-3 w-3"})})]})]})},z.id)})}),n&&r&&o.jsx("div",{className:"absolute top-4 left-4 bg-green-500 text-white px-3 py-2 rounded-lg z-10",children:o.jsxs("div",{className:"font-bold",children:["Your Table: ",r]})})]}),k&&d.size>0&&o.jsx("div",{className:"mt-2 p-2 bg-purple-100 rounded-lg",children:o.jsxs("p",{className:"text-sm text-purple-800",children:[d.size," table(s) selected  Drag any selected table to move the entire group"]})})]}),j&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h3",{className:"text-lg font-bold mb-4",children:E?"Edit Table":"Add Table"}),o.jsxs("form",{onSubmit:Ot,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Table Number"}),o.jsx("input",{type:"number",value:ke.current.table_number,onChange:z=>ke.current.table_number=parseInt(z.target.value),className:"w-full border rounded px-3 py-2",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Table Type"}),o.jsx("select",{value:ke.current.table_type,onChange:z=>ke.current.table_type=z.target.value,className:"w-full border rounded px-3 py-2",children:Ge.map(z=>o.jsx("option",{value:z,children:z},z))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Capacity"}),o.jsx("input",{type:"number",value:ke.current.capacity,onChange:z=>ke.current.capacity=parseInt(z.target.value),className:"w-full border rounded px-3 py-2",min:"1",required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:E?"Update":"Create"})]})]})]})})]})}function IN({userCompany:e}){const[t,n]=B.useState([]),[r,s]=B.useState(""),[i,a]=B.useState([]),[l,c]=B.useState([]),[x,d]=B.useState(!1),[f,m]=B.useState(null),[y,C]=B.useState(null),[A,j]=B.useState(!0),[v,E]=B.useState({table_number:1,table_type:"Regular",capacity:8,quantity:1}),g=["VVIP","VIP","Regular","Staff"],b={VVIP:"bg-purple-500",VIP:"bg-yellow-500",Regular:"bg-blue-500",Staff:"bg-gray-500"};B.useEffect(()=>{F()},[]),B.useEffect(()=>{console.log("Selected event changed:",r),r&&(k(),N())},[r]);const F=async()=>{try{j(!0);let T=le.from("events").select(`
          id,
          name,
          company_id,
          company:companies(name)
        `);e&&(T=T.eq("company_id",e.company_id));const{data:V,error:te}=await T.order("created_at",{ascending:!1});if(te)throw te;const L=(V==null?void 0:V.map(W=>({...W,company:Array.isArray(W.company)?W.company[0]:W.company})))||[];console.log("Fetched events:",L),n(L),e&&L&&L.length>0&&s(L[0].id)}catch(T){console.error("Error fetching events:",T),Q.error("Error fetching events: "+T.message)}finally{j(!1)}},k=async()=>{try{console.log("Fetching tables for event:",r);const{data:T,error:V}=await le.from("tables").select("*").eq("event_id",r).order("table_number");if(V)throw V;console.log("Fetched tables:",T),a(T||[])}catch(T){console.error("Error fetching tables:",T),Q.error("Error fetching tables: "+T.message)}},N=async()=>{try{console.log("Fetching attendees for event:",r);const{data:T,error:V}=await le.from("attendees").select("*").eq("event_id",r).order("name");if(V)throw V;console.log("Fetched attendees:",T),c(T||[])}catch(T){console.error("Error fetching attendees:",T),Q.error("Error fetching attendees: "+T.message)}},S=async T=>{T.preventDefault();try{if(f){const{error:V}=await le.from("tables").update({table_number:v.table_number,table_type:v.table_type,capacity:v.capacity}).eq("id",f.id);if(V)throw V;Q.success("Table updated successfully!")}else{const V=[];for(let L=0;L<v.quantity;L++)V.push({event_id:r,table_number:v.table_number+L,table_type:v.table_type,capacity:v.capacity,x:100+L*150,y:100+L*100,rotation:0});const{error:te}=await le.from("tables").insert(V);if(te)throw te;Q.success(`${v.quantity} table(s) created successfully!`)}d(!1),k()}catch(V){Q.error("Error saving table: "+V.message)}},O=async(T,V)=>{try{const{error:te}=await le.from("attendees").update({table_assignment:(V==null?void 0:V.toString())||null}).eq("id",T);if(te)throw te;N()}catch(te){Q.error("Error assigning attendee: "+te.message)}},$=()=>{E({table_number:Math.max(...i.map(T=>T.table_number),0)+1,table_type:"Regular",capacity:8,quantity:1}),m(null),d(!1)},M=T=>l.filter(V=>V.table_assignment===T.toString()),G=l.filter(T=>!T.table_assignment),K=async()=>{if(confirm("This will randomly assign all unassigned attendees to available regular tables. Continue?"))try{const T=i.filter(he=>he.table_type==="Regular"),V=[];if(T.forEach(he=>{const je=M(he.table_number),we=he.capacity-je.length;we>0&&V.push({tableNumber:he.table_number,availableSeats:we})}),V.length===0){Q.error("No available seats in regular tables");return}const te=[...G].sort(()=>Math.random()-.5),L=[];let W=0,ce=0;for(const he of te){if(W>=V.length)break;const je=V[W];L.push({attendeeId:he.id,tableNumber:je.tableNumber}),ce++,ce>=je.availableSeats&&(W++,ce=0)}for(const he of L)await le.from("attendees").update({table_assignment:he.tableNumber.toString()}).eq("id",he.attendeeId);Q.success(`${L.length} attendees randomly assigned to tables`),N()}catch(T){Q.error("Error randomizing seating: "+T.message)}},H=(T,V)=>{C(V),T.dataTransfer.setData("text/plain",V.id)},Z=T=>{T.preventDefault()},R=async(T,V)=>{T.preventDefault(),y&&(await O(y.id,V),C(null))},P=async T=>{T.preventDefault(),y&&(await O(y.id,null),C(null))};return A?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading events..."})]})}):r?o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-between items-center mb-8",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Seating Arrangement"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Manage table layouts and assign attendees to tables"})]})}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[o.jsx("h3",{className:"font-semibold text-yellow-800",children:"Debug Info:"}),o.jsxs("p",{className:"text-sm text-yellow-700",children:["Selected Event ID: ",r]}),o.jsxs("p",{className:"text-sm text-yellow-700",children:["Tables Count: ",i.length]}),o.jsxs("p",{className:"text-sm text-yellow-700",children:["Attendees Count: ",l.length]}),o.jsxs("p",{className:"text-sm text-yellow-700",children:["Events Count: ",t.length]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Event"}),t.length===0?o.jsx("div",{className:"w-full px-3 py-2 bg-yellow-50 border border-yellow-300 rounded-md text-yellow-800",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("svg",{className:"h-5 w-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"No events found. ",e?"Create an event first to manage seating.":"Please create events to manage seating arrangements."]})}):e&&t.length===1?o.jsx("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:t[0].name}):o.jsxs("select",{value:r,onChange:T=>s(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Choose an event to manage seating"}),t.map(T=>o.jsx("option",{value:T.id,children:e?T.name:`${T.name} (${T.company.name})`},T.id))]}),t.length>0&&o.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[t.length," event",t.length!==1?"s":""," available"]})]}),r&&o.jsx("div",{className:"flex items-end",children:o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 w-full",children:[o.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Seating Summary"}),o.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[i.length," tables"]}),o.jsxs("div",{className:"text-sm text-blue-600",children:[l.filter(T=>T.table_assignment).length," assigned"]})]})})]})}),r&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Venue Layout"}),o.jsxs("button",{onClick:()=>{m(null),$(),d(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[o.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Add Table"]})]}),r?o.jsx(a6,{eventId:r,userCompany:e,isAttendeeView:!1}):o.jsx("div",{className:"min-h-[400px] bg-gray-50 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(An,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Please select an event to view venue layout"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Unassigned Attendees"}),o.jsxs("div",{className:"flex gap-2",children:[l.length===0&&o.jsxs("button",{onClick:()=>window.open("/admin/checkin","_blank"),className:"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 flex items-center text-sm",children:[o.jsx(Cr,{className:"h-3 w-3 mr-1"}),"Add Attendees"]}),o.jsxs("button",{onClick:K,disabled:l.length===0,className:"bg-purple-600 text-white px-3 py-1 rounded hover:bg-purple-700 flex items-center text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(nE,{className:"h-3 w-3 mr-1"}),"Randomize"]})]})]}),o.jsx("div",{className:"min-h-[200px] border-2 border-dashed border-gray-300 rounded-lg p-4",onDragOver:Z,onDrop:P,children:l.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(pt,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No attendees found for this event"}),o.jsx("p",{className:"text-sm mt-2",children:"Attendees will appear here when they register"}),o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsx("p",{className:"text-xs text-gray-400",children:"You can:"}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("a",{href:"/admin/checkin",className:"text-blue-600 hover:text-blue-700 text-sm underline",children:"Add attendees manually in Check-In System"}),o.jsx("a",{href:`/public/register/${r}`,target:"_blank",className:"text-blue-600 hover:text-blue-700 text-sm underline",children:"Share registration link with attendees"})]})]})]}):G.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(pt,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"All attendees assigned"})]}):G.map(T=>o.jsxs("div",{draggable:!0,onDragStart:V=>H(V,T),className:"bg-gray-50 p-3 rounded-lg mb-2 cursor-move hover:bg-gray-100",children:[o.jsx("div",{className:"font-medium",children:T.name}),o.jsxs("div",{className:"text-sm text-gray-600",children:["ID: ",T.identification_number]})]},T.id))})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Table Assignments"}),o.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:i.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(An,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No tables created yet"}),o.jsx("p",{className:"text-sm mt-2",children:"Create tables to start assigning attendees"}),o.jsxs("button",{onClick:()=>d(!0),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center mx-auto",children:[o.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Add Table"]})]}):i.map(T=>{const V=M(T.table_number);return o.jsxs("div",{className:`${b[T.table_type]} text-white rounded-lg p-4`,onDragOver:Z,onDrop:te=>R(te,T.table_number),children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-bold text-lg",children:["Table ",T.table_number]}),o.jsx("div",{className:"text-sm opacity-90",children:T.table_type})]}),o.jsxs("div",{className:"text-sm",children:[V.length,"/",T.capacity]})]}),o.jsxs("div",{className:"space-y-2",children:[V.map(te=>o.jsxs("div",{draggable:!0,onDragStart:L=>H(L,te),className:"bg-white/20 p-2 rounded cursor-move hover:bg-white/30",children:[o.jsx("div",{className:"font-medium",children:te.name}),o.jsxs("div",{className:"text-xs opacity-90",children:["ID: ",te.identification_number]})]},te.id)),V.length===0&&o.jsx("div",{className:"text-center py-4 text-white/70",children:o.jsx("p",{children:"No attendees assigned"})})]})]},T.id)})})]})]})]}),x&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h3",{className:"text-lg font-bold mb-4",children:f?"Edit Table":"Add Table"}),o.jsxs("form",{onSubmit:S,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Table Number"}),o.jsx("input",{type:"number",value:v.table_number,onChange:T=>E({...v,table_number:parseInt(T.target.value)}),className:"w-full border rounded px-3 py-2",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Table Type"}),o.jsx("select",{value:v.table_type,onChange:T=>E({...v,table_type:T.target.value}),className:"w-full border rounded px-3 py-2",children:g.map(T=>o.jsx("option",{value:T,children:T},T))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Capacity"}),o.jsx("input",{type:"number",value:v.capacity,onChange:T=>E({...v,capacity:parseInt(T.target.value)}),className:"w-full border rounded px-3 py-2",min:"1",required:!0})]}),!f&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity"}),o.jsx("input",{type:"number",value:v.quantity,onChange:T=>E({...v,quantity:parseInt(T.target.value)}),className:"w-full border rounded px-3 py-2",min:"1",max:"10",required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:f?"Update":"Create"})]})]})]})})]}):o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-between items-center mb-8",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Seating Arrangement"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Manage table layouts and assign attendees to tables"})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Event"}),t.length===0?o.jsx("div",{className:"w-full px-3 py-2 bg-yellow-50 border border-yellow-300 rounded-md text-yellow-800",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("svg",{className:"h-5 w-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"No events found. ",e?"Create an event first to manage seating.":"Please create events to manage seating arrangements."]})}):e&&t.length===1?o.jsx("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:t[0].name}):o.jsxs("select",{value:r,onChange:T=>s(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Choose an event to manage seating"}),t.map(T=>o.jsx("option",{value:T.id,children:e?T.name:`${T.name} (${T.company.name})`},T.id))]}),t.length>0&&o.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[t.length," event",t.length!==1?"s":""," available"]})]})})}),t.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(An,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Events Available"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"You need to create events first before managing seating arrangements."}),o.jsxs("a",{href:"/admin/events",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center",children:[o.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Create Event"]})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(An,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select an Event"}),o.jsx("p",{className:"text-gray-600",children:"Choose an event from the dropdown above to manage seating arrangements"})]})]})}function LN(){const[e,t]=B.useState([]),[n,r]=B.useState([]),[s,i]=B.useState([]),[a,l]=B.useState(new Date().getFullYear()),[c,x]=B.useState(!0),[d,f]=B.useState("monthly"),[m,y]=B.useState(""),[C,A]=B.useState(!0),[j,v]=B.useState(!0);B.useEffect(()=>{E(),g(),b()},[a]);const E=async()=>{try{x(!0);const{data:P,error:T}=await le.from("events").select(`
          id,
          created_at,
          company_id
        `).gte("created_at",`${a}-01-01`).lt("created_at",`${a+1}-01-01`);if(T)throw T;const V=(P==null?void 0:P.map(je=>je.id))||[],{data:te,error:L}=await le.from("attendees").select("id, event_id, checked_in, created_at").in("event_id",V);if(L)throw L;const{data:W,error:ce}=await le.from("companies").select("id, created_at").gte("created_at",`${a}-01-01`).lt("created_at",`${a+1}-01-01`);if(ce)throw ce;const he=[];for(let je=0;je<12;je++){const we=new Date(a,je,1),ke=new Date(a,je+1,0),Ge=(P==null?void 0:P.filter(st=>{const Re=new Date(st.created_at);return Re>=we&&Re<=ke}))||[],me=(te==null?void 0:te.filter(st=>{const Re=new Date(st.created_at);return Re>=we&&Re<=ke}))||[],ze=(W==null?void 0:W.filter(st=>{const Re=new Date(st.created_at);return Re>=we&&Re<=ke}))||[];he.push({month:we.toLocaleDateString("en-US",{month:"short"}),events:Ge.length,attendees:me.length,checkedIn:me.filter(st=>st.checked_in).length,companies:ze.length})}t(he)}catch(P){Q.error("Error fetching monthly progress: "+P.message)}finally{x(!1)}},g=async()=>{try{const{data:P,error:T}=await le.from("companies").select(`
          id,
          name,
          events!inner(
            id,
            attendees(id, checked_in)
          )
        `);if(T)throw T;const V=(P==null?void 0:P.map(te=>{const L=te.events||[],W=L.flatMap(ce=>ce.attendees||[]);return{id:te.id,name:te.name,events:L.length,attendees:W.length,checkedIn:W.filter(ce=>ce.checked_in).length}}))||[];r(V.sort((te,L)=>L.attendees-te.attendees))}catch(P){console.error("Error fetching company progress:",P)}},b=async()=>{try{const{data:P,error:T}=await le.from("events").select(`
          id,
          name,
          date,
          attendees(id, checked_in)
        `).order("date",{ascending:!1});if(T)throw T;const V=(P==null?void 0:P.map(te=>{var L,W;return{id:te.id,name:te.name,date:te.date,attendees:((L=te.attendees)==null?void 0:L.length)||0,checkedIn:((W=te.attendees)==null?void 0:W.filter(ce=>ce.checked_in).length)||0}}))||[];i(V)}catch(P){console.error("Error fetching events:",P)}},F=async P=>{try{const T=[],{data:V,error:te}=await le.from("custom_prizes").select("*").eq("event_id",P).order("position",{ascending:!1});!te&&V&&V.forEach(ce=>{T.push({id:`prize-${ce.id}`,name:`Winner ${ce.position}`,type:"lucky_draw",prize:ce.title,position:ce.position})});const{data:L,error:W}=await le.from("voting_sessions").select(`
          id,
          title,
          voting_photos(
            id,
            title,
            photo_url,
            vote_count
          )
        `).eq("event_id",P);return!W&&L&&L.forEach(ce=>{if(ce.voting_photos&&ce.voting_photos.length>0){const he=ce.voting_photos.reduce((ke,Ge)=>ke.vote_count>Ge.vote_count?ke:Ge),je=ce.voting_photos.reduce((ke,Ge)=>ke+Ge.vote_count,0),we=je>0?he.vote_count/je*100:0;T.push({id:`voting-${he.id}`,name:he.title,type:"voting",prize:`${ce.title} Winner`,position:1})}}),T}catch(T){return console.error("Error fetching winners:",T),[]}},k=e.reduce((P,T)=>P+T.events,0),N=e.reduce((P,T)=>P+T.attendees,0),S=e.reduce((P,T)=>P+T.checkedIn,0),O=e.reduce((P,T)=>P+T.companies,0),$=Math.max(...e.map(P=>Math.max(P.events,P.attendees,P.checkedIn))),M=600,G=300,K=40,H=(P,T)=>P.length===0?"":`M ${P.map((te,L)=>{const W=K+L*(M-2*K)/(P.length-1),ce=G-K-te/$*(G-2*K);return`${W},${ce}`}).join(" ")}`,Z=(P,T,V)=>{var W,ce,he,je;const te=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});let L="";return L+=` EVENT MANAGEMENT SYSTEM - PREMIUM REPORT
`,L+="=".repeat(80)+`
`,L+=` Report Generated: ${te}
`,L+=` Event: ${P.name}
`,L+=` Event Date: ${P.date}
`,L+=` Location: ${P.location||"N/A"}
`,L+=` Description: ${P.description||"N/A"}
`,L+="=".repeat(80)+`

`,L+=` EVENT OVERVIEW
`,L+="-".repeat(40)+`
`,L+=`Total Attendees,${((W=P.attendees)==null?void 0:W.length)||0}
`,L+=`Checked In,${((ce=P.attendees)==null?void 0:ce.filter(we=>we.checked_in).length)||0}
`,L+=`Winners,${T.length}
`,L+=`Check-in Rate,${Math.round(((he=P.attendees)==null?void 0:he.filter(we=>we.checked_in).length)/(((je=P.attendees)==null?void 0:je.length)||1)*100)}%
`,L+=`
`,T.length>0&&(L+=` WINNERS
`,L+="-".repeat(40)+`
`,L+=`Position,Type,Winner Name,Prize
`,T.forEach((we,ke)=>{L+=`${we.position||ke+1},${we.type.toUpperCase()},${we.name},${we.prize||"N/A"}
`}),L+=`
`),V.length>0&&(L+=` ATTENDEE DETAILS
`,L+="-".repeat(40)+`
`,L+=`Name,Email,Phone,Status,Registration Date
`,V.forEach(we=>{const ke=we.checked_in?" Checked In":" Not Checked",Ge=new Date(we.created_at).toLocaleDateString();L+=`${we.name||"N/A"},${we.email||"N/A"},${we.phone||"N/A"},${ke},${Ge}
`}),L+=`
`),L+="=".repeat(80)+`
`,L+=` Report Summary
`,L+="-".repeat(40)+`
`,L+=` Total Records: ${V.length+T.length}
`,L+=` Report Type: Premium Event Report
`,L+=` Generated By: Event Management System
`,L+=` Format: CSV (Comma Separated Values)
`,L+="=".repeat(80)+`
`,L},R=async()=>{try{let P="",T="";switch(d){case"monthly":P=`Month,Events,Attendees,Checked In,New Companies
`,e.forEach(me=>{P+=`${me.month},${me.events},${me.attendees},${me.checkedIn},${me.companies}
`}),P+=`
SUMMARY
`,P+=`Total Events,${k}
`,P+=`Total Attendees,${N}
`,P+=`Total Checked In,${S}
`,P+=`Total New Companies,${O}
`,T=`monthly-report-${a}.csv`;break;case"annual":P=`Report Type,Annual Report
`,P+=`Year,${a}

`,P+=`SUMMARY
`,P+=`Metric,Value
`,P+=`Total Events,${k}
`,P+=`Total Attendees,${N}
`,P+=`Total Checked In,${S}
`,P+=`Total New Companies,${O}

`,P+=`MONTHLY BREAKDOWN
`,P+=`Month,Events,Attendees,Checked In,New Companies
`,e.forEach(me=>{P+=`${me.month},${me.events},${me.attendees},${me.checkedIn},${me.companies}
`}),P+=`
COMPANY PERFORMANCE
`,P+=`Rank,Company Name,Events,Attendees,Checked In
`,n.forEach((me,ze)=>{P+=`${ze+1},${me.name},${me.events},${me.attendees},${me.checkedIn}
`}),T=`annual-report-${a}.csv`;break;case"event":if(!m){Q.error("Please select an event");return}const{data:W,error:ce}=await le.from("events").select(`
              id,
              name,
              date,
              description,
              location,
              attendees(
                id,
                name,
                email,
                phone,
                checked_in,
                created_at
              )
            `).eq("id",m).single();if(ce){Q.error("Error fetching event details");return}let he=[];j&&(he=await F(m));const je=Z(W,he,C?W.attendees||[]:[]),we=new Blob([je],{type:"text/csv;charset=utf-8;"}),ke=URL.createObjectURL(we),Ge=document.createElement("a");Ge.href=ke,Ge.download=`event-report-${W.name.replace(/[^a-zA-Z0-9]/g,"-")}.csv`,document.body.appendChild(Ge),Ge.click(),document.body.removeChild(Ge),URL.revokeObjectURL(ke),Q.success("Premium CSV report exported successfully!");return}const V=new Blob([P],{type:"text/csv;charset=utf-8;"}),te=URL.createObjectURL(V),L=document.createElement("a");L.href=te,L.download=T,document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(te),Q.success("CSV report exported successfully!")}catch(P){Q.error("Error exporting report: "+P.message)}};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Monthly Progress"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Track monthly performance and growth"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("select",{value:a,onChange:P=>l(parseInt(P.target.value)),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:5},(P,T)=>new Date().getFullYear()-T).map(P=>o.jsx("option",{value:P,children:P},P))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{value:d,onChange:P=>f(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"monthly",children:"Monthly Report"}),o.jsx("option",{value:"annual",children:"Annual Report"}),o.jsx("option",{value:"event",children:"Event Report"})]}),d==="event"&&o.jsxs(o.Fragment,{children:[o.jsxs("select",{value:m,onChange:P=>y(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Event"}),s.map(P=>o.jsx("option",{value:P.id,children:P.name},P.id))]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"includeAttendees",checked:C,onChange:P=>A(P.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"includeAttendees",className:"text-sm text-gray-700",children:"Include Attendees"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"includeWinners",checked:j,onChange:P=>v(P.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"includeWinners",className:"text-sm text-gray-700",children:"Include Winners"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"includeWinners",checked:j,onChange:P=>v(P.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"includeWinners",className:"text-sm text-gray-700",children:"Include Winners"})]})]}),o.jsxs("button",{onClick:R,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center gap-2",children:[o.jsx(Gc,{className:"h-4 w-4"}),"Export"]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Rt,{className:"h-8 w-8 text-blue-600 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:k}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Events"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(pt,{className:"h-8 w-8 text-green-600 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:N}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Attendees"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Io,{className:"h-8 w-8 text-purple-600 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:S}),o.jsx("div",{className:"text-sm text-gray-600",children:"Checked In"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Rn,{className:"h-8 w-8 text-orange-600 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-gray-900",children:O}),o.jsx("div",{className:"text-sm text-gray-600",children:"New Companies"})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[o.jsx(Fs,{className:"h-6 w-6 mr-2"}),"Monthly Trends (",a,")"]}),c?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.jsxs("div",{className:"relative",children:[o.jsxs("svg",{width:M,height:G,className:"mx-auto",children:[Array.from({length:5},(P,T)=>o.jsx("line",{x1:K,y1:K+T*(G-2*K)/4,x2:M-K,y2:K+T*(G-2*K)/4,stroke:"#e5e7eb",strokeWidth:"1"},T)),Array.from({length:5},(P,T)=>o.jsx("text",{x:K-10,y:K+T*(G-2*K)/4,textAnchor:"end",className:"text-xs text-gray-500",dy:"0.35em",children:Math.round($*(4-T)/4)},T)),e.map((P,T)=>o.jsx("text",{x:K+T*(M-2*K)/(e.length-1),y:G-10,textAnchor:"middle",className:"text-xs text-gray-500",children:P.month},T)),o.jsx("path",{d:H(e.map(P=>P.events)),stroke:"#3b82f6",strokeWidth:"2",fill:"none"}),o.jsx("path",{d:H(e.map(P=>P.attendees)),stroke:"#10b981",strokeWidth:"2",fill:"none"}),o.jsx("path",{d:H(e.map(P=>P.checkedIn)),stroke:"#8b5cf6",strokeWidth:"2",fill:"none"}),e.map((P,T)=>{const V=K+T*(M-2*K)/(e.length-1);return o.jsxs("g",{children:[o.jsx("circle",{cx:V,cy:G-K-P.events/$*(G-2*K),r:"3",fill:"#3b82f6"}),o.jsx("circle",{cx:V,cy:G-K-P.attendees/$*(G-2*K),r:"3",fill:"#10b981"}),o.jsx("circle",{cx:V,cy:G-K-P.checkedIn/$*(G-2*K),r:"3",fill:"#8b5cf6"})]},T)})]}),o.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full"}),o.jsx("span",{children:"Events"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-600 rounded-full"}),o.jsx("span",{children:"Attendees"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-purple-600 rounded-full"}),o.jsx("span",{children:"Check-ins"})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[o.jsx(Rn,{className:"h-6 w-6 mr-2"}),"Company Performance"]}),o.jsxs("div",{className:"space-y-4",children:[n.slice(0,10).map((P,T)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3",children:T+1}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:P.name}),o.jsxs("div",{className:"text-sm text-gray-600",children:[P.events," events  ",P.attendees," attendees"]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-lg font-bold text-gray-900",children:P.checkedIn}),o.jsx("div",{className:"text-xs text-gray-600",children:"checked in"})]})]},P.id)),n.length===0&&o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Rn,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No company data available"})]})]})]})]})]})}function ON({userCompany:e}){const[t,n]=B.useState([]),[r,s]=B.useState(""),[i,a]=B.useState([]),[l,c]=B.useState(""),[x,d]=B.useState([]),[f,m]=B.useState(!1),[y,C]=B.useState(!1),[A,j]=B.useState(null),[v,E]=B.useState(""),[g,b]=B.useState({title:"",description:"",timer_duration:0}),[F,k]=B.useState({title:"",photo_url:""});B.useEffect(()=>{N()},[]),B.useEffect(()=>{r&&S()},[r]),B.useEffect(()=>{l&&(O(),$())},[l]);const N=async()=>{try{let W=le.from("events").select(`
          id,
          name,
          company_id,
          company:companies(name)
        `);e&&(W=W.eq("company_id",e.company_id));const{data:ce,error:he}=await W.order("created_at",{ascending:!1});if(he)throw he;const je=(ce==null?void 0:ce.map(we=>({...we,company:Array.isArray(we.company)?we.company[0]:we.company})))||[];n(je),e&&je&&je.length>0&&s(je[0].id)}catch(W){Q.error("Error fetching events: "+W.message)}},S=async()=>{try{const{data:W,error:ce}=await le.from("voting_sessions").select("*").eq("event_id",r).order("created_at",{ascending:!1});if(ce)throw ce;a(W)}catch(W){Q.error("Error fetching voting sessions: "+W.message)}},O=async()=>{try{const{data:W,error:ce}=await le.from("voting_photos").select("*").eq("voting_session_id",l).order("created_at",{ascending:!1});if(ce)throw ce;const he=await Promise.all(W.map(async je=>{const{data:we}=await le.from("votes").select("id").eq("voting_photo_id",je.id);return{...je,vote_count:(we==null?void 0:we.length)||0}}));d(he)}catch(W){Q.error("Error fetching photos: "+W.message)}},$=async()=>{try{const W=`${window.location.origin}/public/voting/${l}`,ce=await mr.toDataURL(W);E(ce)}catch(W){console.error("Error generating QR code:",W)}},M=async W=>{W.preventDefault();try{if(A){const{error:ce}=await le.from("voting_sessions").update({title:g.title,description:g.description||null,timer_duration:g.timer_duration>0?g.timer_duration:null}).eq("id",A.id);if(ce)throw ce;Q.success("Voting session updated successfully")}else{const{error:ce}=await le.from("voting_sessions").insert([{event_id:r,title:g.title,description:g.description||null,timer_duration:g.timer_duration>0?g.timer_duration:null}]);if(ce)throw ce;Q.success("Voting session created successfully")}T(),S()}catch(ce){Q.error("Error saving voting session: "+ce.message)}},G=async W=>{W.preventDefault();try{const{error:ce}=await le.from("voting_photos").insert([{voting_session_id:l,title:F.title,photo_url:F.photo_url}]);if(ce)throw ce;Q.success("Photo added successfully"),V(),O()}catch(ce){Q.error("Error adding photo: "+ce.message)}},K=async(W,ce)=>{try{ce&&await le.from("voting_sessions").update({is_active:!1}).eq("event_id",r);const{error:he}=await le.from("voting_sessions").update({is_active:ce,timer_start:ce?new Date().toISOString():null}).eq("id",W);if(he)throw he;Q.success(`Voting session ${ce?"activated":"deactivated"}`),S()}catch(he){Q.error("Error updating session status: "+he.message)}},H=async W=>{if(confirm("Are you sure you want to delete this voting session? This will also delete all photos and votes."))try{const{error:ce}=await le.from("voting_sessions").delete().eq("id",W);if(ce)throw ce;Q.success("Voting session deleted successfully"),S(),l===W&&(c(""),d([]))}catch(ce){Q.error("Error deleting session: "+ce.message)}},Z=async W=>{if(confirm("Are you sure you want to delete this photo? This will also delete all votes for it."))try{const{error:ce}=await le.from("voting_photos").delete().eq("id",W);if(ce)throw ce;Q.success("Photo deleted successfully"),O()}catch(ce){Q.error("Error deleting photo: "+ce.message)}},R=async W=>{if(confirm("Are you sure you want to reset all votes for this voting session? This action cannot be undone."))try{const{data:ce,error:he}=await le.from("voting_photos").select("id").eq("voting_session_id",W);if(he)throw he;if(ce&&ce.length>0){const je=ce.map(ke=>ke.id),{error:we}=await le.from("votes").delete().in("voting_photo_id",je);if(we)throw we}Q.success("All votes have been reset successfully"),O()}catch(ce){Q.error("Error resetting votes: "+ce.message)}},P=async(W,ce)=>{if(confirm(`Are you sure you want to reset all votes for "${ce}"? This action cannot be undone.`))try{const{error:he}=await le.from("votes").delete().eq("voting_photo_id",W);if(he)throw he;Q.success(`Votes for "${ce}" have been reset successfully`),O()}catch(he){Q.error("Error resetting photo votes: "+he.message)}},T=()=>{b({title:"",description:"",timer_duration:0}),j(null),m(!1)},V=()=>{k({title:"",photo_url:""}),C(!1)},te=W=>{j(W),b({title:W.title,description:W.description||"",timer_duration:W.timer_duration||0}),m(!0)},L=async W=>{var he;const ce=(he=W.target.files)==null?void 0:he[0];if(ce){if(ce.size>10*1024*1024){Q.error("File size must be less than 10MB");return}if(!ce.type.startsWith("image/")){Q.error("Please select an image file");return}try{const je=new FileReader;je.onload=we=>{var Ge;const ke=(Ge=we.target)==null?void 0:Ge.result;k({...F,photo_url:ke})},je.readAsDataURL(ce)}catch(je){Q.error("Error uploading file: "+je.message)}}};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Voting Administration"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Manage voting sessions and photos"})]}),o.jsxs("button",{onClick:()=>m(!0),disabled:!r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:[o.jsx(Cr,{className:"h-5 w-5 mr-2"}),"New Voting Session"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e&&t.length<=1?"Event":"Select Event"}),e&&t.length===1?o.jsx("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-900",children:t[0].name}):o.jsxs("select",{value:r,onChange:W=>s(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[!e&&o.jsx("option",{value:"",children:"Select an event"}),t.map(W=>o.jsx("option",{value:W.id,children:e?W.name:`${W.name} (${W.company.name})`},W.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Voting Session"}),o.jsxs("select",{value:l,onChange:W=>c(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select a voting session"}),i.map(W=>o.jsxs("option",{value:W.id,children:[W.title," ",W.is_active&&"(Active)"]},W.id))]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[o.jsx(Gn,{className:"h-6 w-6 mr-2"}),"Voting Sessions"]}),o.jsxs("div",{className:"space-y-3",children:[i.map(W=>o.jsxs("div",{className:`p-4 border rounded-lg ${W.is_active?"border-green-500 bg-green-50":"border-gray-200"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900",children:W.title}),W.description&&o.jsx("p",{className:"text-sm text-gray-600",children:W.description})]}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>K(W.id,!W.is_active),className:`p-1 rounded ${W.is_active?"text-red-600 hover:text-red-700":"text-green-600 hover:text-green-700"}`,children:W.is_active?o.jsx(LB,{className:"h-4 w-4"}):o.jsx(qd,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>te(W),className:"text-gray-400 hover:text-blue-600 transition-colors",children:o.jsx(pl,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>R(W.id),className:"text-gray-400 hover:text-orange-600 transition-colors",title:"Reset all votes",children:o.jsx(P0,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>H(W.id),className:"text-gray-400 hover:text-red-600 transition-colors",children:o.jsx(Ns,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Created ",new Date(W.created_at).toLocaleDateString(),W.timer_duration&&W.timer_duration>0&&o.jsxs("span",{className:"ml-2 text-blue-600",children:[" Timer: ",W.timer_duration," minutes"]})]})]},W.id)),i.length===0&&r&&o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Gn,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No voting sessions yet"})]})]})]}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[o.jsx(cr,{className:"h-6 w-6 mr-2"}),"Voting Photos"]}),o.jsxs("div",{className:"flex space-x-2",children:[x.length>0&&o.jsxs("button",{onClick:()=>R(l),className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors flex items-center",title:"Reset all votes for this session",children:[o.jsx(P0,{className:"h-5 w-5 mr-2"}),"Reset All Votes"]}),o.jsxs("button",{onClick:()=>C(!0),disabled:!l,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center disabled:opacity-50",children:[o.jsx(Cr,{className:"h-5 w-5 mr-2"}),"Add Photo"]})]})]}),l&&v&&o.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Voting QR Code"}),o.jsx("p",{className:"text-sm text-blue-700",children:"Share this QR code for attendees to vote"}),o.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["URL: ",window.location.origin,"/public/voting/",l]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("img",{src:v,alt:"Voting QR Code",className:"w-24 h-24 border rounded-lg mx-auto mb-2"}),o.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/public/voting/${l}`),Q.success("Voting URL copied to clipboard!")},className:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700",children:"Copy URL"})]})]})}),x.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(W=>o.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[o.jsx("img",{src:Ut(W.photo_url),alt:W.title,className:"w-full h-48 object-cover"}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:W.title}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:[W.vote_count," votes"]}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>P(W.id,W.title),className:"text-orange-600 hover:text-orange-700",title:"Reset votes for this photo",children:o.jsx(P0,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>Z(W.id),className:"text-red-600 hover:text-red-700",children:o.jsx(Ns,{className:"h-4 w-4"})})]})]})]})]},W.id))}):l?o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx(cr,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No photos added yet"}),o.jsx("p",{className:"text-sm",children:"Add photos for attendees to vote on"})]}):o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx(Gn,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Select a voting session to manage photos"})]})]})})]}),f&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:A?"Edit Voting Session":"Create Voting Session"}),o.jsxs("form",{onSubmit:M,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),o.jsx("input",{type:"text",value:g.title,onChange:W=>b({...g,title:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter voting session title",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:g.description,onChange:W=>b({...g,description:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Enter description (optional)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timer Duration (minutes)"}),o.jsx("input",{type:"number",min:"0",value:g.timer_duration,onChange:W=>b({...g,timer_duration:parseInt(W.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter timer duration in minutes (0 = no timer)"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Set to 0 for no timer"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:A?"Update Session":"Create Session"})]})]})]})}),y&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add Voting Photo"}),o.jsxs("form",{onSubmit:G,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photo Title *"}),o.jsx("input",{type:"text",value:F.title,onChange:W=>k({...F,title:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter photo title",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Photo *"}),o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:F.photo_url?o.jsxs("div",{className:"space-y-2",children:[o.jsx("img",{src:F.photo_url,alt:"Preview",className:"max-w-full h-32 object-contain mx-auto rounded"}),o.jsx("button",{type:"button",onClick:()=>k({...F,photo_url:""}),className:"text-blue-600 hover:text-blue-700 text-sm",children:"Choose Different Photo"})]}):o.jsxs("div",{children:[o.jsx(Qc,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Click to upload photo"}),o.jsx("input",{type:"file",accept:"image/*",onChange:L,className:"hidden",id:"photo-upload"}),o.jsx("label",{htmlFor:"photo-upload",className:"inline-block bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:"Select Photo"})]})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:V,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:!F.photo_url,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:"Add Photo"})]})]})]})})]})}function $N({userCompany:e}){const[t,n]=B.useState([]),[r,s]=B.useState(""),[i,a]=B.useState([]),[l,c]=B.useState(0),[x,d]=B.useState(0),[f,m]=B.useState(!1),[y,C]=B.useState(0),[A,j]=B.useState(""),[v,E]=B.useState(null),[g,b]=B.useState(null),[F,k]=B.useState(!1),[N,S]=B.useState(!1);B.useEffect(()=>{O()},[]),B.useEffect(()=>{if(r&&(G(),!N)){const R=le.channel(`voting-${r}`).on("postgres_changes",{event:"*",schema:"public",table:"votes"},P=>{console.log("Vote change detected:",P),setTimeout(()=>{M(!1)},100)}).on("postgres_changes",{event:"*",schema:"public",table:"voting_photos"},P=>{console.log("Photo change detected:",P),setTimeout(()=>{M(!1)},100)}).subscribe();return()=>{R.unsubscribe()}}},[r,N]),B.useEffect(()=>{r&&K()},[r]),B.useEffect(()=>{if(i.length>0){const R=setInterval(()=>{C(P=>(P+1)%i.length)},5e3);return()=>clearInterval(R)}},[i.length]),B.useEffect(()=>{if(r){const R=t.find(P=>P.id===r);if(R!=null&&R.timer_duration&&(R!=null&&R.timer_start)){const P=new Date(R.timer_start).getTime(),T=R.timer_duration*60*1e3,V=P+T,te=Date.now();if(te<V){const L=Math.max(0,Math.floor((V-te)/1e3));E(L);const W=setInterval(()=>{const ce=Date.now();if(ce<V){const he=Math.max(0,Math.floor((V-ce)/1e3));E(he)}else E(0),S(!0),clearInterval(W)},1e3);return()=>clearInterval(W)}else E(0),S(!0)}else E(null),S(!1)}},[r,t]),B.useEffect(()=>{},[N]),B.useEffect(()=>{i.length>0?$():d(0)},[i]),B.useEffect(()=>{const R=()=>{m(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",R),document.addEventListener("webkitfullscreenchange",R),document.addEventListener("mozfullscreenchange",R),()=>{document.removeEventListener("fullscreenchange",R),document.removeEventListener("webkitfullscreenchange",R),document.removeEventListener("mozfullscreenchange",R)}},[]),B.useEffect(()=>{if(r&&!N){const R=setInterval(()=>{console.log("Periodic refresh triggered"),M(!1)},5e3);return()=>clearInterval(R)}},[r,N]);const O=async()=>{try{let R=le.from("voting_sessions").select(`
          id,
          title,
          description,
          timer_duration,
          timer_start,
          event_id,
          events!inner(
            id,
            name,
            company_id,
            custom_background,
            custom_logo,
            companies!inner(name)
          )
        `).eq("is_active",!0);if(e){const{data:te}=await le.from("events").select("id").eq("company_id",e.company_id),L=(te==null?void 0:te.map(W=>W.id))||[];L.length>0&&(R=R.in("event_id",L))}const{data:P,error:T}=await R.order("created_at",{ascending:!1});if(T)throw T;const V=(P==null?void 0:P.map(te=>{console.log("Raw session data:",te),console.log("Session events:",te.events);let L=te.events;return Array.isArray(L)&&(L=L[0]),console.log("Processed event data:",L),{...te,event:{id:L==null?void 0:L.id,name:L==null?void 0:L.name,custom_background:L==null?void 0:L.custom_background,custom_logo:L==null?void 0:L.custom_logo,company:Array.isArray(L==null?void 0:L.companies)?L.companies[0]:L==null?void 0:L.companies}}}))||[];n(V)}catch(R){console.error("Error fetching voting sessions:",R)}},$=async()=>{try{if(i.length===0){d(0);return}const{data:R,error:P}=await le.from("votes").select("attendee_id").in("voting_photo_id",i.map(V=>V.id));if(P)throw P;const T=new Set((R==null?void 0:R.map(V=>V.attendee_id))||[]);d(T.size)}catch(R){console.error("Error fetching total participants:",R),d(0)}},M=async(R=!1)=>{try{R&&k(!0),console.log("Updating statistics for session:",r);const{data:P,error:T}=await le.from("voting_photos").select("*").eq("voting_session_id",r).order("created_at",{ascending:!1});if(T)throw T;if(!P||P.length===0){console.log("No photos found, clearing data"),a([]),c(0),d(0);return}console.log("Found photos:",P.length);const V=await Promise.all(P.map(async W=>{const{data:ce,error:he}=await le.from("votes").select("id").eq("voting_photo_id",W.id);he&&console.error("Error fetching votes for photo:",W.id,he);const je=(ce==null?void 0:ce.length)||0;return console.log(`Photo ${W.title}: ${je} votes`),{...W,vote_count:je}})),te=V.reduce((W,ce)=>W+ce.vote_count,0);console.log("Total votes:",te);const L=V.map(W=>({...W,vote_percentage:te>0?W.vote_count/te*100:0}));L.sort((W,ce)=>ce.vote_count-W.vote_count),console.log("Updated photos with percentages:",L),c(W=>(W!==te&&console.log(`Votes updated: ${W}  ${te}`),te)),a(W=>(JSON.stringify(W)!==JSON.stringify(L)&&console.log("Photos updated with smooth transition"),L)),await $(),b(new Date),console.log("Statistics updated successfully")}catch(P){console.error("Error updating statistics:",P)}finally{R&&k(!1)}},G=async()=>{if(r)try{const{data:R,error:P}=await le.from("voting_photos").select("*").eq("voting_session_id",r).order("created_at",{ascending:!1});if(P)throw P;if(!R||R.length===0){console.log("No photos found, clearing data"),a([]),c(0),d(0);return}console.log("Found photos:",R.length);const T=await Promise.all(R.map(async L=>{const{data:W,error:ce}=await le.from("votes").select("id").eq("voting_photo_id",L.id);ce&&console.error("Error fetching votes for photo:",L.id,ce);const he=(W==null?void 0:W.length)||0;return console.log(`Photo ${L.title}: ${he} votes`),{...L,vote_count:he}})),V=T.reduce((L,W)=>L+W.vote_count,0);console.log("Total votes:",V);const te=T.map(L=>({...L,vote_percentage:V>0?L.vote_count/V*100:0}));te.sort((L,W)=>W.vote_count-L.vote_count),console.log("Updated photos with percentages:",te),c(L=>(L!==V&&console.log(`Votes updated: ${L}  ${V}`),V)),a(L=>(JSON.stringify(L)!==JSON.stringify(te)&&console.log("Photos updated with smooth transition"),te)),await $(),b(new Date),console.log("Statistics updated successfully")}catch(R){console.error("Error updating statistics:",R)}},K=async()=>{try{const R=`${window.location.origin}/public/voting/${r}`,P=await mr.toDataURL(R,{width:200,margin:2,errorCorrectionLevel:"M"});j(P)}catch(R){console.error("Error generating QR code:",R),j("")}},H=async()=>{try{f?(document.exitFullscreen?await document.exitFullscreen():document.webkitExitFullscreen?await document.webkitExitFullscreen():document.mozCancelFullScreen&&await document.mozCancelFullScreen(),m(!1)):(document.documentElement.requestFullscreen?await document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?await document.documentElement.webkitRequestFullscreen():document.documentElement.mozRequestFullScreen&&await document.documentElement.mozRequestFullScreen(),m(!0))}catch(R){console.error("Fullscreen error:",R),m(!f)}},Z=()=>{var T,V,te,L,W,ce,he,je,we,ke,Ge,me,ze,st,Re,at,Ot,ht,Ht,un,Gt,ae;const R=t.find(Ce=>Ce.id===r);console.log("Session:",R),console.log("Event:",R==null?void 0:R.event),console.log("Custom background:",(T=R==null?void 0:R.event)==null?void 0:T.custom_background),console.log("Custom logo:",(V=R==null?void 0:R.event)==null?void 0:V.custom_logo);const P=(te=R==null?void 0:R.event)!=null&&te.custom_background?{backgroundImage:R.event.custom_background.startsWith("blob:")?`url(${R.event.custom_background})`:`url(${Ut(R.event.custom_background)})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{backgroundColor:"#f8fafc",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)"};return o.jsxs("div",{className:"h-full text-gray-900 relative overflow-hidden",style:P,children:[((L=R==null?void 0:R.event)==null?void 0:L.custom_background)&&o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-70"}),o.jsxs("div",{className:"relative z-10 h-full",children:[v===0&&N?o.jsx("div",{className:"flex justify-center items-center py-10",children:o.jsx("div",{className:"bg-white bg-opacity-95 rounded-2xl px-10 py-8 shadow-2xl border border-gray-200 flex flex-col items-center min-w-[320px] max-w-[420px]",children:o.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold mb-3 text-gray-900 tracking-tight text-center",children:((W=t.find(Ce=>Ce.id===r))==null?void 0:W.title)||"Voting Title"})})}):o.jsxs("div",{className:"flex justify-center items-center gap-12 py-10",children:[o.jsxs("div",{className:"bg-white bg-opacity-95 rounded-2xl px-10 py-8 shadow-2xl border border-gray-200 flex flex-col items-center min-w-[320px] max-w-[420px]",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold mb-3 text-gray-900 tracking-tight text-center",children:((ce=R==null?void 0:R.event)==null?void 0:ce.name)||"Event Name"}),o.jsx("div",{className:"text-lg md:text-2xl font-bold text-purple-600 mb-2 text-center",children:((he=t.find(Ce=>Ce.id===r))==null?void 0:he.title)||"Voting Title"}),((we=(je=R==null?void 0:R.event)==null?void 0:je.company)==null?void 0:we.name)&&o.jsx("div",{className:"text-base md:text-lg font-semibold text-gray-700 text-center opacity-80 mb-2",children:R.event.company.name}),((ke=R==null?void 0:R.event)==null?void 0:ke.custom_logo)&&o.jsx("img",{src:Ut(R.event.custom_logo),alt:"Event Logo",className:"h-16 mt-2 object-contain mx-auto"})]}),A&&o.jsxs("div",{className:"bg-white bg-opacity-95 rounded-2xl px-10 py-8 shadow-2xl border border-gray-200 flex flex-col items-center min-w-[240px] max-w-[320px]",children:[o.jsx("div",{className:"mb-3 text-center",children:o.jsx("span",{className:"text-gray-900 font-bold text-lg tracking-wide",children:"Scan to Vote"})}),o.jsx("img",{src:A,alt:"Voting QR Code",className:"w-40 h-40 mx-auto border-2 border-gray-300 rounded-xl shadow-lg bg-white"}),o.jsx("p",{className:"text-gray-700 text-base mt-4 opacity-80 text-center font-medium",children:"Scan with your phone"})]})]}),v!==0&&!N&&o.jsx("div",{className:"mt-6",children:o.jsxs("div",{className:"flex justify-center space-x-12 text-lg md:text-xl",children:[o.jsxs("div",{className:"flex items-center space-x-3 bg-white bg-opacity-95 rounded-xl px-6 py-3 shadow-lg border border-gray-200",children:[o.jsx(Fs,{className:"h-6 w-6 text-purple-600"}),o.jsx("span",{className:"font-semibold text-gray-900",children:"Votes: "}),o.jsx(et.span,{initial:{scale:1.2,color:"#8b5cf6"},animate:{scale:1,color:"#111827"},transition:{duration:.6,ease:"easeOut"},className:"font-bold text-purple-600",children:l},`votes-${l}`)]}),o.jsxs("div",{className:"flex items-center space-x-3 bg-white bg-opacity-95 rounded-xl px-6 py-3 shadow-lg border border-gray-200",children:[o.jsx(Gn,{className:"h-6 w-6 text-purple-600"}),o.jsx("span",{className:"font-semibold text-gray-900",children:"Participants: "}),o.jsx(et.span,{initial:{scale:1.2,color:"#8b5cf6"},animate:{scale:1,color:"#111827"},transition:{duration:.6,ease:"easeOut"},className:"font-bold text-purple-600",children:x},`participants-${x}`)]}),v!==null&&o.jsx("div",{className:"flex items-center space-x-3 bg-white bg-opacity-95 rounded-xl px-6 py-3 shadow-lg border border-gray-200",children:o.jsxs(et.span,{initial:{scale:1.2,color:"#8b5cf6"},animate:{scale:1,color:"#111827"},transition:{duration:.6,ease:"easeOut"},className:"font-bold text-purple-600",children:[Math.floor(v/60),":",(v%60).toString().padStart(2,"0")]},`timer-${v}`)})]})}),i.length>0&&o.jsx("div",{className:"mt-8 px-6",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:v===0&&N&&i.length>=3?o.jsxs(et.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},className:"mb-8",children:[o.jsx("h2",{className:"text-5xl font-bold text-center text-gray-900 mb-12",children:" FINAL RESULTS "}),o.jsxs("div",{className:"flex justify-center items-end space-x-8 h-96",children:[o.jsxs(et.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},transition:{duration:1,delay:.7,ease:"easeOut"},className:"flex flex-col items-center",children:[o.jsx("div",{className:"bg-gray-300 rounded-t-lg w-48 h-48 flex items-center justify-center shadow-xl",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("div",{className:"text-2xl font-bold text-gray-700",children:"2nd PLACE"})]})}),o.jsxs("div",{className:"bg-white rounded-xl p-6 mt-4 shadow-xl border border-gray-200 w-48",children:[o.jsx("img",{src:Ut((Ge=i[1])==null?void 0:Ge.photo_url),alt:(me=i[1])==null?void 0:me.title,className:"w-full h-32 object-cover rounded-lg mb-4"}),o.jsx("div",{className:"text-lg font-bold text-gray-900 truncate mb-2",children:(ze=i[1])==null?void 0:ze.title}),o.jsxs("div",{className:"text-xl text-purple-600 font-bold",children:[(st=i[1])==null?void 0:st.vote_count," votes"]})]})]}),o.jsxs(et.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},transition:{duration:1,delay:1.5,ease:"easeOut"},className:"flex flex-col items-center",children:[o.jsx("div",{className:"bg-yellow-400 rounded-t-lg w-56 h-56 flex items-center justify-center shadow-xl",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-7xl mb-4",children:""}),o.jsx("div",{className:"text-3xl font-bold text-gray-700",children:"1st PLACE"})]})}),o.jsxs("div",{className:"bg-white rounded-xl p-6 mt-4 shadow-xl border border-gray-200 w-56",children:[o.jsx("img",{src:Ut((Re=i[0])==null?void 0:Re.photo_url),alt:(at=i[0])==null?void 0:at.title,className:"w-full h-40 object-cover rounded-lg mb-4"}),o.jsx("div",{className:"text-xl font-bold text-gray-900 truncate mb-2",children:(Ot=i[0])==null?void 0:Ot.title}),o.jsxs("div",{className:"text-2xl text-purple-600 font-bold",children:[(ht=i[0])==null?void 0:ht.vote_count," votes"]})]})]}),o.jsxs(et.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},transition:{duration:1,delay:.3,ease:"easeOut"},className:"flex flex-col items-center",children:[o.jsx("div",{className:"bg-amber-600 rounded-t-lg w-48 h-32 flex items-center justify-center shadow-xl",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-5xl mb-2",children:""}),o.jsx("div",{className:"text-xl font-bold text-gray-700",children:"3rd PLACE"})]})}),o.jsxs("div",{className:"bg-white rounded-xl p-6 mt-4 shadow-xl border border-gray-200 w-48",children:[o.jsx("img",{src:Ut((Ht=i[2])==null?void 0:Ht.photo_url),alt:(un=i[2])==null?void 0:un.title,className:"w-full h-32 object-cover rounded-lg mb-4"}),o.jsx("div",{className:"text-lg font-bold text-gray-900 truncate mb-2",children:(Gt=i[2])==null?void 0:Gt.title}),o.jsxs("div",{className:"text-xl text-purple-600 font-bold",children:[(ae=i[2])==null?void 0:ae.vote_count," votes"]})]})]})]}),o.jsxs("div",{className:"flex justify-center space-x-12 text-lg md:text-xl mt-8",children:[o.jsxs("div",{className:"flex items-center space-x-3 bg-white bg-opacity-95 rounded-xl px-6 py-3 shadow-lg border border-gray-200",children:[o.jsx(Fs,{className:"h-6 w-6 text-purple-600"}),o.jsx("span",{className:"font-semibold text-gray-900",children:"Total Votes: "}),o.jsx("span",{className:"font-bold text-purple-600",children:l})]}),o.jsxs("div",{className:"flex items-center space-x-3 bg-white bg-opacity-95 rounded-xl px-6 py-3 shadow-lg border border-gray-200",children:[o.jsx(Gn,{className:"h-6 w-6 text-purple-600"}),o.jsx("span",{className:"font-semibold text-gray-900",children:"Total Participants: "}),o.jsx("span",{className:"font-bold text-purple-600",children:x})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Voting Results"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((Ce,Ie)=>o.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:[o.jsx("img",{src:Ut(Ce.photo_url),alt:Ce.title,className:"w-full h-48 object-cover"}),o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:Ce.title}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Votes"}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(et.span,{initial:{scale:1.2,color:"#8b5cf6"},animate:{scale:1,color:"#111827"},transition:{duration:.6,ease:"easeOut"},className:"text-sm font-bold text-purple-600",children:Ce.vote_count},`vote-count-${Ce.id}-${Ce.vote_count}`),o.jsx("span",{className:"text-sm text-gray-500",children:"("}),o.jsx(et.span,{initial:{scale:1.2,color:"#8b5cf6"},animate:{scale:1,color:"#111827"},transition:{duration:.6,ease:"easeOut"},className:"text-sm font-bold text-purple-600",children:Ce.vote_percentage.toFixed(1)},`vote-percentage-${Ce.id}-${Ce.vote_percentage}`),o.jsx("span",{className:"text-sm text-gray-500",children:"%)"})]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:o.jsx(et.div,{className:"h-3 rounded-full bg-purple-500",initial:{width:0},animate:{width:`${Ce.vote_percentage}%`},transition:{duration:1.2,delay:.3,ease:"easeOut"}},`progress-${Ce.id}-${Ce.vote_percentage}`)})]})]})]},Ce.id))})]})})})]})]})};return f?o.jsxs("div",{className:"fixed inset-0 z-50 bg-gray-900",children:[o.jsx(Z,{}),o.jsx("button",{onClick:H,className:"absolute top-4 right-4 bg-black bg-opacity-70 text-white p-3 rounded-lg hover:bg-opacity-90 transition-colors z-10",children:"Exit Fullscreen"})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Voting Monitor"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Display live voting results"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs("button",{onClick:()=>M(!0),disabled:!r||F,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(et.div,{animate:{rotate:F?360:0},transition:{duration:1,repeat:F?1/0:0,ease:"linear"},children:o.jsx(tE,{className:"h-5 w-5 mr-2"})}),F?"Refreshing...":"Refresh Data"]}),o.jsxs("button",{onClick:H,disabled:!r,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(pi,{className:"h-5 w-5 mr-2"}),"Fullscreen Monitor"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Active Voting Session"}),o.jsxs("select",{value:r,onChange:R=>s(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"",children:"Select an active voting session"}),t.map(R=>o.jsxs("option",{value:R.id,children:[R.title," - ",R.event.name]},R.id))]})]}),r&&o.jsx("div",{className:"flex items-end",children:o.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 w-full",children:[o.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Live Stats"}),o.jsx("div",{className:"text-2xl font-bold text-purple-900",children:l}),o.jsx("div",{className:"text-sm text-purple-600",children:"Total Votes Cast"}),g&&o.jsxs("div",{className:"text-xs text-purple-500 mt-1",children:["Last updated: ",g.toLocaleTimeString()]})]})})]})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[o.jsx(Fs,{className:"h-6 w-6 mr-2"}),"Monitor Preview"]}),o.jsx("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden",children:r?o.jsx(Z,{}):o.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Gn,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Select an active voting session to see preview"})]})})}),o.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[o.jsx("p",{children:" This preview shows how the voting monitor will appear"}),o.jsx("p",{children:' Click "Fullscreen Monitor" to display on external screen'}),o.jsx("p",{children:" Results update automatically in real-time"}),o.jsx("p",{children:" Photos rotate every 5 seconds in fullscreen mode"})]})]})]})}function UN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function VN(){const{eventId:e}=Si(),t=_i(),[n,r]=B.useState(null),[s,i]=B.useState(!0),[a,l]=B.useState(!1),[c,x]=B.useState({name:"",email:"",phone:"",identification_number:"",staff_id:""}),[d,f]=B.useState(null),[m,y]=B.useState(!1),C=B.useRef(null),A=B.useRef(null),j=B.useRef(null);B.useEffect(()=>{e&&v()},[e]);const v=async()=>{try{const{data:S,error:O}=await le.from("events").select("*").eq("id",e).single();if(O)throw O;r(S)}catch{Q.error("Event not found"),t("/")}finally{i(!1)}},E=async()=>{try{const S=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:640},height:{ideal:480}}});C.current&&(C.current.srcObject=S,y(!0))}catch{Q.error("Camera access denied")}},g=()=>{var S;(S=C.current)!=null&&S.srcObject&&C.current.srcObject.getTracks().forEach($=>$.stop()),y(!1)},b=()=>{if(C.current&&A.current){const S=C.current,O=A.current,$=O.getContext("2d");if($){O.width=S.videoWidth,O.height=S.videoHeight,$.drawImage(S,0,0);const M=O.toDataURL("image/jpeg",.8);f(M),g()}}},F=S=>{var $;const O=($=S.target.files)==null?void 0:$[0];if(O){const M=new FileReader;M.onload=G=>{var K;f((K=G.target)==null?void 0:K.result)},M.readAsDataURL(O)}},k=()=>{f(null)},N=async S=>{if(S.preventDefault(),!(!n||!c.name.trim()||!c.identification_number.trim())){l(!0);try{const{data:O,error:$}=await le.from("attendees").select("id, name").eq("event_id",n.id).eq("identification_number",c.identification_number).single();if($&&$.code!=="PGRST116")throw $;if(O){Q.error(`Registration failed: An attendee with ID ${c.identification_number} is already registered for this event.`),l(!1);return}const M=UN(),G=`${M}|${n.id}|${c.name}`,K=await mr.toDataURL(G,{width:200,margin:1,errorCorrectionLevel:"L"});let H=null;if(d)try{const R=await fetch(d).then(V=>V.blob()),P=`face_photos/${M}.jpg`,{error:T}=await le.storage.from("attendee-photos").upload(P,R,{contentType:"image/jpeg"});if(T)console.error("Error uploading photo:",T);else{const{data:{publicUrl:V}}=le.storage.from("attendee-photos").getPublicUrl(P);H=V}}catch(R){console.error("Error processing face photo:",R)}const{error:Z}=await le.from("attendees").insert([{id:M,event_id:n.id,name:c.name,email:c.email||null,phone:c.phone||null,identification_number:c.identification_number,staff_id:c.staff_id||null,table_type:"Regular",qr_code:K,face_photo_url:H}]);if(Z)throw Z;Q.success("Registration successful!"),t(`/public/ticket/${M}`)}catch(O){Q.error("Registration failed: "+O.message)}finally{l(!1)}}};return s?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:[o.jsx("h1",{className:"text-2xl font-bold text-center mb-2",children:"Event Registration"}),o.jsxs("div",{className:"mb-6 text-center",children:[o.jsx("div",{className:"text-lg font-semibold",children:n.name}),n.date&&o.jsxs("div",{className:"text-gray-500 flex items-center justify-center",children:[o.jsx(Rt,{className:"h-4 w-4 mr-1"}),new Date(n.date).toLocaleString()]}),n.location&&o.jsxs("div",{className:"text-gray-500 flex items-center justify-center",children:[o.jsx(An,{className:"h-4 w-4 mr-1"}),n.location]})]}),o.jsxs("form",{onSubmit:N,className:"space-y-4",children:[o.jsx("input",{type:"text",value:c.name,onChange:S=>x({...c,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Full Name *",required:!0}),o.jsx("input",{type:"email",value:c.email,onChange:S=>x({...c,email:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Email"}),o.jsx("input",{type:"tel",value:c.phone,onChange:S=>x({...c,phone:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Phone Number"}),o.jsx("input",{type:"text",value:c.identification_number,onChange:S=>x({...c,identification_number:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Identification Number *",required:!0}),o.jsx("input",{type:"text",value:c.staff_id,onChange:S=>x({...c,staff_id:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Staff ID (Optional)"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Face Photo (Optional)"}),!d&&!m&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:E,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center justify-center",children:[o.jsx(ir,{className:"h-4 w-4 mr-2"}),"Take Photo"]}),o.jsxs("button",{type:"button",onClick:()=>{var S;return(S=j.current)==null?void 0:S.click()},className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center",children:[o.jsx(Qc,{className:"h-4 w-4 mr-2"}),"Upload Photo"]})]}),m&&o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[o.jsx("video",{ref:C,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-48 h-48 border-4 border-white rounded-full opacity-80"})}),o.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:o.jsxs("button",{type:"button",onClick:b,className:"bg-white text-black px-6 py-2 rounded-full hover:bg-gray-100 flex items-center",children:[o.jsx(ir,{className:"h-4 w-4 mr-2"}),"Capture"]})}),o.jsx("button",{type:"button",onClick:g,className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700",children:o.jsx(gi,{className:"h-4 w-4"})})]}),o.jsx("canvas",{ref:A,className:"hidden"})]}),d&&o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:d,alt:"Face photo",className:"w-32 h-32 object-cover rounded-lg border-2 border-gray-300"}),o.jsx("button",{type:"button",onClick:k,className:"absolute -top-2 -right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700",children:o.jsx(gi,{className:"h-3 w-3"})})]}),o.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:F,className:"hidden"})]}),o.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors font-semibold",disabled:a,children:a?"Registering...":"Register for Event"})]})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Event Not Found"}),o.jsx("p",{className:"text-gray-600",children:"The event you're looking for doesn't exist."})]})})}function zN(){const{attendeeId:e}=Si(),[t,n]=B.useState(null),[r,s]=B.useState(!0);B.useEffect(()=>{e&&i()},[e]);const i=async()=>{try{const{data:a,error:l}=await le.from("attendees").select(`
          *,
          event:events (
            name,
            description,
            date,
            location
          )
        `).eq("id",e).single();if(l)throw l;n(a)}catch{Q.error("Ticket not found")}finally{s(!1)}};return r?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?o.jsx("div",{className:"min-h-screen bg-gray-50 py-4 md:py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"max-w-md mx-auto",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-4 md:px-6 py-6 md:py-8 text-center",children:[o.jsx(ur,{className:"h-12 w-12 mx-auto mb-4"}),o.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Event Ticket"}),t.checked_in&&o.jsxs("div",{className:"mt-4 flex items-center justify-center text-green-200",children:[o.jsx(Vr,{className:"h-5 w-5 mr-2"}),o.jsx("span",{children:"Checked In"})]})]}),o.jsxs("div",{className:"px-4 md:px-6 py-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 mb-3",children:t.event.name}),t.event.description&&o.jsx("p",{className:"text-gray-600 mb-4",children:t.event.description}),o.jsxs("div",{className:"space-y-2",children:[t.event.date&&o.jsxs("div",{className:"flex items-center text-gray-600",children:[o.jsx(Rt,{className:"h-4 w-4 mr-2"}),o.jsx("span",{className:"text-sm",children:new Date(t.event.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.event.location&&o.jsxs("div",{className:"flex items-center text-gray-600",children:[o.jsx(An,{className:"h-4 w-4 mr-2"}),o.jsx("span",{className:"text-sm",children:t.event.location})]})]})]}),o.jsxs("div",{className:"px-4 md:px-6 py-6 border-b border-gray-200",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Attendee Information"}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Name:"})," ",t.name]}),o.jsxs("div",{children:[o.jsx("strong",{children:"ID Number:"})," ",t.identification_number]}),t.staff_id&&o.jsxs("div",{children:[o.jsx("strong",{children:"Staff ID:"})," ",t.staff_id]}),t.email&&o.jsxs("div",{children:[o.jsx("strong",{children:"Email:"})," ",t.email]}),t.phone&&o.jsxs("div",{children:[o.jsx("strong",{children:"Phone:"})," ",t.phone]})]})]}),o.jsxs("div",{className:"px-4 md:px-6 py-6 md:py-8 text-center",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Check-in QR Code"}),t.qr_code&&o.jsx("div",{className:"flex justify-center",children:o.jsx("img",{src:Ut(t.qr_code),alt:"QR Code for check-in",className:"w-40 h-40 md:w-48 md:h-48 border border-gray-200 rounded-lg"})}),o.jsx("p",{className:"text-sm text-gray-600 mt-4",children:"Present this QR code at the event for check-in"})]}),t.checked_in&&t.check_in_time&&o.jsx("div",{className:"bg-green-50 px-4 md:px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-center text-green-800",children:[o.jsx(Vr,{className:"h-5 w-5 mr-2"}),o.jsxs("span",{className:"text-sm font-medium",children:["Checked in at ",new Date(t.check_in_time).toLocaleString()]})]})})]})})}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ticket Not Found"}),o.jsx("p",{className:"text-gray-600",children:"The ticket you're looking for doesn't exist."})]})})}function qN(){const{eventId:e}=Si(),[t,n]=B.useState(null),[r,s]=B.useState(!1),[i,a]=B.useState(!1),[l,c]=B.useState(""),[x,d]=B.useState(null),[f,m]=B.useState(null),[y,C]=B.useState(0),[A]=B.useState(3);B.useEffect(()=>{e&&j()},[e]);const j=async()=>{try{const{data:F,error:k}=await le.from("events").select(`
          id,
          name,
          description,
          company:companies(name)
        `).eq("id",e).single();if(k)throw k;const N={...F,company:Array.isArray(F.company)?F.company[0]??{name:""}:F.company};n(N),await v()}catch{Q.error("Event not found")}},v=async()=>{if(e)try{const{data:F,error:k}=await le.from("gallery_photos").select("id").eq("event_id",e).eq("attendee_name",l.trim()||"Anonymous");if(k)throw k;C((F==null?void 0:F.length)||0)}catch(F){console.error("Error checking upload count:",F)}},E=F=>{var N;const k=(N=F.target.files)==null?void 0:N[0];if(k){if(k.size>10*1024*1024){Q.error("File size must be less than 10MB");return}if(!k.type.startsWith("image/")){Q.error("Please select an image file");return}d(k);const S=URL.createObjectURL(k);m(S)}},g=async()=>{if(!(!x||!t)){if(y>=A){Q.error(`You have reached the maximum upload limit of ${A} photos`);return}s(!0);try{const F=new FileReader;F.onload=async k=>{var O;const N=(O=k.target)==null?void 0:O.result,{error:S}=await le.from("gallery_photos").insert([{event_id:t.id,attendee_name:l.trim()||null,photo_url:N}]);if(S)throw S;Q.success("Photo uploaded successfully!"),a(!0),d(null),m(null),c(""),C($=>$+1)},F.readAsDataURL(x)}catch(F){Q.error("Error uploading photo: "+F.message)}finally{s(!1)}}},b=()=>{a(!1),d(null),m(null),c("")};return t?i?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4",children:o.jsx("div",{className:"max-w-md w-full text-center",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[o.jsx(Vr,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Photo Uploaded!"}),o.jsxs("p",{className:"text-gray-600 mb-6",children:["Thank you for sharing your moment from ",t.name]}),o.jsx("button",{onClick:b,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Upload Another Photo"})]})})}):o.jsx("div",{className:"min-h-screen bg-gray-50 py-4 md:py-12 px-4",children:o.jsx("div",{className:"max-w-2xl mx-auto",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[o.jsxs("div",{className:"bg-blue-600 text-white px-4 md:px-6 py-6 md:py-8 text-center",children:[o.jsx(ir,{className:"h-12 w-12 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Share Your Photo"}),o.jsx("p",{className:"text-blue-100",children:t.name}),o.jsx("p",{className:"text-blue-200 text-sm",children:t.company.name})]}),o.jsxs("div",{className:"px-4 md:px-6 py-6 md:py-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name (Optional)"}),o.jsx("input",{type:"text",value:l,onChange:F=>c(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Photo"}),o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 md:p-6 text-center hover:border-blue-400 transition-colors",children:f?o.jsxs("div",{className:"space-y-4",children:[o.jsx("img",{src:f,alt:"Preview",className:"max-w-full h-48 md:h-64 object-contain mx-auto rounded-lg"}),o.jsx("button",{onClick:()=>{d(null),m(null)},className:"text-blue-600 hover:text-blue-700 text-sm",children:"Choose Different Photo"})]}):o.jsxs("div",{children:[o.jsx(cr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600 mb-2",children:"Click to select a photo"}),o.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG up to 10MB"}),o.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"hidden",id:"photo-upload"}),o.jsx("label",{htmlFor:"photo-upload",className:"mt-4 inline-block bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:"Select Photo"})]})})]}),x&&o.jsxs("button",{onClick:g,disabled:r,className:"w-full bg-green-600 text-white py-2 md:py-3 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center disabled:opacity-50 text-sm md:text-base",children:[o.jsx(Qc,{className:"h-5 w-5 mr-2"}),r?"Uploading...":"Upload Photo"]})]}),o.jsxs("div",{className:"mt-8 text-center text-sm text-gray-600",children:[o.jsx("p",{children:" Your photo will be added to the event gallery"}),o.jsx("p",{children:" Photos may be displayed during the event"}),o.jsx("p",{children:" By uploading, you consent to public display"}),o.jsxs("p",{className:"mt-2 text-blue-600 font-medium",children:["Uploads: ",y,"/",A," photos"]})]})]})]})})}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}function WN(){const{sessionId:e}=Si(),[t,n]=B.useState(null),[r,s]=B.useState([]),[i,a]=B.useState(null),[l,c]=B.useState(0),[x,d]=B.useState(!1),[f,m]=B.useState(!0),[y,C]=B.useState(!1),[A,j]=B.useState(!1),[v,E]=B.useState(""),[g,b]=B.useState(!0);B.useEffect(()=>{e&&F()},[e]),B.useEffect(()=>{if(e&&i){k(),N();const $=le.channel("votes").on("postgres_changes",{event:"*",schema:"public",table:"votes"},()=>{k(),N()}).subscribe();return()=>{$.unsubscribe()}}},[e,i]);const F=async()=>{try{const{data:$,error:M}=await le.from("voting_sessions").select(`
          id,
          title,
          description,
          event:events(
            id,
            name,
            company:companies(name)
          )
        `).eq("id",e).eq("is_active",!0).single();if(M||!$)throw M;let G=$.event;if(Array.isArray(G)&&(G=G[0]),!G)throw new Error("Event data not found");const K={id:$.id,title:$.title,description:$.description,event:{id:G.id,name:G.name,company:Array.isArray(G.company)?G.company[0]:G.company}};n(K)}catch($){console.error("Error fetching session:",$),Q.error("Voting session not found or not active")}finally{m(!1)}},k=async()=>{try{const{data:$,error:M}=await le.from("voting_photos").select("*").eq("voting_session_id",e).order("created_at",{ascending:!1});if(M)throw M;const G=await Promise.all($.map(async Z=>{const{data:R}=await le.from("votes").select("id, attendee_id").eq("voting_photo_id",Z.id),P=i&&(R==null?void 0:R.some(T=>T.attendee_id===i.id))||!1;return{...Z,vote_count:(R==null?void 0:R.length)||0,user_voted:P}})),K=G.reduce((Z,R)=>Z+R.vote_count,0);c(K);const H=G.map(Z=>({...Z,vote_percentage:K>0?Z.vote_count/K*100:0}));s(H)}catch($){console.error("Error fetching photos:",$)}},N=async()=>{if(!(!i||r.length===0))try{const{data:$,error:M}=await le.from("votes").select("id").eq("attendee_id",i.id).in("voting_photo_id",r.map(G=>G.id));if(M)throw M;d((($==null?void 0:$.length)||0)>0)}catch($){console.error("Error checking vote status:",$)}},S=async $=>{if($.preventDefault(),!!v.trim())try{m(!0);const{data:M,error:G}=await le.from("attendees").select("id, name, identification_number, event_id").eq("identification_number",v.trim()).single();if(G||!M){Q.error("Attendee not found. Please check your identification number.");return}if(t&&M.event_id!==t.event.id){Q.error("You are not registered for this event.");return}a(M),b(!1),Q.success(`Welcome, ${M.name}!`)}catch(M){console.error("Login error:",M),Q.error("Error logging in: "+M.message)}finally{m(!1)}},O=async $=>{if(!(!i||y))try{C(!0);const{data:M}=await le.from("votes").select("id").eq("attendee_id",i.id).in("voting_photo_id",r.map(K=>K.id));if(M&&M.length>0){Q.error("You have already voted in this session"),d(!0);return}const{error:G}=await le.from("votes").insert([{voting_photo_id:$,attendee_id:i.id}]);if(G)throw G;Q.success("Vote cast successfully!"),d(!0),j(!0),k()}catch(M){Q.error("Error casting vote: "+M.message)}finally{C(!1)}};return f?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):t?g?o.jsx("div",{className:"min-h-screen bg-gray-50 py-4 md:py-12 px-4",children:o.jsx("div",{className:"max-w-md mx-auto",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 md:p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(Gn,{className:"h-16 w-16 text-purple-600 mx-auto mb-4"}),o.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-2",children:"Join Voting"}),o.jsx("h2",{className:"text-lg md:text-xl text-purple-600 mb-2",children:t.title}),o.jsx("p",{className:"text-gray-600",children:t.event.name}),o.jsx("p",{className:"text-sm text-gray-500",children:t.event.company.name})]}),o.jsxs("form",{onSubmit:S,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Identification Number"}),o.jsx("input",{type:"text",value:v,onChange:$=>E($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter your identification number",required:!0})]}),o.jsx("button",{type:"submit",disabled:f,className:"w-full bg-purple-600 text-white py-3 px-4 rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:f?"Verifying...":"Join Voting"})]}),t.description&&o.jsx("div",{className:"mt-6 p-4 bg-purple-50 rounded-lg",children:o.jsx("p",{className:"text-sm text-purple-700",children:t.description})})]})})}):o.jsx("div",{className:"min-h-screen bg-gray-50 py-4 md:py-8 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-lg p-4 md:p-6 mb-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:t.title}),o.jsx("p",{className:"text-base md:text-lg text-purple-600 mb-2",children:t.event.name}),o.jsx("p",{className:"text-gray-600",children:t.event.company.name}),t.description&&o.jsx("p",{className:"text-gray-600 mt-2",children:t.description}),o.jsxs("div",{className:"mt-4 flex flex-col md:flex-row items-center justify-center space-y-2 md:space-y-0 md:space-x-4 text-sm text-gray-500",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(pt,{className:"h-4 w-4 mr-1"}),o.jsxs("span",{children:["Welcome, ",i==null?void 0:i.name]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Fs,{className:"h-4 w-4 mr-1"}),o.jsxs("span",{children:[l," total votes"]})]})]})]})}),x&&o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Vr,{className:"h-5 w-5 text-green-600 mr-2"}),o.jsx("span",{className:"text-green-800 font-medium",children:"Thank you for voting!"})]})}),x&&o.jsx("div",{className:"text-center mb-6",children:o.jsx("button",{onClick:()=>j(!A),className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:A?"Hide Results":"Show Results"})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:r.map($=>o.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[o.jsx("img",{src:Ut($.photo_url),alt:$.title,className:"w-full h-48 md:h-64 object-cover"}),o.jsxs("div",{className:"p-4 md:p-6",children:[o.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-900 mb-4",children:$.title}),x?A?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Votes"}),o.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[$.vote_count," (",$.vote_percentage.toFixed(1),"%)"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 md:h-3",children:o.jsx("div",{className:`h-2 md:h-3 rounded-full transition-all duration-500 ${$.user_voted?"bg-green-500":"bg-purple-500"}`,style:{width:`${$.vote_percentage}%`}})}),$.user_voted&&o.jsxs("div",{className:"flex items-center text-green-600 text-sm",children:[o.jsx(Vr,{className:"h-4 w-4 mr-1"}),o.jsx("span",{children:"You voted for this"})]})]}):o.jsxs("div",{className:"text-center py-2 md:py-3 text-gray-500",children:[o.jsx(Vr,{className:"h-8 w-8 mx-auto mb-2"}),o.jsx("p",{children:"Vote cast successfully!"})]}):o.jsxs("button",{onClick:()=>O($.id),disabled:y,className:"w-full bg-purple-600 text-white py-2 md:py-3 px-4 rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 flex items-center justify-center text-sm md:text-base",children:[o.jsx(Gn,{className:"h-5 w-5 mr-2"}),y?"Voting...":"Vote for This"]})]})]},$.id))}),r.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Gn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Photos Available"}),o.jsx("p",{className:"text-gray-600",children:"No photos have been added to this voting session yet."})]})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Voting Session Not Found"}),o.jsx("p",{className:"text-gray-600",children:"The voting session may have ended or doesn't exist."})]})})}function KN(){const{eventId:e,attendeeId:t}=Si(),[n,r]=B.useState(null),[s,i]=B.useState(!0);B.useEffect(()=>{t&&a()},[t]);const a=async()=>{try{const{data:l,error:c}=await le.from("attendees").select("id, name, table_assignment").eq("id",t).single();if(c)throw c;r(l)}catch(l){console.error("Error fetching attendee:",l)}finally{i(!1)}};return s?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n?o.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome, ",n.name,"!"]}),o.jsx("p",{className:"text-gray-600",children:"Here's your venue layout and seating information"})]})}),e&&o.jsx(a6,{eventId:e,isAttendeeView:!0,attendeeTable:n.table_assignment}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mt-6",children:[o.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[o.jsx(An,{className:"h-6 w-6 mr-2"}),"Your Seating Information"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Attendee Details"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Name:"})," ",n.name]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Attendee ID:"})," ",n.id]})]})]}),o.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"Table Assignment"}),n.table_assignment?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-700",children:["Table ",n.table_assignment]}),o.jsx("p",{className:"text-green-600",children:"Please find your table in the venue layout above."})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-gray-500",children:"No table assigned yet"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Please check with event organizers for your seating assignment."})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mt-6",children:[o.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[o.jsx(pt,{className:"h-6 w-6 mr-2"}),"Venue Instructions"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"1"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Find Your Table"}),o.jsx("p",{className:"text-gray-600",children:"Look for your highlighted table in the venue layout above."})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"2"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Table Types"}),o.jsx("p",{className:"text-gray-600",children:"Different colored tables indicate different seating categories (VVIP, VIP, Regular, Staff)."})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"3"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Need Help?"}),o.jsx("p",{className:"text-gray-600",children:"If you can't find your table or need assistance, please contact event staff."})]})]})]})]})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Attendee Not Found"}),o.jsx("p",{className:"text-gray-600",children:"The attendee you're looking for doesn't exist."})]})})}function HN(){var A,j;const{eventId:e}=Si(),[t,n]=B.useState(null),[r,s]=B.useState(!0),[i,a]=B.useState(""),[l,c]=B.useState(null),[x,d]=B.useState(!1);B.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{const{data:v,error:E}=await le.from("events").select(`
          id,
          name,
          description,
          date,
          location,
          custom_logo,
          custom_background,
          company:companies(name)
        `).eq("id",e).single();if(E)throw E;let g=v;Array.isArray(g.company)&&(g={...g,company:g.company[0]}),n(g)}catch(v){Q.error("Error fetching event: "+v.message)}finally{s(!1)}},m=async v=>{if(v.preventDefault(),!i.trim()){Q.error("Please enter your identification number or staff ID");return}d(!0),c(null);try{const E=await y(i);c(E),E.success?(Q.success(E.message),a("")):Q.error(E.message)}catch(E){Q.error("Error processing check-in: "+E.message)}finally{d(!1)}},y=async v=>{try{const{data:E,error:g}=await le.from("attendees").select(`
          id,
          name,
          identification_number,
          staff_id,
          checked_in,
          check_in_time,
          event_id,
          table_assignment,
          event:events(name)
        `).eq("event_id",e).or(`identification_number.eq.${v},staff_id.eq.${v}`);if(g)throw g;if(!E||E.length===0)return{success:!1,message:"No attendee found with this ID number"};const b=E[0];if(b.checked_in)return{success:!1,message:`${b.name} is already checked in at ${new Date(b.check_in_time).toLocaleString()}`};const{error:F}=await le.from("attendees").update({checked_in:!0,check_in_time:new Date().toISOString()}).eq("id",b.id);if(F)throw F;return{success:!0,attendee:b,message:`${b.name} checked in successfully!${b.table_assignment?` Your table assignment is: ${b.table_assignment}`:""}`}}catch(E){return{success:!1,message:"Error processing check-in: "+E.message}}};if(r)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!t)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Event Not Found"}),o.jsx("p",{className:"text-gray-600",children:"The event you're looking for doesn't exist or has been removed."})]})});const C=t!=null&&t.custom_background?{backgroundImage:t.custom_background.startsWith("blob:")?`url(${t.custom_background})`:`url(${Ut(t.custom_background)})`,backgroundSize:"cover",backgroundPosition:"center"}:{};return o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsx("div",{style:C,className:"min-h-screen flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-lg shadow-xl p-8 max-w-md w-full",children:[(t==null?void 0:t.custom_logo)&&o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("img",{src:Ut(t.custom_logo),alt:"Event Logo",className:"h-16 object-contain"})}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.name}),o.jsx("p",{className:"text-gray-600 mb-4",children:t.company.name}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[t.date&&o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx(Rt,{className:"h-4 w-4 mr-2"}),new Date(t.date).toLocaleDateString()]}),t.location&&o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx(An,{className:"h-4 w-4 mr-2"}),t.location]})]})]}),l!=null&&l.success?o.jsxs("div",{className:"text-center space-y-6",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"bg-green-100 rounded-full p-4",children:o.jsx(Vr,{className:"h-12 w-12 text-green-600"})})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-green-900 mb-2",children:"Welcome!"}),o.jsx("p",{className:"text-green-700 text-lg mb-4",children:(A=l.attendee)==null?void 0:A.name}),o.jsx("p",{className:"text-gray-600 mb-4",children:l.message}),((j=l.attendee)==null?void 0:j.table_assignment)&&o.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:o.jsxs("div",{className:"flex items-center justify-center text-blue-800",children:[o.jsx(An,{className:"h-5 w-5 mr-2"}),o.jsxs("span",{className:"font-semibold",children:["Table: ",l.attendee.table_assignment]})]})}),o.jsxs("div",{className:"flex items-center justify-center text-gray-600 text-sm",children:[o.jsx(eE,{className:"h-4 w-4 mr-2"}),"Checked in at ",new Date().toLocaleTimeString()]})]}),o.jsx("button",{onClick:()=>{c(null),a("")},className:"bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors",children:"Check In Another Person"})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Self Check-In"}),o.jsx("p",{className:"text-gray-600",children:"Enter your identification number or staff ID to check in"})]}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsx("div",{children:o.jsx("input",{type:"text",value:i,onChange:v=>a(v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-lg",placeholder:"Enter ID Number or Staff ID",autoFocus:!0,disabled:x})}),o.jsx("button",{type:"submit",disabled:x||!i.trim(),className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:x?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Checking In..."]}):o.jsxs(o.Fragment,{children:[o.jsx(dc,{className:"h-5 w-5 mr-2"}),"Check In"]})})]})]}),l&&!l.success&&o.jsx("div",{className:"mt-4 p-4 bg-red-50 rounded-lg",children:o.jsx("p",{className:"text-red-700 text-center",children:l.message})})]})})})}function GN({userCompany:e}){const[t,n]=B.useState([]),[r,s]=B.useState(""),[i,a]=B.useState(""),[l,c]=B.useState(!0),[x,d]=B.useState({eventId:"",customUrl:"",qrType:"registration",useLocalIP:!1,localIP:"",port:"3000"});B.useEffect(()=>{f()},[]),B.useEffect(()=>{r&&d(E=>({...E,eventId:r}))},[r]);const f=async()=>{try{c(!0);let E=le.from("events").select(`
          id,
          name,
          company_id,
          company:companies(name)
        `);e&&(E=E.eq("company_id",e.company_id));const{data:g,error:b}=await E.order("created_at",{ascending:!1});if(b)throw b;const F=(g==null?void 0:g.map(k=>({...k,company:Array.isArray(k.company)?k.company[0]:k.company})))||[];n(F),e&&F&&F.length>0&&s(F[0].id)}catch(E){Q.error("Error fetching events: "+E.message)}finally{c(!1)}},m=async()=>{try{return(await(await fetch("https://api.ipify.org?format=json")).json()).ip}catch(E){return console.error("Error getting local IP:",E),"192.168.1.100"}},y=async()=>{if(!x.eventId){Q.error("Please select an event");return}try{let E="";x.useLocalIP?E=`http://${x.localIP}:${x.port}`:E=window.location.origin;let g="";switch(x.qrType){case"registration":g=`/public/register/${x.eventId}`;break;case"checkin":g=`/public/checkin/${x.eventId}`;break;case"gallery":g=`/public/gallery/${x.eventId}`;break;case"voting":g=`/public/voting/${x.eventId}`;break;case"venue":g=`/public/venue/${x.eventId}`;break}const b=E+g,F=await mr.toDataURL(b,{width:300,margin:2,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#FFFFFF"}});a(F),Q.success("QR Code generated successfully!")}catch(E){Q.error("Error generating QR code: "+E.message)}},C=()=>{if(!i)return;const E=document.createElement("a");E.download=`qr-${x.qrType}-${x.eventId}.png`,E.href=i,E.click()},A=async()=>{if(i)try{await navigator.clipboard.writeText(i),Q.success("QR Code image URL copied to clipboard!")}catch{Q.error("Failed to copy QR code")}},j=async()=>{if(!x.eventId)return;let E="";x.useLocalIP?E=`http://${x.localIP}:${x.port}`:E=window.location.origin;let g="";switch(x.qrType){case"registration":g=`/public/register/${x.eventId}`;break;case"checkin":g=`/public/checkin/${x.eventId}`;break;case"gallery":g=`/public/gallery/${x.eventId}`;break;case"voting":g=`/public/voting/${x.eventId}`;break;case"venue":g=`/public/venue/${x.eventId}`;break}const b=E+g;try{await navigator.clipboard.writeText(b),Q.success("URL copied to clipboard!")}catch{Q.error("Failed to copy URL")}},v=async()=>{const E=await m();d(g=>({...g,localIP:E})),Q.success("Local IP detected: "+E)};return l?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading events..."})]})}):o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-between items-center mb-8",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"QR Code Generator"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Create custom QR codes for your events with local network support"})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center",children:[o.jsx(Bf,{className:"h-5 w-5 mr-2"}),"QR Code Configuration"]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Event"}),t.length===0?o.jsx("div",{className:"w-full px-3 py-2 bg-yellow-50 border border-yellow-300 rounded-md text-yellow-800",children:"No events found. Create an event first."}):o.jsxs("select",{value:r,onChange:E=>s(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Choose an event"}),t.map(E=>o.jsx("option",{value:E.id,children:e?E.name:`${E.name} (${E.company.name})`},E.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"QR Code Type"}),o.jsxs("select",{value:x.qrType,onChange:E=>d(g=>({...g,qrType:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"registration",children:"Registration"}),o.jsx("option",{value:"checkin",children:"Check-In"}),o.jsx("option",{value:"gallery",children:"Gallery Upload"}),o.jsx("option",{value:"voting",children:"Voting"}),o.jsx("option",{value:"venue",children:"Venue Layout"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL Configuration"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"useLocalIP",checked:x.useLocalIP,onChange:E=>d(g=>({...g,useLocalIP:E.target.checked})),className:"rounded"}),o.jsx("label",{htmlFor:"useLocalIP",className:"text-sm text-gray-700",children:"Use Local Network IP"})]}),x.useLocalIP&&o.jsxs("div",{className:"space-y-3 pl-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local IP Address"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("input",{type:"text",value:x.localIP,onChange:E=>d(g=>({...g,localIP:E.target.value})),placeholder:"192.168.1.100",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("button",{onClick:v,className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center",title:"Detect Local IP",children:o.jsx(d3,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Port Number"}),o.jsx("input",{type:"text",value:x.port,onChange:E=>d(g=>({...g,port:E.target.value})),placeholder:"3000",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx("strong",{children:"Generated URL:"}),o.jsx("br",{}),x.useLocalIP?`http://${x.localIP}:${x.port}/public/${x.qrType}/${x.eventId}`:`${window.location.origin}/public/${x.qrType}/${x.eventId}`]})})]})]}),o.jsxs("button",{onClick:y,disabled:!r,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[o.jsx(ur,{className:"h-5 w-5 mr-2"}),"Generate QR Code"]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center",children:[o.jsx(ur,{className:"h-5 w-5 mr-2"}),"Generated QR Code"]}),i?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-center",children:o.jsx("img",{src:i,alt:"Generated QR Code",className:"mx-auto border-2 border-gray-200 rounded-lg shadow-lg"})}),o.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[o.jsxs("button",{onClick:C,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center",children:[o.jsx(Gc,{className:"h-4 w-4 mr-2"}),"Download"]}),o.jsxs("button",{onClick:A,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[o.jsx(oB,{className:"h-4 w-4 mr-2"}),"Copy Image URL"]}),o.jsxs("button",{onClick:j,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 flex items-center",children:[o.jsx(mB,{className:"h-4 w-4 mr-2"}),"Copy URL"]})]})]}):o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx(ur,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Generate a QR code to see it here"})]})]})]})]})}function QN(){const[e,t]=B.useState(null),[n,r]=B.useState(null),[s,i]=B.useState(!0),[a,l]=B.useState(!0);B.useEffect(()=>{if("https://yoxgdfyhxbqeofslxtdc.supabase.co".includes("your-project")||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlveGdkZnloeGJxZW9mc2x4dGRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI4NzczOTUsImV4cCI6MjA2ODQ1MzM5NX0.E8aI_9cPmbwBErsZQaA0LJw2eHj94lIdrFE6qoanC7o".includes("your-anon-key")){l(!1),i(!1);return}le.auth.getSession().then(({data:{session:m}})=>{t((m==null?void 0:m.user)??null),i(!1)}).catch(()=>{l(!1),i(!1)});const{data:{subscription:f}}=le.auth.onAuthStateChange((m,y)=>{t((y==null?void 0:y.user)??null),y!=null&&y.user?c(y.user.id):r(null)});return()=>f.unsubscribe()},[]);const c=async x=>{try{const{data:d,error:f}=await le.from("company_users").select(`
          *,
          company:companies(*)
        `).eq("id",x).maybeSingle();if(f)return;r(d)}catch{}};return a?s?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):o.jsx(pC,{children:o.jsxs("div",{className:"App",children:[o.jsx(mw,{position:"top-right"}),o.jsxs(eg,{children:[o.jsx(bt,{path:"/public/register/:eventId",element:o.jsx(VN,{})}),o.jsx(bt,{path:"/public/ticket/:attendeeId",element:o.jsx(zN,{})}),o.jsx(bt,{path:"/public/checkin/:eventId",element:o.jsx(HN,{})}),o.jsx(bt,{path:"/public/gallery/:eventId",element:o.jsx(qN,{})}),o.jsx(bt,{path:"/public/voting/:sessionId",element:o.jsx(WN,{})}),o.jsx(bt,{path:"/public/venue/:eventId/:attendeeId",element:o.jsx(KN,{})}),o.jsx(bt,{path:"/auth",element:e?o.jsx(ax,{to:"/admin"}):o.jsx(X3,{})}),o.jsx(bt,{path:"/admin/*",element:e?o.jsx(Y3,{userCompany:n,children:o.jsxs(eg,{children:[o.jsx(bt,{path:"/",element:o.jsx(rA,{userCompany:n})}),o.jsx(bt,{path:"/companies",element:o.jsx(oA,{})}),o.jsx(bt,{path:"/events",element:o.jsx(YA,{userCompany:n})}),o.jsx(bt,{path:"/progress",element:o.jsx(LN,{})}),o.jsx(bt,{path:"/attendees",element:o.jsx(Ig,{userCompany:n})}),o.jsx(bt,{path:"/checkin",element:o.jsx(eD,{userCompany:n})}),o.jsx(bt,{path:"/welcome-monitor",element:o.jsx(TN,{userCompany:n})}),o.jsx(bt,{path:"/lucky-draw",element:o.jsx(RN,{userCompany:n})}),o.jsx(bt,{path:"/gallery",element:o.jsx(MN,{userCompany:n})}),o.jsx(bt,{path:"/seating",element:o.jsx(IN,{userCompany:n})}),o.jsx(bt,{path:"/qr-generator",element:o.jsx(GN,{userCompany:n})}),o.jsx(bt,{path:"/attendees",element:o.jsx(Ig,{userCompany:n})}),o.jsx(bt,{path:"/voting",element:o.jsx(ON,{userCompany:n})}),o.jsx(bt,{path:"/voting-monitor",element:o.jsx($N,{userCompany:n})})]})}):o.jsx(ax,{to:"/auth"})}),o.jsx(bt,{path:"/",element:o.jsx(ax,{to:e?"/admin":"/auth"})})]})]})}):o.jsx(E3,{})}Lx.createRoot(document.getElementById("root")).render(o.jsx(Eh.StrictMode,{children:o.jsx(QN,{})}));
